function hS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wo={},pS={get exports(){return wo},set exports(t){wo=t}},yc={},p={},mS={get exports(){return p},set exports(t){p=t}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),gS=Symbol.for("react.portal"),vS=Symbol.for("react.fragment"),_S=Symbol.for("react.strict_mode"),yS=Symbol.for("react.profiler"),wS=Symbol.for("react.provider"),ES=Symbol.for("react.context"),CS=Symbol.for("react.forward_ref"),SS=Symbol.for("react.suspense"),kS=Symbol.for("react.memo"),TS=Symbol.for("react.lazy"),Pm=Symbol.iterator;function NS(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var U_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F_=Object.assign,$_={};function ps(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||U_}ps.prototype.isReactComponent={};ps.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ps.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B_(){}B_.prototype=ps.prototype;function Qf(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||U_}var Xf=Qf.prototype=new B_;Xf.constructor=Qf;F_(Xf,ps.prototype);Xf.isPureReactComponent=!0;var Am=Array.isArray,j_=Object.prototype.hasOwnProperty,Jf={current:null},z_={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j_.call(e,r)&&!z_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:na,type:t,key:s,ref:o,props:i,_owner:Jf.current}}function IS(t,e){return{$$typeof:na,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zf(t){return typeof t=="object"&&t!==null&&t.$$typeof===na}function RS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dm=/\/+/g;function pu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RS(""+t.key):e.toString(36)}function Za(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case na:case gS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pu(o,0):r,Am(i)?(n="",t!=null&&(n=t.replace(Dm,"$&/")+"/"),Za(i,e,n,"",function(c){return c})):i!=null&&(Zf(i)&&(i=IS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Am(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pu(s,a);o+=Za(s,e,n,l,i)}else if(l=NS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pu(s,a++),o+=Za(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ia(t,e,n){if(t==null)return t;var r=[],i=0;return Za(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},el={transition:null},xS={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:el,ReactCurrentOwner:Jf};oe.Children={map:Ia,forEach:function(t,e,n){Ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ia(t,function(){e++}),e},toArray:function(t){return Ia(t,function(e){return e})||[]},only:function(t){if(!Zf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=ps;oe.Fragment=vS;oe.Profiler=yS;oe.PureComponent=Qf;oe.StrictMode=_S;oe.Suspense=SS;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=F_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j_.call(e,l)&&!z_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:na,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:ES,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wS,_context:t},t.Consumer=t};oe.createElement=W_;oe.createFactory=function(t){var e=W_.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:CS,render:t}};oe.isValidElement=Zf;oe.lazy=function(t){return{$$typeof:TS,_payload:{_status:-1,_result:t},_init:bS}};oe.memo=function(t,e){return{$$typeof:kS,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=el.transition;el.transition={};try{t()}finally{el.transition=e}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(t,e){return ut.current.useCallback(t,e)};oe.useContext=function(t){return ut.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};oe.useEffect=function(t,e){return ut.current.useEffect(t,e)};oe.useId=function(){return ut.current.useId()};oe.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return ut.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};oe.useRef=function(t){return ut.current.useRef(t)};oe.useState=function(t){return ut.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return ut.current.useTransition()};oe.version="18.2.0";(function(t){t.exports=oe})(mS);const N=Yf(p),pd=hS({__proto__:null,default:N},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS=p,PS=Symbol.for("react.element"),AS=Symbol.for("react.fragment"),DS=Object.prototype.hasOwnProperty,MS=OS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LS={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DS.call(e,r)&&!LS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PS,type:t,key:s,ref:o,props:i,_owner:MS.current}}yc.Fragment=AS;yc.jsx=H_;yc.jsxs=H_;(function(t){t.exports=yc})(pS);const mt=wo.Fragment,E=wo.jsx,U=wo.jsxs;var md={},gl={},US={get exports(){return gl},set exports(t){gl=t}},xt={},gd={},FS={get exports(){return gd},set exports(t){gd=t}},V_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,L){var D=x.length;x.push(L);e:for(;0<D;){var Q=D-1>>>1,G=x[Q];if(0<i(G,L))x[Q]=L,x[D]=G,D=Q;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var L=x[0],D=x.pop();if(D!==L){x[0]=D;e:for(var Q=0,G=x.length,de=G>>>1;Q<de;){var Z=2*(Q+1)-1,K=x[Z],pe=Z+1,Ce=x[pe];if(0>i(K,D))pe<G&&0>i(Ce,K)?(x[Q]=Ce,x[pe]=D,Q=pe):(x[Q]=K,x[Z]=D,Q=Z);else if(pe<G&&0>i(Ce,D))x[Q]=Ce,x[pe]=D,Q=pe;else break e}}return L}function i(x,L){var D=x.sortIndex-L.sortIndex;return D!==0?D:x.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(x){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=x)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function C(x){if(v=!1,y(x),!m)if(n(l)!==null)m=!0,W(k);else{var L=n(c);L!==null&&H(C,L.startTime-x)}}function k(x,L){m=!1,v&&(v=!1,g(I),I=-1),h=!0;var D=f;try{for(y(L),d=n(l);d!==null&&(!(d.expirationTime>L)||x&&!A());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var G=Q(d.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),y(L)}else r(l);d=n(l)}if(d!==null)var de=!0;else{var Z=n(c);Z!==null&&H(C,Z.startTime-L),de=!1}return de}finally{d=null,f=D,h=!1}}var S=!1,T=null,I=-1,b=5,R=-1;function A(){return!(t.unstable_now()-R<b)}function $(){if(T!==null){var x=t.unstable_now();R=x;var L=!0;try{L=T(!0,x)}finally{L?z():(S=!1,T=null)}}else S=!1}var z;if(typeof _=="function")z=function(){_($)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ne=se.port2;se.port1.onmessage=$,z=function(){ne.postMessage(null)}}else z=function(){w($,0)};function W(x){T=x,S||(S=!0,z())}function H(x,L){I=w(function(){x(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,W(k))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var D=f;f=L;try{return x()}finally{f=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,L){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var D=f;f=x;try{return L()}finally{f=D}},t.unstable_scheduleCallback=function(x,L,D){var Q=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Q+D:Q):D=Q,x){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=D+G,x={id:u++,callback:L,priorityLevel:x,startTime:D,expirationTime:G,sortIndex:-1},D>Q?(x.sortIndex=D,e(c,x),n(l)===null&&x===n(c)&&(v?(g(I),I=-1):v=!0,H(C,D-Q))):(x.sortIndex=G,e(l,x),m||h||(m=!0,W(k))),x},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(x){var L=f;return function(){var D=f;f=L;try{return x.apply(this,arguments)}finally{f=D}}}})(V_);(function(t){t.exports=V_})(FS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=p,bt=gd;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K_=new Set,Eo={};function di(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(Eo[t]=e,t=0;t<e.length;t++)K_.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=Object.prototype.hasOwnProperty,$S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mm={},Lm={};function BS(t){return vd.call(Lm,t)?!0:vd.call(Mm,t)?!1:$S.test(t)?Lm[t]=!0:(Mm[t]=!0,!1)}function jS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zS(t,e,n,r){if(e===null||typeof e>"u"||jS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ye[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var eh=/[\-:]([a-z])/g;function th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eh,th);Ye[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eh,th);Ye[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eh,th);Ye[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function nh(t,e,n,r){var i=Ye.hasOwnProperty(e)?Ye[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zS(e,n,i,r)&&(n=null),r||i===null?BS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=G_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ra=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),q_=Symbol.for("react.provider"),Y_=Symbol.for("react.context"),ih=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),wd=Symbol.for("react.suspense_list"),sh=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),Q_=Symbol.for("react.offscreen"),Um=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=Um&&t[Um]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,mu;function Qs(t){if(mu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mu=e&&e[1]||""}return`
`+mu+t}var gu=!1;function vu(t,e){if(!t||gu)return"";gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function WS(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=vu(t.type,!1),t;case 11:return t=vu(t.type.render,!1),t;case 1:return t=vu(t.type,!0),t;default:return""}}function Ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Ti:return"Portal";case _d:return"Profiler";case rh:return"StrictMode";case yd:return"Suspense";case wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y_:return(t.displayName||"Context")+".Consumer";case q_:return(t._context.displayName||"Context")+".Provider";case ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sh:return e=t.displayName||null,e!==null?e:Ed(t.type)||"Memo";case Kn:e=t._payload,t=t._init;try{return Ed(t(e))}catch{}}return null}function HS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ed(e);case 8:return e===rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VS(t){var e=X_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ba(t){t._valueTracker||(t._valueTracker=VS(t))}function J_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cd(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z_(t,e){e=e.checked,e!=null&&nh(t,"checked",e,!1)}function Sd(t,e){Z_(t,e);var n=_r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kd(t,e.type,n):e.hasOwnProperty("defaultValue")&&kd(t,e.type,_r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $m(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kd(t,e,n){(e!=="number"||vl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xs=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_r(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Td(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Xs(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_r(n)}}function ey(t,e){var n=_r(e.value),r=_r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ty(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ty(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xa,ny=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Co(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GS=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(t){GS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),to[e]=to[t]})});function ry(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||to.hasOwnProperty(t)&&to[t]?(""+e).trim():e+"px"}function iy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ry(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KS=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Id(t,e){if(e){if(KS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=null;function oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xd=null,Bi=null,ji=null;function zm(t){if(t=sa(t)){if(typeof xd!="function")throw Error(O(280));var e=t.stateNode;e&&(e=kc(e),xd(t.stateNode,t.type,e))}}function sy(t){Bi?ji?ji.push(t):ji=[t]:Bi=t}function oy(){if(Bi){var t=Bi,e=ji;if(ji=Bi=null,zm(t),e)for(t=0;t<e.length;t++)zm(e[t])}}function ay(t,e){return t(e)}function ly(){}var _u=!1;function cy(t,e,n){if(_u)return t(e,n);_u=!0;try{return ay(t,e,n)}finally{_u=!1,(Bi!==null||ji!==null)&&(ly(),oy())}}function So(t,e){var n=t.stateNode;if(n===null)return null;var r=kc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Od=!1;if(Pn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Od=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Od=!1}function qS(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var no=!1,_l=null,yl=!1,Pd=null,YS={onError:function(t){no=!0,_l=t}};function QS(t,e,n,r,i,s,o,a,l){no=!1,_l=null,qS.apply(YS,arguments)}function XS(t,e,n,r,i,s,o,a,l){if(QS.apply(this,arguments),no){if(no){var c=_l;no=!1,_l=null}else throw Error(O(198));yl||(yl=!0,Pd=c)}}function fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wm(t){if(fi(t)!==t)throw Error(O(188))}function JS(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wm(i),t;if(s===r)return Wm(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function dy(t){return t=JS(t),t!==null?fy(t):null}function fy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fy(t);if(e!==null)return e;t=t.sibling}return null}var hy=bt.unstable_scheduleCallback,Hm=bt.unstable_cancelCallback,ZS=bt.unstable_shouldYield,ek=bt.unstable_requestPaint,Pe=bt.unstable_now,tk=bt.unstable_getCurrentPriorityLevel,ah=bt.unstable_ImmediatePriority,py=bt.unstable_UserBlockingPriority,wl=bt.unstable_NormalPriority,nk=bt.unstable_LowPriority,my=bt.unstable_IdlePriority,wc=null,an=null;function rk(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(wc,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:ok,ik=Math.log,sk=Math.LN2;function ok(t){return t>>>=0,t===0?32:31-(ik(t)/sk|0)|0}var Oa=64,Pa=4194304;function Js(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function El(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Js(a):(s&=o,s!==0&&(r=Js(s)))}else o=n&~i,o!==0?r=Js(o):s!==0&&(r=Js(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xt(e),i=1<<n,r|=t[n],e&=~i;return r}function ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ak(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gy(){var t=Oa;return Oa<<=1,!(Oa&4194240)&&(Oa=64),t}function yu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ra(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=n}function ck(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function lh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ue=0;function vy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _y,ch,yy,wy,Ey,Dd=!1,Aa=[],or=null,ar=null,lr=null,ko=new Map,To=new Map,Qn=[],uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vm(t,e){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(e.pointerId)}}function As(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sa(e),e!==null&&ch(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dk(t,e,n,r,i){switch(e){case"focusin":return or=As(or,t,e,n,r,i),!0;case"dragenter":return ar=As(ar,t,e,n,r,i),!0;case"mouseover":return lr=As(lr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ko.set(s,As(ko.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,To.set(s,As(To.get(s)||null,t,e,n,r,i)),!0}return!1}function Cy(t){var e=Mr(t.target);if(e!==null){var n=fi(e);if(n!==null){if(e=n.tag,e===13){if(e=uy(n),e!==null){t.blockedOn=e,Ey(t.priority,function(){yy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Md(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bd=r,n.target.dispatchEvent(r),bd=null}else return e=sa(n),e!==null&&ch(e),t.blockedOn=n,!1;e.shift()}return!0}function Gm(t,e,n){tl(t)&&n.delete(e)}function fk(){Dd=!1,or!==null&&tl(or)&&(or=null),ar!==null&&tl(ar)&&(ar=null),lr!==null&&tl(lr)&&(lr=null),ko.forEach(Gm),To.forEach(Gm)}function Ds(t,e){t.blockedOn===e&&(t.blockedOn=null,Dd||(Dd=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,fk)))}function No(t){function e(i){return Ds(i,t)}if(0<Aa.length){Ds(Aa[0],t);for(var n=1;n<Aa.length;n++){var r=Aa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(or!==null&&Ds(or,t),ar!==null&&Ds(ar,t),lr!==null&&Ds(lr,t),ko.forEach(e),To.forEach(e),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)Cy(n),n.blockedOn===null&&Qn.shift()}var zi=jn.ReactCurrentBatchConfig,Cl=!0;function hk(t,e,n,r){var i=ue,s=zi.transition;zi.transition=null;try{ue=1,uh(t,e,n,r)}finally{ue=i,zi.transition=s}}function pk(t,e,n,r){var i=ue,s=zi.transition;zi.transition=null;try{ue=4,uh(t,e,n,r)}finally{ue=i,zi.transition=s}}function uh(t,e,n,r){if(Cl){var i=Md(t,e,n,r);if(i===null)bu(t,e,r,Sl,n),Vm(t,r);else if(dk(i,t,e,n,r))r.stopPropagation();else if(Vm(t,r),e&4&&-1<uk.indexOf(t)){for(;i!==null;){var s=sa(i);if(s!==null&&_y(s),s=Md(t,e,n,r),s===null&&bu(t,e,r,Sl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bu(t,e,r,null,n)}}var Sl=null;function Md(t,e,n,r){if(Sl=null,t=oh(r),t=Mr(t),t!==null)if(e=fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sl=t,null}function Sy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tk()){case ah:return 1;case py:return 4;case wl:case nk:return 16;case my:return 536870912;default:return 16}default:return 16}}var nr=null,dh=null,nl=null;function ky(){if(nl)return nl;var t,e=dh,n=e.length,r,i="value"in nr?nr.value:nr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nl=i.slice(t,1<r?1-r:void 0)}function rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function Km(){return!1}function Ot(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Da:Km,this.isPropagationStopped=Km,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fh=Ot(ms),ia=Ne({},ms,{view:0,detail:0}),mk=Ot(ia),wu,Eu,Ms,Ec=Ne({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(wu=t.screenX-Ms.screenX,Eu=t.screenY-Ms.screenY):Eu=wu=0,Ms=t),wu)},movementY:function(t){return"movementY"in t?t.movementY:Eu}}),qm=Ot(Ec),gk=Ne({},Ec,{dataTransfer:0}),vk=Ot(gk),_k=Ne({},ia,{relatedTarget:0}),Cu=Ot(_k),yk=Ne({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),wk=Ot(yk),Ek=Ne({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ck=Ot(Ek),Sk=Ne({},ms,{data:0}),Ym=Ot(Sk),kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ik(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nk[t])?!!e[t]:!1}function hh(){return Ik}var Rk=Ne({},ia,{key:function(t){if(t.key){var e=kk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bk=Ot(Rk),xk=Ne({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=Ot(xk),Ok=Ne({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),Pk=Ot(Ok),Ak=Ne({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dk=Ot(Ak),Mk=Ne({},Ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lk=Ot(Mk),Uk=[9,13,27,32],ph=Pn&&"CompositionEvent"in window,ro=null;Pn&&"documentMode"in document&&(ro=document.documentMode);var Fk=Pn&&"TextEvent"in window&&!ro,Ty=Pn&&(!ph||ro&&8<ro&&11>=ro),Xm=String.fromCharCode(32),Jm=!1;function Ny(t,e){switch(t){case"keyup":return Uk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function $k(t,e){switch(t){case"compositionend":return Iy(e);case"keypress":return e.which!==32?null:(Jm=!0,Xm);case"textInput":return t=e.data,t===Xm&&Jm?null:t;default:return null}}function Bk(t,e){if(Ii)return t==="compositionend"||!ph&&Ny(t,e)?(t=ky(),nl=dh=nr=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ty&&e.locale!=="ko"?null:e.data;default:return null}}var jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jk[t.type]:e==="textarea"}function Ry(t,e,n,r){sy(r),e=kl(e,"onChange"),0<e.length&&(n=new fh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var io=null,Io=null;function zk(t){$y(t,0)}function Cc(t){var e=xi(t);if(J_(e))return t}function Wk(t,e){if(t==="change")return e}var by=!1;if(Pn){var Su;if(Pn){var ku="oninput"in document;if(!ku){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),ku=typeof eg.oninput=="function"}Su=ku}else Su=!1;by=Su&&(!document.documentMode||9<document.documentMode)}function tg(){io&&(io.detachEvent("onpropertychange",xy),Io=io=null)}function xy(t){if(t.propertyName==="value"&&Cc(Io)){var e=[];Ry(e,Io,t,oh(t)),cy(zk,e)}}function Hk(t,e,n){t==="focusin"?(tg(),io=e,Io=n,io.attachEvent("onpropertychange",xy)):t==="focusout"&&tg()}function Vk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(Io)}function Gk(t,e){if(t==="click")return Cc(e)}function Kk(t,e){if(t==="input"||t==="change")return Cc(e)}function qk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:qk;function Ro(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vd.call(e,i)||!en(t[i],e[i]))return!1}return!0}function ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,e){var n=ng(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ng(n)}}function Oy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Oy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Py(){for(var t=window,e=vl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vl(t.document)}return e}function mh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yk(t){var e=Py(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Oy(n.ownerDocument.documentElement,n)){if(r!==null&&mh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rg(n,s);var o=rg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qk=Pn&&"documentMode"in document&&11>=document.documentMode,Ri=null,Ld=null,so=null,Ud=!1;function ig(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ud||Ri==null||Ri!==vl(r)||(r=Ri,"selectionStart"in r&&mh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&Ro(so,r)||(so=r,r=kl(Ld,"onSelect"),0<r.length&&(e=new fh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ri)))}function Ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Tu={},Ay={};Pn&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Sc(t){if(Tu[t])return Tu[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ay)return Tu[t]=e[n];return t}var Dy=Sc("animationend"),My=Sc("animationiteration"),Ly=Sc("animationstart"),Uy=Sc("transitionend"),Fy=new Map,sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){Fy.set(t,e),di(e,[t])}for(var Nu=0;Nu<sg.length;Nu++){var Iu=sg[Nu],Xk=Iu.toLowerCase(),Jk=Iu[0].toUpperCase()+Iu.slice(1);kr(Xk,"on"+Jk)}kr(Dy,"onAnimationEnd");kr(My,"onAnimationIteration");kr(Ly,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Uy,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function og(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XS(r,e,void 0,t),t.currentTarget=null}function $y(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;og(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;og(i,a,c),s=l}}}if(yl)throw t=Pd,yl=!1,Pd=null,t}function ye(t,e){var n=e[zd];n===void 0&&(n=e[zd]=new Set);var r=t+"__bubble";n.has(r)||(By(e,t,2,!1),n.add(r))}function Ru(t,e,n){var r=0;e&&(r|=4),By(n,t,r,e)}var La="_reactListening"+Math.random().toString(36).slice(2);function bo(t){if(!t[La]){t[La]=!0,K_.forEach(function(n){n!=="selectionchange"&&(Zk.has(n)||Ru(n,!1,t),Ru(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[La]||(e[La]=!0,Ru("selectionchange",!1,e))}}function By(t,e,n,r){switch(Sy(e)){case 1:var i=hk;break;case 4:i=pk;break;default:i=uh}n=i.bind(null,e,n,t),i=void 0,!Od||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cy(function(){var c=s,u=oh(n),d=[];e:{var f=Fy.get(t);if(f!==void 0){var h=fh,m=t;switch(t){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":h=bk;break;case"focusin":m="focus",h=Cu;break;case"focusout":m="blur",h=Cu;break;case"beforeblur":case"afterblur":h=Cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Pk;break;case Dy:case My:case Ly:h=wk;break;case Uy:h=Dk;break;case"scroll":h=mk;break;case"wheel":h=Lk;break;case"copy":case"cut":case"paste":h=Ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Qm}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var _=c,y;_!==null;){y=_;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,g!==null&&(C=So(_,g),C!=null&&v.push(xo(_,C,y)))),w)break;_=_.return}0<v.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==bd&&(m=n.relatedTarget||n.fromElement)&&(Mr(m)||m[An]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Mr(m):null,m!==null&&(w=fi(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(v=qm,C="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=Qm,C="onPointerLeave",g="onPointerEnter",_="pointer"),w=h==null?f:xi(h),y=m==null?f:xi(m),f=new v(C,_+"leave",h,n,u),f.target=w,f.relatedTarget=y,C=null,Mr(u)===c&&(v=new v(g,_+"enter",m,n,u),v.target=y,v.relatedTarget=w,C=v),w=C,h&&m)t:{for(v=h,g=m,_=0,y=v;y;y=yi(y))_++;for(y=0,C=g;C;C=yi(C))y++;for(;0<_-y;)v=yi(v),_--;for(;0<y-_;)g=yi(g),y--;for(;_--;){if(v===g||g!==null&&v===g.alternate)break t;v=yi(v),g=yi(g)}v=null}else v=null;h!==null&&ag(d,f,h,v,!1),m!==null&&w!==null&&ag(d,w,m,v,!0)}}e:{if(f=c?xi(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=Wk;else if(Zm(f))if(by)k=Kk;else{k=Vk;var S=Hk}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Gk);if(k&&(k=k(t,c))){Ry(d,k,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&kd(f,"number",f.value)}switch(S=c?xi(c):window,t){case"focusin":(Zm(S)||S.contentEditable==="true")&&(Ri=S,Ld=c,so=null);break;case"focusout":so=Ld=Ri=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,ig(d,n,u);break;case"selectionchange":if(Qk)break;case"keydown":case"keyup":ig(d,n,u)}var T;if(ph)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ii?Ny(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Ty&&n.locale!=="ko"&&(Ii||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ii&&(T=ky()):(nr=u,dh="value"in nr?nr.value:nr.textContent,Ii=!0)),S=kl(c,I),0<S.length&&(I=new Ym(I,t,null,n,u),d.push({event:I,listeners:S}),T?I.data=T:(T=Iy(n),T!==null&&(I.data=T)))),(T=Fk?$k(t,n):Bk(t,n))&&(c=kl(c,"onBeforeInput"),0<c.length&&(u=new Ym("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}$y(d,e)})}function xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=So(t,n),s!=null&&r.unshift(xo(t,s,i)),s=So(t,e),s!=null&&r.push(xo(t,s,i))),t=t.return}return r}function yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ag(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=So(n,s),l!=null&&o.unshift(xo(n,l,a))):i||(l=So(n,s),l!=null&&o.push(xo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function lg(t){return(typeof t=="string"?t:""+t).replace(eT,`
`).replace(tT,"")}function Ua(t,e,n){if(e=lg(e),lg(t)!==e&&n)throw Error(O(425))}function Tl(){}var Fd=null,$d=null;function Bd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(t){return cg.resolve(null).then(t).catch(iT)}:jd;function iT(t){setTimeout(function(){throw t})}function xu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),No(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);No(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ug(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),sn="__reactFiber$"+gs,Oo="__reactProps$"+gs,An="__reactContainer$"+gs,zd="__reactEvents$"+gs,sT="__reactListeners$"+gs,oT="__reactHandles$"+gs;function Mr(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ug(t);t!==null;){if(n=t[sn])return n;t=ug(t)}return e}t=n,n=t.parentNode}return null}function sa(t){return t=t[sn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function kc(t){return t[Oo]||null}var Wd=[],Oi=-1;function Tr(t){return{current:t}}function we(t){0>Oi||(t.current=Wd[Oi],Wd[Oi]=null,Oi--)}function _e(t,e){Oi++,Wd[Oi]=t.current,t.current=e}var yr={},rt=Tr(yr),yt=Tr(!1),Qr=yr;function Ji(t,e){var n=t.type.contextTypes;if(!n)return yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function Nl(){we(yt),we(rt)}function dg(t,e,n){if(rt.current!==yr)throw Error(O(168));_e(rt,e),_e(yt,n)}function jy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,HS(t)||"Unknown",i));return Ne({},n,r)}function Il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Qr=rt.current,_e(rt,t),_e(yt,yt.current),!0}function fg(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=jy(t,e,Qr),r.__reactInternalMemoizedMergedChildContext=t,we(yt),we(rt),_e(rt,t)):we(yt),_e(yt,n)}var yn=null,Tc=!1,Ou=!1;function zy(t){yn===null?yn=[t]:yn.push(t)}function aT(t){Tc=!0,zy(t)}function Nr(){if(!Ou&&yn!==null){Ou=!0;var t=0,e=ue;try{var n=yn;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yn=null,Tc=!1}catch(i){throw yn!==null&&(yn=yn.slice(t+1)),hy(ah,Nr),i}finally{ue=e,Ou=!1}}return null}var Pi=[],Ai=0,Rl=null,bl=0,At=[],Dt=0,Xr=null,Sn=1,kn="";function xr(t,e){Pi[Ai++]=bl,Pi[Ai++]=Rl,Rl=t,bl=e}function Wy(t,e,n){At[Dt++]=Sn,At[Dt++]=kn,At[Dt++]=Xr,Xr=t;var r=Sn;t=kn;var i=32-Xt(r)-1;r&=~(1<<i),n+=1;var s=32-Xt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sn=1<<32-Xt(e)+i|n<<i|r,kn=s+t}else Sn=1<<s|n<<i|r,kn=t}function gh(t){t.return!==null&&(xr(t,1),Wy(t,1,0))}function vh(t){for(;t===Rl;)Rl=Pi[--Ai],Pi[Ai]=null,bl=Pi[--Ai],Pi[Ai]=null;for(;t===Xr;)Xr=At[--Dt],At[Dt]=null,kn=At[--Dt],At[Dt]=null,Sn=At[--Dt],At[Dt]=null}var Rt=null,Nt=null,Se=!1,Kt=null;function Hy(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,Nt=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xr!==null?{id:Sn,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rt=t,Nt=null,!0):!1;default:return!1}}function Hd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vd(t){if(Se){var e=Nt;if(e){var n=e;if(!hg(t,e)){if(Hd(t))throw Error(O(418));e=cr(n.nextSibling);var r=Rt;e&&hg(t,e)?Hy(r,n):(t.flags=t.flags&-4097|2,Se=!1,Rt=t)}}else{if(Hd(t))throw Error(O(418));t.flags=t.flags&-4097|2,Se=!1,Rt=t}}}function pg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function Fa(t){if(t!==Rt)return!1;if(!Se)return pg(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bd(t.type,t.memoizedProps)),e&&(e=Nt)){if(Hd(t))throw Vy(),Error(O(418));for(;e;)Hy(t,e),e=cr(e.nextSibling)}if(pg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Rt?cr(t.stateNode.nextSibling):null;return!0}function Vy(){for(var t=Nt;t;)t=cr(t.nextSibling)}function Zi(){Nt=Rt=null,Se=!1}function _h(t){Kt===null?Kt=[t]:Kt.push(t)}var lT=jn.ReactCurrentBatchConfig;function Vt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xl=Tr(null),Ol=null,Di=null,yh=null;function wh(){yh=Di=Ol=null}function Eh(t){var e=xl.current;we(xl),t._currentValue=e}function Gd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wi(t,e){Ol=t,yh=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(yh!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(Ol===null)throw Error(O(308));Di=t,Ol.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var Lr=null;function Ch(t){Lr===null?Lr=[t]:Lr.push(t)}function Gy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ch(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dn(t,r)}function Dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qn=!1;function Sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ky(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ch(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dn(t,n)}function il(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}function mg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pl(t,e,n,r){var i=t.updateQueue;qn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(f=e,h=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=Ne({},d,f);break e;case 2:qn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=d}}function gg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var qy=new G_.Component().refs;function Kd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nc={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ct(),i=fr(t),s=Rn(r,i);s.payload=e,n!=null&&(s.callback=n),e=ur(t,s,i),e!==null&&(Jt(e,t,i,r),il(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ct(),i=fr(t),s=Rn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ur(t,s,i),e!==null&&(Jt(e,t,i,r),il(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),r=fr(t),i=Rn(n,r);i.tag=2,e!=null&&(i.callback=e),e=ur(t,i,r),e!==null&&(Jt(e,t,r,n),il(e,t,r))}};function vg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ro(n,r)||!Ro(i,s):!0}function Yy(t,e,n){var r=!1,i=yr,s=e.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(i=wt(e)?Qr:rt.current,r=e.contextTypes,s=(r=r!=null)?Ji(t,i):yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _g(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nc.enqueueReplaceState(e,e.state,null)}function qd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=qy,Sh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ft(s):(s=wt(e)?Qr:rt.current,i.context=Ji(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nc.enqueueReplaceState(i,i.state,null),Pl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===qy&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yg(t){var e=t._init;return e(t._payload)}function Qy(t){function e(g,_){if(t){var y=g.deletions;y===null?(g.deletions=[_],g.flags|=16):y.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=hr(g,_),g.index=0,g.sibling=null,g}function s(g,_,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<_?(g.flags|=2,_):y):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,y,C){return _===null||_.tag!==6?(_=Fu(y,g.mode,C),_.return=g,_):(_=i(_,y),_.return=g,_)}function l(g,_,y,C){var k=y.type;return k===Ni?u(g,_,y.props.children,C,y.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Kn&&yg(k)===_.type)?(C=i(_,y.props),C.ref=Ls(g,_,y),C.return=g,C):(C=ul(y.type,y.key,y.props,null,g.mode,C),C.ref=Ls(g,_,y),C.return=g,C)}function c(g,_,y,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=$u(y,g.mode,C),_.return=g,_):(_=i(_,y.children||[]),_.return=g,_)}function u(g,_,y,C,k){return _===null||_.tag!==7?(_=Hr(y,g.mode,C,k),_.return=g,_):(_=i(_,y),_.return=g,_)}function d(g,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Fu(""+_,g.mode,y),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ra:return y=ul(_.type,_.key,_.props,null,g.mode,y),y.ref=Ls(g,null,_),y.return=g,y;case Ti:return _=$u(_,g.mode,y),_.return=g,_;case Kn:var C=_._init;return d(g,C(_._payload),y)}if(Xs(_)||Os(_))return _=Hr(_,g.mode,y,null),_.return=g,_;$a(g,_)}return null}function f(g,_,y,C){var k=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(g,_,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ra:return y.key===k?l(g,_,y,C):null;case Ti:return y.key===k?c(g,_,y,C):null;case Kn:return k=y._init,f(g,_,k(y._payload),C)}if(Xs(y)||Os(y))return k!==null?null:u(g,_,y,C,null);$a(g,y)}return null}function h(g,_,y,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(y)||null,a(_,g,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ra:return g=g.get(C.key===null?y:C.key)||null,l(_,g,C,k);case Ti:return g=g.get(C.key===null?y:C.key)||null,c(_,g,C,k);case Kn:var S=C._init;return h(g,_,y,S(C._payload),k)}if(Xs(C)||Os(C))return g=g.get(y)||null,u(_,g,C,k,null);$a(_,C)}return null}function m(g,_,y,C){for(var k=null,S=null,T=_,I=_=0,b=null;T!==null&&I<y.length;I++){T.index>I?(b=T,T=null):b=T.sibling;var R=f(g,T,y[I],C);if(R===null){T===null&&(T=b);break}t&&T&&R.alternate===null&&e(g,T),_=s(R,_,I),S===null?k=R:S.sibling=R,S=R,T=b}if(I===y.length)return n(g,T),Se&&xr(g,I),k;if(T===null){for(;I<y.length;I++)T=d(g,y[I],C),T!==null&&(_=s(T,_,I),S===null?k=T:S.sibling=T,S=T);return Se&&xr(g,I),k}for(T=r(g,T);I<y.length;I++)b=h(T,g,I,y[I],C),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?I:b.key),_=s(b,_,I),S===null?k=b:S.sibling=b,S=b);return t&&T.forEach(function(A){return e(g,A)}),Se&&xr(g,I),k}function v(g,_,y,C){var k=Os(y);if(typeof k!="function")throw Error(O(150));if(y=k.call(y),y==null)throw Error(O(151));for(var S=k=null,T=_,I=_=0,b=null,R=y.next();T!==null&&!R.done;I++,R=y.next()){T.index>I?(b=T,T=null):b=T.sibling;var A=f(g,T,R.value,C);if(A===null){T===null&&(T=b);break}t&&T&&A.alternate===null&&e(g,T),_=s(A,_,I),S===null?k=A:S.sibling=A,S=A,T=b}if(R.done)return n(g,T),Se&&xr(g,I),k;if(T===null){for(;!R.done;I++,R=y.next())R=d(g,R.value,C),R!==null&&(_=s(R,_,I),S===null?k=R:S.sibling=R,S=R);return Se&&xr(g,I),k}for(T=r(g,T);!R.done;I++,R=y.next())R=h(T,g,I,R.value,C),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?I:R.key),_=s(R,_,I),S===null?k=R:S.sibling=R,S=R);return t&&T.forEach(function($){return e(g,$)}),Se&&xr(g,I),k}function w(g,_,y,C){if(typeof y=="object"&&y!==null&&y.type===Ni&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ra:e:{for(var k=y.key,S=_;S!==null;){if(S.key===k){if(k=y.type,k===Ni){if(S.tag===7){n(g,S.sibling),_=i(S,y.props.children),_.return=g,g=_;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Kn&&yg(k)===S.type){n(g,S.sibling),_=i(S,y.props),_.ref=Ls(g,S,y),_.return=g,g=_;break e}n(g,S);break}else e(g,S);S=S.sibling}y.type===Ni?(_=Hr(y.props.children,g.mode,C,y.key),_.return=g,g=_):(C=ul(y.type,y.key,y.props,null,g.mode,C),C.ref=Ls(g,_,y),C.return=g,g=C)}return o(g);case Ti:e:{for(S=y.key;_!==null;){if(_.key===S)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(g,_.sibling),_=i(_,y.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=$u(y,g.mode,C),_.return=g,g=_}return o(g);case Kn:return S=y._init,w(g,_,S(y._payload),C)}if(Xs(y))return m(g,_,y,C);if(Os(y))return v(g,_,y,C);$a(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,y),_.return=g,g=_):(n(g,_),_=Fu(y,g.mode,C),_.return=g,g=_),o(g)):n(g,_)}return w}var es=Qy(!0),Xy=Qy(!1),oa={},ln=Tr(oa),Po=Tr(oa),Ao=Tr(oa);function Ur(t){if(t===oa)throw Error(O(174));return t}function kh(t,e){switch(_e(Ao,e),_e(Po,t),_e(ln,oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nd(e,t)}we(ln),_e(ln,e)}function ts(){we(ln),we(Po),we(Ao)}function Jy(t){Ur(Ao.current);var e=Ur(ln.current),n=Nd(e,t.type);e!==n&&(_e(Po,t),_e(ln,n))}function Th(t){Po.current===t&&(we(ln),we(Po))}var ke=Tr(0);function Al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pu=[];function Nh(){for(var t=0;t<Pu.length;t++)Pu[t]._workInProgressVersionPrimary=null;Pu.length=0}var sl=jn.ReactCurrentDispatcher,Au=jn.ReactCurrentBatchConfig,Jr=0,Te=null,Me=null,Be=null,Dl=!1,oo=!1,Do=0,cT=0;function Ze(){throw Error(O(321))}function Ih(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function Rh(t,e,n,r,i,s){if(Jr=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sl.current=t===null||t.memoizedState===null?hT:pT,t=n(r,i),oo){s=0;do{if(oo=!1,Do=0,25<=s)throw Error(O(301));s+=1,Be=Me=null,e.updateQueue=null,sl.current=mT,t=n(r,i)}while(oo)}if(sl.current=Ml,e=Me!==null&&Me.next!==null,Jr=0,Be=Me=Te=null,Dl=!1,e)throw Error(O(300));return t}function bh(){var t=Do!==0;return Do=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Te.memoizedState=Be=t:Be=Be.next=t,Be}function $t(){if(Me===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Be===null?Te.memoizedState:Be.next;if(e!==null)Be=e,Me=t;else{if(t===null)throw Error(O(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Be===null?Te.memoizedState=Be=t:Be=Be.next=t}return Be}function Mo(t,e){return typeof e=="function"?e(t):e}function Du(t){var e=$t(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Jr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Te.lanes|=u,Zr|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,en(r,e.memoizedState)||(gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Te.lanes|=s,Zr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mu(t){var e=$t(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);en(s,e.memoizedState)||(gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Zy(){}function e0(t,e){var n=Te,r=$t(),i=e(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,gt=!0),r=r.queue,xh(r0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Lo(9,n0.bind(null,n,r,i,e),void 0,null),We===null)throw Error(O(349));Jr&30||t0(n,e,i)}return i}function t0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function n0(t,e,n,r){e.value=n,e.getSnapshot=r,i0(e)&&s0(t)}function r0(t,e,n){return n(function(){i0(e)&&s0(t)})}function i0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function s0(t){var e=Dn(t,1);e!==null&&Jt(e,t,1,-1)}function wg(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},e.queue=t,t=t.dispatch=fT.bind(null,Te,t),[e.memoizedState,t]}function Lo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function o0(){return $t().memoizedState}function ol(t,e,n,r){var i=rn();Te.flags|=t,i.memoizedState=Lo(1|e,n,void 0,r===void 0?null:r)}function Ic(t,e,n,r){var i=$t();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&Ih(r,o.deps)){i.memoizedState=Lo(e,n,s,r);return}}Te.flags|=t,i.memoizedState=Lo(1|e,n,s,r)}function Eg(t,e){return ol(8390656,8,t,e)}function xh(t,e){return Ic(2048,8,t,e)}function a0(t,e){return Ic(4,2,t,e)}function l0(t,e){return Ic(4,4,t,e)}function c0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u0(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4,4,c0.bind(null,e,t),n)}function Oh(){}function d0(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function f0(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h0(t,e,n){return Jr&21?(en(n,e)||(n=gy(),Te.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=n)}function uT(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Au.transition;Au.transition={};try{t(!1),e()}finally{ue=n,Au.transition=r}}function p0(){return $t().memoizedState}function dT(t,e,n){var r=fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},m0(t))g0(e,n);else if(n=Gy(t,e,n,r),n!==null){var i=ct();Jt(n,t,r,i),v0(n,e,r)}}function fT(t,e,n){var r=fr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(m0(t))g0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,en(a,o)){var l=e.interleaved;l===null?(i.next=i,Ch(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Gy(t,e,i,r),n!==null&&(i=ct(),Jt(n,t,r,i),v0(n,e,r))}}function m0(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function g0(t,e){oo=Dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}var Ml={readContext:Ft,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},hT={readContext:Ft,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:Eg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ol(4194308,4,c0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return ol(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dT.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:wg,useDebugValue:Oh,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=wg(!1),e=t[0];return t=uT.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,i=rn();if(Se){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),We===null)throw Error(O(349));Jr&30||t0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Eg(r0.bind(null,r,s,t),[t]),r.flags|=2048,Lo(9,n0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rn(),e=We.identifierPrefix;if(Se){var n=kn,r=Sn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Do++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pT={readContext:Ft,useCallback:d0,useContext:Ft,useEffect:xh,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:f0,useReducer:Du,useRef:o0,useState:function(){return Du(Mo)},useDebugValue:Oh,useDeferredValue:function(t){var e=$t();return h0(e,Me.memoizedState,t)},useTransition:function(){var t=Du(Mo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:Zy,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1},mT={readContext:Ft,useCallback:d0,useContext:Ft,useEffect:xh,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:f0,useReducer:Mu,useRef:o0,useState:function(){return Mu(Mo)},useDebugValue:Oh,useDeferredValue:function(t){var e=$t();return Me===null?e.memoizedState=t:h0(e,Me.memoizedState,t)},useTransition:function(){var t=Mu(Mo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:Zy,useSyncExternalStore:e0,useId:p0,unstable_isNewReconciler:!1};function ns(t,e){try{var n="",r=e;do n+=WS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gT=typeof WeakMap=="function"?WeakMap:Map;function _0(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ul||(Ul=!0,of=r),Yd(t,e)},n}function y0(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yd(t,e),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xT.bind(null,t,e,n),e.then(t,t))}function Sg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,ur(n,e,1))),n.lanes|=1),t)}var vT=jn.ReactCurrentOwner,gt=!1;function lt(t,e,n,r){e.child=t===null?Xy(e,null,n,r):es(e,t.child,n,r)}function Tg(t,e,n,r,i){n=n.render;var s=e.ref;return Wi(e,i),r=Rh(t,e,n,r,s,i),n=bh(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(Se&&n&&gh(e),e.flags|=1,lt(t,e,r,i),e.child)}function Ng(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$h(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,w0(t,e,s,r,i)):(t=ul(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ro,n(o,r)&&t.ref===e.ref)return Mn(t,e,i)}return e.flags|=1,t=hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function w0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ro(s,r)&&t.ref===e.ref)if(gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gt=!0);else return e.lanes=t.lanes,Mn(t,e,i)}return Qd(t,e,n,r,i)}function E0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Li,Tt),Tt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Li,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(Li,Tt),Tt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(Li,Tt),Tt|=r;return lt(t,e,i,n),e.child}function C0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qd(t,e,n,r,i){var s=wt(n)?Qr:rt.current;return s=Ji(e,s),Wi(e,i),n=Rh(t,e,n,r,s,i),r=bh(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(Se&&r&&gh(e),e.flags|=1,lt(t,e,n,i),e.child)}function Ig(t,e,n,r,i){if(wt(n)){var s=!0;Il(e)}else s=!1;if(Wi(e,i),e.stateNode===null)al(t,e),Yy(e,n,r),qd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=wt(n)?Qr:rt.current,c=Ji(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_g(e,o,r,c),qn=!1;var f=e.memoizedState;o.state=f,Pl(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yt.current||qn?(typeof u=="function"&&(Kd(e,n,u,r),l=e.memoizedState),(a=qn||vg(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ky(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vt(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=wt(n)?Qr:rt.current,l=Ji(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&_g(e,o,r,l),qn=!1,f=e.memoizedState,o.state=f,Pl(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||yt.current||qn?(typeof h=="function"&&(Kd(e,n,h,r),m=e.memoizedState),(c=qn||vg(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Xd(t,e,n,r,s,i)}function Xd(t,e,n,r,i,s){C0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fg(e,n,!1),Mn(t,e,s);r=e.stateNode,vT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=es(e,t.child,null,s),e.child=es(e,null,a,s)):lt(t,e,a,s),e.memoizedState=r.state,i&&fg(e,n,!0),e.child}function S0(t){var e=t.stateNode;e.pendingContext?dg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dg(t,e.context,!1),kh(t,e.containerInfo)}function Rg(t,e,n,r,i){return Zi(),_h(i),e.flags|=256,lt(t,e,n,r),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function k0(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(ke,i&1),t===null)return Vd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xc(o,r,0,null),t=Hr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zd(n),e.memoizedState=Jd,t):Ph(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _T(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hr(a,s):(s=Hr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jd,r}return s=t.child,t=s.sibling,r=hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ph(t,e){return e=xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ba(t,e,n,r){return r!==null&&_h(r),es(e,t.child,null,n),t=Ph(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _T(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lu(Error(O(422))),Ba(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xc({mode:"visible",children:r.children},i,0,null),s=Hr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&es(e,t.child,null,o),e.child.memoizedState=Zd(o),e.memoizedState=Jd,s);if(!(e.mode&1))return Ba(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Lu(s,r,void 0),Ba(t,e,o,r)}if(a=(o&t.childLanes)!==0,gt||a){if(r=We,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dn(t,i),Jt(r,t,i,-1))}return Fh(),r=Lu(Error(O(421))),Ba(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nt=cr(i.nextSibling),Rt=e,Se=!0,Kt=null,t!==null&&(At[Dt++]=Sn,At[Dt++]=kn,At[Dt++]=Xr,Sn=t.id,kn=t.overflow,Xr=e),e=Ph(e,r.children),e.flags|=4096,e)}function bg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gd(t.return,e,n)}function Uu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function T0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(lt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bg(t,n,e);else if(t.tag===19)bg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Al(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Uu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Al(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Uu(e,!0,n,null,s);break;case"together":Uu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function al(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yT(t,e,n){switch(e.tag){case 3:S0(e),Zi();break;case 5:Jy(e);break;case 1:wt(e.type)&&Il(e);break;case 4:kh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(xl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?k0(t,e,n):(_e(ke,ke.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);_e(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return T0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,E0(t,e,n)}return Mn(t,e,n)}var N0,ef,I0,R0;N0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ef=function(){};I0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ur(ln.current);var s=null;switch(n){case"input":i=Cd(t,i),r=Cd(t,r),s=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),s=[];break;case"textarea":i=Td(t,i),r=Td(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tl)}Id(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ye("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};R0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wT(t,e,n){var r=e.pendingProps;switch(vh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return wt(e.type)&&Nl(),et(e),null;case 3:return r=e.stateNode,ts(),we(yt),we(rt),Nh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(cf(Kt),Kt=null))),ef(t,e),et(e),null;case 5:Th(e);var i=Ur(Ao.current);if(n=e.type,t!==null&&e.stateNode!=null)I0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return et(e),null}if(t=Ur(ln.current),Fa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sn]=e,r[Oo]=s,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(i=0;i<Zs.length;i++)ye(Zs[i],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Fm(r,s),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ye("invalid",r);break;case"textarea":Bm(r,s),ye("invalid",r)}Id(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ua(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ua(r.textContent,a,t),i=["children",""+a]):Eo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":ba(r),$m(r,s,!0);break;case"textarea":ba(r),jm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ty(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[Oo]=r,N0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rd(n,r),n){case"dialog":ye("cancel",t),ye("close",t),i=r;break;case"iframe":case"object":case"embed":ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zs.length;i++)ye(Zs[i],t);i=r;break;case"source":ye("error",t),i=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),i=r;break;case"details":ye("toggle",t),i=r;break;case"input":Fm(t,r),i=Cd(t,r),ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),ye("invalid",t);break;case"textarea":Bm(t,r),i=Td(t,r),ye("invalid",t);break;default:i=r}Id(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ny(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Co(t,l):typeof l=="number"&&Co(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ye("scroll",t):l!=null&&nh(t,s,l,o))}switch(n){case"input":ba(t),$m(t,r,!1);break;case"textarea":ba(t),jm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_r(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$i(t,!!r.multiple,s,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)R0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Ur(Ao.current),Ur(ln.current),Fa(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(s=r.nodeValue!==n)&&(t=Rt,t!==null))switch(t.tag){case 3:Ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ua(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return et(e),null;case 13:if(we(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Nt!==null&&e.mode&1&&!(e.flags&128))Vy(),Zi(),e.flags|=98560,s=!1;else if(s=Fa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[sn]=e}else Zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),s=!1}else Kt!==null&&(cf(Kt),Kt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Le===0&&(Le=3):Fh())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return ts(),ef(t,e),t===null&&bo(e.stateNode.containerInfo),et(e),null;case 10:return Eh(e.type._context),et(e),null;case 17:return wt(e.type)&&Nl(),et(e),null;case 19:if(we(ke),s=e.memoizedState,s===null)return et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Us(s,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Al(t),o!==null){for(e.flags|=128,Us(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>rs&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304)}else{if(!r)if(t=Al(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return et(e),null}else 2*Pe()-s.renderingStartTime>rs&&n!==1073741824&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,n=ke.current,_e(ke,r?n&1|2:n&1),e):(et(e),null);case 22:case 23:return Uh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function ET(t,e){switch(vh(e),e.tag){case 1:return wt(e.type)&&Nl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ts(),we(yt),we(rt),Nh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Th(e),null;case 13:if(we(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(ke),null;case 4:return ts(),null;case 10:return Eh(e.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var ja=!1,tt=!1,CT=typeof WeakSet=="function"?WeakSet:Set,M=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function tf(t,e,n){try{n()}catch(r){Re(t,e,r)}}var xg=!1;function ST(t,e){if(Fd=Cl,t=Py(),mh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($d={focusedElem:t,selectionRange:n},Cl=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Vt(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(C){Re(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return m=xg,xg=!1,m}function ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tf(e,n,s)}i=i.next}while(i!==r)}}function Rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function b0(t){var e=t.alternate;e!==null&&(t.alternate=null,b0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Oo],delete e[zd],delete e[sT],delete e[oT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x0(t){return t.tag===5||t.tag===3||t.tag===4}function Og(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tl));else if(r!==4&&(t=t.child,t!==null))for(rf(t,e,n),t=t.sibling;t!==null;)rf(t,e,n),t=t.sibling}function sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sf(t,e,n),t=t.sibling;t!==null;)sf(t,e,n),t=t.sibling}var Ve=null,Gt=!1;function Vn(t,e,n){for(n=n.child;n!==null;)O0(t,e,n),n=n.sibling}function O0(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(wc,n)}catch{}switch(n.tag){case 5:tt||Mi(n,e);case 6:var r=Ve,i=Gt;Ve=null,Vn(t,e,n),Ve=r,Gt=i,Ve!==null&&(Gt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Gt?(t=Ve,n=n.stateNode,t.nodeType===8?xu(t.parentNode,n):t.nodeType===1&&xu(t,n),No(t)):xu(Ve,n.stateNode));break;case 4:r=Ve,i=Gt,Ve=n.stateNode.containerInfo,Gt=!0,Vn(t,e,n),Ve=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tf(n,e,o),i=i.next}while(i!==r)}Vn(t,e,n);break;case 1:if(!tt&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,e,a)}Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Vn(t,e,n),tt=r):Vn(t,e,n);break;default:Vn(t,e,n)}}function Pg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CT),e.forEach(function(r){var i=PT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Gt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Gt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(Ve===null)throw Error(O(160));O0(s,o,i),Ve=null,Gt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Re(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P0(e,t),e=e.sibling}function P0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),nn(t),r&4){try{ao(3,t,t.return),Rc(3,t)}catch(v){Re(t,t.return,v)}try{ao(5,t,t.return)}catch(v){Re(t,t.return,v)}}break;case 1:Ht(e,t),nn(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Ht(e,t),nn(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var i=t.stateNode;try{Co(i,"")}catch(v){Re(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Z_(i,s),Rd(a,o);var c=Rd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?iy(i,d):u==="dangerouslySetInnerHTML"?ny(i,d):u==="children"?Co(i,d):nh(i,u,d,c)}switch(a){case"input":Sd(i,s);break;case"textarea":ey(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?$i(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?$i(i,!!s.multiple,s.defaultValue,!0):$i(i,!!s.multiple,s.multiple?[]:"",!1))}i[Oo]=s}catch(v){Re(t,t.return,v)}}break;case 6:if(Ht(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Re(t,t.return,v)}}break;case 3:if(Ht(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{No(e.containerInfo)}catch(v){Re(t,t.return,v)}break;case 4:Ht(e,t),nn(t);break;case 13:Ht(e,t),nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mh=Pe())),r&4&&Pg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(c=tt)||u,Ht(e,t),tt=c):Ht(e,t),nn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(M=t,u=t.child;u!==null;){for(d=M=u;M!==null;){switch(f=M,h=f.child,f.tag){case 0:case 11:case 14:case 15:ao(4,f,f.return);break;case 1:Mi(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Re(r,n,v)}}break;case 5:Mi(f,f.return);break;case 22:if(f.memoizedState!==null){Dg(d);continue}}h!==null?(h.return=f,M=h):Dg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ry("display",o))}catch(v){Re(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Re(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ht(e,t),nn(t),r&4&&Pg(t);break;case 21:break;default:Ht(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x0(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Co(i,""),r.flags&=-33);var s=Og(t);sf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Og(t);rf(t,a,o);break;default:throw Error(O(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kT(t,e,n){M=t,A0(t)}function A0(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var i=M,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ja;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||tt;a=ja;var c=tt;if(ja=o,(tt=l)&&!c)for(M=i;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Mg(i):l!==null?(l.return=o,M=l):Mg(i);for(;s!==null;)M=s,A0(s),s=s.sibling;M=i,ja=a,tt=c}Ag(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,M=s):Ag(t)}}function Ag(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||Rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&No(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}tt||e.flags&512&&nf(e)}catch(f){Re(e,e.return,f)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Dg(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Mg(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rc(4,e)}catch(l){Re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Re(e,i,l)}}var s=e.return;try{nf(e)}catch(l){Re(e,s,l)}break;case 5:var o=e.return;try{nf(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var TT=Math.ceil,Ll=jn.ReactCurrentDispatcher,Ah=jn.ReactCurrentOwner,Ut=jn.ReactCurrentBatchConfig,le=0,We=null,Ae=null,qe=0,Tt=0,Li=Tr(0),Le=0,Uo=null,Zr=0,bc=0,Dh=0,lo=null,pt=null,Mh=0,rs=1/0,_n=null,Ul=!1,of=null,dr=null,za=!1,rr=null,Fl=0,co=0,af=null,ll=-1,cl=0;function ct(){return le&6?Pe():ll!==-1?ll:ll=Pe()}function fr(t){return t.mode&1?le&2&&qe!==0?qe&-qe:lT.transition!==null?(cl===0&&(cl=gy()),cl):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Sy(t.type)),t):1}function Jt(t,e,n,r){if(50<co)throw co=0,af=null,Error(O(185));ra(t,n,r),(!(le&2)||t!==We)&&(t===We&&(!(le&2)&&(bc|=n),Le===4&&Xn(t,qe)),Et(t,r),n===1&&le===0&&!(e.mode&1)&&(rs=Pe()+500,Tc&&Nr()))}function Et(t,e){var n=t.callbackNode;lk(t,e);var r=El(t,t===We?qe:0);if(r===0)n!==null&&Hm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hm(n),e===1)t.tag===0?aT(Lg.bind(null,t)):zy(Lg.bind(null,t)),rT(function(){!(le&6)&&Nr()}),n=null;else{switch(vy(r)){case 1:n=ah;break;case 4:n=py;break;case 16:n=wl;break;case 536870912:n=my;break;default:n=wl}n=j0(n,D0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function D0(t,e){if(ll=-1,cl=0,le&6)throw Error(O(327));var n=t.callbackNode;if(Hi()&&t.callbackNode!==n)return null;var r=El(t,t===We?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$l(t,r);else{e=r;var i=le;le|=2;var s=L0();(We!==t||qe!==e)&&(_n=null,rs=Pe()+500,Wr(t,e));do try{RT();break}catch(a){M0(t,a)}while(1);wh(),Ll.current=s,le=i,Ae!==null?e=0:(We=null,qe=0,e=Le)}if(e!==0){if(e===2&&(i=Ad(t),i!==0&&(r=i,e=lf(t,i))),e===1)throw n=Uo,Wr(t,0),Xn(t,r),Et(t,Pe()),n;if(e===6)Xn(t,r);else{if(i=t.current.alternate,!(r&30)&&!NT(i)&&(e=$l(t,r),e===2&&(s=Ad(t),s!==0&&(r=s,e=lf(t,s))),e===1))throw n=Uo,Wr(t,0),Xn(t,r),Et(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Or(t,pt,_n);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=Mh+500-Pe(),10<e)){if(El(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jd(Or.bind(null,t,pt,_n),e);break}Or(t,pt,_n);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TT(r/1960))-r,10<r){t.timeoutHandle=jd(Or.bind(null,t,pt,_n),r);break}Or(t,pt,_n);break;case 5:Or(t,pt,_n);break;default:throw Error(O(329))}}}return Et(t,Pe()),t.callbackNode===n?D0.bind(null,t):null}function lf(t,e){var n=lo;return t.current.memoizedState.isDehydrated&&(Wr(t,e).flags|=256),t=$l(t,e),t!==2&&(e=pt,pt=n,e!==null&&cf(e)),t}function cf(t){pt===null?pt=t:pt.push.apply(pt,t)}function NT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~Dh,e&=~bc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xt(e),r=1<<n;t[n]=-1,e&=~r}}function Lg(t){if(le&6)throw Error(O(327));Hi();var e=El(t,0);if(!(e&1))return Et(t,Pe()),null;var n=$l(t,e);if(t.tag!==0&&n===2){var r=Ad(t);r!==0&&(e=r,n=lf(t,r))}if(n===1)throw n=Uo,Wr(t,0),Xn(t,e),Et(t,Pe()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,pt,_n),Et(t,Pe()),null}function Lh(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(rs=Pe()+500,Tc&&Nr())}}function ei(t){rr!==null&&rr.tag===0&&!(le&6)&&Hi();var e=le;le|=1;var n=Ut.transition,r=ue;try{if(Ut.transition=null,ue=1,t)return t()}finally{ue=r,Ut.transition=n,le=e,!(le&6)&&Nr()}}function Uh(){Tt=Li.current,we(Li)}function Wr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nT(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(vh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nl();break;case 3:ts(),we(yt),we(rt),Nh();break;case 5:Th(r);break;case 4:ts();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Eh(r.type._context);break;case 22:case 23:Uh()}n=n.return}if(We=t,Ae=t=hr(t.current,null),qe=Tt=e,Le=0,Uo=null,Dh=bc=Zr=0,pt=lo=null,Lr!==null){for(e=0;e<Lr.length;e++)if(n=Lr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Lr=null}return t}function M0(t,e){do{var n=Ae;try{if(wh(),sl.current=Ml,Dl){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dl=!1}if(Jr=0,Be=Me=Te=null,oo=!1,Do=0,Ah.current=null,n===null||n.return===null){Le=1,Uo=e,Ae=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Sg(o);if(h!==null){h.flags&=-257,kg(h,o,a,s,e),h.mode&1&&Cg(s,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){Cg(s,c,e),Fh();break e}l=Error(O(426))}}else if(Se&&a.mode&1){var w=Sg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),kg(w,o,a,s,e),_h(ns(l,a));break e}}s=l=ns(l,a),Le!==4&&(Le=2),lo===null?lo=[s]:lo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=_0(s,l,e);mg(s,g);break e;case 1:a=l;var _=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dr===null||!dr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=y0(s,a,e);mg(s,C);break e}}s=s.return}while(s!==null)}F0(n)}catch(k){e=k,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(1)}function L0(){var t=Ll.current;return Ll.current=Ml,t===null?Ml:t}function Fh(){(Le===0||Le===3||Le===2)&&(Le=4),We===null||!(Zr&268435455)&&!(bc&268435455)||Xn(We,qe)}function $l(t,e){var n=le;le|=2;var r=L0();(We!==t||qe!==e)&&(_n=null,Wr(t,e));do try{IT();break}catch(i){M0(t,i)}while(1);if(wh(),le=n,Ll.current=r,Ae!==null)throw Error(O(261));return We=null,qe=0,Le}function IT(){for(;Ae!==null;)U0(Ae)}function RT(){for(;Ae!==null&&!ZS();)U0(Ae)}function U0(t){var e=B0(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?F0(t):Ae=e,Ah.current=null}function F0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ET(n,e),n!==null){n.flags&=32767,Ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Ae=null;return}}else if(n=wT(n,e,Tt),n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);Le===0&&(Le=5)}function Or(t,e,n){var r=ue,i=Ut.transition;try{Ut.transition=null,ue=1,bT(t,e,n,r)}finally{Ut.transition=i,ue=r}return null}function bT(t,e,n,r){do Hi();while(rr!==null);if(le&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ck(t,s),t===We&&(Ae=We=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||za||(za=!0,j0(wl,function(){return Hi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ut.transition,Ut.transition=null;var o=ue;ue=1;var a=le;le|=4,Ah.current=null,ST(t,n),P0(n,t),Yk($d),Cl=!!Fd,$d=Fd=null,t.current=n,kT(n),ek(),le=a,ue=o,Ut.transition=s}else t.current=n;if(za&&(za=!1,rr=t,Fl=i),s=t.pendingLanes,s===0&&(dr=null),rk(n.stateNode),Et(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,t=of,of=null,t;return Fl&1&&t.tag!==0&&Hi(),s=t.pendingLanes,s&1?t===af?co++:(co=0,af=t):co=0,Nr(),null}function Hi(){if(rr!==null){var t=vy(Fl),e=Ut.transition,n=ue;try{if(Ut.transition=null,ue=16>t?16:t,rr===null)var r=!1;else{if(t=rr,rr=null,Fl=0,le&6)throw Error(O(331));var i=le;for(le|=4,M=t.current;M!==null;){var s=M,o=s.child;if(M.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:ao(8,u,s)}var d=u.child;if(d!==null)d.return=u,M=d;else for(;M!==null;){u=M;var f=u.sibling,h=u.return;if(b0(u),u===c){M=null;break}if(f!==null){f.return=h,M=f;break}M=h}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}M=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,M=o;else e:for(;M!==null;){if(s=M,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ao(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,M=g;break e}M=s.return}}var _=t.current;for(M=_;M!==null;){o=M;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,M=y;else e:for(o=_;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rc(9,a)}}catch(k){Re(a,a.return,k)}if(a===o){M=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,M=C;break e}M=a.return}}if(le=i,Nr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(wc,t)}catch{}r=!0}return r}finally{ue=n,Ut.transition=e}}return!1}function Ug(t,e,n){e=ns(n,e),e=_0(t,e,1),t=ur(t,e,1),e=ct(),t!==null&&(ra(t,1,e),Et(t,e))}function Re(t,e,n){if(t.tag===3)Ug(t,t,n);else for(;e!==null;){if(e.tag===3){Ug(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){t=ns(n,t),t=y0(e,t,1),e=ur(e,t,1),t=ct(),e!==null&&(ra(e,1,t),Et(e,t));break}}e=e.return}}function xT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(qe&n)===n&&(Le===4||Le===3&&(qe&130023424)===qe&&500>Pe()-Mh?Wr(t,0):Dh|=n),Et(t,e)}function $0(t,e){e===0&&(t.mode&1?(e=Pa,Pa<<=1,!(Pa&130023424)&&(Pa=4194304)):e=1);var n=ct();t=Dn(t,e),t!==null&&(ra(t,e,n),Et(t,n))}function OT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$0(t,n)}function PT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),$0(t,n)}var B0;B0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gt=!1,yT(t,e,n);gt=!!(t.flags&131072)}else gt=!1,Se&&e.flags&1048576&&Wy(e,bl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;al(t,e),t=e.pendingProps;var i=Ji(e,rt.current);Wi(e,n),i=Rh(null,e,r,t,i,n);var s=bh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(s=!0,Il(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sh(e),i.updater=Nc,e.stateNode=i,i._reactInternals=e,qd(e,r,t,n),e=Xd(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&gh(e),lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(al(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DT(r),t=Vt(r,t),i){case 0:e=Qd(null,e,r,t,n);break e;case 1:e=Ig(null,e,r,t,n);break e;case 11:e=Tg(null,e,r,t,n);break e;case 14:e=Ng(null,e,r,Vt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Qd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Ig(t,e,r,i,n);case 3:e:{if(S0(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ky(t,e),Pl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ns(Error(O(423)),e),e=Rg(t,e,r,n,i);break e}else if(r!==i){i=ns(Error(O(424)),e),e=Rg(t,e,r,n,i);break e}else for(Nt=cr(e.stateNode.containerInfo.firstChild),Rt=e,Se=!0,Kt=null,n=Xy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zi(),r===i){e=Mn(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return Jy(e),t===null&&Vd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bd(r,i)?o=null:s!==null&&Bd(r,s)&&(e.flags|=32),C0(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&Vd(e),null;case 13:return k0(t,e,n);case 4:return kh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=es(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Tg(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(xl,r._currentValue),r._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===i.children&&!yt.current){e=Mn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wi(e,n),i=Ft(i),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,i=Vt(r,e.pendingProps),i=Vt(r.type,i),Ng(t,e,r,i,n);case 15:return w0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),al(t,e),e.tag=1,wt(r)?(t=!0,Il(e)):t=!1,Wi(e,n),Yy(e,r,i),qd(e,r,i,n),Xd(null,e,r,!0,t,n);case 19:return T0(t,e,n);case 22:return E0(t,e,n)}throw Error(O(156,e.tag))};function j0(t,e){return hy(t,e)}function AT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new AT(t,e,n,r)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DT(t){if(typeof t=="function")return $h(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ih)return 11;if(t===sh)return 14}return 2}function hr(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ul(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$h(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ni:return Hr(n.children,i,s,e);case rh:o=8,i|=8;break;case _d:return t=Mt(12,n,e,i|2),t.elementType=_d,t.lanes=s,t;case yd:return t=Mt(13,n,e,i),t.elementType=yd,t.lanes=s,t;case wd:return t=Mt(19,n,e,i),t.elementType=wd,t.lanes=s,t;case Q_:return xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q_:o=10;break e;case Y_:o=9;break e;case ih:o=11;break e;case sh:o=14;break e;case Kn:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function xc(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=Q_,t.lanes=n,t.stateNode={isHidden:!1},t}function Fu(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function $u(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bh(t,e,n,r,i,s,o,a,l){return t=new MT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(s),t}function LT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function z0(t){if(!t)return yr;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(wt(n))return jy(t,n,e)}return e}function W0(t,e,n,r,i,s,o,a,l){return t=Bh(n,r,!0,t,i,s,o,a,l),t.context=z0(null),n=t.current,r=ct(),i=fr(n),s=Rn(r,i),s.callback=e??null,ur(n,s,i),t.current.lanes=i,ra(t,i,r),Et(t,r),t}function Oc(t,e,n,r){var i=e.current,s=ct(),o=fr(i);return n=z0(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ur(i,e,o),t!==null&&(Jt(t,i,o,s),il(t,i,o)),o}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jh(t,e){Fg(t,e),(t=t.alternate)&&Fg(t,e)}function UT(){return null}var H0=typeof reportError=="function"?reportError:function(t){console.error(t)};function zh(t){this._internalRoot=t}Pc.prototype.render=zh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Oc(t,e,null,null)};Pc.prototype.unmount=zh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ei(function(){Oc(null,t,null,null)}),e[An]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var e=wy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&Cy(t)}};function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ac(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $g(){}function FT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Bl(o);s.call(c)}}var o=W0(e,r,t,0,null,!1,!1,"",$g);return t._reactRootContainer=o,t[An]=o.current,bo(t.nodeType===8?t.parentNode:t),ei(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Bl(l);a.call(c)}}var l=Bh(t,0,!1,null,null,!1,!1,"",$g);return t._reactRootContainer=l,t[An]=l.current,bo(t.nodeType===8?t.parentNode:t),ei(function(){Oc(e,l,n,r)}),l}function Dc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Bl(o);a.call(l)}}Oc(e,o,t,i)}else o=FT(n,e,t,i,r);return Bl(o)}_y=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Js(e.pendingLanes);n!==0&&(lh(e,n|1),Et(e,Pe()),!(le&6)&&(rs=Pe()+500,Nr()))}break;case 13:ei(function(){var r=Dn(t,1);if(r!==null){var i=ct();Jt(r,t,1,i)}}),jh(t,1)}};ch=function(t){if(t.tag===13){var e=Dn(t,134217728);if(e!==null){var n=ct();Jt(e,t,134217728,n)}jh(t,134217728)}};yy=function(t){if(t.tag===13){var e=fr(t),n=Dn(t,e);if(n!==null){var r=ct();Jt(n,t,e,r)}jh(t,e)}};wy=function(){return ue};Ey=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};xd=function(t,e,n){switch(e){case"input":if(Sd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kc(r);if(!i)throw Error(O(90));J_(r),Sd(r,i)}}}break;case"textarea":ey(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};ay=Lh;ly=ei;var $T={usingClientEntryPoint:!1,Events:[sa,xi,kc,sy,oy,Lh]},Fs={findFiberByHostInstance:Mr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BT={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dy(t),t===null?null:t.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||UT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{wc=Wa.inject(BT),an=Wa}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$T;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(e))throw Error(O(200));return LT(t,e,null,n)};xt.createRoot=function(t,e){if(!Wh(t))throw Error(O(299));var n=!1,r="",i=H0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bh(t,1,!1,null,null,n,!1,r,i),t[An]=e.current,bo(t.nodeType===8?t.parentNode:t),new zh(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=dy(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return ei(t)};xt.hydrate=function(t,e,n){if(!Ac(e))throw Error(O(200));return Dc(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Wh(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=H0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=W0(e,null,t,1,n??null,i,!1,s,o),t[An]=e.current,bo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pc(e)};xt.render=function(t,e,n){if(!Ac(e))throw Error(O(200));return Dc(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!Ac(t))throw Error(O(40));return t._reactRootContainer?(ei(function(){Dc(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};xt.unstable_batchedUpdates=Lh;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ac(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Dc(t,e,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=xt})(US);const Ui=Yf(gl);var Bg=gl;md.createRoot=Bg.createRoot,md.hydrateRoot=Bg.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(this,arguments)}var ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ir||(ir={}));const jg="popstate";function jT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return uf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:V0(i)}return WT(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zT(){return Math.random().toString(36).substr(2,8)}function zg(t,e){return{usr:t.state,key:t.key,idx:e}}function uf(t,e,n,r){return n===void 0&&(n=null),Fo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||r||zT()})}function V0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ir.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Fo({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ir.Pop;let w=u(),g=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:g})}function f(w,g){a=ir.Push;let _=uf(v.location,w,g);n&&n(_,w),c=u()+1;let y=zg(_,c),C=v.createHref(_);try{o.pushState(y,"",C)}catch{i.location.assign(C)}s&&l&&l({action:a,location:v.location,delta:1})}function h(w,g){a=ir.Replace;let _=uf(v.location,w,g);n&&n(_,w),c=u();let y=zg(_,c),C=v.createHref(_);o.replaceState(y,"",C),s&&l&&l({action:a,location:v.location,delta:0})}function m(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:V0(w);return Ue(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jg,d),l=w,()=>{i.removeEventListener(jg,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let g=m(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(w){return o.go(w)}};return v}var Wg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wg||(Wg={}));function HT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vs(e):e,i=q0(r.pathname||"/",n);if(i==null)return null;let s=G0(t);VT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=eN(s[a],rN(i));return o}function G0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Vr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),G0(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:JT(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of K0(s.path))i(s,o,l)}),e}function K0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=K0(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function VT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GT=/^:\w+$/,KT=3,qT=2,YT=1,QT=10,XT=-2,Hg=t=>t==="*";function JT(t,e){let n=t.split("/"),r=n.length;return n.some(Hg)&&(r+=XT),e&&(r+=qT),n.filter(i=>!Hg(i)).reduce((i,s)=>i+(GT.test(s)?KT:s===""?YT:QT),r)}function ZT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=tN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Vr([i,u.pathname]),pathnameBase:cN(Vr([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Vr([i,u.pathnameBase]))}return s}function tN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=iN(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function nN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rN(t){try{return decodeURI(t)}catch(e){return Hh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iN(t,e){try{return decodeURIComponent(t)}catch(n){return Hh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function q0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Hh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:oN(n,e):e,search:uN(r),hash:dN(i)}}function oN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vs(t):(i=Fo({},t),Ue(!i.pathname||!i.pathname.includes("?"),Bu("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Bu("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Bu("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=sN(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),cN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hN=["post","put","patch","delete"];[...hN];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function pN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const mN=typeof Object.is=="function"?Object.is:pN,{useState:gN,useEffect:vN,useLayoutEffect:_N,useDebugValue:yN}=pd;function wN(t,e,n){const r=e(),[{inst:i},s]=gN({inst:{value:r,getSnapshot:e}});return _N(()=>{i.value=r,i.getSnapshot=e,ju(i)&&s({inst:i})},[t,r,e]),vN(()=>(ju(i)&&s({inst:i}),t(()=>{ju(i)&&s({inst:i})})),[t]),yN(r),r}function ju(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!mN(n,r)}catch{return!0}}function EN(t,e,n){return e()}const CN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SN=!CN,kN=SN?EN:wN;"useSyncExternalStore"in pd&&(t=>t.useSyncExternalStore)(pd);const Y0=p.createContext(null),Vh=p.createContext(null),Gh=p.createContext(null),Mc=p.createContext(null),aa=p.createContext({outlet:null,matches:[]}),Q0=p.createContext(null);function la(){return p.useContext(Mc)!=null}function Kh(){return la()||Ue(!1),p.useContext(Mc).location}function Lc(){la()||Ue(!1);let{basename:t,navigator:e}=p.useContext(Gh),{matches:n}=p.useContext(aa),{pathname:r}=Kh(),i=JSON.stringify(aN(n).map(a=>a.pathnameBase)),s=p.useRef(!1);return p.useEffect(()=>{s.current=!0}),p.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=lN(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:Vr([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}function TN(t,e){la()||Ue(!1);let{navigator:n}=p.useContext(Gh),r=p.useContext(Vh),{matches:i}=p.useContext(aa),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Kh(),c;if(e){var u;let v=typeof e=="string"?vs(e):e;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||Ue(!1),c=v}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=HT(t,{pathname:f}),m=bN(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Vr([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Vr([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&m?p.createElement(Mc.Provider,{value:{location:df({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ir.Pop}},m):m}function NN(){let t=AN(),e=fN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,s)}class IN extends p.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?p.createElement(aa.Provider,{value:this.props.routeContext},p.createElement(Q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RN(t){let{routeContext:e,match:n,children:r}=t,i=p.useContext(Y0);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(aa.Provider,{value:e},r)}function bN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ue(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||p.createElement(NN,null):null,u=e.concat(r.slice(0,a+1)),d=()=>p.createElement(RN,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?p.createElement(IN,{location:n.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var Vg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Vg||(Vg={}));var jl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(jl||(jl={}));function xN(t){let e=p.useContext(Vh);return e||Ue(!1),e}function ON(t){let e=p.useContext(aa);return e||Ue(!1),e}function PN(t){let e=ON(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function AN(){var t;let e=p.useContext(Q0),n=xN(jl.UseRouteError),r=PN(jl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function $s(t){let{to:e,replace:n,state:r,relative:i}=t;la()||Ue(!1);let s=p.useContext(Vh),o=Lc();return p.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function Pr(t){Ue(!1)}function DN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ir.Pop,navigator:s,static:o=!1}=t;la()&&Ue(!1);let a=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=vs(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=p.useMemo(()=>{let v=q0(c,a);return v==null?null:{pathname:v,search:u,hash:d,state:f,key:h}},[a,c,u,d,f,h]);return m==null?null:p.createElement(Gh.Provider,{value:l},p.createElement(Mc.Provider,{children:n,value:{location:m,navigationType:i}}))}function MN(t){let{children:e,location:n}=t,r=p.useContext(Y0),i=r&&!e?r.router.routes:ff(e);return TN(i,n)}var Gg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Gg||(Gg={}));new Promise(()=>{});function ff(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,i)=>{if(!p.isValidElement(r))return;if(r.type===p.Fragment){n.push.apply(n,ff(r.props.children,e));return}r.type!==Pr&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=ff(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function LN(t){let{basename:e,children:n,window:r}=t,i=p.useRef();i.current==null&&(i.current=jT({window:r,v5Compat:!0}));let s=i.current,[o,a]=p.useState({action:s.action,location:s.location});return p.useLayoutEffect(()=>s.listen(a),[s]),p.createElement(DN,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var Kg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Kg||(Kg={}));var qg;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qg||(qg={}));var hf={},UN={get exports(){return hf},set exports(t){hf=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(UN);const J=hf,FN=["xxl","xl","lg","md","sm","xs"],$N="xs",Uc=p.createContext({prefixes:{},breakpoints:FN,minBreakpoint:$N});function ae(t,e){const{prefixes:n}=p.useContext(Uc);return t||n[e]||e}function X0(){const{breakpoints:t}=p.useContext(Uc);return t}function J0(){const{minBreakpoint:t}=p.useContext(Uc);return t}function Z0(){const{dir:t}=p.useContext(Uc);return t==="rtl"}const BN={fluid:!1},q=p.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=ae(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return E(n,{ref:s,...i,className:J(r,e?`${o}${a}`:o)})});q.displayName="Container";q.defaultProps=BN;const jN=p.createContext(null),$o=(t,e=null)=>t!=null?String(t):e||null,ti=jN;function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(this,arguments)}function ew(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yg(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function zN(t){var e=WN(t,"string");return typeof e=="symbol"?e:String(e)}function WN(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tw(t,e,n){var r=p.useRef(t!==void 0),i=p.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,p.useCallback(function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[c].concat(d)),o(c)},[n])]}function Fc(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[Yg(r)],a=s[r],l=ew(s,[Yg(r),r].map(zN)),c=e[r],u=tw(a,o,t[c]),d=u[0],f=u[1];return pf({},l,(i={},i[r]=d,i[c]=f,i))},t)}function mf(t,e){return mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mf(t,e)}function HN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mf(t,e)}var VN=/-(.)/g;function GN(t){return t.replace(VN,function(e,n){return n.toUpperCase()})}const KN=t=>t[0].toUpperCase()+GN(t).slice(1);function st(t,{displayName:e=KN(t),Component:n,defaultProps:r}={}){const i=p.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},c)=>{const u=ae(o,t);return E(a,{ref:c,className:J(s,u),...l})});return i.defaultProps=r,i.displayName=e,i}const nw=p.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ae(t,"navbar-brand");const s=n||(r.href?"a":"span");return E(s,{...r,ref:i,className:J(e,t)})});nw.displayName="NavbarBrand";function $c(t){return t&&t.ownerDocument||document}function qN(t){var e=$c(t);return e&&e.defaultView||window}function YN(t,e){return qN(t).getComputedStyle(t,e)}var QN=/([A-Z])/g;function XN(t){return t.replace(QN,"-$1").toLowerCase()}var JN=/^ms-/;function Ha(t){return XN(t).replace(JN,"-ms-")}var ZN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function eI(t){return!!(t&&ZN.test(t))}function bn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Ha(e))||YN(t).getPropertyValue(Ha(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Ha(i)):eI(i)?r+=i+"("+s+") ":n+=Ha(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var nt={},tI={get exports(){return nt},set exports(t){nt=t}},nI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rI=nI,iI=rI;function rw(){}function iw(){}iw.resetWarningCache=rw;var sI=function(){function t(r,i,s,o,a,l){if(l!==iI){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iw,resetWarningCache:rw};return n.PropTypes=n,n};tI.exports=sI();const Qg={disabled:!1},sw=N.createContext(null);var oI=function(e){return e.scrollTop},eo="unmounted",Yn="exited",qt="entering",En="entered",Bo="exiting",zn=function(t){HN(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Yn,s.appearStatus=qt):l=En:r.unmountOnExit||r.mountOnEnter?l=eo:l=Yn,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===eo?{status:Yn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==qt&&o!==En&&(s=qt):(o===qt||o===En)&&(s=Bo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===qt){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ui.findDOMNode(this);o&&oI(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yn&&this.setState({status:eo})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ui.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||Qg.disabled){this.safeSetState({status:En},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:qt},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:En},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ui.findDOMNode(this);if(!s||Qg.disabled){this.safeSetState({status:Yn},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Bo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Yn},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ui.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===eo)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=ew(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return N.createElement(sw.Provider,{value:null},typeof o=="function"?o(i,a):N.cloneElement(N.Children.only(o),a))},e}(N.Component);zn.contextType=sw;zn.propTypes={};function wi(){}zn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wi,onEntering:wi,onEntered:wi,onExit:wi,onExiting:wi,onExited:wi};zn.UNMOUNTED=eo;zn.EXITED=Yn;zn.ENTERING=qt;zn.ENTERED=En;zn.EXITING=Bo;const Bc=!!(typeof window<"u"&&window.document&&window.document.createElement);var gf=!1,vf=!1;try{var zu={get passive(){return gf=!0},get once(){return vf=gf=!0}};Bc&&(window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,!0))}catch{}function ow(t,e,n,r){if(r&&typeof r!="boolean"&&!vf){var i=r.once,s=r.capture,o=n;!vf&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,gf?r:s)}t.addEventListener(e,n,r)}function aI(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function sr(t,e,n,r){return ow(t,e,n,r),function(){aI(t,e,n,r)}}function lI(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function cI(t){var e=bn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function uI(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||lI(t,"transitionend",!0)},e+n),s=sr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function dI(t,e,n,r){n==null&&(n=cI(t)||0);var i=uI(t,n,r),s=sr(t,"transitionend",e);return function(){i(),s()}}function Xg(t,e){const n=bn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function jc(t,e){const n=Xg(t,"transitionDuration"),r=Xg(t,"transitionDelay"),i=dI(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Bs(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function qh(t){t.offsetHeight}var Jg=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function fI(t,e){var n=Jg(t),r=Jg(e);return function(i){n&&n(i),r&&r(i)}}function _s(t,e){return p.useMemo(function(){return fI(t,e)},[t,e])}function hI(t){return t&&"setState"in t?Ui.findDOMNode(t):t??null}const pI=N.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},u)=>{const d=p.useRef(null),f=_s(d,l),h=S=>{f(hI(S))},m=S=>T=>{S&&d.current&&S(d.current,T)},v=p.useCallback(m(t),[t]),w=p.useCallback(m(e),[e]),g=p.useCallback(m(n),[n]),_=p.useCallback(m(r),[r]),y=p.useCallback(m(i),[i]),C=p.useCallback(m(s),[s]),k=p.useCallback(m(o),[o]);return E(zn,{ref:u,...c,onEnter:v,onEntered:g,onEntering:w,onExit:_,onExited:C,onExiting:y,addEndListener:k,nodeRef:d,children:typeof a=="function"?(S,T)=>a(S,{...T,ref:h}):N.cloneElement(a,{ref:h})})}),zc=pI,mI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function aw(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=mI[t];return r+parseInt(bn(e,i[0]),10)+parseInt(bn(e,i[1]),10)}const gI={[Yn]:"collapse",[Bo]:"collapsing",[qt]:"collapsing",[En]:"collapse show"},vI={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:aw},lw=N.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=aw,...c},u)=>{const d=typeof a=="function"?a():a,f=p.useMemo(()=>Bs(g=>{g.style[d]="0"},t),[d,t]),h=p.useMemo(()=>Bs(g=>{const _=`scroll${d[0].toUpperCase()}${d.slice(1)}`;g.style[d]=`${g[_]}px`},e),[d,e]),m=p.useMemo(()=>Bs(g=>{g.style[d]=null},n),[d,n]),v=p.useMemo(()=>Bs(g=>{g.style[d]=`${l(d,g)}px`,qh(g)},r),[r,l,d]),w=p.useMemo(()=>Bs(g=>{g.style[d]=null},i),[d,i]);return E(zc,{ref:u,addEndListener:jc,...c,"aria-expanded":c.role?c.in:null,onEnter:f,onEntering:h,onEntered:m,onExit:v,onExiting:w,childRef:o.ref,children:(g,_)=>N.cloneElement(o,{..._,className:J(s,o.props.className,gI[g],d==="width"&&"collapse-horizontal")})})});lw.defaultProps=vI;const _I=lw,Ir=p.createContext(null);Ir.displayName="NavbarContext";const cw=p.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ae(e,"navbar-collapse");const i=p.useContext(Ir);return E(_I,{in:!!(i&&i.expanded),...n,children:E("div",{ref:r,className:e,children:t})})});cw.displayName="NavbarCollapse";function uw(t){var e=p.useRef(t);return p.useEffect(function(){e.current=t},[t]),e}function be(t){var e=uw(t);return p.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const yI={label:"Toggle navigation"},Yh=p.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=ae(t,"navbar-toggler");const{onToggle:l,expanded:c}=p.useContext(Ir)||{},u=be(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),E(i,{...o,ref:a,onClick:u,"aria-label":r,className:J(e,t,!c&&"collapsed"),children:n||E("span",{className:`${t}-icon`})})});Yh.displayName="NavbarToggle";Yh.defaultProps=yI;var wI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",EI=typeof document<"u";const zl=EI||wI?p.useLayoutEffect:p.useEffect;var _f=new WeakMap,Zg=function(e,n){if(!(!e||!n)){var r=_f.get(n)||new Map;_f.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function CI(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=Zg(t,e),r=p.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return zl(function(){var o=Zg(t,e);if(!o)return s(!1);var a=_f.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function SI(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),c=t[l];return typeof c=="number"?c=c-.2+"px":c="calc("+c+" - 0.2px)","(max-width: "+c+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,c){var u;if(typeof a=="object")u=a,c=l,l=!0;else{var d;l=l||!0,u=(d={},d[a]=l,d)}var f=p.useMemo(function(){return Object.entries(u).reduce(function(h,m){var v=m[0],w=m[1];return(w==="up"||w===!0)&&(h=n(h,s(v))),(w==="down"||w===!0)&&(h=n(h,i(v))),h},"")},[JSON.stringify(u)]);return CI(f,c)}return o}var kI=SI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Wu(t){t===void 0&&(t=$c());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Wl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function Qh(){var t=p.useRef(!0),e=p.useRef(function(){return t.current});return p.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function TI(t){var e=p.useRef(t);return e.current=t,e}function dw(t){var e=TI(t);p.useEffect(function(){return function(){return e.current()}},[])}function fw(t){var e=p.useRef(null);return p.useEffect(function(){e.current=t}),e.current}const NI="data-rr-ui-",II="rrUi";function ys(t){return`${NI}${t}`}function RI(t){return`${II}${t}`}function bI(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const ev=ys("modal-open");class xI{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return bI(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(bn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(ev,""),bn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(ev),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Xh=xI,hw=p.createContext(Bc?window:void 0);hw.Provider;function Jh(){return p.useContext(hw)}const Hu=(t,e)=>Bc?t==null?(e||$c()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function OI(t,e){const n=Jh(),[r,i]=p.useState(()=>Hu(t,n==null?void 0:n.document));if(!r){const s=Hu(t);s&&i(s)}return p.useEffect(()=>{e&&r&&e(r)},[e,r]),p.useEffect(()=>{const s=Hu(t);s!==r&&i(s)},[t,r]),r}function PI({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=p.useRef(null),o=p.useRef(e),a=be(n);p.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=_s(s,t.ref),c=p.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}function AI({in:t,onTransition:e}){const n=p.useRef(null),r=p.useRef(!0),i=be(e);return zl(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),zl(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function DI({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=p.useState(!e);e&&s&&o(!1);const a=AI({in:!!e,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(u,d=>{throw c.in||o(!0),d})}}),l=_s(a,t.ref);return s&&!e?null:p.cloneElement(t,{ref:l})}function tv(t,e,n){return t?E(t,Object.assign({},n)):e?E(DI,Object.assign({},n,{transition:e})):E(PI,Object.assign({},n))}const MI=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function LI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Vu;function UI(t){return Vu||(Vu=new Xh({ownerDocument:t==null?void 0:t.document})),Vu}function FI(t){const e=Jh(),n=t||UI(e),r=p.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:p.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:p.useCallback(i=>{r.current.backdrop=i},[])})}const pw=p.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:f,backdropTransition:h,runBackdropTransition:m,autoFocus:v=!0,enforceFocus:w=!0,restoreFocus:g=!0,restoreFocusOptions:_,renderDialog:y,renderBackdrop:C=ee=>E("div",Object.assign({},ee)),manager:k,container:S,onShow:T,onHide:I=()=>{},onExit:b,onExited:R,onExiting:A,onEnter:$,onEntering:z,onEntered:se}=t,ne=LI(t,MI);const W=OI(S),H=FI(k),x=Qh(),L=fw(n),[D,Q]=p.useState(!n),G=p.useRef(null);p.useImperativeHandle(e,()=>H,[H]),Bc&&!L&&n&&(G.current=Wu()),n&&D&&Q(!1);const de=be(()=>{if(H.add(),Pt.current=sr(document,"keydown",Ce),Xe.current=sr(document,"focus",()=>setTimeout(K),!0),T&&T(),v){const ee=Wu(document);H.dialog&&ee&&!Wl(H.dialog,ee)&&(G.current=ee,H.dialog.focus())}}),Z=be(()=>{if(H.remove(),Pt.current==null||Pt.current(),Xe.current==null||Xe.current(),g){var ee;(ee=G.current)==null||ee.focus==null||ee.focus(_),G.current=null}});p.useEffect(()=>{!n||!W||de()},[n,W,de]),p.useEffect(()=>{D&&Z()},[D,Z]),dw(()=>{Z()});const K=be(()=>{if(!w||!x()||!H.isTopModal())return;const ee=Wu();H.dialog&&ee&&!Wl(H.dialog,ee)&&H.dialog.focus()}),pe=be(ee=>{ee.target===ee.currentTarget&&(c==null||c(ee),a===!0&&I())}),Ce=be(ee=>{l&&ee.keyCode===27&&H.isTopModal()&&(u==null||u(ee),ee.defaultPrevented||I())}),Xe=p.useRef(),Pt=p.useRef(),Je=(...ee)=>{Q(!0),R==null||R(...ee)};if(!W)return null;const De=Object.assign({role:r,ref:H.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ne,{style:s,className:i,tabIndex:-1});let Wt=y?y(De):E("div",Object.assign({},De,{children:p.cloneElement(o,{role:"document"})}));Wt=tv(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:b,onExiting:A,onExited:Je,onEnter:$,onEntering:z,onEntered:se,children:Wt});let ot=null;return a&&(ot=C({ref:H.setBackdropRef,onClick:pe}),ot=tv(h,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ot})),E(mt,{children:Ui.createPortal(U(mt,{children:[ot,Wt]}),W)})});pw.displayName="Modal";const $I=Object.assign(pw,{Manager:Xh}),BI={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},jI={[qt]:"show",[En]:"show"},Zh=p.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=p.useCallback((o,a)=>{qh(o),r.onEnter==null||r.onEnter(o,a)},[r]);return E(zc,{ref:i,addEndListener:jc,...r,onEnter:s,childRef:e.ref,children:(o,a)=>p.cloneElement(e,{...a,className:J("fade",t,e.props.className,jI[o],n[o])})})});Zh.defaultProps=BI;Zh.displayName="Fade";const zI=Zh,WI=st("offcanvas-body"),HI={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},VI={[qt]:"show",[En]:"show"},ep=p.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=ae(t,"offcanvas"),E(zc,{ref:i,addEndListener:jc,...r,childRef:n.ref,children:(s,o)=>p.cloneElement(n,{...o,className:J(e,n.props.className,(s===qt||s===Bo)&&`${t}-toggling`,VI[s])})})));ep.defaultProps=HI;ep.displayName="OffcanvasToggling";const GI=p.createContext({onHide(){}}),mw=GI,KI={"aria-label":nt.string,onClick:nt.func,variant:nt.oneOf(["white"])},qI={"aria-label":"Close"},Wc=p.forwardRef(({className:t,variant:e,...n},r)=>E("button",{ref:r,type:"button",className:J("btn-close",e&&`btn-close-${e}`,t),...n}));Wc.displayName="CloseButton";Wc.propTypes=KI;Wc.defaultProps=qI;const YI=Wc,QI={closeLabel:"Close",closeButton:!1},gw=p.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=p.useContext(mw),l=be(()=>{a==null||a.onHide(),r==null||r()});return U("div",{ref:o,...s,children:[i,n&&E(YI,{"aria-label":t,variant:e,onClick:l})]})});gw.defaultProps=QI;const XI=gw,JI={closeLabel:"Close",closeButton:!1},tp=p.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ae(t,"offcanvas-header"),E(XI,{ref:r,...n,className:J(e,t)})));tp.displayName="OffcanvasHeader";tp.defaultProps=JI;const ZI=tp,np=t=>p.forwardRef((e,n)=>E("div",{...e,ref:n,className:J(e.className,t)})),eR=np("h5"),tR=st("offcanvas-title",{Component:eR});function nR(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function rR(t,e){t.classList?t.classList.add(e):nR(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var iR=Function.prototype.bind.call(Function.prototype.call,[].slice);function wn(t,e){return iR(t.querySelectorAll(e))}function nv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function sR(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=nv(t.className,e):t.setAttribute("class",nv(t.className&&t.className.baseVal||"",e))}const Ei={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class vw extends Xh{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,bn(n,{[e]:`${parseFloat(bn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],bn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(rR(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wn(n,Ei.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),wn(n,Ei.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),wn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();sR(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wn(n,Ei.FIXED_CONTENT).forEach(s=>this.restore(r,s)),wn(n,Ei.STICKY_CONTENT).forEach(s=>this.restore(i,s)),wn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Gu;function oR(t){return Gu||(Gu=new vw(t)),Gu}const aR=vw,lR={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function cR(t){return E(ep,{...t})}function uR(t){return E(zI,{...t})}const rp=p.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:c,onEscapeKeyDown:u,onShow:d,onHide:f,container:h,autoFocus:m,enforceFocus:v,restoreFocus:w,restoreFocusOptions:g,onEntered:_,onExit:y,onExiting:C,onEnter:k,onEntering:S,onExited:T,backdropClassName:I,manager:b,renderStaticNode:R,...A},$)=>{const z=p.useRef();t=ae(t,"offcanvas");const{onToggle:se}=p.useContext(Ir)||{},[ne,W]=p.useState(!1),H=kI(s||"xs","up");p.useEffect(()=>{W(s?o&&!H:o)},[o,s,H]);const x=be(()=>{se==null||se(),f==null||f()}),L=p.useMemo(()=>({onHide:x}),[x]);function D(){return b||(c?(z.current||(z.current=new aR({handleContainerOverflow:!1})),z.current):oR())}const Q=(K,...pe)=>{K&&(K.style.visibility="visible"),k==null||k(K,...pe)},G=(K,...pe)=>{K&&(K.style.visibility=""),T==null||T(...pe)},de=p.useCallback(K=>E("div",{...K,className:J(`${t}-backdrop`,I)}),[I,t]),Z=K=>E("div",{...K,...A,className:J(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return U(mt,{children:[!ne&&(s||R)&&Z({}),E(mw.Provider,{value:L,children:E($I,{show:ne,ref:$,backdrop:a,container:h,keyboard:l,autoFocus:m,enforceFocus:v&&!c,restoreFocus:w,restoreFocusOptions:g,onEscapeKeyDown:u,onShow:d,onHide:x,onEnter:Q,onEntering:S,onEntered:_,onExit:y,onExiting:C,onExited:G,manager:D(),transition:cR,backdropTransition:uR,renderBackdrop:de,renderDialog:Z})})]})});rp.displayName="Offcanvas";rp.defaultProps=lR;const dR=Object.assign(rp,{Body:WI,Header:ZI,Title:tR}),_w=p.forwardRef((t,e)=>{const n=p.useContext(Ir);return E(dR,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});_w.displayName="NavbarOffcanvas";const fR=st("navbar-text",{Component:"span"}),hR={expand:!0,variant:"light",collapseOnSelect:!1},ip=p.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:u,onToggle:d,onSelect:f,collapseOnSelect:h,...m}=Fc(t,{expanded:"onToggle"}),v=ae(n,"navbar"),w=p.useCallback((...y)=>{f==null||f(...y),h&&u&&(d==null||d(!1))},[f,h,u,d]);m.role===void 0&&c!=="nav"&&(m.role="navigation");let g=`${v}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const _=p.useMemo(()=>({onToggle:()=>d==null?void 0:d(!u),bsPrefix:v,expanded:!!u,expand:r}),[v,u,r,d]);return E(Ir.Provider,{value:_,children:E(ti.Provider,{value:w,children:E(c,{ref:e,...m,className:J(l,v,r&&g,i&&`${v}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});ip.defaultProps=hR;ip.displayName="Navbar";const Va=Object.assign(ip,{Brand:nw,Collapse:cw,Offcanvas:_w,Text:fR,Toggle:Yh});function yw(){var t=p.useReducer(function(n){return!n},!1),e=t[1];return e}function pR(t,e,n,r){r===void 0&&(r=!1);var i=be(n);p.useEffect(function(){var s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),function(){return s.removeEventListener(e,i,r)}},[t])}const mR=p.createContext(null),Hc=mR;function gR(){return p.useState(null)}var rv=Object.prototype.hasOwnProperty;function iv(t,e,n){for(n of t.keys())if(uo(n,e))return n}function uo(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&uo(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=iv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=iv(e,i),!i)||!uo(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(rv.call(t,n)&&++r&&!rv.call(e,n)||!(n in e)||!uo(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function vR(t){var e=Qh();return[t[0],p.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Ct="top",Bt="bottom",jt="right",St="left",sp="auto",ca=[Ct,Bt,jt,St],is="start",jo="end",_R="clippingParents",ww="viewport",js="popper",yR="reference",sv=ca.reduce(function(t,e){return t.concat([e+"-"+is,e+"-"+jo])},[]),Ew=[].concat(ca,[sp]).reduce(function(t,e){return t.concat([e,e+"-"+is,e+"-"+jo])},[]),wR="beforeRead",ER="read",CR="afterRead",SR="beforeMain",kR="main",TR="afterMain",NR="beforeWrite",IR="write",RR="afterWrite",bR=[wR,ER,CR,SR,kR,TR,NR,IR,RR];function cn(t){return t.split("-")[0]}function zt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ni(t){var e=zt(t).Element;return t instanceof e||t instanceof Element}function un(t){var e=zt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function op(t){if(typeof ShadowRoot>"u")return!1;var e=zt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Gr=Math.max,Hl=Math.min,ss=Math.round;function yf(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Cw(){return!/^((?!chrome|android).)*safari/i.test(yf())}function os(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&un(t)&&(i=t.offsetWidth>0&&ss(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ss(r.height)/t.offsetHeight||1);var o=ni(t)?zt(t):window,a=o.visualViewport,l=!Cw()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function ap(t){var e=os(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Sw(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&op(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function wr(t){return t?(t.nodeName||"").toLowerCase():null}function Ln(t){return zt(t).getComputedStyle(t)}function xR(t){return["table","td","th"].indexOf(wr(t))>=0}function Rr(t){return((ni(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vc(t){return wr(t)==="html"?t:t.assignedSlot||t.parentNode||(op(t)?t.host:null)||Rr(t)}function ov(t){return!un(t)||Ln(t).position==="fixed"?null:t.offsetParent}function OR(t){var e=/firefox/i.test(yf()),n=/Trident/i.test(yf());if(n&&un(t)){var r=Ln(t);if(r.position==="fixed")return null}var i=Vc(t);for(op(i)&&(i=i.host);un(i)&&["html","body"].indexOf(wr(i))<0;){var s=Ln(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function ua(t){for(var e=zt(t),n=ov(t);n&&xR(n)&&Ln(n).position==="static";)n=ov(n);return n&&(wr(n)==="html"||wr(n)==="body"&&Ln(n).position==="static")?e:n||OR(t)||e}function lp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fo(t,e,n){return Gr(t,Hl(e,n))}function PR(t,e,n){var r=fo(t,e,n);return r>n?n:r}function kw(){return{top:0,right:0,bottom:0,left:0}}function Tw(t){return Object.assign({},kw(),t)}function Nw(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var AR=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Tw(typeof e!="number"?e:Nw(e,ca))};function DR(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=cn(n.placement),l=lp(a),c=[St,jt].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=AR(i.padding,n),f=ap(s),h=l==="y"?Ct:St,m=l==="y"?Bt:jt,v=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],g=ua(s),_=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,y=v/2-w/2,C=d[h],k=_-f[u]-d[m],S=_/2-f[u]/2+y,T=fo(C,S,k),I=l;n.modifiersData[r]=(e={},e[I]=T,e.centerOffset=T-S,e)}}function MR(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Sw(e.elements.popper,i)&&(e.elements.arrow=i))}const LR={name:"arrow",enabled:!0,phase:"main",fn:DR,effect:MR,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function as(t){return t.split("-")[1]}var UR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function FR(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:ss(e*i)/i||0,y:ss(n*i)/i||0}}function av(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,m=o.y,v=m===void 0?0:m,w=typeof u=="function"?u({x:h,y:v}):{x:h,y:v};h=w.x,v=w.y;var g=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),y=St,C=Ct,k=window;if(c){var S=ua(n),T="clientHeight",I="clientWidth";if(S===zt(n)&&(S=Rr(n),Ln(S).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),S=S,i===Ct||(i===St||i===jt)&&s===jo){C=Bt;var b=d&&S===k&&k.visualViewport?k.visualViewport.height:S[T];v-=b-r.height,v*=l?1:-1}if(i===St||(i===Ct||i===Bt)&&s===jo){y=jt;var R=d&&S===k&&k.visualViewport?k.visualViewport.width:S[I];h-=R-r.width,h*=l?1:-1}}var A=Object.assign({position:a},c&&UR),$=u===!0?FR({x:h,y:v}):{x:h,y:v};if(h=$.x,v=$.y,l){var z;return Object.assign({},A,(z={},z[C]=_?"0":"",z[y]=g?"0":"",z.transform=(k.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",z))}return Object.assign({},A,(e={},e[C]=_?v+"px":"",e[y]=g?h+"px":"",e.transform="",e))}function $R(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:cn(e.placement),variation:as(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,av(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,av(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const BR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$R,data:{}};var Ga={passive:!0};function jR(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=zt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ga)}),a&&l.addEventListener("resize",n.update,Ga),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ga)}),a&&l.removeEventListener("resize",n.update,Ga)}}const zR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jR,data:{}};var WR={left:"right",right:"left",bottom:"top",top:"bottom"};function dl(t){return t.replace(/left|right|bottom|top/g,function(e){return WR[e]})}var HR={start:"end",end:"start"};function lv(t){return t.replace(/start|end/g,function(e){return HR[e]})}function cp(t){var e=zt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function up(t){return os(Rr(t)).left+cp(t).scrollLeft}function VR(t,e){var n=zt(t),r=Rr(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Cw();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+up(t),y:l}}function GR(t){var e,n=Rr(t),r=cp(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Gr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Gr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+up(t),l=-r.scrollTop;return Ln(i||n).direction==="rtl"&&(a+=Gr(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function dp(t){var e=Ln(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Iw(t){return["html","body","#document"].indexOf(wr(t))>=0?t.ownerDocument.body:un(t)&&dp(t)?t:Iw(Vc(t))}function ho(t,e){var n;e===void 0&&(e=[]);var r=Iw(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=zt(r),o=i?[s].concat(s.visualViewport||[],dp(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ho(Vc(o)))}function wf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function KR(t,e){var n=os(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function cv(t,e,n){return e===ww?wf(VR(t,n)):ni(e)?KR(e,n):wf(GR(Rr(t)))}function qR(t){var e=ho(Vc(t)),n=["absolute","fixed"].indexOf(Ln(t).position)>=0,r=n&&un(t)?ua(t):t;return ni(r)?e.filter(function(i){return ni(i)&&Sw(i,r)&&wr(i)!=="body"}):[]}function YR(t,e,n,r){var i=e==="clippingParents"?qR(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=cv(t,c,r);return l.top=Gr(u.top,l.top),l.right=Hl(u.right,l.right),l.bottom=Hl(u.bottom,l.bottom),l.left=Gr(u.left,l.left),l},cv(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Rw(t){var e=t.reference,n=t.element,r=t.placement,i=r?cn(r):null,s=r?as(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ct:l={x:o,y:e.y-n.height};break;case Bt:l={x:o,y:e.y+e.height};break;case jt:l={x:e.x+e.width,y:a};break;case St:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?lp(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case is:l[c]=l[c]-(e[u]/2-n[u]/2);break;case jo:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function zo(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?_R:a,c=n.rootBoundary,u=c===void 0?ww:c,d=n.elementContext,f=d===void 0?js:d,h=n.altBoundary,m=h===void 0?!1:h,v=n.padding,w=v===void 0?0:v,g=Tw(typeof w!="number"?w:Nw(w,ca)),_=f===js?yR:js,y=t.rects.popper,C=t.elements[m?_:f],k=YR(ni(C)?C:C.contextElement||Rr(t.elements.popper),l,u,o),S=os(t.elements.reference),T=Rw({reference:S,element:y,strategy:"absolute",placement:i}),I=wf(Object.assign({},y,T)),b=f===js?I:S,R={top:k.top-b.top+g.top,bottom:b.bottom-k.bottom+g.bottom,left:k.left-b.left+g.left,right:b.right-k.right+g.right},A=t.modifiersData.offset;if(f===js&&A){var $=A[i];Object.keys(R).forEach(function(z){var se=[jt,Bt].indexOf(z)>=0?1:-1,ne=[Ct,Bt].indexOf(z)>=0?"y":"x";R[z]+=$[ne]*se})}return R}function QR(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ew:l,u=as(r),d=u?a?sv:sv.filter(function(m){return as(m)===u}):ca,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var h=f.reduce(function(m,v){return m[v]=zo(t,{placement:v,boundary:i,rootBoundary:s,padding:o})[cn(v)],m},{});return Object.keys(h).sort(function(m,v){return h[m]-h[v]})}function XR(t){if(cn(t)===sp)return[];var e=dl(t);return[lv(t),e,lv(e)]}function JR(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,v=n.allowedAutoPlacements,w=e.options.placement,g=cn(w),_=g===w,y=l||(_||!m?[dl(w)]:XR(w)),C=[w].concat(y).reduce(function(Z,K){return Z.concat(cn(K)===sp?QR(e,{placement:K,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:v}):K)},[]),k=e.rects.reference,S=e.rects.popper,T=new Map,I=!0,b=C[0],R=0;R<C.length;R++){var A=C[R],$=cn(A),z=as(A)===is,se=[Ct,Bt].indexOf($)>=0,ne=se?"width":"height",W=zo(e,{placement:A,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),H=se?z?jt:St:z?Bt:Ct;k[ne]>S[ne]&&(H=dl(H));var x=dl(H),L=[];if(s&&L.push(W[$]<=0),a&&L.push(W[H]<=0,W[x]<=0),L.every(function(Z){return Z})){b=A,I=!1;break}T.set(A,L)}if(I)for(var D=m?3:1,Q=function(K){var pe=C.find(function(Ce){var Xe=T.get(Ce);if(Xe)return Xe.slice(0,K).every(function(Pt){return Pt})});if(pe)return b=pe,"break"},G=D;G>0;G--){var de=Q(G);if(de==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const ZR={name:"flip",enabled:!0,phase:"main",fn:JR,requiresIfExists:["offset"],data:{_skip:!1}};function uv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dv(t){return[Ct,jt,Bt,St].some(function(e){return t[e]>=0})}function eb(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=zo(e,{elementContext:"reference"}),a=zo(e,{altBoundary:!0}),l=uv(o,r),c=uv(a,i,s),u=dv(l),d=dv(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const tb={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eb};function nb(t,e,n){var r=cn(t),i=[St,Ct].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[St,jt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function rb(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Ew.reduce(function(u,d){return u[d]=nb(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const ib={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rb};function sb(t){var e=t.state,n=t.name;e.modifiersData[n]=Rw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const ob={name:"popperOffsets",enabled:!0,phase:"read",fn:sb,data:{}};function ab(t){return t==="x"?"y":"x"}function lb(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,v=m===void 0?0:m,w=zo(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=cn(e.placement),_=as(e.placement),y=!_,C=lp(g),k=ab(C),S=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,b=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,R=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(S){if(s){var z,se=C==="y"?Ct:St,ne=C==="y"?Bt:jt,W=C==="y"?"height":"width",H=S[C],x=H+w[se],L=H-w[ne],D=h?-I[W]/2:0,Q=_===is?T[W]:I[W],G=_===is?-I[W]:-T[W],de=e.elements.arrow,Z=h&&de?ap(de):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:kw(),pe=K[se],Ce=K[ne],Xe=fo(0,T[W],Z[W]),Pt=y?T[W]/2-D-Xe-pe-R.mainAxis:Q-Xe-pe-R.mainAxis,Je=y?-T[W]/2+D+Xe+Ce+R.mainAxis:G+Xe+Ce+R.mainAxis,De=e.elements.arrow&&ua(e.elements.arrow),Wt=De?C==="y"?De.clientTop||0:De.clientLeft||0:0,ot=(z=A==null?void 0:A[C])!=null?z:0,ee=H+Pt-ot-Wt,Is=H+Je-ot,gi=fo(h?Hl(x,ee):x,H,h?Gr(L,Is):L);S[C]=gi,$[C]=gi-H}if(a){var Sa,du=C==="x"?Ct:St,fu=C==="x"?Bt:jt,gn=S[k],vi=k==="y"?"height":"width",Rs=gn+w[du],br=gn-w[fu],_i=[Ct,St].indexOf(g)!==-1,ka=(Sa=A==null?void 0:A[k])!=null?Sa:0,Ta=_i?Rs:gn-T[vi]-I[vi]-ka+R.altAxis,Na=_i?gn+T[vi]+I[vi]-ka-R.altAxis:br,bs=h&&_i?PR(Ta,gn,Na):fo(h?Ta:Rs,gn,h?Na:br);S[k]=bs,$[k]=bs-gn}e.modifiersData[r]=$}}const cb={name:"preventOverflow",enabled:!0,phase:"main",fn:lb,requiresIfExists:["offset"]};function ub(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function db(t){return t===zt(t)||!un(t)?cp(t):ub(t)}function fb(t){var e=t.getBoundingClientRect(),n=ss(e.width)/t.offsetWidth||1,r=ss(e.height)/t.offsetHeight||1;return n!==1||r!==1}function hb(t,e,n){n===void 0&&(n=!1);var r=un(e),i=un(e)&&fb(e),s=Rr(e),o=os(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((wr(e)!=="body"||dp(s))&&(a=db(e)),un(e)?(l=os(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=up(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function pb(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function mb(t){var e=pb(t);return bR.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function gb(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function vb(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var fv={placement:"bottom",modifiers:[],strategy:"absolute"};function hv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _b(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?fv:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},fv,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(g){var _=typeof g=="function"?g(u.options):g;v(),u.options=Object.assign({},s,u.options,_),u.scrollParents={reference:ni(a)?ho(a):a.contextElement?ho(a.contextElement):[],popper:ho(l)};var y=mb(vb([].concat(r,u.options.modifiers)));return u.orderedModifiers=y.filter(function(C){return C.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var g=u.elements,_=g.reference,y=g.popper;if(hv(_,y)){u.rects={reference:hb(_,ua(y),u.options.strategy==="fixed"),popper:ap(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var k=u.orderedModifiers[C],S=k.fn,T=k.options,I=T===void 0?{}:T,b=k.name;typeof S=="function"&&(u=S({state:u,options:I,name:b,instance:h})||u)}}}},update:gb(function(){return new Promise(function(w){h.forceUpdate(),w(u)})}),destroy:function(){v(),f=!0}};if(!hv(a,l))return h;h.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function m(){u.orderedModifiers.forEach(function(w){var g=w.name,_=w.options,y=_===void 0?{}:_,C=w.effect;if(typeof C=="function"){var k=C({state:u,name:g,instance:h,options:y}),S=function(){};d.push(k||S)}})}function v(){d.forEach(function(w){return w()}),d=[]}return h}}const yb=_b({defaultModifiers:[tb,ob,BR,zR,ib,ZR,cb,LR]}),wb=["enabled","placement","strategy","modifiers"];function Eb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Cb={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Sb={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},kb=[];function Tb(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=kb}=n,a=Eb(n,wb);const l=p.useRef(o),c=p.useRef(),u=p.useCallback(()=>{var w;(w=c.current)==null||w.update()},[]),d=p.useCallback(()=>{var w;(w=c.current)==null||w.forceUpdate()},[]),[f,h]=vR(p.useState({placement:i,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),m=p.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:w})=>{const g={},_={};Object.keys(w.elements).forEach(y=>{g[y]=w.styles[y],_[y]=w.attributes[y]}),h({state:w,styles:g,attributes:_,update:u,forceUpdate:d,placement:w.placement})}}),[u,d,h]),v=p.useMemo(()=>(uo(l.current,o)||(l.current=o),l.current),[o]);return p.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...v,m,Cb]})},[s,i,m,r,v]),p.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=yb(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...v,Sb,m]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,h(w=>Object.assign({},w,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}const pv=()=>{};function Nb(t){return t.button===0}function Ib(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Ku=t=>t&&("current"in t?t.current:t),mv={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Rb(t,e=pv,{disabled:n,clickTrigger:r="click"}={}){const i=p.useRef(!1),s=p.useRef(!1),o=p.useCallback(c=>{const u=Ku(t);i.current=!u||Ib(c)||!Nb(c)||!!Wl(u,c.target)||s.current,s.current=!1},[t]),a=be(c=>{const u=Ku(t);u&&Wl(u,c.target)&&(s.current=!0)}),l=be(c=>{i.current||e(c)});p.useEffect(()=>{if(n||t==null)return;const c=$c(Ku(t));let u=(c.defaultView||window).event,d=null;mv[r]&&(d=sr(c,mv[r],a,!0));const f=sr(c,r,o,!0),h=sr(c,r,v=>{if(v===u){u=void 0;return}l(v)});let m=[];return"ontouchstart"in c.documentElement&&(m=[].slice.call(c.body.children).map(v=>sr(v,"mousemove",pv))),()=>{d==null||d(),f(),h(),m.forEach(v=>v())}},[t,n,r,o,a,l])}function bb(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function xb(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Ob({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var c,u,d,f,h;const m=bb(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:xb(Object.assign({},m,{eventListeners:{enabled:e,options:(c=m.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},m.preventOverflow,{options:o?Object.assign({padding:o},(u=m.preventOverflow)==null?void 0:u.options):(d=m.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=m.offset)==null?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!a,options:Object.assign({},(h=m.arrow)==null?void 0:h.options,{element:a})}),flip:Object.assign({enabled:!!r},m.flip)}))})}const Pb=["children"];function Ab(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Db=()=>{};function bw(t={}){const e=p.useContext(Hc),[n,r]=gR(),i=p.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:c,popperConfig:u={},enableEventListeners:d=!0,usePopper:f=!!e}=t,h=(e==null?void 0:e.show)==null?!!t.show:e.show;h&&!i.current&&(i.current=!0);const m=S=>{e==null||e.toggle(!1,S)},{placement:v,setMenu:w,menuElement:g,toggleElement:_}=e||{},y=Tb(_,g,Ob({placement:c||v||"bottom-start",enabled:f,enableEvents:d??h,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:u})),C=Object.assign({ref:w||Db,"aria-labelledby":_==null?void 0:_.id},y.attributes.popper,{style:y.styles.popper}),k={show:h,placement:v,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?y:null,arrowProps:f?Object.assign({ref:r},y.attributes.arrow,{style:y.styles.arrow}):{}};return Rb(g,m,{clickTrigger:a,disabled:!h}),[C,k]}const Mb={usePopper:!0};function fp(t){let{children:e}=t,n=Ab(t,Pb);const[r,i]=bw(n);return E(mt,{children:e(r,i)})}fp.displayName="DropdownMenu";fp.defaultProps=Mb;const xw={prefix:String(Math.round(Math.random()*1e10)),current:0},Lb=N.createContext(xw);let Ub=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function Fb(t){let e=p.useContext(Lb);return e===xw&&!Ub&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),p.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}const Ow=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},gv=()=>{};function Pw(){const t=Fb(),{show:e=!1,toggle:n=gv,setToggle:r,menuElement:i}=p.useContext(Hc)||{},s=p.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||gv,onClick:s,"aria-expanded":!!e};return i&&Ow(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function Aw({children:t}){const[e,n]=Pw();return E(mt,{children:t(e,n)})}Aw.displayName="DropdownToggle";const Dw=p.createContext(null);Dw.displayName="NavContext";const hp=Dw,$b=["as","disabled"];function Bb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jb(t){return!t||t.trim()==="#"}function pp({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const u=f=>{if((e||t==="a"&&jb(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),u(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:u,onKeyDown:d},c]}const mp=p.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Bb(t,$b);const[s,{tagName:o}]=pp(Object.assign({tagName:n,disabled:r},i));return E(o,Object.assign({},i,s,{ref:e}))});mp.displayName="Button";const zb=["eventKey","disabled","onClick","active","as"];function Wb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mw({key:t,href:e,active:n,disabled:r,onClick:i}){const s=p.useContext(ti),o=p.useContext(hp),{activeKey:a}=o||{},l=$o(t,e),c=n==null&&t!=null?$o(a)===l:n;return[{onClick:be(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":c,[ys("dropdown-item")]:""},{isActive:c}]}const Lw=p.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=mp}=t,a=Wb(t,zb);const[l]=Mw({key:n,href:a.href,disabled:r,onClick:i,active:s});return E(o,Object.assign({},a,{ref:e},l))});Lw.displayName="DropdownItem";function vv(){const t=yw(),e=p.useRef(null),n=p.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function da({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${ys("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=Jh(),[c,u]=tw(e,t,r),[d,f]=vv(),h=d.current,[m,v]=vv(),w=m.current,g=fw(c),_=p.useRef(null),y=p.useRef(!1),C=p.useContext(ti),k=p.useCallback((A,$,z=$==null?void 0:$.type)=>{u(A,{originalEvent:$,source:z})},[u]),S=be((A,$)=>{n==null||n(A,$),k(!1,$,"select"),$.isPropagationStopped()||C==null||C(A,$)}),T=p.useMemo(()=>({toggle:k,placement:o,show:c,menuElement:h,toggleElement:w,setMenu:f,setToggle:v}),[k,o,c,h,w,f,v]);h&&g&&!c&&(y.current=h.contains(h.ownerDocument.activeElement));const I=be(()=>{w&&w.focus&&w.focus()}),b=be(()=>{const A=_.current;let $=s;if($==null&&($=d.current&&Ow(d.current)?"keyboard":!1),$===!1||$==="keyboard"&&!/^key.+$/.test(A))return;const z=wn(d.current,i)[0];z&&z.focus&&z.focus()});p.useEffect(()=>{c?b():y.current&&(y.current=!1,I())},[c,y,I,b]),p.useEffect(()=>{_.current=null});const R=(A,$)=>{if(!d.current)return null;const z=wn(d.current,i);let se=z.indexOf(A)+$;return se=Math.max(0,Math.min(se,z.length)),z[se]};return pR(p.useCallback(()=>l.document,[l]),"keydown",A=>{var $,z;const{key:se}=A,ne=A.target,W=($=d.current)==null?void 0:$.contains(ne),H=(z=m.current)==null?void 0:z.contains(ne);if(/input|textarea/i.test(ne.tagName)&&(se===" "||se!=="Escape"&&W||se==="Escape"&&ne.type==="search")||!W&&!H||se==="Tab"&&(!d.current||!c))return;_.current=A.type;const L={originalEvent:A,source:A.type};switch(se){case"ArrowUp":{const D=R(ne,-1);D&&D.focus&&D.focus(),A.preventDefault();return}case"ArrowDown":if(A.preventDefault(),!c)u(!0,L);else{const D=R(ne,1);D&&D.focus&&D.focus()}return;case"Tab":ow(ne.ownerDocument,"keyup",D=>{var Q;(D.key==="Tab"&&!D.target||!((Q=d.current)!=null&&Q.contains(D.target)))&&u(!1,L)},{once:!0});break;case"Escape":se==="Escape"&&(A.preventDefault(),A.stopPropagation()),u(!1,L);break}}),E(ti.Provider,{value:S,children:E(Hc.Provider,{value:T,children:a})})}da.displayName="Dropdown";da.Menu=fp;da.Toggle=Aw;da.Item=Lw;const Uw=p.createContext({});Uw.displayName="DropdownContext";const Fw=Uw,Hb=["onKeyDown"];function Vb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gb(t){return!t||t.trim()==="#"}const $w=p.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Vb(t,Hb);const[i]=pp(Object.assign({tagName:"a"},r)),s=be(o=>{i.onKeyDown(o),n==null||n(o)});return Gb(r.href)||r.role==="button"?E("a",Object.assign({ref:e},r,i,{onKeyDown:s})):E("a",Object.assign({ref:e},r,{onKeyDown:n}))});$w.displayName="Anchor";const Vl=$w,Bw=p.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Vl,...a},l)=>{const c=ae(t,"dropdown-item"),[u,d]=Mw({key:n,href:a.href,disabled:r,onClick:i,active:s});return E(o,{...a,...u,ref:l,className:J(e,c,d.isActive&&"active",r&&"disabled")})});Bw.displayName="DropdownItem";const Kb=Bw,jw=p.createContext(null);jw.displayName="InputGroupContext";const zw=jw;function Ww(t,e){return t}const qb={flip:!0};function Hw(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",c=n?"left-start":"right-start",u=n?"left-end":"right-end";let d=t?o:s;return e==="up"?d=t?i:r:e==="end"?d=t?u:c:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const gp=p.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:c,...u},d)=>{let f=!1;const h=p.useContext(Ir),m=ae(t,"dropdown-menu"),{align:v,drop:w,isRTL:g}=p.useContext(Fw);n=n||v;const _=p.useContext(zw),y=[];if(n)if(typeof n=="object"){const A=Object.keys(n);if(A.length){const $=A[0],z=n[$];f=z==="start",y.push(`${m}-${$}-${z}`)}}else n==="end"&&(f=!0);const C=Hw(f,w,g),[k,{hasShown:S,popper:T,show:I,toggle:b}]=bw({flip:i,rootCloseEvent:r,show:s,usePopper:!h&&y.length===0,offset:[0,2],popperConfig:l,placement:C});if(k.ref=_s(Ww(d),k.ref),zl(()=>{I&&(T==null||T.update())},[I]),!S&&!o&&!_)return null;typeof a!="string"&&(k.show=I,k.close=()=>b==null?void 0:b(!1),k.align=n);let R=u.style;return T!=null&&T.placement&&(R={...u.style,...k.style},u["x-placement"]=T.placement),E(a,{...u,...k,style:R,...(y.length||h)&&{"data-bs-popper":"static"},className:J(e,m,I&&"show",f&&`${m}-end`,c&&`${m}-${c}`,...y)})});gp.displayName="DropdownMenu";gp.defaultProps=qb;const Yb=gp,Qb={variant:"primary",active:!1,disabled:!1},Fe=p.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=ae(e,"btn"),[c,{tagName:u}]=pp({tagName:t,...o});return E(u,{...c,...o,ref:a,className:J(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});Fe.displayName="Button";Fe.defaultProps=Qb;const Vw=p.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Fe,...s},o)=>{const a=ae(t,"dropdown-toggle"),l=p.useContext(Hc);r!==void 0&&(s.bsPrefix=r);const[c]=Pw();return c.ref=_s(c.ref,Ww(o)),E(i,{className:J(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...c,...s})});Vw.displayName="DropdownToggle";const Xb=Vw,Jb=st("dropdown-header",{defaultProps:{role:"heading"}}),Zb=st("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),ex=st("dropdown-item-text",{Component:"span"}),tx={navbar:!1,align:"start",autoClose:!0,drop:"down"},vp=p.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:c,as:u="div",navbar:d,autoClose:f,...h}=Fc(t,{show:"onToggle"}),m=p.useContext(zw),v=ae(n,"dropdown"),w=Z0(),g=T=>f===!1?T==="click":f==="inside"?T!=="rootClose":f==="outside"?T!=="select":!0,_=be((T,I)=>{I.originalEvent.currentTarget===document&&(I.source!=="keydown"||I.originalEvent.key==="Escape")&&(I.source="rootClose"),g(I.source)&&(l==null||l(T,I))}),C=Hw(o==="end",r,w),k=p.useMemo(()=>({align:o,drop:r,isRTL:w}),[o,r,w]),S={down:v,"down-centered":`${v}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E(Fw.Provider,{value:k,children:E(da,{placement:C,show:i,onSelect:a,onToggle:_,focusFirstItemOnShow:c,itemSelector:`.${v}-item:not(.disabled):not(:disabled)`,children:m?h.children:E(u,{...h,ref:e,className:J(s,i&&"show",S[r])})})})});vp.displayName="Dropdown";vp.defaultProps=tx;const Fr=Object.assign(vp,{Toggle:Xb,Menu:Yb,Item:Kb,ItemText:ex,Divider:Zb,Header:Jb}),nx=p.createContext(null),Gw=nx,rx=["as","active","eventKey"];function ix(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kw({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=p.useContext(ti),a=p.useContext(hp),l=p.useContext(Gw);let c=n;const u={role:i};if(a){!i&&a.role==="tablist"&&(u.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);u[ys("event-key")]=t,u.id=d||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=f)}return u.role==="tab"&&(u["aria-selected"]=c,c||(u.tabIndex=-1),s&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=be(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[u,{isActive:c}]}const qw=p.forwardRef((t,e)=>{let{as:n=mp,active:r,eventKey:i}=t,s=ix(t,rx);const[o,a]=Kw(Object.assign({key:$o(i,s.href),active:r},s));return o[ys("active")]=a.isActive,E(n,Object.assign({},s,o,{ref:e}))});qw.displayName="NavItem";const sx=qw,ox={disabled:!1},Gc=p.forwardRef(({bsPrefix:t,className:e,as:n=Vl,active:r,eventKey:i,...s},o)=>{t=ae(t,"nav-link");const[a,l]=Kw({key:$o(i,s.href),active:r,...s});return E(n,{...s,...a,ref:o,className:J(e,t,s.disabled&&"disabled",l.isActive&&"active")})});Gc.displayName="NavLink";Gc.defaultProps=ox;const Yw=p.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:c,menuVariant:u,...d},f)=>{const h=ae(void 0,"nav-item");return U(Fr,{ref:f,...d,className:J(i,h),children:[E(Fr.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:Gc,children:e}),E(Fr.Menu,{role:o,renderOnMount:c,rootCloseEvent:s,variant:u,children:n})]})});Yw.displayName="NavDropdown";const zs=Object.assign(Yw,{Item:Fr.Item,ItemText:Fr.ItemText,Divider:Fr.Divider,Header:Fr.Header});var Ef={},ax={get exports(){return Ef},set exports(t){Ef=t}},Gl={},lx={get exports(){return Gl},set exports(t){Gl=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,c,u,d){var f=c||"<<anonymous>>",h=d||l;if(a[l]==null)return o?new Error("Required "+u+" `"+h+"` was not specified "+("in `"+f+"`.")):null;for(var m=arguments.length,v=Array(m>6?m-6:0),w=6;w<m;w++)v[w-6]=arguments[w];return r.apply(void 0,[a,l,f,u,h].concat(v))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(lx,Gl);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=Gl,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function c(){for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];var h=null;return a.forEach(function(m){if(h==null){var v=m.apply(void 0,d);v!=null&&(h=v)}}),h}return(0,r.default)(c)}t.exports=e.default})(ax,Ef);const cx=["as","onSelect","activeKey","role","onKeyDown"];function ux(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const _v=()=>{},yv=ys("event-key"),Qw=p.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=ux(t,cx);const l=yw(),c=p.useRef(!1),u=p.useContext(ti),d=p.useContext(Gw);let f,h;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,h=d.getControllerId);const m=p.useRef(null),v=y=>{const C=m.current;if(!C)return null;const k=wn(C,`[${yv}]:not([aria-disabled=true])`),S=C.querySelector("[aria-selected=true]");if(!S||S!==document.activeElement)return null;const T=k.indexOf(S);if(T===-1)return null;let I=T+y;return I>=k.length&&(I=0),I<0&&(I=k.length-1),k[I]},w=(y,C)=>{y!=null&&(r==null||r(y,C),u==null||u(y,C))},g=y=>{if(o==null||o(y),!d)return;let C;switch(y.key){case"ArrowLeft":case"ArrowUp":C=v(-1);break;case"ArrowRight":case"ArrowDown":C=v(1);break;default:return}C&&(y.preventDefault(),w(C.dataset[RI("EventKey")]||null,y),c.current=!0,l())};p.useEffect(()=>{if(m.current&&c.current){const y=m.current.querySelector(`[${yv}][aria-selected=true]`);y==null||y.focus()}c.current=!1});const _=_s(e,m);return E(ti.Provider,{value:w,children:E(hp.Provider,{value:{role:s,activeKey:$o(i),getControlledId:f||_v,getControllerId:h||_v},children:E(n,Object.assign({},a,{onKeyDown:g,ref:_,role:s}))})})});Qw.displayName="Nav";const dx=Object.assign(Qw,{Item:sx}),_p=p.createContext(null);_p.displayName="CardHeaderContext";const fx=st("nav-item"),hx={justify:!1,fill:!1},yp=p.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:c,activeKey:u,...d}=Fc(t,{activeKey:"onSelect"}),f=ae(r,"nav");let h,m,v=!1;const w=p.useContext(Ir),g=p.useContext(_p);return w?(h=w.bsPrefix,v=a??!0):g&&({cardHeaderBsPrefix:m}=g),E(dx,{as:n,ref:e,activeKey:u,className:J(c,{[f]:!v,[`${h}-nav`]:v,[`${h}-nav-scroll`]:v&&l,[`${m}-${i}`]:!!m,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});yp.displayName="Nav";yp.defaultProps=hx;const px=Object.assign(yp,{Item:fx,Link:Gc});var Xw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wv=N.createContext&&N.createContext(Xw),pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pr.apply(this,arguments)},mx=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Jw(t){return t&&t.map(function(e,n){return N.createElement(e.tag,pr({key:n},e.attr),Jw(e.child))})}function tn(t){return function(e){return N.createElement(gx,pr({attr:pr({},t.attr)},e),Jw(t.child))}}function gx(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=mx(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),N.createElement("svg",pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:pr(pr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&N.createElement("title",null,s),t.children)};return wv!==void 0?N.createElement(wv.Consumer,null,function(n){return e(n)}):e(Xw)}function vx(t){return tn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"}}]})(t)}function _x(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"}}]})(t)}function Zw(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"}}]})(t)}function wp(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(t)}function e1(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(t)}function yx(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw ws(e)},ws=function(t){return new Error("Firebase Database ("+t1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},r1=function(t){const e=n1(t);return Ep.encodeByteArray(e,!0)},Kl=function(t){return r1(t).replace(/\./g,"")},ql=function(t){try{return Ep.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){return i1(void 0,t)}function i1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Cx(n)||(t[n]=i1(t[n],e[n]));return t}function Cx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=()=>Sx().__FIREBASE_DEFAULTS__,Tx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ql(t[1]);return e&&JSON.parse(e)},Kc=()=>{try{return kx()||Tx()||Nx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s1=t=>{var e,n;return(n=(e=Kc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o1=t=>{const e=s1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ix=()=>{var t;return(t=Kc())===null||t===void 0?void 0:t.config},a1=t=>{var e;return(e=Kc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Kl(JSON.stringify(n)),Kl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Rx(){var t;const e=(t=Kc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xx(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u1(){return t1.NODE_ADMIN===!0}function Ox(){try{return typeof indexedDB=="object"}catch{return!1}}function Px(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="FirebaseError";class Wn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ax,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fa.prototype.create)}}class fa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Dx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wn(i,a,r)}}function Dx(t,e){return t.replace(Mx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t){return JSON.parse(t)}function ze(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Wo(ql(s[0])||""),n=Wo(ql(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Lx=function(t){const e=d1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ux=function(t){const e=d1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ls(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Cf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ql(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ev(s)&&Ev(o)){if(!Ql(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ev(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function $x(t,e){const n=new Bx(t,e);return n.subscribe.bind(n)}class Bx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qu),i.error===void 0&&(i.error=qu),i.complete===void 0&&(i.complete=qu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qu(){}function Sp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vx(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hx(t){return t===Ar?void 0:t}function Vx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Kx={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},qx=he.INFO,Yx={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Qx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Yx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=qx,this._logHandler=Qx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const Xx=(t,e)=>e.some(n=>t instanceof n);let Cv,Sv;function Jx(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zx(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,Sf=new WeakMap,h1=new WeakMap,Yu=new WeakMap,Tp=new WeakMap;function eO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&f1.set(n,t)}).catch(()=>{}),Tp.set(e,t),e}function tO(t){if(Sf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nO(t){kf=t(kf)}function rO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qu(this),e,...n);return h1.set(r,e.sort?e.sort():[e]),mr(r)}:Zx().includes(t)?function(...e){return t.apply(Qu(this),e),mr(f1.get(this))}:function(...e){return mr(t.apply(Qu(this),e))}}function iO(t){return typeof t=="function"?rO(t):(t instanceof IDBTransaction&&tO(t),Xx(t,Jx())?new Proxy(t,kf):t)}function mr(t){if(t instanceof IDBRequest)return eO(t);if(Yu.has(t))return Yu.get(t);const e=iO(t);return e!==t&&(Yu.set(t,e),Tp.set(e,t)),e}const Qu=t=>Tp.get(t);function sO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mr(o.result),l.oldVersion,l.newVersion,mr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const oO=["get","getKey","getAll","getAllKeys","count"],aO=["put","add","delete","clear"],Xu=new Map;function kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xu.get(e))return Xu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=aO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Xu.set(e,s),s}nO(t=>({...t,get:(e,n,r)=>kv(e,n)||t.get(e,n,r),has:(e,n)=>!!kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",Tv="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new kp("@firebase/app"),uO="@firebase/app-compat",dO="@firebase/analytics-compat",fO="@firebase/analytics",hO="@firebase/app-check-compat",pO="@firebase/app-check",mO="@firebase/auth",gO="@firebase/auth-compat",vO="@firebase/database",_O="@firebase/database-compat",yO="@firebase/functions",wO="@firebase/functions-compat",EO="@firebase/installations",CO="@firebase/installations-compat",SO="@firebase/messaging",kO="@firebase/messaging-compat",TO="@firebase/performance",NO="@firebase/performance-compat",IO="@firebase/remote-config",RO="@firebase/remote-config-compat",bO="@firebase/storage",xO="@firebase/storage-compat",OO="@firebase/firestore",PO="@firebase/firestore-compat",AO="firebase",DO="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",MO={[Tf]:"fire-core",[uO]:"fire-core-compat",[fO]:"fire-analytics",[dO]:"fire-analytics-compat",[pO]:"fire-app-check",[hO]:"fire-app-check-compat",[mO]:"fire-auth",[gO]:"fire-auth-compat",[vO]:"fire-rtdb",[_O]:"fire-rtdb-compat",[yO]:"fire-fn",[wO]:"fire-fn-compat",[EO]:"fire-iid",[CO]:"fire-iid-compat",[SO]:"fire-fcm",[kO]:"fire-fcm-compat",[TO]:"fire-perf",[NO]:"fire-perf-compat",[IO]:"fire-rc",[RO]:"fire-rc-compat",[bO]:"fire-gcs",[xO]:"fire-gcs-compat",[OO]:"fire-fst",[PO]:"fire-fst-compat","fire-js":"fire-js",[AO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new Map,If=new Map;function LO(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ii(t){const e=t.name;if(If.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,t);for(const n of Xl.values())LO(n,t);return!0}function Qc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gr=new fa("app","Firebase",UO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=DO;function p1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=Ix()),!n)throw gr.create("no-options");const s=Xl.get(i);if(s){if(Ql(n,s.options)&&Ql(r,s.config))return s;throw gr.create("duplicate-app",{appName:i})}const o=new Gx(i);for(const l of If.values())o.addComponent(l);const a=new FO(n,r,o);return Xl.set(i,a),a}function Np(t=Nf){const e=Xl.get(t);if(!e&&t===Nf)return p1();if(!e)throw gr.create("no-app",{appName:t});return e}function dn(t,e,n){var r;let i=(r=MO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(a.join(" "));return}ii(new Er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="firebase-heartbeat-database",BO=1,Ho="firebase-heartbeat-store";let Ju=null;function m1(){return Ju||(Ju=sO($O,BO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ho)}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),Ju}async function jO(t){try{return(await m1()).transaction(Ho).objectStore(Ho).get(g1(t))}catch(e){if(e instanceof Wn)ri.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(n.message)}}}async function Nv(t,e){try{const r=(await m1()).transaction(Ho,"readwrite");return await r.objectStore(Ho).put(e,g1(t)),r.done}catch(n){if(n instanceof Wn)ri.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ri.warn(r.message)}}}function g1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1024,WO=30*24*60*60*1e3;class HO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Iv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=WO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iv(),{heartbeatsToSend:n,unsentEntries:r}=VO(this._heartbeatsCache.heartbeats),i=Kl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Iv(){return new Date().toISOString().substring(0,10)}function VO(t,e=zO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ox()?Px().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rv(t){return Kl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){ii(new Er("platform-logger",e=>new lO(e),"PRIVATE")),ii(new Er("heartbeat",e=>new HO(e),"PRIVATE")),dn(Tf,Tv,t),dn(Tf,Tv,"esm2017"),dn("fire-js","")}KO("");const bv="@firebase/database",xv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v1="";function qO(t){v1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YO(e)}}catch{}return new QO},$r=_1("localStorage"),Rf=_1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new kp("@firebase/database"),XO=function(){let t=1;return function(){return t++}}(),y1=function(t){const e=zx(t),n=new Fx;n.update(e);const r=n.digest();return Ep.encodeByteArray(r)},ha=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ha.apply(null,r):typeof r=="object"?e+=ze(r):e+=r,e+=" "}return e};let Kr=null,Ov=!0;const JO=function(t,e){P(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vi.logLevel=he.VERBOSE,Kr=Vi.log.bind(Vi),e&&Rf.set("logging_enabled",!0)):typeof t=="function"?Kr=t:(Kr=null,Rf.remove("logging_enabled"))},Ge=function(...t){if(Ov===!0&&(Ov=!1,Kr===null&&Rf.get("logging_enabled")===!0&&JO(!0)),Kr){const e=ha.apply(null,t);Kr(e)}},pa=function(t){return function(...e){Ge(t,...e)}},bf=function(...t){const e="FIREBASE INTERNAL ERROR: "+ha(...t);Vi.error(e)},Un=function(...t){const e=`FIREBASE FATAL ERROR: ${ha(...t)}`;throw Vi.error(e),new Error(e)},kt=function(...t){const e="FIREBASE WARNING: "+ha(...t);Vi.warn(e)},ZO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ip=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},eP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},cs="[MIN_NAME]",si="[MAX_NAME]",hi=function(t,e){if(t===e)return 0;if(t===cs||e===si)return-1;if(e===cs||t===si)return 1;{const n=Pv(t),r=Pv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},tP=function(t,e){return t===e?0:t<e?-1:1},Ws=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ze(e))},Rp=function(t){if(typeof t!="object"||t===null)return ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ze(e[r]),n+=":",n+=Rp(t[e[r]]);return n+="}",n},w1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const E1=function(t){P(!Ip(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},nP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const sP=new RegExp("^-?(0*)\\d{1,10}$"),oP=-2147483648,aP=2147483647,Pv=function(t){if(sP.test(t)){const e=Number(t);if(e>=oP&&e<=aP)return e}return null},Ss=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},lP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},po=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ge("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(e)}}class Gi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="5",C1="v",S1="s",k1="r",T1="f",N1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I1="ls",R1="p",xf="ac",b1="websocket",x1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function dP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function P1(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(e===b1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===x1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dP(t)&&(n.ns=t.namespace);const i=[];return Qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Ex(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu={},ed={};function xp(t){const e=t.toString();return Zu[e]||(Zu[e]=new fP),Zu[e]}function hP(t,e){const n=t.toString();return ed[n]||(ed[n]=e()),ed[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ss(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="start",mP="close",gP="pLPCommand",vP="pRTLPCB",A1="id",D1="pw",M1="ser",_P="cb",yP="seg",wP="ts",EP="d",CP="dframe",L1=1870,U1=30,SP=L1-U1,kP=25e3,TP=3e4;class Fi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pa(e),this.stats_=xp(n),this.urlFn=l=>(this.appCheckToken&&(l[xf]=this.appCheckToken),P1(n,x1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TP)),eP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Op((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Av)this.id=a,this.password=l;else if(o===mP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Av]="t",r[M1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_P]=this.scriptTagHolder.uniqueCallbackIdentifier),r[C1]=bp,this.transportSessionId&&(r[S1]=this.transportSessionId),this.lastSessionId&&(r[I1]=this.lastSessionId),this.applicationId&&(r[R1]=this.applicationId),this.appCheckToken&&(r[xf]=this.appCheckToken),typeof location<"u"&&location.hostname&&N1.test(location.hostname)&&(r[k1]=T1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fi.forceAllow_=!0}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){return Fi.forceAllow_?!0:!Fi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nP()&&!rP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=r1(n),i=w1(r,SP);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[CP]="t",r[A1]=e,r[D1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Op{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=XO(),window[gP+this.uniqueCallbackIdentifier]=e,window[vP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Op.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ge("frame writing exception"),a.stack&&Ge(a.stack),Ge(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ge("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[A1]=this.myID,e[D1]=this.myPW,e[M1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+U1+r.length<=L1;){const o=this.pendingSegs.shift();r=r+"&"+yP+i+"="+o.seg+"&"+wP+i+"="+o.ts+"&"+EP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(kP)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ge("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=16384,IP=45e3;let Jl=null;typeof MozWebSocket<"u"?Jl=MozWebSocket:typeof WebSocket<"u"&&(Jl=WebSocket);class Yt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pa(this.connId),this.stats_=xp(n),this.connURL=Yt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[C1]=bp,typeof location<"u"&&location.hostname&&N1.test(location.hostname)&&(o[k1]=T1),n&&(o[S1]=n),r&&(o[I1]=r),i&&(o[xf]=i),s&&(o[R1]=s),P1(e,b1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$r.set("previous_websocket_failure",!0);try{let r;u1(),this.mySock=new Jl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Jl!==null&&!Yt.forceDisallow_}static previouslyFailed(){return $r.isInMemoryStorage||$r.get("previous_websocket_failure")===!0}markConnectionHealthy(){$r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w1(n,NP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(IP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fi,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Yt&&Yt.isAvailable();let r=n&&!Yt.previouslyFailed();if(e.webSocketOnly&&(n||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const i=this.transports_=[];for(const s of Vo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Vo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=6e4,bP=5e3,xP=10*1024,OP=100*1024,td="t",Dv="d",PP="s",Mv="r",AP="e",Lv="o",Uv="a",Fv="n",$v="p",DP="h";class MP{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pa("c:"+this.id+":"),this.transportManager_=new Vo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=po(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>OP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(td in e){const n=e[td];n===Uv?this.upgradeIfSecondaryHealthy_():n===Mv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Lv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ws("t",e),r=Ws("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$v,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Uv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ws("t",e),r=Ws("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ws(td,e);if(Dv in e){const r=e[Dv];if(n===DP){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Fv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===PP?this.onConnectionShutdown_(r):n===Mv?this.onReset_(r):n===AP?bf("Server Error: "+r):n===Lv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bp!==r&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),po(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):po(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$v,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends $1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Zl}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=32,jv=768;class fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ce(){return new fe("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cr(t){return t.pieces_.length-t.pieceNum_}function ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new fe(t.pieces_,e)}function Pp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function LP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Go(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function B1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new fe(e,0)}function xe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof fe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new fe(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function vt(t,e){const n=re(t),r=re(e);if(n===null)return e;if(n===r)return vt(ve(t),ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UP(t,e){const n=Go(t,0),r=Go(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=hi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Ap(t,e){if(Cr(t)!==Cr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Lt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cr(t)>Cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class FP{constructor(e,n){this.errorPrefix_=n,this.parts_=Go(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yc(this.parts_[r]);j1(this)}}function $P(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Yc(e),j1(t)}function BP(t){const e=t.parts_.pop();t.byteLength_-=Yc(e),t.parts_.length>0&&(t.byteLength_-=1)}function j1(t){if(t.byteLength_>jv)throw new Error(t.errorPrefix_+"has a key path longer than "+jv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Bv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bv+") or object contains a cycle "+Dr(t))}function Dr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends $1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Dp}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=1e3,jP=60*5*1e3,zv=30*1e3,zP=1.3,WP=3e4,HP="server_kill",Wv=3;class xn extends F1{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xn.nextPersistentConnectionId_++,this.log_=pa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hs,this.maxReconnectDelay_=jP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!u1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ze(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new qc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;xn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&mn(e,"w")){const r=ls(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ux(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Lx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ze(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bf("Unrecognized action received from server: "+ze(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WP&&(this.reconnectDelay_=Hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){P(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ge("getToken() completed but was canceled"):(Ge("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new MP(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{kt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(HP)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&kt(d),l())}}}interrupt(e){Ge("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ge("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cf(this.interruptReasons_)&&(this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Rp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new fe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ge("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wv&&(this.reconnectDelay_=zv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ge("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+v1.replace(/\./g,"-")]=1,Cp()?e["framework.cordova"]=1:c1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zl.getInstance().currentlyOnline();return Cf(this.interruptReasons_)&&e}}xn.nextPersistentConnectionId_=0;xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new te(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new te(cs,e),i=new te(cs,n);return this.compare(r,i)!==0}minPost(){return te.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;class z1 extends Xc{static get __EMPTY_NODE(){return Ka}static set __EMPTY_NODE(e){Ka=e}compare(e,n){return hi(e.name,n.name)}isDefinedOn(e){throw ws("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return te.MIN}maxPost(){return new te(si,Ka)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new te(e,Ka)}toString(){return".key"}}const Ki=new z1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class je{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??je.RED,this.left=i??_t.EMPTY_NODE,this.right=s??_t.EMPTY_NODE}copy(e,n,r,i,s){return new je(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return _t.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return _t.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}je.RED=!0;je.BLACK=!1;class VP{copy(e,n,r,i,s){return this}insert(e,n,r){return new je(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _t{constructor(e,n=_t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new _t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,je.BLACK,null,null))}remove(e){return new _t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,je.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qa(this.root_,null,this.comparator_,!0,e)}}_t.EMPTY_NODE=new VP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){return hi(t.name,e.name)}function Mp(t,e){return hi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of;function KP(t){Of=t}const W1=function(t){return typeof t=="number"?"number:"+E1(t):"string:"+t},H1=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else P(t===Of||t.isEmpty(),"priority of unexpected type.");P(t===Of||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv;class $e{constructor(e,n=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),H1(this.priorityNode_)}static set __childrenNodeConstructor(e){Hv=e}static get __childrenNodeConstructor(){return Hv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $e(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ie(e)?this:re(e)===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=re(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||Cr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+W1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=E1(this.value_):e+=this.value_,this.lazyHash_=y1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $e.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$e.VALUE_TYPE_ORDER.indexOf(n),s=$e.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V1,G1;function qP(t){V1=t}function YP(t){G1=t}class QP extends Xc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(si,new $e("[PRIORITY-POST]",G1))}makePost(e,n){const r=V1(e);return new te(n,new $e("[PRIORITY-POST]",r))}toString(){return".priority"}}const Oe=new QP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=Math.log(2);class JP{constructor(e){const n=s=>parseInt(Math.log(s)/XP,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ec=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new je(f,d.node,je.BLACK,null,null);{const h=parseInt(u/2,10)+l,m=i(l,h),v=i(h+1,c);return d=t[h],f=n?n(d):d,new je(f,d.node,je.BLACK,m,v)}},s=function(l){let c=null,u=null,d=t.length;const f=function(m,v){const w=d-m,g=d;d-=m;const _=i(w+1,g),y=t[w],C=n?n(y):y;h(new je(C,y.node,v,null,_))},h=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),w=Math.pow(2,l.count-(m+1));v?f(w,je.BLACK):(f(w,je.BLACK),f(w,je.RED))}return u},o=new JP(t.length),a=s(o);return new _t(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd;const Ci={};class Tn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(Ci&&Oe,"ChildrenNode.ts has not been loaded"),nd=nd||new Tn({".priority":Ci},{".priority":Oe}),nd}get(e){const n=ls(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof _t?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){P(e!==Ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(te.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ec(r,e.getCompare()):a=Ci;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Tn(u,c)}addToIndexes(e,n){const r=Yl(this.indexes_,(i,s)=>{const o=ls(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Ci)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(te.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ec(a,o.getCompare())}else return Ci;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new te(e.name,a))),l.insert(e,e.node)}});return new Tn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Yl(this.indexes_,i=>{if(i===Ci)return i;{const s=n.get(e.name);return s?i.remove(new te(e.name,s)):i}});return new Tn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&H1(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vs||(Vs=new V(new _t(Mp),null,Tn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vs}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vs:n}}getChild(e){const n=re(e);return n===null?this:this.getImmediateChild(n).getChild(ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new te(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Vs:this.priorityNode_;return new V(i,o,s)}}updateChild(e,n){const r=re(e);if(r===null)return n;{P(re(e)!==".priority"||Cr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ve(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Oe,(o,a)=>{n[o]=a.val(e),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+W1(this.getPriority().val())+":"),this.forEachChild(Oe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":y1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new te(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new te(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new te(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,te.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,te.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ma?-1:0}withIndex(e){if(e===Ki||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ki||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Oe),i=n.getIterator(Oe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ki?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ZP extends V{constructor(){super(new _t(Mp),V.EMPTY_NODE,Tn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const ma=new ZP;Object.defineProperties(te,{MIN:{value:new te(cs,V.EMPTY_NODE)},MAX:{value:new te(si,ma)}});z1.__EMPTY_NODE=V.EMPTY_NODE;$e.__childrenNodeConstructor=V;KP(ma);YP(ma);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=!0;function Ke(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $e(n,Ke(e))}if(!(t instanceof Array)&&e2){const n=[];let r=!1;if(Qe(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ke(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new te(o,l)))}}),n.length===0)return V.EMPTY_NODE;const s=ec(n,GP,o=>o.name,Mp);if(r){const o=ec(n,Oe.getCompare());return new V(s,Ke(e),new Tn({".priority":o},{".priority":Oe}))}else return new V(s,Ke(e),Tn.Default)}else{let n=V.EMPTY_NODE;return Qe(t,(r,i)=>{if(mn(t,r)&&r.substring(0,1)!=="."){const s=Ke(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ke(e))}}qP(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends Xc{constructor(e){super(),this.indexPath_=e,P(!ie(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hi(e.name,n.name):s}makePost(e,n){const r=Ke(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new te(n,i)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,ma);return new te(si,e)}toString(){return Go(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2 extends Xc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?hi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(e,n){const r=Ke(e);return new te(n,r)}toString(){return".value"}}const r2=new n2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){return{type:"value",snapshotNode:t}}function us(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ko(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function i2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ko(n,a)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(us(n,r)):o.trackChildChange(qo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Oe,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ko(i,s))}),n.isLeafNode()||n.forEachChild(Oe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(qo(i,s,o))}else r.trackChildChange(us(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.indexedFilter_=new Lp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Yo.getStartPost_(e),this.endPost_=Yo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new te(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const s=this;return n.forEachChild(Oe,(o,a)=>{s.matches(new te(o,a))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Yo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new te(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;P(a.numChildren()===this.limit_,"");const l=new te(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(qo(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ko(n,d));const v=a.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(us(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Ko(c.name,c.node)),s.trackChildChange(us(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cs}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:si}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){const e=new Up;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function o2(t){return t.loadsAllData()?new Lp(t.getIndex()):t.hasLimit()?new s2(t):new Yo(t)}function Vv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Oe?n="$priority":t.index_===r2?n="$value":t.index_===Ki?n="$key":(P(t.index_ instanceof t2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ze(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ze(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Gv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends F1{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=tc.getListenId_(e,r),a={};this.listens_[o]=a;const l=Vv(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ls(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=tc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Vv(e._queryParams),r=e._path.toString(),i=new qc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Es(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Wo(a.responseText)}catch{kt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&kt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(){return{value:null,children:new Map}}function q1(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=re(e);t.children.has(r)||t.children.set(r,nc());const i=t.children.get(r);e=ve(e),q1(i,e,n)}}function Pf(t,e,n){t.value!==null?n(e,t.value):l2(t,(r,i)=>{const s=new fe(e.toString()+"/"+r);Pf(i,s,n)})}function l2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=10*1e3,u2=30*1e3,d2=5*60*1e3;class f2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new c2(e);const r=Kv+(u2-Kv)*Math.random();po(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qe(e,(i,s)=>{s>0&&mn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),po(this.reportStats_.bind(this),Math.floor(Math.random()*2*d2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function Fp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $p(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Qt.ACK_USER_WRITE,this.source=Fp()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new fe(e));return new rc(ce(),n,this.revert)}}else return P(re(this.path)===e,"operationForChild called for unrelated child."),new rc(ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.source=e,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return ie(this.path)?new Qo(this.source,ce()):new Qo(this.source,ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Qt.OVERWRITE}operationForChild(e){return ie(this.path)?new oi(this.source,ce(),this.snap.getImmediateChild(e)):new oi(this.source,ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Qt.MERGE}operationForChild(e){if(ie(this.path)){const n=this.children.subtree(new fe(e));return n.isEmpty()?null:n.value?new oi(this.source,ce(),n.value):new ds(this.source,ce(),n)}else return P(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ds(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function p2(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(i2(o.childName,o.snapshotNode))}),Gs(t,i,"child_removed",e,r,n),Gs(t,i,"child_added",e,r,n),Gs(t,i,"child_moved",s,r,n),Gs(t,i,"child_changed",e,r,n),Gs(t,i,"value",e,r,n),i}function Gs(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>g2(t,a,l)),o.forEach(a=>{const l=m2(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function m2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function g2(t,e,n){if(e.childName==null||n.childName==null)throw ws("Should only compare child_ events.");const r=new te(e.childName,e.snapshotNode),i=new te(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e){return{eventCache:t,serverCache:e}}function mo(t,e,n,r){return Jc(new ai(e,n,r),t.serverCache)}function Y1(t,e,n,r){return Jc(t.eventCache,new ai(e,n,r))}function Af(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function li(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;const v2=()=>(rd||(rd=new _t(tP)),rd);class ge{constructor(e,n=v2()){this.value=e,this.children=n}static fromObject(e){let n=new ge(null);return Qe(e,(r,i)=>{n=n.set(new fe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ce(),value:this.value};if(ie(e))return null;{const r=re(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ve(e),n);return s!=null?{path:xe(new fe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const n=re(e),r=this.children.get(n);return r!==null?r.subtree(ve(e)):new ge(null)}}set(e,n){if(ie(e))return new ge(n,this.children);{const r=re(e),s=(this.children.get(r)||new ge(null)).set(ve(e),n),o=this.children.insert(r,s);return new ge(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new ge(null):new ge(null,this.children);{const n=re(e),r=this.children.get(n);if(r){const i=r.remove(ve(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ge(null):new ge(this.value,s)}else return this}}get(e){if(ie(e))return this.value;{const n=re(e),r=this.children.get(n);return r?r.get(ve(e)):null}}setTree(e,n){if(ie(e))return n;{const r=re(e),s=(this.children.get(r)||new ge(null)).setTree(ve(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ge(this.value,o)}}fold(e){return this.fold_(ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(xe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ce(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ie(e))return null;{const s=re(e),o=this.children.get(s);return o?o.findOnPath_(ve(e),xe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ce(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);const i=re(e),s=this.children.get(i);return s?s.foreachOnPath_(ve(e),xe(n,i),r):new ge(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(xe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.writeTree_=e}static empty(){return new Zt(new ge(null))}}function go(t,e,n){if(ie(e))return new Zt(new ge(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=vt(i,e);return s=s.updateChild(o,n),new Zt(t.writeTree_.set(i,s))}else{const i=new ge(n),s=t.writeTree_.setTree(e,i);return new Zt(s)}}}function Df(t,e,n){let r=t;return Qe(n,(i,s)=>{r=go(r,xe(e,i),s)}),r}function qv(t,e){if(ie(e))return Zt.empty();{const n=t.writeTree_.setTree(e,new ge(null));return new Zt(n)}}function Mf(t,e){return pi(t,e)!=null}function pi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(vt(n.path,e)):null}function Yv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Oe,(r,i)=>{e.push(new te(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new te(r,i.value))}),e}function vr(t,e){if(ie(e))return t;{const n=pi(t,e);return n!=null?new Zt(new ge(n)):new Zt(t.writeTree_.subtree(e))}}function Lf(t){return t.writeTree_.isEmpty()}function fs(t,e){return Q1(ce(),t.writeTree_,e)}function Q1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Q1(xe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){return eE(e,t)}function _2(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=go(t.visibleWrites,e,n)),t.lastWriteId=r}function y2(t,e,n,r){P(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Df(t.visibleWrites,e,n),t.lastWriteId=r}function w2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function E2(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&C2(a,r.path)?i=!1:Lt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return S2(t),!0;if(r.snap)t.visibleWrites=qv(t.visibleWrites,r.path);else{const a=r.children;Qe(a,l=>{t.visibleWrites=qv(t.visibleWrites,xe(r.path,l))})}return!0}else return!1}function C2(t,e){if(t.snap)return Lt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Lt(xe(t.path,n),e))return!0;return!1}function S2(t){t.visibleWrites=X1(t.allWrites,k2,ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function k2(t){return t.visible}function X1(t,e,n){let r=Zt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Lt(n,o)?(a=vt(n,o),r=go(r,a,s.snap)):Lt(o,n)&&(a=vt(o,n),r=go(r,ce(),s.snap.getChild(a)));else if(s.children){if(Lt(n,o))a=vt(n,o),r=Df(r,a,s.children);else if(Lt(o,n))if(a=vt(o,n),ie(a))r=Df(r,ce(),s.children);else{const l=ls(s.children,re(a));if(l){const c=l.getChild(ve(a));r=go(r,ce(),c)}}}else throw ws("WriteRecord should have .snap or .children")}}return r}function J1(t,e,n,r,i){if(!r&&!i){const s=pi(t.visibleWrites,e);if(s!=null)return s;{const o=vr(t.visibleWrites,e);if(Lf(o))return n;if(n==null&&!Mf(o,ce()))return null;{const a=n||V.EMPTY_NODE;return fs(o,a)}}}else{const s=vr(t.visibleWrites,e);if(!i&&Lf(s))return n;if(!i&&n==null&&!Mf(s,ce()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Lt(c.path,e)||Lt(e,c.path))},a=X1(t.allWrites,o,e),l=n||V.EMPTY_NODE;return fs(a,l)}}}function T2(t,e,n){let r=V.EMPTY_NODE;const i=pi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Oe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=vr(t.visibleWrites,e);return n.forEachChild(Oe,(o,a)=>{const l=fs(vr(s,new fe(o)),a);r=r.updateImmediateChild(o,l)}),Yv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=vr(t.visibleWrites,e);return Yv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function N2(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=xe(e,n);if(Mf(t.visibleWrites,s))return null;{const o=vr(t.visibleWrites,s);return Lf(o)?i.getChild(n):fs(o,i.getChild(n))}}function I2(t,e,n,r){const i=xe(e,n),s=pi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=vr(t.visibleWrites,i);return fs(o,r.getNode().getImmediateChild(n))}else return null}function R2(t,e){return pi(t.visibleWrites,e)}function b2(t,e,n,r,i,s,o){let a;const l=vr(t.visibleWrites,e),c=pi(l,ce());if(c!=null)a=c;else if(n!=null)a=fs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function x2(){return{visibleWrites:Zt.empty(),allWrites:[],lastWriteId:-1}}function ic(t,e,n,r){return J1(t.writeTree,t.treePath,e,n,r)}function zp(t,e){return T2(t.writeTree,t.treePath,e)}function Qv(t,e,n,r){return N2(t.writeTree,t.treePath,e,n,r)}function sc(t,e){return R2(t.writeTree,xe(t.treePath,e))}function O2(t,e,n,r,i,s){return b2(t.writeTree,t.treePath,e,n,r,i,s)}function Wp(t,e,n){return I2(t.writeTree,t.treePath,e,n)}function Z1(t,e){return eE(xe(t.treePath,e),t.writeTree)}function eE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,qo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ko(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,us(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,qo(r,e.snapshotNode,i.oldSnap));else throw ws("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const tE=new A2;class Hp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:li(this.viewCache_),s=O2(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){return{filter:t}}function M2(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function L2(t,e,n,r,i){const s=new P2;let o,a;if(n.type===Qt.OVERWRITE){const c=n;c.source.fromUser?o=Uf(t,e,c.path,c.snap,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ie(c.path),o=oc(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Qt.MERGE){const c=n;c.source.fromUser?o=F2(t,e,c.path,c.children,r,i,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ff(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Qt.ACK_USER_WRITE){const c=n;c.revert?o=j2(t,e,c.path,r,i,s):o=$2(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Qt.LISTEN_COMPLETE)o=B2(t,e,n.path,r,s);else throw ws("Unknown operation type: "+n.type);const l=s.getChanges();return U2(e,o,l),{viewCache:o,changes:l}}function U2(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Af(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(K1(Af(e)))}}function nE(t,e,n,r,i,s){const o=e.eventCache;if(sc(r,n)!=null)return e;{let a,l;if(ie(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=li(e),u=c instanceof V?c:V.EMPTY_NODE,d=zp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=ic(r,li(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=re(n);if(c===".priority"){P(Cr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Qv(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ve(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Qv(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Wp(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return mo(e,a,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function oc(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ie(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=re(n);if(!l.isCompleteForPath(n)&&Cr(n)>1)return e;const m=ve(n),w=l.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),h,w,m,tE,null)}const d=Y1(e,c,l.isFullyInitialized()||ie(n),u.filtersNodes()),f=new Hp(i,d,s);return nE(t,d,n,i,f,a)}function Uf(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Hp(i,e,s);if(ie(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=mo(e,c,!0,t.filter.filtersNodes());else{const d=re(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=mo(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ve(n),h=a.getNode().getImmediateChild(d);let m;if(ie(f))m=r;else{const v=u.getCompleteChild(d);v!=null?Pp(f)===".priority"&&v.getChild(B1(f)).isEmpty()?m=v:m=v.updateChild(f,r):m=V.EMPTY_NODE}if(h.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=mo(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Xv(t,e){return t.eventCache.isCompleteForChild(e)}function F2(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=xe(n,l);Xv(e,re(u))&&(a=Uf(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=xe(n,l);Xv(e,re(u))||(a=Uf(t,a,u,c,i,s,o))}),a}function Jv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ff(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ie(n)?c=r:c=new ge(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),m=Jv(t,h,f);l=oc(t,l,new fe(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const m=e.serverCache.getNode().getImmediateChild(d),v=Jv(t,m,f);l=oc(t,l,new fe(d),v,i,s,o,a)}}),l}function $2(t,e,n,r,i,s,o){if(sc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ie(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return oc(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ie(n)){let c=new ge(null);return l.getNode().forEachChild(Ki,(u,d)=>{c=c.set(new fe(u),d)}),Ff(t,e,n,c,i,s,a,o)}else return e}else{let c=new ge(null);return r.foreach((u,d)=>{const f=xe(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Ff(t,e,n,c,i,s,a,o)}}function B2(t,e,n,r,i){const s=e.serverCache,o=Y1(e,s.getNode(),s.isFullyInitialized()||ie(n),s.isFiltered());return nE(t,o,n,r,tE,i)}function j2(t,e,n,r,i,s){let o;if(sc(r,n)!=null)return e;{const a=new Hp(r,e,i),l=e.eventCache.getNode();let c;if(ie(n)||re(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ic(r,li(e));else{const d=e.serverCache.getNode();P(d instanceof V,"serverChildren would be complete if leaf node"),u=zp(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=re(n);let d=Wp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ve(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,V.EMPTY_NODE,ve(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ic(r,li(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||sc(r,ce())!=null,mo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Lp(r.getIndex()),s=o2(r);this.processor_=D2(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(V.EMPTY_NODE,a.getNode(),null),u=new ai(l,o.isFullyInitialized(),i.filtersNodes()),d=new ai(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Jc(d,u),this.eventGenerator_=new h2(this.query_)}get query(){return this.query_}}function W2(t){return t.viewCache_.serverCache.getNode()}function H2(t,e){const n=li(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function Zv(t){return t.eventRegistrations_.length===0}function V2(t,e){t.eventRegistrations_.push(e)}function e_(t,e,n){const r=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function t_(t,e,n,r){e.type===Qt.MERGE&&e.source.queryId!==null&&(P(li(t.viewCache_),"We should always have a full cache before handling merges"),P(Af(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=L2(t.processor_,i,e,n,r);return M2(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,rE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function G2(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Oe,(s,o)=>{r.push(us(s,o))}),n.isFullyInitialized()&&r.push(K1(n.getNode())),rE(t,r,n.getNode(),e)}function rE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return p2(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;class K2{constructor(){this.views=new Map}}function q2(t){P(!ac,"__referenceConstructor has already been defined"),ac=t}function Y2(){return P(ac,"Reference.ts has not been loaded"),ac}function Q2(t){return t.views.size===0}function Vp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return P(s!=null,"SyncTree gave us an op for an invalid query."),t_(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(t_(o,e,n,r));return s}}function X2(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ic(n,i?r:null),l=!1;a?l=!0:r instanceof V?(a=zp(n,r),l=!1):(a=V.EMPTY_NODE,l=!1);const c=Jc(new ai(a,l,!1),new ai(r,i,!1));return new z2(e,c)}return o}function J2(t,e,n,r,i,s){const o=X2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),V2(o,n),G2(o,n)}function Z2(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Sr(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(e_(c,n,r)),Zv(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(e_(l,n,r)),Zv(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Sr(t)&&s.push(new(Y2())(e._repo,e._path)),{removed:s,events:o}}function iE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qi(t,e){let n=null;for(const r of t.views.values())n=n||H2(r,e);return n}function sE(t,e){if(e._queryParams.loadsAllData())return Zc(t);{const r=e._queryIdentifier;return t.views.get(r)}}function oE(t,e){return sE(t,e)!=null}function Sr(t){return Zc(t)!=null}function Zc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc;function eA(t){P(!lc,"__referenceConstructor has already been defined"),lc=t}function tA(){return P(lc,"Reference.ts has not been loaded"),lc}let nA=1;class n_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ge(null),this.pendingWriteTree_=x2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rA(t,e,n,r,i){return _2(t.pendingWriteTree_,e,n,r,i),i?ks(t,new oi(Fp(),e,n)):[]}function iA(t,e,n,r){y2(t.pendingWriteTree_,e,n,r);const i=ge.fromObject(n);return ks(t,new ds(Fp(),e,i))}function Br(t,e,n=!1){const r=w2(t.pendingWriteTree_,e);if(E2(t.pendingWriteTree_,e)){let s=new ge(null);return r.snap!=null?s=s.set(ce(),!0):Qe(r.children,o=>{s=s.set(new fe(o),!0)}),ks(t,new rc(r.path,s,n))}else return[]}function eu(t,e,n){return ks(t,new oi($p(),e,n))}function sA(t,e,n){const r=ge.fromObject(n);return ks(t,new ds($p(),e,r))}function oA(t,e){return ks(t,new Qo($p(),e))}function aA(t,e,n){const r=Gp(t,n);if(r){const i=Kp(r),s=i.path,o=i.queryId,a=vt(s,e),l=new Qo(Bp(o),a);return qp(t,s,l)}else return[]}function $f(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||oE(o,e))){const l=Z2(o,e,n,r);Q2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>Sr(h));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=uA(f);for(let m=0;m<h.length;++m){const v=h[m],w=v.query,g=uE(t,v);t.listenProvider_.startListening(vo(w),cc(t,w),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(vo(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(tu(f));t.listenProvider_.stopListening(vo(f),h)}))}dA(t,c)}return a}function lA(t,e,n,r){const i=Gp(t,r);if(i!=null){const s=Kp(i),o=s.path,a=s.queryId,l=vt(o,e),c=new oi(Bp(a),l,n);return qp(t,o,c)}else return[]}function cA(t,e,n,r){const i=Gp(t,r);if(i){const s=Kp(i),o=s.path,a=s.queryId,l=vt(o,e),c=ge.fromObject(n),u=new ds(Bp(a),l,c);return qp(t,o,u)}else return[]}function r_(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const m=vt(f,i);s=s||qi(h,m),o=o||Sr(h)});let a=t.syncPointTree_.get(i);a?(o=o||Sr(a),s=s||qi(a,ce())):(a=new K2,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,m)=>{const v=qi(m,ce());v&&(s=s.updateImmediateChild(h,v))}));const c=oE(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=tu(e);P(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=fA();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=jp(t.pendingWriteTree_,i);let d=J2(a,e,n,u,s,l);if(!c&&!o&&!r){const f=sE(a,e);d=d.concat(hA(t,e,f))}return d}function aE(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=vt(o,e),c=qi(a,l);if(c)return c});return J1(i,e,s,n,!0)}function ks(t,e){return lE(e,t.syncPointTree_,null,jp(t.pendingWriteTree_,ce()))}function lE(t,e,n,r){if(ie(t.path))return cE(t,e,n,r);{const i=e.get(ce());n==null&&i!=null&&(n=qi(i,ce()));let s=[];const o=re(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Z1(r,o);s=s.concat(lE(a,l,c,u))}return i&&(s=s.concat(Vp(i,t,r,n))),s}}function cE(t,e,n,r){const i=e.get(ce());n==null&&i!=null&&(n=qi(i,ce()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Z1(r,o),u=t.operationForChild(o);u&&(s=s.concat(cE(u,a,l,c)))}),i&&(s=s.concat(Vp(i,t,r,n))),s}function uE(t,e){const n=e.query,r=cc(t,n);return{hashFn:()=>(W2(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?aA(t,n._path,r):oA(t,n._path);{const s=iP(i,n);return $f(t,n,null,s)}}}}function cc(t,e){const n=tu(e);return t.queryToTagMap.get(n)}function tu(t){return t._path.toString()+"$"+t._queryIdentifier}function Gp(t,e){return t.tagToQueryMap.get(e)}function Kp(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new fe(t.substr(0,e))}}function qp(t,e,n){const r=t.syncPointTree_.get(e);P(r,"Missing sync point for query tag that we're tracking");const i=jp(t.pendingWriteTree_,e);return Vp(r,n,i,null)}function uA(t){return t.fold((e,n,r)=>{if(n&&Sr(n))return[Zc(n)];{let i=[];return n&&(i=iE(n)),Qe(r,(s,o)=>{i=i.concat(o)}),i}})}function vo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(tA())(t._repo,t._path):t}function dA(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=tu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function fA(){return nA++}function hA(t,e,n){const r=e._path,i=cc(t,e),s=uE(t,n),o=t.listenProvider_.startListening(vo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)P(!Sr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ie(c)&&u&&Sr(u))return[Zc(u).query];{let f=[];return u&&(f=f.concat(iE(u).map(h=>h.query))),Qe(d,(h,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(vo(u),cc(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Yp(n)}node(){return this.node_}}class Qp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xe(this.path_,e);return new Qp(this.syncTree_,n)}node(){return aE(this.syncTree_,this.path_)}}const pA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},i_=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return mA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return gA(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},mA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},gA=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},dE=function(t,e,n,r){return Xp(e,new Qp(n,t),r)},vA=function(t,e,n){return Xp(t,new Yp(e),n)};function Xp(t,e,n){const r=t.getPriority().val(),i=i_(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=i_(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $e(a,Ke(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $e(i))),o.forEachChild(Oe,(a,l)=>{const c=Xp(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Zp(t,e){let n=e instanceof fe?e:new fe(e),r=t,i=re(n);for(;i!==null;){const s=ls(r.node.children,i)||{children:{},childCount:0};r=new Jp(i,r,s),n=ve(n),i=re(n)}return r}function Ts(t){return t.node.value}function fE(t,e){t.node.value=e,Bf(t)}function hE(t){return t.node.childCount>0}function _A(t){return Ts(t)===void 0&&!hE(t)}function nu(t,e){Qe(t.node.children,(n,r)=>{e(new Jp(n,t,r))})}function pE(t,e,n,r){n&&!r&&e(t),nu(t,i=>{pE(i,e,!0,r)}),n&&r&&e(t)}function yA(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ga(t){return new fe(t.parent===null?t.name:ga(t.parent)+"/"+t.name)}function Bf(t){t.parent!==null&&wA(t.parent,t.name,t)}function wA(t,e,n){const r=_A(n),i=mn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Bf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Bf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=/[\[\].#$\/\u0000-\u001F\u007F]/,CA=/[\[\].#$\u0000-\u001F\u007F]/,id=10*1024*1024,em=function(t){return typeof t=="string"&&t.length!==0&&!EA.test(t)},mE=function(t){return typeof t=="string"&&t.length!==0&&!CA.test(t)},SA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mE(t)},kA=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ip(t)||t&&typeof t=="object"&&mn(t,".sv")},tm=function(t,e,n){const r=n instanceof fe?new FP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Dr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Dr(r)+" with contents = "+e.toString());if(Ip(e))throw new Error(t+"contains "+e.toString()+" "+Dr(r));if(typeof e=="string"&&e.length>id/3&&Yc(e)>id)throw new Error(t+"contains a string greater than "+id+" utf8 bytes "+Dr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Qe(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!em(o)))throw new Error(t+" contains an invalid key ("+o+") "+Dr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$P(r,o),tm(t,a,r),BP(r)}),i&&s)throw new Error(t+' contains ".value" child '+Dr(r)+" in addition to actual children.")}},TA=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Go(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!em(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(UP);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Lt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},NA=function(t,e,n,r){if(r&&e===void 0)return;const i=Sp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Qe(e,(o,a)=>{const l=new fe(o);if(tm(i,a,xe(n,l)),Pp(l)===".priority"&&!kA(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),TA(i,s)},gE=function(t,e,n,r){if(!(r&&n===void 0)&&!mE(n))throw new Error(Sp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IA=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gE(t,e,n,r)},RA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!em(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SA(n))throw new Error(Sp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Ap(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function vE(t,e,n){nm(t,n),_E(t,r=>Ap(r,e))}function Fn(t,e,n){nm(t,n),_E(t,r=>Lt(r,e)||Lt(e,r))}function _E(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(xA(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function xA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Kr&&Ge("event: "+n.toString()),Ss(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="repo_interrupt",PA=25;class AA{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nc(),this.transactionQueueTree_=new Jp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DA(t,e,n){if(t.stats_=xp(t.repoInfo_),t.forceRestClient_||lP())t.server_=new tc(t.repoInfo_,(r,i,s,o)=>{s_(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>o_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xn(t.repoInfo_,e,(r,i,s,o)=>{s_(t,r,i,s,o)},r=>{o_(t,r)},r=>{LA(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=hP(t.repoInfo_,()=>new f2(t.stats_,t.server_)),t.infoData_=new a2,t.infoSyncTree_=new n_({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=eu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),im(t,"connected",!1),t.serverSyncTree_=new n_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Fn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function MA(t){const n=t.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rm(t){return pA({timestamp:MA(t)})}function s_(t,e,n,r,i){t.dataUpdateCount++;const s=new fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Yl(n,c=>Ke(c));o=cA(t.serverSyncTree_,s,l,i)}else{const l=Ke(n);o=lA(t.serverSyncTree_,s,l,i)}else if(r){const l=Yl(n,c=>Ke(c));o=sA(t.serverSyncTree_,s,l)}else{const l=Ke(n);o=eu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Xo(t,s)),Fn(t.eventQueue_,a,o)}function o_(t,e){im(t,"connected",e),e===!1&&FA(t)}function LA(t,e){Qe(e,(n,r)=>{im(t,n,r)})}function im(t,e,n){const r=new fe("/.info/"+e),i=Ke(n);t.infoData_.updateSnapshot(r,i);const s=eu(t.infoSyncTree_,r,i);Fn(t.eventQueue_,r,s)}function yE(t){return t.nextWriteId_++}function UA(t,e,n,r){sm(t,"update",{path:e.toString(),value:n});let i=!0;const s=rm(t),o={};if(Qe(n,(a,l)=>{i=!1,o[a]=dE(xe(e,a),Ke(l),t.serverSyncTree_,s)}),i)Ge("update() called with empty data.  Don't do anything."),l_(t,r,"ok",void 0);else{const a=yE(t),l=iA(t.serverSyncTree_,e,o,a);nm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||kt("update at "+e+" failed: "+c);const f=Br(t.serverSyncTree_,a,!d),h=f.length>0?Xo(t,e):e;Fn(t.eventQueue_,h,f),l_(t,r,c,u)}),Qe(n,c=>{const u=kE(t,xe(e,c));Xo(t,u)}),Fn(t.eventQueue_,e,[])}}function FA(t){sm(t,"onDisconnectEvents");const e=rm(t),n=nc();Pf(t.onDisconnect_,ce(),(i,s)=>{const o=dE(i,s,t.serverSyncTree_,e);q1(n,i,o)});let r=[];Pf(n,ce(),(i,s)=>{r=r.concat(eu(t.serverSyncTree_,i,s));const o=kE(t,i);Xo(t,o)}),t.onDisconnect_=nc(),Fn(t.eventQueue_,ce(),r)}function $A(t,e,n){let r;re(e._path)===".info"?r=r_(t.infoSyncTree_,e,n):r=r_(t.serverSyncTree_,e,n),vE(t.eventQueue_,e._path,r)}function a_(t,e,n){let r;re(e._path)===".info"?r=$f(t.infoSyncTree_,e,n):r=$f(t.serverSyncTree_,e,n),vE(t.eventQueue_,e._path,r)}function BA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(OA)}function sm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ge(n,...e)}function l_(t,e,n,r){e&&Ss(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function wE(t,e,n){return aE(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function om(t,e=t.transactionQueueTree_){if(e||ru(t,e),Ts(e)){const n=CE(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&jA(t,ga(e),n)}else hE(e)&&nu(e,n=>{om(t,n)})}function jA(t,e,n){const r=n.map(c=>c.currentWriteId),i=wE(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];P(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=vt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{sm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Br(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ru(t,Zp(t.transactionQueueTree_,e)),om(t,t.transactionQueueTree_),Fn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ss(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{kt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Xo(t,e)}},o)}function Xo(t,e){const n=EE(t,e),r=ga(n),i=CE(t,n);return zA(t,i,r),r}function zA(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=vt(n,l.path);let u=!1,d;if(P(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Br(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=PA)u=!0,d="maxretry",i=i.concat(Br(t.serverSyncTree_,l.currentWriteId,!0));else{const f=wE(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){tm("transaction failed: Data returned ",h,l.path);let m=Ke(h);typeof h=="object"&&h!=null&&mn(h,".priority")||(m=m.updatePriority(f.getPriority()));const w=l.currentWriteId,g=rm(t),_=vA(m,f,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=_,l.currentWriteId=yE(t),o.splice(o.indexOf(w),1),i=i.concat(rA(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(Br(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Br(t.serverSyncTree_,l.currentWriteId,!0))}Fn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ru(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ss(r[a]);om(t,t.transactionQueueTree_)}function EE(t,e){let n,r=t.transactionQueueTree_;for(n=re(e);n!==null&&Ts(r)===void 0;)r=Zp(r,n),e=ve(e),n=re(e);return r}function CE(t,e){const n=[];return SE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function SE(t,e,n){const r=Ts(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nu(e,i=>{SE(t,i,n)})}function ru(t,e){const n=Ts(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,fE(e,n.length>0?n:void 0)}nu(e,r=>{ru(t,r)})}function kE(t,e){const n=ga(EE(t,e)),r=Zp(t.transactionQueueTree_,e);return yA(r,i=>{sd(t,i)}),sd(t,r),pE(r,i=>{sd(t,i)}),n}function sd(t,e){const n=Ts(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Br(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?fE(e,void 0):n.length=s+1,Fn(t.eventQueue_,ga(e),i);for(let o=0;o<r.length;o++)Ss(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function HA(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const c_=function(t,e){const n=VA(t),r=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ZO();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new O1(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new fe(n.pathString)}},VA=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=WA(t.substring(u,d)));const f=HA(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}}class NE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ie(this._path)?null:Pp(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const e=Gv(this._queryParams),n=Rp(e);return n==="{}"?"default":n}get _queryObject(){return Gv(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof am))return!1;const n=this._repo===e._repo,r=Ap(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+LP(this._path)}}class Hn extends am{constructor(e,n){super(e,n,new Up,!1)}get parent(){const e=B1(this._path);return e===null?null:new Hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Jo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new fe(e),r=uc(this.ref,e);return new Jo(this._node.getChild(n),r,Oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Jo(i,uc(this.ref,r),Oe)))}hasChild(e){const n=new fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function IE(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?uc(t._root,e):t._root}function uc(t,e){return t=ft(t),re(t._path)===null?IA("child","path",e,!1):gE("child","path",e,!1),new Hn(t._repo,xe(t._path,e))}function KA(t,e){NA("update",e,t._path,!1);const n=new qc;return UA(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class lm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new TE("value",this,new Jo(e.snapshotNode,new Hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NE(this,e,n):null}matches(e){return e instanceof lm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class cm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NE(this,e,n):null}createEvent(e,n){P(e.childName!=null,"Child events should have a childName.");const r=uc(new Hn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new TE(e.type,this,new Jo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof cm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function qA(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{a_(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new GA(n,s||void 0),a=e==="value"?new lm(o):new cm(e,o);return $A(t._repo,t,a),()=>a_(t._repo,t,a)}function YA(t,e,n,r){return qA(t,"value",e,n,r)}q2(Hn);eA(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FIREBASE_DATABASE_EMULATOR_HOST",jf={};let XA=!1;function JA(t,e,n,r){t.repoInfo_=new O1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function ZA(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ge("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=c_(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[QA]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=c_(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Gi(Gi.OWNER):new uP(t.name,t.options,e);RA("Invalid Firebase Database URL",o),ie(o.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const d=tD(a,t,u,new cP(t.name,n));return new nD(d,t)}function eD(t,e){const n=jf[e];(!n||n[t.key]!==t)&&Un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),BA(t),delete n[t.key]}function tD(t,e,n,r){let i=jf[e.name];i||(i={},jf[e.name]=i);let s=i[t.toURLString()];return s&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new AA(t,XA,n,r),i[t.toURLString()]=s,s}class nD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Un("Cannot call "+e+" on a deleted database.")}}function rD(t=Np(),e){const n=Qc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=o1("database");r&&iD(n,...r)}return n}function iD(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Gi(Gi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:l1(r.mockUserToken,t.app.options.projectId);s=new Gi(o)}JA(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){qO(Cs),ii(new Er("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return ZA(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dn(bv,xv,t),dn(bv,xv,"esm2017")}xn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="firebasestorage.googleapis.com",bE="storageBucket",oD=2*60*1e3,aD=10*60*1e3,lD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie extends Wn{constructor(e,n,r=0){super(od(e),`Firebase Storage: ${n} (${od(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ie.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return od(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ee;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ee||(Ee={}));function od(t){return"storage/"+t}function um(){const t="An unknown error occurred, please check the error payload for server response.";return new Ie(Ee.UNKNOWN,t)}function cD(t){return new Ie(Ee.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uD(t){return new Ie(Ee.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ie(Ee.UNAUTHENTICATED,t)}function fD(){return new Ie(Ee.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hD(t){return new Ie(Ee.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xE(){return new Ie(Ee.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OE(){return new Ie(Ee.CANCELED,"User canceled the upload/download.")}function pD(t){return new Ie(Ee.INVALID_URL,"Invalid URL '"+t+"'.")}function mD(t){return new Ie(Ee.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gD(){return new Ie(Ee.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bE+"' property when initializing the app?")}function PE(){return new Ie(Ee.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vD(){return new Ie(Ee.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function _D(){return new Ie(Ee.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yD(t){return new Ie(Ee.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zf(t){return new Ie(Ee.INVALID_ARGUMENT,t)}function AE(){return new Ie(Ee.APP_DELETED,"The Firebase app was deleted.")}function wD(t){return new Ie(Ee.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _o(t,e){return new Ie(Ee.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ks(t){throw new Ie(Ee.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=It.makeFromUrl(e,n)}catch{return new It(e,"")}if(r.path==="")return r;throw mD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},v=n===RE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${v}/${i}/${w}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:h,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<y.length;C++){const k=y[C],S=k.regex.exec(e);if(S){const T=S[k.indices.bucket];let I=S[k.indices.path];I||(I=""),r=new It(T,I),k.postModify(r);break}}if(r==null)throw pD(e);return r}}class ED{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(h,l())},w)}function f(){s&&clearTimeout(s)}function h(w,...g){if(c){f();return}if(w){f(),u.call(null,w,...g);return}if(l()||o){f(),u.call(null,w,...g);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let m=!1;function v(w){m||(m=!0,f(),!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function SD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return t!==void 0}function TD(t){return typeof t=="function"}function ND(t){return typeof t=="object"&&!Array.isArray(t)}function iu(t){return typeof t=="string"||t instanceof String}function u_(t){return dm()&&t instanceof Blob}function dm(){return typeof Blob<"u"&&!Rx()}function d_(t,e,n,r){if(r<e)throw zf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function DE(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qr||(qr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ya(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qr.NO_ERROR,l=s.getStatus();if(!a||ME(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===qr.ABORT;r(!1,new Ya(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ya(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kD(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=um();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?AE():OE();o(l)}else{const l=xE();o(l)}};this.canceled_?n(!1,new Ya(!1,null,!0)):this.backoffId_=CD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ya{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PD(t,e,n,r,i,s,o=!0){const a=DE(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return xD(c,e),RD(c,n),bD(c,s),OD(c,r),new ID(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DD(...t){const e=AD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(dm())return new Blob(t);throw new Ie(Ee.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function MD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){if(typeof atob>"u")throw yD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ad{constructor(e,n){this.data=e,this.contentType=n||null}}function UD(t,e){switch(t){case on.RAW:return new ad(LE(e));case on.BASE64:case on.BASE64URL:return new ad(UE(t,e));case on.DATA_URL:return new ad($D(e),BD(e))}throw um()}function LE(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function FD(t){let e;try{e=decodeURIComponent(t)}catch{throw _o(on.DATA_URL,"Malformed data URL.")}return LE(e)}function UE(t,e){switch(t){case on.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _o(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case on.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _o(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=LD(e)}catch(i){throw i.message.includes("polyfill")?i:_o(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _o(on.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $D(t){const e=new FE(t);return e.base64?UE(on.BASE64,e.rest):FD(e.rest)}function BD(t){return new FE(t).contentType}function jD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){let r=0,i="";u_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(u_(this.data_)){const r=this.data_,i=MD(r,e,n);return i===null?null:new Jn(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Jn(r,!0)}}static getBlob(...e){if(dm()){const n=e.map(r=>r instanceof Jn?r.data_:r);return new Jn(DD.apply(null,n))}else{const n=e.map(o=>iu(o)?UD(on.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Jn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){let e;try{e=JSON.parse(t)}catch{return null}return ND(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){return e}class at{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||HD}}let Qa=null;function VD(t){return!iu(t)||t.length<2?t:BE(t)}function jE(){if(Qa)return Qa;const t=[];t.push(new at("bucket")),t.push(new at("generation")),t.push(new at("metageneration")),t.push(new at("name","fullPath",!0));function e(s,o){return VD(o)}const n=new at("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new at("size");return i.xform=r,t.push(i),t.push(new at("timeCreated")),t.push(new at("updated")),t.push(new at("md5Hash",null,!0)),t.push(new at("cacheControl",null,!0)),t.push(new at("contentDisposition",null,!0)),t.push(new at("contentEncoding",null,!0)),t.push(new at("contentLanguage",null,!0)),t.push(new at("contentType",null,!0)),t.push(new at("metadata","customMetadata",!0)),Qa=t,Qa}function GD(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new It(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function KD(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return GD(r,t),r}function zE(t,e,n){const r=$E(e);return r===null?null:KD(t,r,n)}function qD(t,e,n,r){const i=$E(e);if(i===null||!iu(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),h=va(f,n,r),m=DE({alt:"media",token:c});return h+m})[0]}function WE(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ns{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){if(!t)throw um()}function fm(t,e){function n(r,i){const s=zE(t,i,e);return On(s!==null),s}return n}function YD(t,e){function n(r,i){const s=zE(t,i,e);return On(s!==null),qD(s,i,t.host,t._protocol)}return n}function _a(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=fD():i=dD():n.getStatus()===402?i=uD(t.bucket):n.getStatus()===403?i=hD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function HE(t){const e=_a(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=cD(t.path)),s.serverResponse=i.serverResponse,s}return n}function QD(t,e,n){const r=e.fullServerUrl(),i=va(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ns(i,s,fm(t,n),o);return a.errorHandler=HE(e),a}function XD(t,e,n){const r=e.fullServerUrl(),i=va(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ns(i,s,YD(t,n),o);return a.errorHandler=HE(e),a}function JD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VE(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=JD(null,e)),r}function ZD(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let C=0;C<2;C++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=VE(e,r,i),u=WE(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=Jn.getBlob(d,r,f);if(h===null)throw PE();const m={name:c.fullPath},v=va(s,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,_=new Ns(v,w,fm(t,n),g);return _.urlParams=m,_.headers=o,_.body=h.uploadData(),_.errorHandler=_a(e),_}class dc{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function hm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{On(!1)}return On(!!n&&(e||["active"]).indexOf(n)!==-1),n}function eM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=VE(e,r,i),a={name:o.fullPath},l=va(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=WE(o,n),f=t.maxUploadRetryTime;function h(v){hm(v);let w;try{w=v.getResponseHeader("X-Goog-Upload-URL")}catch{On(!1)}return On(iu(w)),w}const m=new Ns(l,c,h,f);return m.urlParams=a,m.headers=u,m.body=d,m.errorHandler=_a(e),m}function tM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=hm(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{On(!1)}d||On(!1);const f=Number(d);return On(!isNaN(f)),new dc(f,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ns(n,o,s,a);return l.headers=i,l.errorHandler=_a(e),l}const f_=256*1024;function nM(t,e,n,r,i,s,o,a){const l=new dc(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw vD();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,f=d+u;let h="";u===0?h="finalize":c===u?h="upload, finalize":h="upload";const m={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,f);if(v===null)throw PE();function w(C,k){const S=hm(C,["active","final"]),T=l.current+u,I=r.size();let b;return S==="final"?b=fm(e,s)(C,k):b=null,new dc(T,I,S==="final",b)}const g="POST",_=e.maxUploadRetryTime,y=new Ns(n,g,w,_);return y.headers=m,y.body=v.uploadData(),y.progressCallback=a||null,y.errorHandler=_a(t),y}const ht={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ld(t){switch(t){case"running":case"pausing":case"canceling":return ht.RUNNING;case"paused":return ht.PAUSED;case"success":return ht.SUCCESS;case"canceled":return ht.CANCELED;case"error":return ht.ERROR;default:return ht.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r){if(TD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class iM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ks("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ks("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ks("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ks("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ks("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sM extends iM{initXhr(){this.xhr_.responseType="text"}}function ki(){return new sM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=jE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ee.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(ME(i.status,[]))if(s)i=xE();else{this.sleepTime=Math.max(this.sleepTime*2,lD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ee.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=eM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=tM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ki,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=f_*this._chunkMultiplier,n=new dc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=nM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ki,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){f_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=QD(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=ZD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=OE(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ld(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new rM(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ld(this._state)){case ht.SUCCESS:Si(this._resolve.bind(null,this.snapshot))();break;case ht.CANCELED:case ht.ERROR:const n=this._reject;Si(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ld(this._state)){case ht.RUNNING:case ht.PAUSED:e.next&&Si(e.next.bind(e,this.snapshot))();break;case ht.SUCCESS:e.complete&&Si(e.complete.bind(e))();break;case ht.CANCELED:case ht.ERROR:e.error&&Si(e.error.bind(e,this._error))();break;default:e.error&&Si(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this._service=e,n instanceof It?this._location=n:this._location=It.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ci(e,n)}get root(){const e=new It(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BE(this._location.path)}get storage(){return this._service}get parent(){const e=zD(this._location.path);if(e===null)return null;const n=new It(this._location.bucket,e);return new ci(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wD(e)}}function aM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new oM(t,new Jn(e),n)}function lM(t){t._throwIfRoot("getDownloadURL");const e=XD(t.storage,t._location,jE());return t.storage.makeRequestWithTokens(e,ki).then(n=>{if(n===null)throw _D();return n})}function cM(t,e){const n=WD(t._location.path,e),r=new It(t._location.bucket,n);return new ci(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return/^[A-Za-z]+:\/\//.test(t)}function dM(t,e){return new ci(t,e)}function GE(t,e){if(t instanceof pm){const n=t;if(n._bucket==null)throw gD();const r=new ci(n,n._bucket);return e!=null?GE(r,e):r}else return e!==void 0?cM(t,e):t}function fM(t,e){if(e&&uM(e)){if(t instanceof pm)return dM(t,e);throw zf("To use ref(service, url), the first argument must be a Storage instance.")}else return GE(t,e)}function h_(t,e){const n=e==null?void 0:e[bE];return n==null?null:It.makeFromBucketSpec(n,t)}function hM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:l1(i,t.app.options.projectId))}class pm{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=RE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oD,this._maxUploadRetryTime=aD,this._requests=new Set,i!=null?this._bucket=It.makeFromBucketSpec(i,this._host):this._bucket=h_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=It.makeFromBucketSpec(this._url,e):this._bucket=h_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ci(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ED(AE());{const o=PD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const p_="@firebase/storage",m_="0.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="storage";function pM(t,e,n){return t=ft(t),aM(t,e,n)}function mM(t){return t=ft(t),lM(t)}function gM(t,e){return t=ft(t),fM(t,e)}function vM(t=Np(),e){t=ft(t);const r=Qc(t,KE).getImmediate({identifier:e}),i=o1("storage");return i&&_M(r,...i),r}function _M(t,e,n,r={}){hM(t,e,n,r)}function yM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new pm(n,r,i,e,Cs)}function wM(){ii(new Er(KE,yM,"PUBLIC").setMultipleInstances(!0)),dn(p_,m_,""),dn(p_,m_,"esm2017")}wM();function mm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qE(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EM=qE,YE=new fa("auth","Firebase",qE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new kp("@firebase/auth");function fl(t,...e){g_.logLevel<=he.ERROR&&g_.error(`Auth (${Cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw gm(t,...e)}function fn(t,...e){return gm(t,...e)}function QE(t,e,n){const r=Object.assign(Object.assign({},EM()),{[e]:n});return new fa("auth","Firebase",r).create(e,{appName:t.name})}function CM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),QE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YE.create(t,...e)}function Y(t,e,...n){if(!t)throw gm(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fl(e),new Error(e)}function $n(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function In(t){$n(t instanceof Function,"Expected a class definition");let e=v_.get(t);return e?($n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e){const n=Qc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ql(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function kM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(In);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TM(){return __()==="http:"||__()==="https:"}function __(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TM()||bx()||"connection"in navigator)?navigator.onLine:!0}function IM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,$n(n>e,"Short delay should be less than long delay!"),this.isMobile=Cp()||c1()}get(){return NM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t,e){$n(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new ya(3e4,6e4);function xM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function su(t,e,n,r,i={}){return JE(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Es(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),XE.fetch()(ZE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function JE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},RM),e);try{const i=new PM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xa(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xa(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xa(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xa(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QE(t,u,c);pn(t,u)}}catch(i){if(i instanceof Wn)throw i;pn(t,"network-request-failed")}}async function OM(t,e,n,r,i={}){const s=await su(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ZE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vm(t.config,i):`${t.config.apiScheme}://${i}`}class PM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fn(this.auth,"network-request-failed")),bM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){return su(t,"POST","/v1/accounts:delete",e)}async function DM(t,e){return su(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MM(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=_m(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yo(cd(i.auth_time)),issuedAtTime:yo(cd(i.iat)),expirationTime:yo(cd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cd(t){return Number(t)*1e3}function _m(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fl("JWT malformed, contained fewer than 3 sections"),null;try{const i=ql(n);return i?JSON.parse(i):(fl("Failed to decode base64 JWT payload"),null)}catch(i){return fl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LM(t){const e=_m(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wn&&UM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zo(t,DM(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jM(s.providerUserInfo):[],a=BM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eC(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function $M(t){const e=ft(t);await fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jM(t){return t.map(e=>{var{providerId:n}=e,r=mm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){const n=await JE(t,{},async()=>{const r=Es({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Y(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await zM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ea;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MM(this,e)}reload(){return $M(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zo(this,AM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:C,isAnonymous:k,providerData:S,stsTokenManager:T}=n;Y(y&&T,e,"internal-error");const I=ea.fromJSON(this.name,T);Y(typeof y=="string",e,"internal-error"),Gn(d,e.name),Gn(f,e.name),Y(typeof C=="boolean",e,"internal-error"),Y(typeof k=="boolean",e,"internal-error"),Gn(h,e.name),Gn(m,e.name),Gn(v,e.name),Gn(w,e.name),Gn(g,e.name),Gn(_,e.name);const b=new Yr({uid:y,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:k,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:_});return S&&Array.isArray(S)&&(b.providerData=S.map(R=>Object.assign({},R))),w&&(b._redirectEventId=w),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new ea;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tC.type="NONE";const y_=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t,e,n){return`firebase:${t}:${e}:${n}`}class Yi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hl(this.userKey,i.apiKey,s),this.fullPersistenceKey=hl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yi(In(y_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||In(y_);const o=hl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Yr._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Yi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Yi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oC(e))return"Blackberry";if(aC(e))return"Webos";if(ym(e))return"Safari";if((e.includes("chrome/")||rC(e))&&!e.includes("edge/"))return"Chrome";if(sC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nC(t=it()){return/firefox\//i.test(t)}function ym(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rC(t=it()){return/crios\//i.test(t)}function iC(t=it()){return/iemobile/i.test(t)}function sC(t=it()){return/android/i.test(t)}function oC(t=it()){return/blackberry/i.test(t)}function aC(t=it()){return/webos/i.test(t)}function ou(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WM(t=it()){var e;return ou(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HM(){return xx()&&document.documentMode===10}function lC(t=it()){return ou(t)||sC(t)||aC(t)||oC(t)||/windows phone/i.test(t)||iC(t)}function VM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e=[]){let n;switch(t){case"Browser":n=w_(it());break;case"Worker":n=`${w_(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new GM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ft(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&In(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Yi.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function au(t){return ft(t)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=$x(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qM(t,e,n){const r=au(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=uC(e),{host:o,port:a}=YM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QM()}function uC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YM(t){const e=uC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:C_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:C_(o)}}}function C_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e){return OM(t,"POST","/v1/accounts:signInWithIdp",xM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="http://localhost";class ui extends dC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=mm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ui(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:XM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Es(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends wm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends wa{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends wa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ui._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cn.credential(n,r)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com";Cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends wa{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends wa{constructor(){super("twitter.com")}static credential(e,n){return ui._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),o=S_(r);return new hs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=S_(r);return new hs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function S_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Wn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hc(e,n,r,i)}}function fC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hc._fromErrorAndOperation(t,s,e,r):s})}async function JM(t,e,n=!1){const r=await Zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Zo(t,fC(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=_m(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),hs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e,n=!1){const r="signIn",i=await fC(t,r,e),s=await hs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function tL(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function nL(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function rL(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}const pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){const t=it();return ym(t)||ou(t)}const sL=1e3,oL=10;class pC extends hC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iL()&&VM(),this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);HM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pC.type="LOCAL";const aL=pC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends hC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mC.type="SESSION";const gC=mC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await lL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Em("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function uL(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function dL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hL(){return vC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="firebaseLocalStorageDb",pL=1,mc="firebaseLocalStorage",yC="fbase_key";class Ea{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cu(t,e){return t.transaction([mc],e?"readwrite":"readonly").objectStore(mc)}function mL(){const t=indexedDB.deleteDatabase(_C);return new Ea(t).toPromise()}function Hf(){const t=indexedDB.open(_C,pL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mc,{keyPath:yC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mc)?e(r):(r.close(),await mL(),e(await Hf()))})})}async function k_(t,e,n){const r=cu(t,!0).put({[yC]:e,value:n});return new Ea(r).toPromise()}async function gL(t,e){const n=cu(t,!1).get(e),r=await new Ea(n).toPromise();return r===void 0?null:r.value}function T_(t,e){const n=cu(t,!0).delete(e);return new Ea(n).toPromise()}const vL=800,_L=3;class wC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lu._getInstance(hL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dL(),!this.activeServiceWorker)return;this.sender=new cL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hf();return await k_(e,pc,"1"),await T_(e,pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cu(i,!1).getAll();return new Ea(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wC.type="LOCAL";const yL=wC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function EL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",wL().appendChild(r)})}function CL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e){return e?In(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends dC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SL(t){return eL(t.auth,new Cm(t),t.bypassAuthState)}function kL(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),ZM(n,new Cm(t),t.bypassAuthState)}async function TL(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),JM(n,new Cm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SL;case"linkViaPopup":case"linkViaRedirect":return TL;case"reauthViaPopup":case"reauthViaRedirect":return kL;default:pn(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new ya(2e3,1e4);async function IL(t,e,n){const r=au(t);CM(t,e,wm);const i=EC(r,n);return new jr(r,"signInViaPopup",e,i).executeNotNull()}class jr extends CC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,NL.get())};e()}}jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="pendingRedirect",pl=new Map;class bL extends CC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pl.get(this.auth._key());if(!e){try{const r=await xL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pl.set(this.auth._key(),e)}return this.bypassAuthState||pl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xL(t,e){const n=AL(e),r=PL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function OL(t,e){pl.set(t._key(),e)}function PL(t){return In(t._redirectPersistence)}function AL(t){return hl(RL,t.config.apiKey,t.name)}async function DL(t,e,n=!1){const r=au(t),i=EC(r,e),o=await new bL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=10*60*1e3;class LL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ML&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e={}){return su(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BL=/^https?/;async function jL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FL(t);for(const n of e)try{if(zL(n))return}catch{}pn(t,"unauthorized-domain")}function zL(t){const e=Wf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BL.test(n))return!1;if($L.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new ya(3e4,6e4);function I_(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HL(t){return new Promise((e,n)=>{var r,i,s;function o(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(fn(t,"network-request-failed"))},timeout:WL.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hn().gapi)===null||s===void 0)&&s.load)o();else{const a=CL("iframefcb");return hn()[a]=()=>{gapi.load?o():n(fn(t,"network-request-failed"))},EL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ml=null,e})}let ml=null;function VL(t){return ml=ml||HL(t),ml}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new ya(5e3,15e3),KL="__/auth/iframe",qL="emulator/auth/iframe",YL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XL(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vm(e,qL):`https://${t.config.authDomain}/${KL}`,r={apiKey:e.apiKey,appName:t.name,v:Cs},i=QL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Es(r).slice(1)}`}async function JL(t){const e=await VL(t),n=hn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:XL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fn(t,"network-request-failed"),a=hn().setTimeout(()=>{s(o)},GL.get());function l(){hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i4(t,e,n,r=e4,i=t4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ZL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=it().toLowerCase();n&&(a=rC(c)?n4:n),nC(c)&&(e=e||r4,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(WM(c)&&a!=="_self")return s4(e||"",a),new R_(null);const d=window.open(e||"",a,u);Y(d,t,"popup-blocked");try{d.focus()}catch{}return new R_(d)}function s4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="__/auth/handler",a4="emulator/auth/handler";function b_(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cs,eventId:i};if(e instanceof wm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Cf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof wa){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${l4(t)}?${Es(a).slice(1)}`}function l4({config:t}){return t.emulator?vm(t,a4):`https://${t.authDomain}/${o4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="webStorageSupport";class c4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gC,this._completeRedirectFn=DL,this._overrideRedirectResult=OL}async _openPopup(e,n,r,i){var s;$n((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=b_(e,n,r,Wf(),i);return i4(e,o,Em())}async _openRedirect(e,n,r,i){return await this._originValidation(e),uL(b_(e,n,r,Wf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($n(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JL(e),r=new LL(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ud,{type:ud},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ud];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lC()||ym()||ou()}}const u4=c4;var x_="@firebase/auth",O_="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function h4(t){ii(new Er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Y(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Y(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},u=new KM(a,l,c);return kM(u,n),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ii(new Er("auth-internal",e=>{const n=au(e.getProvider("auth").getImmediate());return(r=>new d4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(x_,O_,f4(t)),dn(x_,O_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=5*60,m4=a1("authIdTokenMaxAge")||p4;let P_=null;const g4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m4)return;const i=n==null?void 0:n.token;P_!==i&&(P_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kC(t=Np()){const e=Qc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SM(t,{popupRedirectResolver:u4,persistence:[yL,aL,gC]}),r=a1("authTokenSyncURL");if(r){const s=g4(r);nL(n,s,()=>s(n.currentUser)),tL(n,o=>s(o))}const i=s1("auth");return i&&qM(n,`http://${i}`),n}h4("Browser");var v4="firebase",_4="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn(v4,_4,"app");const y4={apiKey:"AIzaSyCXfdPxRt8Qvi3AZsXu1lxl9VJXuRlga_8",authDomain:"outfitoftheday-c3adf.firebaseapp.com",databaseURL:"https://outfitoftheday-c3adf-default-rtdb.firebaseio.com",projectId:"outfitoftheday-c3adf",storageBucket:"outfitoftheday-c3adf.appspot.com",messagingSenderId:"160151796856",appId:"1:160151796856:web:510e79243373c60cd0c18d"},uu=p1(y4),TC=rD(uu),w4=vM(uu),Ca=t=>{const[e,n]=p.useState(),[r,i]=p.useState(null);return p.useEffect(()=>YA(IE(TC,t),s=>{n(s.val())},s=>{i(s)}),[t]),[e,r]},A_=t=>{const e=Date.now(),n=(t==null?void 0:t.message)||`Updated: ${new Date(e).toLocaleString()}`;return{timestamp:e,error:t,message:n}},E4=t=>{const[e,n]=p.useState();return[p.useCallback(i=>{const s=gM(w4,t),o=pM(s,i);o.on("state_changed",a=>{const l=Math.round(a.bytesTransferred/a.totalBytes*100);console.log(l)},a=>{console.log(a)},()=>{mM(o.snapshot.ref).then(a=>{n(a)})})},[t,e]),e]},gc=t=>{const[e,n]=p.useState();return[p.useCallback(i=>{KA(IE(TC,t),i).then(()=>n(A_())).catch(s=>n(A_(s)))},[t]),e]},C4=()=>{const[t,e]=p.useState();return p.useEffect(()=>rL(kC(uu),e),[]),[t]},S4=()=>{IL(kC(uu),new Cn)},k4=()=>{const[t]=C4(),[e,n]=gc("/users/"),[r,i]=gc("/closet/"),[s,o,a]=Ca("/users/");return p.useEffect(()=>{t&&!o&&!a&&(e({[t.uid]:{displayName:t.displayName,email:t.email,profilePic:t.photoURL}}),r({[t.uid]:{id:t.uid,tops:[],bottoms:[],shoes:[],dresses:[],jackets:[],favorites:{}}}))},[o,a,t,e,r]),[t,o,a]},mi=()=>({uid:"33VC4ni86kMMYI1PiJtHuEAHCCj2",displayName:"Amy",email:"amy@test.com",profilePic:"https://cdn-icons-png.flaticon.com/512/1946/1946429.png"}),qs=()=>{const t=mi(),e=Lc();return t?E(Va,{className:"navbar",children:U(q,{className:"navbar-container",children:[E(q,{children:E(Va.Brand,{className:"navbar-brand",onClick:()=>e("/"),children:"Outfit Of The Day"})}),E(Va.Toggle,{"aria-controls":"responsive-navbar-nav"}),E(Va.Collapse,{id:"responsive-navbar-nav",className:"header-dropdown",children:U(px,{className:"header-profile",children:[E("img",{className:"header-img",alt:"Profile",src:t.profilePic,referrerPolicy:"no-referrer"}),U(zs,{id:"collasible-nav-dropdown",align:"end",children:[U(zs.Item,{onClick:()=>e("/"),children:[E(vx,{size:24})," View Profile"]}),U(zs.Item,{onClick:()=>e("/add"),children:[E(_x,{size:24})," Add Item"]}),E(zs.Divider,{}),U(zs.Item,{onClick:()=>e("/"),children:[E(yx,{size:24})," Logout"]})]})]})})]})}):E("h5",{className:"text-muted",children:"Loading user profile..."})};function T4(t){return tn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(t)}function N4(t){return tn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(t)}function I4(t){return tn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}}]})(t)}function R4(t){return tn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10.551v-.678A4.005 4.005 0 0 0 16 6c0-2.206-1.794-4-4-4S8 3.794 8 6h2c0-1.103.897-2 2-2s2 .897 2 2-.897 2-2 2a1 1 0 0 0-1 1v1.551l-8.665 7.702A1.001 1.001 0 0 0 3 20h18a1.001 1.001 0 0 0 .664-1.748L13 10.551zM5.63 18 12 12.338 18.37 18H5.63z"}}]})(t)}const Ys=()=>{const t=Lc(),e=Kh(),[n,r]=p.useState("home");return p.useEffect(()=>{e.pathname==="/favorites"?r("favorites"):e.pathname==="/closet"?r("closet"):e.pathname==="/"&&r("home")},[e]),U("div",{className:"bottom-container",children:[E("div",{className:n==="favorites"?"favorites-btn-container active-container":"favorites-btn-container",onClick:()=>t("/favorites"),children:U("div",{className:"info-container",children:[n==="favorites"?E(wp,{size:20}):E(e1,{size:20}),E("p",{children:"Favorites"})]})}),E("div",{className:n==="home"?"home-btn-container active-container":"home-btn-container",onClick:()=>t("/"),children:U("div",{className:"info-container",children:[n==="home"?E(N4,{size:20}):E(I4,{size:20}),E("p",{children:"Home"})]})}),E("div",{className:n==="closet"?"closet-btn-container active-container":"closet-btn-container",onClick:()=>t("/closet"),children:U("div",{className:"info-container",children:[E(R4,{size:20}),E("p",{children:"Closet"})]})})]})},NC=p.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ae(t,"card-img");return E(r,{ref:s,className:J(n?`${o}-${n}`:o,e),...i})});NC.displayName="CardImg";const b4=NC,IC=p.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ae(t,"card-header"),o=p.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return E(_p.Provider,{value:o,children:E(n,{ref:i,...r,className:J(e,s)})})});IC.displayName="CardHeader";const x4=IC,O4=np("h5"),P4=np("h6"),RC=st("card-body"),A4=st("card-title",{Component:O4}),D4=st("card-subtitle",{Component:P4}),M4=st("card-link",{Component:"a"}),L4=st("card-text",{Component:"p"}),U4=st("card-footer"),F4=st("card-img-overlay"),$4={body:!1},Sm=p.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},c)=>{const u=ae(t,"card");return E(a,{ref:c,...l,className:J(e,u,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?E(RC,{children:o}):o})});Sm.displayName="Card";Sm.defaultProps=$4;const zr=Object.assign(Sm,{Img:b4,Title:A4,Subtitle:D4,Body:RC,Link:M4,Text:L4,Header:x4,Footer:U4,ImgOverlay:F4});function B4(t,e){var n=p.useRef(!0);p.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}var Vf=Math.pow(2,31)-1;function bC(t,e,n){var r=n-Date.now();t.current=r<=Vf?setTimeout(e,r):setTimeout(function(){return bC(t,e,n)},Vf)}function j4(){var t=Qh(),e=p.useRef();return dw(function(){return clearTimeout(e.current)}),p.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,s){s===void 0&&(s=0),t()&&(n(),s<=Vf?e.current=setTimeout(i,s):bC(e,i,Date.now()+s))}return{set:r,clear:n}},[])}const z4=st("carousel-caption"),xC=p.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=J(n,ae(e,"carousel-item"));return E(t,{ref:i,...r,className:s})});xC.displayName="CarouselItem";const W4=xC;function D_(t,e){let n=0;return p.Children.map(t,r=>p.isValidElement(r)?e(r,n++):r)}function H4(t,e){let n=0;p.Children.forEach(t,r=>{p.isValidElement(r)&&e(r,n++)})}function V4(t,e){return p.Children.toArray(t).some(n=>p.isValidElement(n)&&n.type===e)}const G4=40,K4={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:E("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:E("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function q4(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const km=p.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,slide:i,fade:s,controls:o,indicators:a,indicatorLabels:l,activeIndex:c,onSelect:u,onSlide:d,onSlid:f,interval:h,keyboard:m,onKeyDown:v,pause:w,onMouseOver:g,onMouseOut:_,wrap:y,touch:C,onTouchStart:k,onTouchMove:S,onTouchEnd:T,prevIcon:I,prevLabel:b,nextIcon:R,nextLabel:A,variant:$,className:z,children:se,...ne}=Fc(t,{activeIndex:"onSelect"}),W=ae(r,"carousel"),H=Z0(),x=p.useRef(null),[L,D]=p.useState("next"),[Q,G]=p.useState(!1),[de,Z]=p.useState(!1),[K,pe]=p.useState(c||0);p.useEffect(()=>{!de&&c!==K&&(x.current?D(x.current):D((c||0)>K?"next":"prev"),i&&Z(!0),pe(c||0))},[c,de,K,i]),p.useEffect(()=>{x.current&&(x.current=null)});let Ce=0,Xe;H4(se,(X,me)=>{++Ce,me===c&&(Xe=X.props.interval)});const Pt=uw(Xe),Je=p.useCallback(X=>{if(de)return;let me=K-1;if(me<0){if(!y)return;me=Ce-1}x.current="prev",u==null||u(me,X)},[de,K,u,y,Ce]),De=be(X=>{if(de)return;let me=K+1;if(me>=Ce){if(!y)return;me=0}x.current="next",u==null||u(me,X)}),Wt=p.useRef();p.useImperativeHandle(e,()=>({element:Wt.current,prev:Je,next:De}));const ot=be(()=>{!document.hidden&&q4(Wt.current)&&(H?Je():De())}),ee=L==="next"?"start":"end";B4(()=>{i||(d==null||d(K,ee),f==null||f(K,ee))},[K]);const Is=`${W}-item-${L}`,gi=`${W}-item-${ee}`,Sa=p.useCallback(X=>{qh(X),d==null||d(K,ee)},[d,K,ee]),du=p.useCallback(()=>{Z(!1),f==null||f(K,ee)},[f,K,ee]),fu=p.useCallback(X=>{if(m&&!/input|textarea/i.test(X.target.tagName))switch(X.key){case"ArrowLeft":X.preventDefault(),H?De(X):Je(X);return;case"ArrowRight":X.preventDefault(),H?Je(X):De(X);return}v==null||v(X)},[m,v,Je,De,H]),gn=p.useCallback(X=>{w==="hover"&&G(!0),g==null||g(X)},[w,g]),vi=p.useCallback(X=>{G(!1),_==null||_(X)},[_]),Rs=p.useRef(0),br=p.useRef(0),_i=j4(),ka=p.useCallback(X=>{Rs.current=X.touches[0].clientX,br.current=0,w==="hover"&&G(!0),k==null||k(X)},[w,k]),Ta=p.useCallback(X=>{X.touches&&X.touches.length>1?br.current=0:br.current=X.touches[0].clientX-Rs.current,S==null||S(X)},[S]),Na=p.useCallback(X=>{if(C){const me=br.current;Math.abs(me)>G4&&(me>0?Je(X):De(X))}w==="hover"&&_i.set(()=>{G(!1)},h||void 0),T==null||T(X)},[C,w,Je,De,_i,h,T]),bs=h!=null&&!Q&&!de,hu=p.useRef();p.useEffect(()=>{var X,me;if(!bs)return;const vn=H?Je:De;return hu.current=window.setInterval(document.visibilityState?ot:vn,(X=(me=Pt.current)!=null?me:h)!=null?X:void 0),()=>{hu.current!==null&&clearInterval(hu.current)}},[bs,Je,De,Pt,h,ot,H]);const Om=p.useMemo(()=>a&&Array.from({length:Ce},(X,me)=>vn=>{u==null||u(me,vn)}),[a,Ce,u]);return U(n,{ref:Wt,...ne,onKeyDown:fu,onMouseOver:gn,onMouseOut:vi,onTouchStart:ka,onTouchMove:Ta,onTouchEnd:Na,className:J(z,W,i&&"slide",s&&`${W}-fade`,$&&`${W}-${$}`),children:[a&&E("div",{className:`${W}-indicators`,children:D_(se,(X,me)=>E("button",{type:"button","data-bs-target":"","aria-label":l!=null&&l.length?l[me]:`Slide ${me+1}`,className:me===K?"active":void 0,onClick:Om?Om[me]:void 0,"aria-current":me===K},me))}),E("div",{className:`${W}-inner`,children:D_(se,(X,me)=>{const vn=me===K;return i?E(zc,{in:vn,onEnter:vn?Sa:void 0,onEntered:vn?du:void 0,addEndListener:jc,children:(xs,fS)=>p.cloneElement(X,{...fS,className:J(X.props.className,vn&&xs!=="entered"&&Is,(xs==="entered"||xs==="exiting")&&"active",(xs==="entering"||xs==="exiting")&&gi)})}):p.cloneElement(X,{className:J(X.props.className,vn&&"active")})})}),o&&U(mt,{children:[(y||c!==0)&&U(Vl,{className:`${W}-control-prev`,onClick:Je,children:[I,b&&E("span",{className:"visually-hidden",children:b})]}),(y||c!==Ce-1)&&U(Vl,{className:`${W}-control-next`,onClick:De,children:[R,A&&E("span",{className:"visually-hidden",children:A})]})]})]})});km.displayName="Carousel";km.defaultProps=K4;const M_=Object.assign(km,{Caption:z4,Item:W4});function Y4({as:t,bsPrefix:e,className:n,...r}){e=ae(e,"col");const i=X0(),s=J0(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let u,d,f;typeof c=="object"&&c!=null?{span:u,offset:d,order:f}=c:u=c;const h=l!==s?`-${l}`:"";u&&o.push(u===!0?`${e}${h}`:`${e}${h}-${u}`),f!=null&&a.push(`order${h}-${f}`),d!=null&&a.push(`offset${h}-${d}`)}),[{...r,className:J(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const OC=p.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=Y4(t);return E(i,{...r,ref:e,className:J(n,!o.length&&s)})});OC.displayName="Col";const Tm=OC,Q4={type:nt.string,tooltip:nt.bool,as:nt.elementType},Nm=p.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>E(t,{...i,ref:s,className:J(e,`${n}-${r?"tooltip":"feedback"}`)}));Nm.displayName="Feedback";Nm.propTypes=Q4;const PC=Nm,X4=p.createContext({}),Bn=X4,AC=p.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=p.useContext(Bn);return e=ae(e,"form-check-input"),E(o,{...a,ref:l,type:r,id:t||c,className:J(n,e,i&&"is-valid",s&&"is-invalid")})});AC.displayName="FormCheckInput";const DC=AC,MC=p.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=p.useContext(Bn);return t=ae(t,"form-check-label"),E("label",{...r,ref:i,htmlFor:n||s,className:J(e,t)})});MC.displayName="FormCheckLabel";const Gf=MC,LC=p.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:d,style:f,title:h="",type:m="checkbox",label:v,children:w,as:g="input",..._},y)=>{e=ae(e,"form-check"),n=ae(n,"form-switch");const{controlId:C}=p.useContext(Bn),k=p.useMemo(()=>({controlId:t||C}),[C,t]),S=!w&&v!=null&&v!==!1||V4(w,Gf),T=E(DC,{..._,type:m==="switch"?"checkbox":m,ref:y,isValid:o,isInvalid:a,disabled:s,as:g});return E(Bn.Provider,{value:k,children:E("div",{style:f,className:J(d,S&&e,r&&`${e}-inline`,i&&`${e}-reverse`,m==="switch"&&n),children:w||U(mt,{children:[T,S&&E(Gf,{title:h,children:v}),c&&E(PC,{type:u,tooltip:l,children:c})]})})})});LC.displayName="FormCheck";const vc=Object.assign(LC,{Input:DC,Label:Gf}),UC=p.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input",...d},f)=>{const{controlId:h}=p.useContext(Bn);t=ae(t,"form-control");let m;return l?m={[`${t}-plaintext`]:!0}:m={[t]:!0,[`${t}-${n}`]:n},E(u,{...d,type:e,size:r,ref:f,readOnly:c,id:i||h,className:J(s,m,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});UC.displayName="FormControl";const J4=Object.assign(UC,{Feedback:PC}),Z4=st("form-floating"),FC=p.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=p.useMemo(()=>({controlId:t}),[t]);return E(Bn.Provider,{value:i,children:E(e,{...n,ref:r})})});FC.displayName="FormGroup";const $C=FC,e3={column:!1,visuallyHidden:!1},Im=p.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=p.useContext(Bn);e=ae(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=J(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?E(Tm,{ref:a,as:"label",className:u,htmlFor:s,...o}):E(t,{ref:a,className:u,htmlFor:s,...o})});Im.displayName="FormLabel";Im.defaultProps=e3;const t3=Im,BC=p.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=p.useContext(Bn);return t=ae(t,"form-range"),E("input",{...r,type:"range",ref:i,className:J(e,t),id:n||s})});BC.displayName="FormRange";const n3=BC,jC=p.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=p.useContext(Bn);return t=ae(t,"form-select"),E("select",{...a,size:n,ref:l,className:J(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});jC.displayName="FormSelect";const r3=jC,zC=p.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ae(t,"form-text"),E(n,{...i,ref:s,className:J(e,t,r&&"text-muted")})));zC.displayName="FormText";const i3=zC,WC=p.forwardRef((t,e)=>E(vc,{...t,ref:e,type:"switch"}));WC.displayName="Switch";const s3=Object.assign(WC,{Input:vc.Input,Label:vc.Label}),HC=p.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ae(t,"form-floating"),U($C,{ref:o,className:J(e,t),controlId:r,...s,children:[n,E("label",{htmlFor:r,children:i})]})));HC.displayName="FloatingLabel";const o3=HC,a3={_ref:nt.any,validated:nt.bool,as:nt.elementType},Rm=p.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>E(n,{...r,ref:i,className:J(t,e&&"was-validated")}));Rm.displayName="Form";Rm.propTypes=a3;const VC=Object.assign(Rm,{Group:$C,Control:J4,Floating:Z4,Check:vc,Switch:s3,Label:t3,Text:i3,Range:n3,Select:r3,FloatingLabel:o3});nt.string,nt.bool,nt.bool,nt.bool,nt.bool;const l3={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},bm=p.forwardRef(({bsPrefix:t,className:e,fluid:n,rounded:r,roundedCircle:i,thumbnail:s,...o},a)=>(t=ae(t,"img"),E("img",{ref:a,...o,className:J(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));bm.displayName="Image";bm.defaultProps=l3;const GC=bm,KC=p.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ae(t,"row"),o=X0(),a=J0(),l=`${s}-cols`,c=[];return o.forEach(u=>{const d=r[u];delete r[u];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const h=u!==a?`-${u}`:"";f!=null&&c.push(`${l}${h}-${f}`)}),E(n,{ref:i,...r,className:J(e,s,...c)})});KC.displayName="Row";const qC=KC,c3=()=>{const t=mi(),e=Lc();return p.useEffect(()=>{t&&e("/")},[t,e]),E(q,{className:"login-container",children:E(q,{className:"login-info-container",children:U(q,{children:[E("h1",{className:"login-title","data-cy":"login-title",children:"Outfit Of The Day"}),E("p",{className:"login-info",children:"OutfitOfTheDay is an app that allows you to catalog your closet and decide on an outfit for the day each morning. It will also keep track of your favorite outfits, which will be recommended more frequently."}),E(()=>E("button",{className:"ml-5 p-2 w-75 btn login-button",onClick:S4,children:"SIGN IN"}),{})]})})})},u3=({data:t,bottoms:e})=>E(q,{children:E(qC,{xs:2,md:4,className:"g-4",children:Object.entries(t).map(([n,r])=>E(Tm,{children:U(zr,{className:"card-container",children:[E(zr.Img,{variant:"top",src:r.url,className:e?"card-image-bottoms":"card-image"}),E("div",{className:"card-text-container",children:U(zr.Text,{className:"card-weather text-muted",children:[r.weather.charAt(0).toUpperCase()+r.weather.slice(1)," ","Weather"]})})]})},n))})}),d3=()=>{const t=mi(),[e]=Ca("/closet"),[n,r]=p.useState("Tops"),[i,s]=p.useState(null),o=a=>{a==="Tops"?(r("Tops"),s(e[t.uid].tops)):a==="Jackets"?(r("Jackets"),s(e[t.uid].jackets)):a==="Dresses"?(r("Dresses"),s(e[t.uid].dresses)):a==="Bottoms"?(r("Bottoms"),s(e[t.uid].bottoms)):a==="Shoes"&&(r("Shoes"),s(e[t.uid].shoes))};return t?e?U(q,{className:"p-10 mt-3",children:[E("h3",{className:"closet-title",children:"My Closet"}),E("hr",{}),U(VC.Select,{onChange:a=>o(a.target.value),children:[E("option",{value:"Tops",children:"Tops"}),E("option",{value:"Jackets",children:"Jackets"}),E("option",{value:"Dresses",children:"Dresses"}),E("option",{value:"Bottoms",children:"Bottoms"}),E("option",{value:"Shoes",children:"Shoes"})]}),E("h5",{className:"text-muted mt-3",children:n}),E(u3,{data:i||e[t.uid].tops,bottoms:n==="Bottoms"})]}):E("h5",{className:"text-muted",children:"Loading user closet..."}):E("h5",{className:"text-muted",children:"Loading user profile..."})},f3=({data:t})=>E(q,{children:E(qC,{xs:2,md:4,className:"g-1",children:Object.entries(t).map(([e,n])=>E(Tm,{children:U(zr,{className:"favorites-card-container",children:[U(q,{className:"favorites-card-clothes",children:[U(q,{className:"favorites-top-shoes-container",children:[E(q,{className:"favorites-top-container",children:E(zr.Img,{variant:"top",src:n.tops.url,className:"favorites-card-image"})}),E(q,{className:"favorites-shoes-container",children:E(zr.Img,{variant:"top",src:n.shoes.url,className:"favorites-card-image-shoes"})})]}),E(q,{className:"favorites-bottom-container",children:E(zr.Img,{variant:"top",src:n.bottoms.url,className:"favorites-card-image-bottom"})})]}),E(q,{className:"favorites-card-heart",children:E(wp,{size:15})})]})},e))})}),h3=()=>{const t=mi(),[e]=Ca("/closet");return t?e?U(q,{className:"p-10 mt-3",children:[E("h3",{className:"closet-title",children:"My Favorites"}),E("hr",{}),E(f3,{data:e[t.uid].favorites})]}):E("h5",{className:"text-muted",children:"Loading user closet..."}):E("h5",{className:"text-muted",children:"Loading user profile..."})};let Ja;const p3=new Uint8Array(16);function m3(){if(!Ja&&(Ja=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ja))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ja(p3)}const He=[];for(let t=0;t<256;++t)He.push((t+256).toString(16).slice(1));function g3(t,e=0){return(He[t[e+0]]+He[t[e+1]]+He[t[e+2]]+He[t[e+3]]+"-"+He[t[e+4]]+He[t[e+5]]+"-"+He[t[e+6]]+He[t[e+7]]+"-"+He[t[e+8]]+He[t[e+9]]+"-"+He[t[e+10]]+He[t[e+11]]+He[t[e+12]]+He[t[e+13]]+He[t[e+14]]+He[t[e+15]]).toLowerCase()}const v3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),L_={randomUUID:v3};function Kf(t,e,n){if(L_.randomUUID&&!e&&!t)return L_.randomUUID();t=t||{};const r=t.random||(t.rng||m3)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return g3(r)}const dd=({data:t,handleSelect:e,index:n})=>E(q,{className:"carousel-container",children:E(M_,{interval:null,indicators:!1,activeIndex:n,onSelect:e,children:Object.entries(t).map(([r,i])=>E(M_.Item,{children:E("img",{src:i.url,alt:"Slide"})},r))})}),_3=()=>{let t=41.881832,e=-87.623177;return"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(n){t=n.coords.latitude,e=n.coords.longitude}),`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current_weather=true&temperature_unit=fahrenheit`};var xm={},YC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=p;t.DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t.IconContext=e.createContext&&e.createContext(t.DefaultContext)})(YC);var ta=hd&&hd.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(xm,"__esModule",{value:!0});var _c=p,fd=YC;function QC(t){return t&&t.map(function(e,n){return _c.createElement(e.tag,ta({key:n},e.attr),QC(e.child))})}function y3(t){return function(e){return _c.createElement(XC,ta({attr:ta({},t.attr)},e),QC(t.child))}}var w3=xm.GenIcon=y3;function XC(t){var e=function(n){var r=t.size||n.size||"1em",i;return n.className&&(i=n.className),t.className&&(i=(i+" "||"")+t.className),_c.createElement("svg",ta({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,t.attr,t,{className:i,style:ta({color:t.color||n.color},n.style,t.style),height:r,width:r}),t.children)};return fd.IconContext!==void 0?_c.createElement(fd.IconContext.Consumer,null,function(n){return e(n)}):e(fd.DefaultContext)}xm.IconBase=XC;const E3=function(t){return w3({tag:"svg",attr:{viewBox:"0 0 30 30"},child:[{tag:"path",attr:{d:"M3.09,13.43c0,0.27,0.09,0.49,0.28,0.67s0.43,0.26,0.72,0.26h1.69c0.27,0,0.5-0.09,0.69-0.27s0.29-0.4,0.29-0.66c0-0.29-0.09-0.53-0.28-0.71s-0.42-0.28-0.69-0.28H4.09c-0.29,0-0.53,0.09-0.72,0.28C3.18,12.89,3.09,13.13,3.09,13.43zM4.86,19.61c0,0.97,0.35,1.81,1.06,2.52c0.71,0.71,1.54,1.06,2.51,1.06h6.86c0.97,0,1.8-0.35,2.49-1.05c0.69-0.7,1.04-1.54,1.04-2.53c0-0.48-0.07-0.89-0.21-1.23c0.83-0.53,1.49-1.24,1.97-2.12c0.48-0.88,0.73-1.83,0.73-2.84c0-0.81-0.16-1.59-0.48-2.33c-0.32-0.74-0.75-1.38-1.28-1.91c-0.53-0.53-1.17-0.96-1.91-1.28c-0.74-0.32-1.51-0.48-2.32-0.48c-1.09,0-2.1,0.27-3.02,0.81s-1.65,1.27-2.18,2.18c-0.53,0.92-0.79,1.92-0.79,3.01v0.34c-1,0.57-1.66,1.4-1.98,2.49c-0.76,0.24-1.36,0.66-1.81,1.27C5.09,18.13,4.86,18.83,4.86,19.61zM6.42,5.45c0,0.28,0.09,0.51,0.26,0.67l1.61,1.69c0.47,0.36,0.94,0.36,1.41,0c0.19-0.19,0.28-0.42,0.28-0.7c0-0.27-0.09-0.5-0.28-0.7L8.05,4.76C7.84,4.57,7.6,4.47,7.35,4.47c-0.28,0-0.51,0.09-0.68,0.28C6.5,4.94,6.42,5.17,6.42,5.45zM6.84,19.61c0-0.42,0.13-0.78,0.4-1.08c0.27-0.3,0.61-0.47,1.02-0.51l0.62-0.08c0.13,0,0.2-0.08,0.2-0.23l0.09-0.56c0.07-0.58,0.31-1.06,0.73-1.44c0.42-0.39,0.91-0.58,1.48-0.58c0.58,0,1.09,0.19,1.51,0.58c0.43,0.39,0.68,0.87,0.75,1.44l0.08,0.65c0.06,0.15,0.14,0.23,0.24,0.23h1.32c0.43,0,0.8,0.16,1.12,0.47c0.32,0.31,0.47,0.68,0.47,1.12c0,0.45-0.16,0.83-0.47,1.15s-0.69,0.48-1.12,0.48H8.43c-0.45,0-0.83-0.16-1.13-0.48C6.99,20.45,6.84,20.06,6.84,19.61zM11.26,13.22c0.07-1.09,0.49-2.01,1.27-2.76c0.77-0.74,1.71-1.12,2.79-1.12c1.11,0,2.06,0.4,2.84,1.19c0.78,0.79,1.17,1.76,1.17,2.89c0,0.7-0.17,1.35-0.51,1.95c-0.34,0.6-0.8,1.08-1.38,1.45c-0.59-0.49-1.27-0.73-2.03-0.73c-0.29-0.88-0.81-1.57-1.54-2.09c-0.73-0.52-1.56-0.78-2.48-0.78H11.26zM14.35,4.47c0,0.27,0.1,0.51,0.29,0.7c0.19,0.19,0.42,0.29,0.69,0.29c0.28,0,0.51-0.1,0.7-0.29c0.19-0.19,0.29-0.42,0.29-0.7V2.13c0-0.26-0.1-0.48-0.29-0.66c-0.19-0.18-0.42-0.27-0.7-0.27c-0.27,0-0.5,0.09-0.69,0.27c-0.19,0.18-0.29,0.4-0.29,0.66V4.47zM20.67,19.7c0,0.27,0.09,0.5,0.27,0.7l1.64,1.62c0.42,0.42,0.89,0.42,1.41,0c0.18-0.17,0.26-0.39,0.26-0.68c0-0.27-0.09-0.49-0.26-0.67L22.3,19c-0.18-0.17-0.41-0.25-0.68-0.25c-0.28,0-0.5,0.09-0.68,0.27C20.76,19.2,20.67,19.43,20.67,19.7zM20.67,7.09c0,0.28,0.09,0.52,0.27,0.72c0.18,0.18,0.41,0.27,0.68,0.27c0.27,0,0.5-0.09,0.68-0.27l1.69-1.69c0.18-0.17,0.26-0.39,0.26-0.67c0-0.28-0.1-0.51-0.29-0.69s-0.42-0.28-0.7-0.28c-0.26,0-0.49,0.1-0.68,0.29L20.94,6.4C20.76,6.58,20.67,6.81,20.67,7.09zM23.25,13.43c0,0.27,0.09,0.49,0.28,0.67s0.43,0.26,0.72,0.26h1.69c0.27,0,0.5-0.09,0.69-0.27s0.29-0.4,0.29-0.66c0-0.29-0.09-0.53-0.28-0.71s-0.42-0.28-0.69-0.28h-1.69c-0.29,0-0.53,0.09-0.72,0.28C23.35,12.89,23.25,13.13,23.25,13.43z"}}]})(t)},C3=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[i,s]=p.useState(0);p.useEffect(()=>{fetch(_3()).then(S=>S.json()).then(S=>{e(S.current_weather.temperature),r(S.current_weather.windspeed),s(S.current_weather.weatherCode)}).catch(S=>console.error(S))},[]);const o=mi(),[a]=Ca("/closet"),[l]=gc("/");p.useState(!1),p.useState(!1);const[c,u]=p.useState(!1),[d,f]=p.useState(0),[h,m]=p.useState(0),[v,w]=p.useState(0);p.useEffect(()=>{a&&g()},[a]),p.useEffect(()=>{g()},[d,h,v]);const g=()=>{if(a){const S={tops:Object.values(a[o.uid].tops)[d],bottoms:Object.values(a[o.uid].bottoms)[h],shoes:Object.values(a[o.uid].shoes)[v]};let T=!1;Object.entries(a[o.uid].favorites).map(([I,b])=>{S.bottoms.url===b.bottoms.url&&S.shoes.url===b.shoes.url&&S.tops.url===b.tops.url&&(T=!0)}),u(T)}},_=S=>{f(S)},y=S=>{m(S)},C=S=>{w(S)},k=()=>{if(c)return;const S=Kf(),T={tops:Object.values(a[o.uid].tops)[d],bottoms:Object.values(a[o.uid].bottoms)[h],shoes:Object.values(a[o.uid].shoes)[v]};l({["/closet/"+o.uid+"/favorites/"+S]:T})};return o?a?U(q,{children:[U(q,{className:"home-header-container",children:[U("span",{children:["Good Morning ",o.displayName.split(" ")[0],"!"]})," ",E("br",{}),"Let's choose your outfit. ",E("br",{}),"Here's what we suggest!"]}),U(q,{className:"weather-header-container",children:[E(E3,{size:24,color:"#555555"}),"Today's temperature outside is ",t," degrees with a wind speed of"," ",n," mph."]}),U(q,{className:"home-clothes-container",children:[E(q,{className:"home-clothes-top",children:E(dd,{data:a[o.uid].tops,handleSelect:_,index:d})}),E(q,{className:"home-clothes-bottoms",children:E(dd,{data:a[o.uid].bottoms,handleSelect:y,index:h})}),E(q,{className:"home-clothes-shoes",children:E(dd,{data:a[o.uid].shoes,handleSelect:C,index:v})})]}),U(q,{className:"home-button-container",children:[E(Fe,{className:"home-btn",children:"I'll wear this today!"}),U(Fe,{className:"home-btn-fav",onClick:()=>{k()},children:[c?U(mt,{children:[E(wp,{size:20}),"This look is already saved"]}):U(mt,{children:[E(e1,{size:20}),"Save this look"]})," "]})]})]}):E("h5",{className:"text-muted",children:"Loading user closet..."}):E("h5",{className:"text-muted",children:"Loading user profile..."})};function JC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=JC(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function B(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=JC(e))&&(r&&(r+=" "),r+=n);return r}var F=function(){return F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},F.apply(this,arguments)};function j(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var ZC=N.forwardRef(function(t,e){var n=t.breakpoint,r=t.fluid,i=t.children,s=t.className,o=t.tag,a=j(t,["breakpoint","fluid","children","className","tag"]),l=B("".concat(r?"container-fluid":"container".concat(n?"-"+n:"")),s);return N.createElement(o,F({className:l},a,{ref:e}),i)});ZC.defaultProps={tag:"div"};var eS=N.forwardRef(function(t,e){var n=t.center,r=t.children,i=t.className,s=t.end,o=t.lg,a=t.md,l=t.offsetLg,c=t.offsetMd,u=t.offsetSm,d=t.order,f=t.size,h=t.sm,m=t.start,v=t.tag,w=t.xl,g=t.xxl,_=t.xs,y=j(t,["center","children","className","end","lg","md","offsetLg","offsetMd","offsetSm","order","size","sm","start","tag","xl","xxl","xs"]),C=B(f&&"col-".concat(f),_&&"col-xs-".concat(_),h&&"col-sm-".concat(h),a&&"col-md-".concat(a),o&&"col-lg-".concat(o),w&&"col-xl-".concat(w),g&&"col-xxl-".concat(g),f||_||h||a||o||w||g?"":"col",d&&"order-".concat(d),m&&"align-self-start",n&&"align-self-center",s&&"align-self-end",u&&"offset-sm-".concat(u),c&&"offset-md-".concat(c),l&&"offset-lg-".concat(l),i);return N.createElement(v,F({className:C,ref:e},y),r)});eS.defaultProps={tag:"div"};var S3=N.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.pill,s=t.light,o=t.dot,a=t.tag,l=t.children,c=t.notification,u=j(t,["className","color","pill","light","dot","tag","children","notification"]),d=B("badge",s?r&&"badge-".concat(r):r&&"bg-".concat(r),o&&"badge-dot",i&&"rounded-pill",c&&"badge-notification",n);return N.createElement(a,F({className:d,ref:e},u),l)});S3.defaultProps={tag:"span",color:"primary"};var k3=function(t){var e=j(t,[]),n=p.useState(!1),r=n[0],i=n[1],s=B("ripple-wave",r&&"active");return p.useEffect(function(){var o=setTimeout(function(){i(!0)},50);return function(){clearTimeout(o)}},[]),N.createElement("div",F({className:s},e))},tS=N.forwardRef(function(t,e){var n=t.className,r=t.rippleTag,i=t.rippleCentered,s=t.rippleDuration,o=t.rippleUnbound,a=t.rippleRadius,l=t.rippleColor,c=t.children,u=t.onMouseDown,d=j(t,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onMouseDown"]),f=function(){for(var b=[],R=0;R<arguments.length;R++)b[R]=arguments[R];var A=N.useRef();return N.useEffect(function(){b.forEach(function($){$&&(typeof $=="function"?$(A.current):$.current=A.current)})},[b]),A}(e,p.useRef(null)),h=[0,0,0],m=["primary","secondary","success","danger","warning","info","light","dark"],v=p.useState([]),w=v[0],g=v[1],_=p.useState(!1),y=_[0],C=_[1],k=B("ripple","ripple-surface",o&&"ripple-surface-unbound",y&&"ripple-surface-".concat(l),n),S=function(){if(m.find(function(A){return A===(l==null?void 0:l.toLowerCase())}))return C(!0);var b=T(l).join(","),R="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(b));return"radial-gradient(circle, ".concat(R,")")},T=function(b){return b.toLowerCase()==="transparent"?h:b[0]==="#"?function(R){return R.length<7&&(R="#".concat(R[1]).concat(R[1]).concat(R[2]).concat(R[2]).concat(R[3]).concat(R[3])),[parseInt(R.substr(1,2),16),parseInt(R.substr(3,2),16),parseInt(R.substr(5,2),16)]}(b):(b.indexOf("rgb")===-1&&(b=function(R){var A=document.body.appendChild(document.createElement("fictum")),$="rgb(1, 2, 3)";return A.style.color=$,A.style.color!==$?h:(A.style.color=R,A.style.color===$||A.style.color===""?h:(R=getComputedStyle(A).color,document.body.removeChild(A),R))}(b)),b.indexOf("rgb")===0?function(R){return(R=R.match(/[.\d]+/g).map(function(A){return+Number(A)})).length=3,R}(b):h)},I=function(b){var R,A=(R=f.current)===null||R===void 0?void 0:R.getBoundingClientRect(),$=b.clientX-A.left,z=b.clientY-A.top,se=A.height,ne=A.width,W={delay:s&&.5*s,duration:s&&s-.5*s},H=function(D){var Q=D.offsetX,G=D.offsetY,de=D.height,Z=D.width,K=G<=de/2,pe=Q<=Z/2,Ce=function(Is,gi){return Math.sqrt(Math.pow(Is,2)+Math.pow(gi,2))},Xe=G===de/2&&Q===Z/2,Pt=K===!0&&pe===!1,Je=K===!0&&pe===!0,De=K===!1&&pe===!0,Wt=K===!1&&pe===!1,ot={topLeft:Ce(Q,G),topRight:Ce(Z-Q,G),bottomLeft:Ce(Q,de-G),bottomRight:Ce(Z-Q,de-G)},ee=0;return Xe||Wt?ee=ot.topLeft:De?ee=ot.topRight:Je?ee=ot.bottomRight:Pt&&(ee=ot.bottomLeft),2*ee}({offsetX:i?se/2:$,offsetY:i?ne/2:z,height:se,width:ne}),x=a||H/2,L={left:"".concat(i?ne/2-x:$-x,"px"),top:"".concat(i?se/2-x:z-x,"px"),height:"".concat(a?2*a:H,"px"),width:"".concat(a?2*a:H,"px"),transitionDelay:"0s, ".concat(W.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(W.duration,"ms")};return y?L:F(F({},L),{backgroundImage:"".concat(S())})};return p.useEffect(function(){var b=setTimeout(function(){w.length>0&&g(w.splice(1,w.length-1))},s);return function(){clearTimeout(b)}},[s,w]),N.createElement(r,F({className:k,onMouseDown:function(b){return function(R){var A=I(R),$=w.concat(A);g($),u&&u(R)}(b)},ref:f},d),c,w.map(function(b,R){return N.createElement(k3,{key:R,style:b})}))});tS.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var T3=N.forwardRef(function(t,e){var n,r=t.className,i=t.color,s=t.outline,o=t.children,a=t.rounded,l=t.disabled,c=t.floating,u=t.size,d=t.href,f=t.block,h=t.active,m=t.toggle,v=t.noRipple,w=t.tag,g=j(t,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),_=p.useState(h||!1),y=_[0],C=_[1],k=i&&["light","link"].includes(i)||s?"dark":"light";n=i!=="none"?s?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"";var S=B(i!=="none"&&"btn",n,a&&"btn-rounded",c&&"btn-floating",u&&"btn-".concat(u),"".concat((d||w!=="button")&&l?"disabled":""),f&&"btn-block",y&&"active",r);return d&&w!=="a"&&(w="a"),["hr","img","input"].includes(w)||v?N.createElement(w,F({className:S,onClick:m?function(){C(!y)}:void 0,disabled:!(!l||w!=="button")||void 0,href:d,ref:e},g),o):N.createElement(tS,F({rippleTag:w,rippleColor:k,className:S,onClick:m?function(){C(!y)}:void 0,disabled:!(!l||w!=="button")||void 0,href:d,ref:e},g),o)});T3.defaultProps={tag:"button",role:"button",color:"primary"};var N3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.shadow,s=t.toolbar,o=t.size,a=t.vertical,l=t.tag,c=j(t,["className","children","shadow","toolbar","size","vertical","tag"]),u=B(s?"btn-toolbar":a?"btn-group-vertical":"btn-group",i&&"shadow-".concat(i),o&&"btn-group-".concat(o),n);return N.createElement(l,F({className:u,ref:e},c),r)});N3.defaultProps={tag:"div",role:"group"};var I3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.color,o=t.grow,a=t.size,l=j(t,["className","children","tag","color","grow","size"]),c=B("".concat(o?"spinner-grow":"spinner-border"),s&&"text-".concat(s),"".concat(a?o?"spinner-grow-"+a:"spinner-border-"+a:""),n);return N.createElement(i,F({className:c,ref:e},l),r)});I3.defaultProps={tag:"div"};var nS=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=t.shadow,l=t.alignment,c=j(t,["className","children","border","background","tag","shadow","alignment"]),u=B("card",i&&"border border-".concat(i),s&&"bg-".concat(s),a&&"shadow-".concat(a),l&&"text-".concat(l),n);return N.createElement(o,F({className:u,ref:e},c),r)});nS.defaultProps={tag:"div"};var R3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=j(t,["className","children","border","background","tag"]),l=B("card-header",i&&"border-".concat(i),s&&"bg-".concat(s),n);return N.createElement(o,F({className:l},a,{ref:e}),r)});R3.defaultProps={tag:"div"};var b3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("card-subtitle",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});b3.defaultProps={tag:"p"};var rS=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("card-title",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});rS.defaultProps={tag:"h5"};var iS=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("card-text",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});iS.defaultProps={tag:"p"};var sS=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("card-body",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});sS.defaultProps={tag:"div"};var x3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=j(t,["className","children","border","background","tag"]),l=B("card-footer",i&&"border-".concat(i),s&&"bg-".concat(s),n);return N.createElement(o,F({className:l},a,{ref:e}),r)});x3.defaultProps={tag:"div"};var O3=function(t){var e=t.className,n=t.children,r=t.overlay,i=t.position,s=t.fluid,o=j(t,["className","children","overlay","position","fluid"]),a=B(i&&"card-img-".concat(i),s&&"img-fluid",r&&"card-img",e);return N.createElement("img",F({className:a},o),n)},P3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("card-img-overlay",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});P3.defaultProps={tag:"div"};var A3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("card-group",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});A3.defaultProps={tag:"div"};var D3=N.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.horizontal,s=t.horizontalSize,o=t.light,a=t.numbered,l=t.children,c=t.small,u=j(t,["className","tag","horizontal","horizontalSize","light","numbered","children","small"]),d=B("list-group",i&&(s?"list-group-horizontal-".concat(s):"list-group-horizontal"),o&&"list-group-light",a&&"list-group-numbered",c&&"list-group-small",n);return N.createElement(r,F({className:d,ref:e},u),l)});D3.defaultProps={tag:"ul"};var M3=N.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.active,s=t.disabled,o=t.action,a=t.color,l=t.children,c=t.noBorders,u=j(t,["className","tag","active","disabled","action","color","children","noBorders"]),d=r==="button",f=B("list-group-item",i&&"active",s&&!d&&"disabled",o&&"list-group-item-action",a&&"list-group-item-".concat(a),c&&"border-0",n);return N.createElement(r,F({className:f,disabled:d&&s,ref:e},u),l)});M3.defaultProps={tag:"li"};var oS=N.forwardRef(function(t,e){var n=t.around,r=t.between,i=t.bottom,s=t.center,o=t.children,a=t.className,l=t.evenly,c=t.end,u=t.middle,d=t.start,f=t.tag,h=t.top,m=j(t,["around","between","bottom","center","children","className","evenly","end","middle","start","tag","top"]),v=B("row",n&&"justify-content-around",r&&"justify-content-between",i&&"align-self-end",s&&"justify-content-center",l&&"justifty-content-evenly",c&&"justify-content-end",u&&"align-self-center",d&&"justify-content-start",h&&"align-self-start",a);return N.createElement(f,F({className:v},m,{ref:e}),o)});oS.defaultProps={tag:"div"};var L3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.variant,o=t.color,a=t.blockquote,l=t.note,c=t.noteColor,u=t.listUnStyled,d=t.listInLine,f=j(t,["className","children","tag","variant","color","blockquote","note","noteColor","listUnStyled","listInLine"]),h=B(s&&s,a&&"blockquote",l&&"note",o&&"text-".concat(o),c&&"note-".concat(c),u&&"list-unstyled",d&&"list-inline",n);return a&&(i="blockquote"),(u||d)&&(i="ul"),N.createElement(i,F({className:h,ref:e},f),r)});L3.defaultProps={tag:"p"};N.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.uppercase,s=t.bold,o=t.children,a=j(t,["className","color","uppercase","bold","children"]),l=B("breadcrumb",s&&"font-weight-bold",r&&"text-".concat(r),i&&"text-uppercase",n);return N.createElement("nav",{"aria-label":"breadcrumb"},N.createElement("ol",F({className:l,ref:e},a),o))});var U3=N.forwardRef(function(t,e){var n=t.className,r=t.active,i=t.current,s=t.children,o=j(t,["className","active","current","children"]),a=B("breadcrumb-item",r&&"active",n);return N.createElement("li",F({className:a,ref:e,"aria-current":r&&i},o),s)});U3.defaultProps={current:"page"};var F3=N.forwardRef(function(t,e){var n,r=t.className,i=t.children,s=t.light,o=t.dark,a=t.scrolling,l=t.fixed,c=t.sticky,u=t.scrollingNavbarOffset,d=t.color,f=t.transparent,h=t.expand,m=t.tag,v=t.bgColor,w=j(t,["className","children","light","dark","scrolling","fixed","sticky","scrollingNavbarOffset","color","transparent","expand","tag","bgColor"]),g=p.useState(!1),_=g[0],y=g[1],C=B(((n={"navbar-light":s,"navbar-dark":o,"scrolling-navbar":a||u,"top-nav-collapse":_})["text-".concat(d)]=d&&f?_:d,n),l&&"fixed-".concat(l),c&&"sticky-top","navbar",h&&function(S){if(S!==!1)return"navbar-expand-".concat(S)}(h),v&&"bg-".concat(v),r),k=p.useCallback(function(){u&&window.pageYOffset>u?y(!0):y(!1)},[u]);return p.useEffect(function(){return(a||u)&&window.addEventListener("scroll",k),function(){window.removeEventListener("scroll",k)}},[k,a,u]),N.createElement(m,F({className:C,role:"navigation"},w,{ref:e}),i)});F3.defaultProps={tag:"nav"};var $3=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.disabled,s=t.active,o=t.tag,a=j(t,["children","className","disabled","active","tag"]),l=B("nav-link",i?"disabled":s?"active":"",r);return N.createElement(o,F({"data-test":"nav-link",className:l,style:{cursor:"pointer"},ref:e},a),n)});$3.defaultProps={tag:"a",active:!1,className:"",disabled:!1};var B3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("navbar-brand",n);return N.createElement(i,F({className:o,ref:e},s),r)});B3.defaultProps={tag:"a"};var j3=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.text,o=t.tag,a=j(t,["children","className","active","text","tag"]),l=B("nav-item",i&&"active",s&&"navbar-text",r);return N.createElement(o,F({},a,{className:l,ref:e}),n)});j3.defaultProps={tag:"li"};var z3=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.right,s=t.fullWidth,o=t.left,a=t.tag,l=j(t,["children","className","right","fullWidth","left","tag"]),c=B("navbar-nav",s&&"w-100",i&&"ms-auto",o&&"me-auto",r);return N.createElement(a,F({className:c,ref:e},l),n)});z3.defaultProps={tag:"ul",fullWidth:!0};var W3=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=j(t,["children","className","tag"]),o=B("navbar-toggler",r);return N.createElement(i,F({},s,{className:o,ref:e}),n)});W3.defaultProps={tag:"button"};N.forwardRef(function(t,e){var n=t.children,r=t.bgColor,i=t.color,s=t.className,o=j(t,["children","bgColor","color","className"]),a=B(r&&"bg-".concat(r),i&&"text-".concat(i),s);return N.createElement("footer",F({className:a},o,{ref:e}),n)});N.forwardRef(function(t,e){var n=t.children,r=t.size,i=t.circle,s=t.center,o=t.end,a=t.start,l=t.className,c=j(t,["children","size","circle","center","end","start","className"]),u=B("pagination",s&&"justify-content-center",i&&"pagination-circle",o&&"justify-content-end",r&&"pagination-".concat(r),a&&"justify-content-start",l);return N.createElement("ul",F({className:u},c,{ref:e}),n)});var H3=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=j(t,["children","className","tag"]),o=B("page-link",r);return N.createElement(i,F({className:o},s,{ref:e}),n)});H3.defaultProps={tag:"a"};N.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.disabled,o=j(t,["children","className","active","disabled"]),a=B("page-item",i&&"active",s&&"disabled",r);return N.createElement("li",F({className:a},o,{ref:e}),n)});var aS=N.forwardRef(function(t,e){var n,r=t.animated,i=t.children,s=t.className,o=t.style,a=t.tag,l=t.valuenow,c=t.valuemax,u=t.striped,d=t.bgColor,f=t.valuemin,h=t.width,m=j(t,["animated","children","className","style","tag","valuenow","valuemax","striped","bgColor","valuemin","width"]),v=B("progress-bar",d&&"bg-".concat(d),u&&"progress-bar-striped",r&&"progress-bar-animated",s),w=F({width:"".concat(h,"%")},o);return N.createElement(a,F({className:v,style:w,ref:e,role:"progressbar"},m,{"aria-valuenow":(n=Number(h))!==null&&n!==void 0?n:l,"aria-valuemin":Number(f),"aria-valuemax":Number(c)}),i)});aS.defaultProps={tag:"div"};var V3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.height,o=t.style,a=j(t,["className","children","tag","height","style"]),l=B("progress",n),c=F({height:"".concat(s,"px")},o);return N.createElement(i,F({className:l,ref:e,style:c},a),N.Children.map(r,function(u){return N.isValidElement(u)&&u.type===aS?u:void console.error("Progress component only allows ProgressBar as child")}))});V3.defaultProps={tag:"div"};var G3=N.forwardRef(function(t,e){var n,r,i=t.className,s=t.size,o=t.contrast,a=t.value,l=t.defaultValue,c=t.id,u=t.labelClass,d=t.wrapperClass,f=t.wrapperStyle,h=t.wrapperTag,m=t.label,v=t.onChange,w=t.children,g=t.labelRef,_=t.labelStyle,y=t.type,C=t.onBlur,k=t.readonly,S=j(t,["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","type","onBlur","readonly"]),T=p.useState(a||l),I=T[0],b=T[1],R=p.useState(0),A=R[0],$=R[1],z=p.useState(!1),se=z[0],ne=z[1],W=p.useRef(null);p.useImperativeHandle(e,function(){return W.current});var H=p.useRef(null),x=g||H,L=B("form-outline",o&&"form-white",d),D=B("form-control",se&&"active",y==="date"&&"active",s&&"form-control-".concat(s),i),Q=B("form-label",u);p.useEffect(function(){W.current&&(W.current.value.length>0?ne(!0):ne(!1))},[(n=W.current)===null||n===void 0?void 0:n.value]),p.useEffect(function(){a!==void 0&&(a.toString().length>0?ne(!0):ne(!1))},[a]),p.useEffect(function(){l!==void 0&&(l.toString().length>0?ne(!0):ne(!1))},[l]);var G=p.useCallback(function(){var Z;!((Z=x.current)===null||Z===void 0)&&Z.clientWidth&&$(.8*x.current.clientWidth+8)},[x]);p.useEffect(function(){G()},[(r=x.current)===null||r===void 0?void 0:r.clientWidth,G]);var de=p.useCallback(function(Z){W.current&&(I!==void 0&&I.toString().length>0||a!==void 0&&a.toString().length>0||W.current.value.length>0?ne(!0):ne(!1),C&&C(Z))},[I,a,C]);return N.createElement(h,{className:L,style:f},N.createElement("input",F({type:y,readOnly:k,className:D,onBlur:de,onChange:function(Z){b(Z.target.value),v==null||v(Z)},onFocus:G,value:a,defaultValue:l,id:c,ref:W},S)),m&&N.createElement("label",{className:Q,style:_,htmlFor:c,ref:x},m),N.createElement("div",{className:"form-notch"},N.createElement("div",{className:"form-notch-leading"}),N.createElement("div",{className:"form-notch-middle",style:{width:A}}),N.createElement("div",{className:"form-notch-trailing"})),w)});G3.defaultProps={wrapperTag:"div",readonly:!1};var lS=function(t){var e=t.className,n=t.children,r=t.show,i=t.id,s=t.navbar,o=t.tag,a=t.collapseRef,l=t.style,c=j(t,["className","children","show","id","navbar","tag","collapseRef","style"]),u=p.useState(!1),d=u[0],f=u[1],h=p.useState(void 0),m=h[0],v=h[1],w=p.useState(!1),g=w[0],_=w[1],y=B(g?"collapsing":"collapse",!g&&d&&"show",s&&"navbar-collapse",e),C=p.useRef(null),k=a??C,S=p.useCallback(function(){d&&v(void 0)},[d]);return p.useEffect(function(){var T;m===void 0&&d&&v((T=k==null?void 0:k.current)===null||T===void 0?void 0:T.scrollHeight)},[m,d,k]),p.useEffect(function(){f(r),d&&_(!0);var T=setTimeout(function(){_(!1)},350);return function(){clearTimeout(T)}},[r,d]),p.useEffect(function(){var T;v(d?(T=k==null?void 0:k.current)===null||T===void 0?void 0:T.scrollHeight:0)},[d,k]),p.useEffect(function(){return window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}},[S]),N.createElement(o,F({style:F({height:m},l),id:i,className:y},c,{ref:k}),n)};lS.defaultProps={tag:"div"};p.createContext(null);function cS(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}cS(`.dropdown-menu .active {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
`);cS(`.dropdown-menu [data-active='true'] a.dropdown-item,\r
.dropdown-menu .dropdown-item:focus,\r
.dropdown-menu li:focus .dropdown-item :not(.disabled) {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
\r
.dropdown-menu li:focus {\r
  outline: none;\r
}\r
\r
.dropdown-menu.dropdown-menu-dark [data-active='true'] a.dropdown-item,\r
.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,\r
.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item {\r
  color: #fff;\r
  background-color: #1266f1;\r
}\r
\r
.btn-group.dropstart > .dropdown-menu {\r
  right: 0 !important;\r
}\r
`);var K3=N.forwardRef(function(t,e){var n=t.className,r=t.centered,i=t.children,s=t.size,o=t.scrollable,a=t.tag,l=j(t,["className","centered","children","size","scrollable","tag"]),c=B("modal-dialog",o&&"modal-dialog-scrollable",r&&"modal-dialog-centered",s&&"modal-".concat(s),n);return N.createElement(a,F({className:c},l,{ref:e}),i)});K3.defaultProps={tag:"div"};var q3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("modal-content",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});q3.defaultProps={tag:"div"};var Y3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("modal-header",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});Y3.defaultProps={tag:"div"};var Q3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("modal-title",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});Q3.defaultProps={tag:"h5"};var X3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("modal-body",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});X3.defaultProps={tag:"div"};var J3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=j(t,["className","children","tag"]),o=B("modal-footer",n);return N.createElement(i,F({className:o},s,{ref:e}),r)});J3.defaultProps={tag:"div"};N.createContext({activeElement:null,setTargets:null});var Z3=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.noBorder,s=t.textBefore,o=t.textAfter,a=t.noWrap,l=t.tag,c=t.textTag,u=t.textClass,d=t.size,f=t.textProps,h=j(t,["className","children","noBorder","textBefore","textAfter","noWrap","tag","textTag","textClass","size","textProps"]),m=B("input-group",a&&"flex-nowrap",d&&"input-group-".concat(d),n),v=B("input-group-text",i&&"border-0",u),w=function(g){return N.createElement(N.Fragment,null,g&&Array.isArray(g)?g.map(function(_,y){return N.createElement(c,F({key:y,className:v},f),_)}):N.createElement(c,F({className:v},f),g))};return N.createElement(l,F({className:m,ref:e},h),s&&w(s),r,o&&w(o))});Z3.defaultProps={tag:"div",textTag:"span"};var eU=N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.isValidated,s=t.onReset,o=t.onSubmit,a=j(t,["className","children","isValidated","onReset","onSubmit"]),l=p.useState(i),c=l[0],u=l[1],d=B("needs-validation",c&&"was-validated",n);return N.createElement("form",F({className:d,onSubmit:function(f){f.preventDefault(),u(!0),o&&o(f)},onReset:function(f){f.preventDefault(),u(!1),s&&s(f)},ref:e},a),r)});eU.defaultProps={noValidate:!0};N.forwardRef(function(t,e){var n=t.className,r=t.fill,i=t.pills,s=t.justify,o=t.children,a=j(t,["className","fill","pills","justify","children"]),l=B("nav",i?"nav-pills":"nav-tabs",r&&"nav-fill",s&&"nav-justified",n);return N.createElement("ul",F({className:l,ref:e},a),o)});N.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.style,s=j(t,["className","children","style"]),o=B("nav-item",n);return N.createElement("li",F({className:o,style:F({cursor:"pointer"},i),role:"presentation",ref:e},s),r)});N.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.active,s=t.onShow,o=t.onHide,a=t.children,l=j(t,["className","color","active","onShow","onHide","children"]),c=B("nav-link",i&&"active",r&&"bg-".concat(r),n);return p.useEffect(function(){i?s==null||s():o==null||o()},[i]),N.createElement("a",F({className:c,ref:e},l),a)});var tU=N.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.children,s=j(t,["className","tag","children"]),o=B("tab-content",n);return N.createElement(r,F({className:o,ref:e},s),i)});tU.defaultProps={tag:"div"};var nU=N.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.show,s=t.children,o=j(t,["className","tag","show","children"]),a=p.useState(!1),l=a[0],c=a[1],u=B("tab-pane","fade",l&&"show",i&&"active",n);return p.useEffect(function(){var d;return i?d=setTimeout(function(){c(!0)},100):c(!1),function(){clearTimeout(d)}},[i]),N.createElement(r,F({className:u,role:"tabpanel",ref:e},o),s)});nU.defaultProps={tag:"div"};p.createContext({active:0});var uS=N.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),rU=N.forwardRef(function(t,e){var n=t.alwaysOpen,r=t.borderless,i=t.className,s=t.flush,o=t.initialActive,a=t.tag,l=t.children,c=t.onChange,u=j(t,["alwaysOpen","borderless","className","flush","initialActive","tag","children","onChange"]),d=B("accordion",s&&"accordion-flush",r&&"accordion-borderless",i),f=p.useState(o),h=f[0],m=f[1];return p.useEffect(function(){h&&c&&c(h)},[c,h]),N.createElement(a,F({className:d,ref:e},u),N.createElement(uS.Provider,{value:{activeItem:h,setActiveItem:m,alwaysOpen:n,initialActive:o}},l))});rU.defaultProps={tag:"div",initialActive:0};var iU=N.forwardRef(function(t,e){var n=t.className,r=t.bodyClassName,i=t.bodyStyle,s=t.headerClassName,o=t.collapseId,a=t.headerTitle,l=t.headerStyle,c=t.btnClassName,u=t.tag,d=t.children,f=j(t,["className","bodyClassName","bodyStyle","headerClassName","collapseId","headerTitle","headerStyle","btnClassName","tag","children"]),h=p.useContext(uS),m=h.activeItem,v=h.setActiveItem,w=h.alwaysOpen,g=h.initialActive,_=p.useState(g),y=_[0],C=_[1],k=B("accordion-item",n),S=B("accordion-header",s),T=B("accordion-body",r),I=B("accordion-button",w?o!==y&&"collapsed":o!==m&&"collapsed",c);return N.createElement(u,F({className:k,ref:e},f),N.createElement("h2",{className:S,style:l},N.createElement("button",{onClick:function(){return b=o,void(w?C(b!==y?b:0):v(b!==m?b:0));var b},className:I,type:"button"},a)),N.createElement(lS,{id:o.toString(),show:w?y===o:m===o},N.createElement("div",{className:T,style:i},d)))});iU.defaultProps={tag:"div"};const sU=()=>{const[t]=k4();return t?E("div",{className:"view-profile",children:E(ZC,{children:E(oS,{className:"justify-content-center",children:E(eS,{md:"9",lg:"7",xl:"5",className:"mt-5",children:E(nS,{style:{width:"595px",borderRadius:"15px",alignContent:"center",padding:"5px"},children:E(sS,{className:"p-4",children:U("div",{className:"d-flex text-black",children:[E("div",{className:"flex-shrink-0",children:E(O3,{style:{width:"180px",borderRadius:"10px"},src:t.photoURL,alt:"Generic placeholder image",fluid:!0})}),U("div",{className:"flex-grow-1 ms-3",children:[E(rS,{children:t.displayName}),E(iS,{children:t.email}),U("div",{className:"d-flex justify-content-start rounded-3 p-2 mb-2",style:{backgroundColor:"#efefef"},children:[U("div",{children:[E("p",{className:"small text-muted mb-1",children:"Favorites"}),E("p",{className:"mb-0",children:"4"})]}),U("div",{className:"px-3",children:[E("p",{className:"small text-muted mb-1",children:"Closet"}),E("p",{className:"mb-0",children:"22"})]}),U("div",{children:[E("p",{className:"small text-muted mb-1",children:"Followers"}),E("p",{className:"mb-0",children:"8"})]})]}),E("div",{className:"d-flex pt-1"})]})]})})})})})})}):E("h5",{className:"text-muted",children:"Loading user profile..."})},dS=({input:t})=>{const e=mi(),[n,r]=p.useState(null),[i,s]=p.useState(null),[o,a]=E4("/files/"+e.uid+"/"+Kf()),[l]=gc("/"),[c]=Ca("/closet"),u=async()=>{const h=await(await fetch(t)).blob();return new File([h],"image.jpg",{type:h.type})},d=async()=>{if(!i||!n)return;const f=await u(),h=c[e.uid],m=h[n];if(!f||(o(f),!a))return;const v=Kf(),w={id:v,available:!0,weather:i,url:a},g=m?{...m,[v]:w}:{[v]:w};n==="tops"?h.tops=g:n==="jackets"?h.jackets=g:n==="dresses"?h.dresses=g:n==="bottoms"?h.bottoms=g:n==="shoes"&&(h.shoes=g),l({["/closet/"+e.uid]:h})};return e?U(q,{className:"mt-2",children:[U(q,{children:[E("h5",{className:"link-upload-tag",children:"Category:"}),U(q,{className:"link-upload-category-container",children:[E(Fe,{className:n==="tops"?"link-upload-button-active":"",onClick:()=>r("tops"),children:"Top"}),E(Fe,{className:n==="jackets"?"link-upload-button-active":"",onClick:()=>r("jackets"),children:"Jacket"}),E(Fe,{className:n==="bottoms"?"link-upload-button-active":"",onClick:()=>r("bottoms"),children:"Bottom"}),E(Fe,{className:n==="shoes"?"link-upload-button-active":"",onClick:()=>r("shoes"),children:"Shoes"}),E(Fe,{className:n==="dresses"?"link-upload-button-active":"",onClick:()=>r("dresses"),children:"Dress"})]})]}),U(q,{className:"mt-2",children:[E("h5",{className:"link-upload-tag",children:"I'll wear this when it's:"}),U(q,{className:"link-upload-weather-container",children:[E(Fe,{className:i==="cold"?"link-upload-button-active":"",onClick:()=>s("cold"),children:"Cold"}),E(Fe,{className:i==="warm"?"link-upload-button-active":"",onClick:()=>s("warm"),children:"Warm"}),E(Fe,{className:i==="rainy"?"link-upload-button-active":"",onClick:()=>s("rainy"),children:"Rainy"}),E(Fe,{className:i==="sunny"?"link-upload-button-active":"",onClick:()=>s("sunny"),children:"Sunny"})]})]}),U(q,{className:"mt-5 link-upload-buttons-container",children:[E(Fe,{children:"Add another Item"}),E(Fe,{onClick:d,children:"I'm done!"})]})]}):E("h5",{className:"text-muted",children:"Loading user profile..."})},oU=({step:t})=>{const[e,n]=p.useState(),[r,i]=p.useState(!1),[s,o]=p.useState(!0),a=()=>{i(!0),o(!0)},l=c=>{c.keyCode===13&&o(!0)};return U(q,{className:"mt-3",children:[E(q,{className:"mb-2",children:E(Zw,{size:24,onClick:()=>t(0)})}),U(q,{className:"mb-3",children:[E("h4",{className:"add-title",children:"Add via link"}),U(q,{className:"link-upload-form",children:[E(VC.Control,{type:"text",placeholder:"Enter your link...",onChange:c=>n(c.target.value),onKeyDown:c=>l(c)}),E(T4,{className:"ps-2",size:38,onClick:a})]})]}),r&&s&&E(q,{className:"add-image-container",children:E(GC,{className:"add-image",src:e,onError:()=>o(!1)})}),r&&!s&&E("h4",{className:"text-center text-muted",children:"Invalid Image"}),r&&s&&E(dS,{input:e})]})};function aU(t){return tn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}]})(t)}var qf={},lU={get exports(){return qf},set exports(t){qf=t}};(function(t,e){(function(r,i){t.exports=i(p)})(hd,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)s.d(l,c,function(u){return o[u]}.bind(null,c));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var f=function(h,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,w){v.__proto__=w}||function(v,w){for(var g in w)w.hasOwnProperty(g)&&(v[g]=w[g])},f(h,m)};return function(h,m){f(h,m);function v(){this.constructor=h}h.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}}(),l=function(){return l=Object.assign||function(f){for(var h,m=1,v=arguments.length;m<v;m++){h=arguments[m];for(var w in h)Object.prototype.hasOwnProperty.call(h,w)&&(f[w]=h[w])}return f},l.apply(this,arguments)},c=function(f,h){var m={};for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&h.indexOf(v)<0&&(m[v]=f[v]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,v=Object.getOwnPropertySymbols(f);w<v.length;w++)h.indexOf(v[w])<0&&Object.prototype.propertyIsEnumerable.call(f,v[w])&&(m[v[w]]=f[v[w]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(v,w){m.call(navigator,h,v,w)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(f){a(h,f);function h(m){var v=f.call(this,m)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return h.prototype.componentDidMount=function(){var m=this,v=m.state,w=m.props;if(this.unmounted=!1,!u()){w.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),w.children&&typeof w.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(m){var v=this.props;if(!u()){v.onUserMediaError("getUserMedia not supported");return}var w=JSON.stringify(m.audioConstraints)!==JSON.stringify(v.audioConstraints),g=JSON.stringify(m.videoConstraints)!==JSON.stringify(v.videoConstraints),_=m.minScreenshotWidth!==v.minScreenshotWidth,y=m.minScreenshotHeight!==v.minScreenshotHeight;(g||_||y)&&(this.canvas=null,this.ctx=null),(w||g)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(v){m.removeTrack(v),v.stop()}),m.getAudioTracks().map(function(v){m.removeTrack(v),v.stop()})):m.stop())},h.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(h.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},h.prototype.getScreenshot=function(m){var v=this,w=v.state,g=v.props;if(!w.hasUserMedia)return null;var _=this.getCanvas(m);return _&&_.toDataURL(g.screenshotFormat,g.screenshotQuality)},h.prototype.getCanvas=function(m){var v=this,w=v.state,g=v.props;if(!this.video||!w.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var _=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var C=_/y;_=g.minScreenshotWidth||this.video.clientWidth,y=_/C,g.minScreenshotHeight&&y<g.minScreenshotHeight&&(y=g.minScreenshotHeight,_=y*C)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||_,this.canvas.height=(m==null?void 0:m.height)||y,this.ctx=this.canvas.getContext("2d")}var k=this,S=k.ctx,T=k.canvas;return S&&T&&(g.mirrored&&(S.translate(T.width,0),S.scale(-1,1)),S.imageSmoothingEnabled=g.imageSmoothing,S.drawImage(this.video,0,0,(m==null?void 0:m.width)||T.width,(m==null?void 0:m.height)||T.height),g.mirrored&&(S.scale(-1,1),S.translate(-T.width,0))),T},h.prototype.requestUserMedia=function(){var m=this,v=this.props,w=function(y,C){var k={video:typeof C<"u"?C:!0};v.audio&&(k.audio=typeof y<"u"?y:!0),m.requestUserMediaId++;var S=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(k).then(function(T){m.unmounted||S!==m.requestUserMediaId?h.stopMediaStream(T):m.handleUserMedia(null,T)}).catch(function(T){m.handleUserMedia(T)})};if("mediaDevices"in navigator)w(v.audioConstraints,v.videoConstraints);else{var g=function(y){return{optional:[{sourceId:y}]}},_=function(y){var C=y.deviceId;return typeof C=="string"?C:Array.isArray(C)&&C.length>0?C[0]:typeof C=="object"&&C.ideal?C.ideal:null};MediaStreamTrack.getSources(function(y){var C=null,k=null;y.forEach(function(I){I.kind==="audio"?C=I.id:I.kind==="video"&&(k=I.id)});var S=_(v.audioConstraints);S&&(C=S);var T=_(v.videoConstraints);T&&(k=T),w(g(C),g(k))})}},h.prototype.handleUserMedia=function(m,v){var w=this.props;if(m||!v){this.setState({hasUserMedia:!1}),w.onUserMediaError(m);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}w.onUserMedia(v)},h.prototype.render=function(){var m=this,v=this,w=v.state,g=v.props,_=g.audio;g.forceScreenshotSourceSize,g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var y=g.mirrored,C=g.style,k=C===void 0?{}:C,S=g.children,T=c(g,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),I=y?l(l({},k),{transform:(k.transform||"")+" scaleX(-1)"}):k,b={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,src:w.src,muted:!_,playsInline:!0,ref:function(R){m.video=R},style:I},T)),S&&S(b))},h.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(o.Component);i.default=d},react:function(r,i){r.exports=n}}).default})})(lU);const cU=Yf(qf),uU=({setImgBytes:t})=>{const e={facingMode:"environment"},n=N.useRef(null),r=N.useCallback(()=>{const i=n.current.getScreenshot();t(i)},[n]);return U(q,{className:"webcam-container",children:[E(q,{children:E(cU,{className:"webcam",audio:!1,ref:n,screenshotFormat:"image/jpeg",videoConstraints:e})}),E(q,{className:"mt-2",children:E(aU,{size:34,onClick:r})})]})},dU=({step:t})=>{const[e,n]=p.useState(null);return U(q,{className:"mt-3",children:[E(q,{className:"mb-2",children:E(Zw,{size:24,onClick:()=>t(0)})}),!e&&E(uU,{setImgBytes:n}),e&&U(q,{children:[E(GC,{className:"add-image-camera",src:e,alt:"camera"}),E(dS,{input:e})]})]})},fU=()=>{const[t,e]=p.useState(null),[n,r]=p.useState(0),i=()=>{e("camera"),r(1)},s=()=>{e("link"),r(1)};if(n===0)return U(q,{className:"upload-container",children:[U("h4",{className:"add-title",children:["Let's add ",E("br",{})," your clothes"]}),E("p",{className:"add-subtitle",children:"You can do this by taking photos of each piece, or adding a link to where you bought them from online"}),U(q,{className:"add-button-container",children:[E(Fe,{className:"add-button",onClick:i,children:"Use Camera"}),E(Fe,{className:"add-button",onClick:s,children:"Use Link"})]})]});if(n===1&&t==="link")return E(oU,{step:r});if(n===1&&t==="camera")return E(dU,{step:r})},hU=()=>{const t=mi();return E(LN,{children:U(MN,{children:[E(Pr,{path:"/login",element:E(c3,{})}),E(Pr,{path:"/add",element:t?U(mt,{children:[E(qs,{}),E(fU,{}),E(Ys,{})]}):E($s,{replace:!0,to:"/login"})}),E(Pr,{path:"/",element:t?U(mt,{children:[E(qs,{}),E(C3,{}),E(Ys,{})]}):E($s,{replace:!0,to:"/login"})}),E(Pr,{path:"/favorites",element:t?U(mt,{children:[E(qs,{}),E(h3,{}),E(Ys,{})]}):E($s,{replace:!0,to:"/login"})}),E(Pr,{path:"/view-profile",element:t?U(mt,{children:[E(qs,{}),E(sU,{}),E(Ys,{})]}):E($s,{replace:!0,to:"/login"})}),E(Pr,{path:"/closet",element:t?U(mt,{children:[E(qs,{}),E(d3,{}),E(Ys,{})]}):E($s,{replace:!0,to:"/login"})})]})})};const pU=md.createRoot(document.getElementById("root"));pU.render(E(N.StrictMode,{children:E(hU,{})}));
