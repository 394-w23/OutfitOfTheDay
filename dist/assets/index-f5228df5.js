function PS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var AS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ao={},DS={get exports(){return Ao},set exports(t){Ao=t}},Rc={},h={},MS={get exports(){return h},set exports(t){h=t}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),LS=Symbol.for("react.portal"),FS=Symbol.for("react.fragment"),US=Symbol.for("react.strict_mode"),$S=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),jS=Symbol.for("react.context"),zS=Symbol.for("react.forward_ref"),WS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),VS=Symbol.for("react.lazy"),Hm=Symbol.iterator;function GS(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var Zy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e_=Object.assign,t_={};function Os(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Zy}Os.prototype.isReactComponent={};Os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n_(){}n_.prototype=Os.prototype;function nh(t,e,n){this.props=t,this.context=e,this.refs=t_,this.updater=n||Zy}var rh=nh.prototype=new n_;rh.constructor=nh;e_(rh,Os.prototype);rh.isPureReactComponent=!0;var Vm=Array.isArray,r_=Object.prototype.hasOwnProperty,ih={current:null},i_={key:!0,ref:!0,__self:!0,__source:!0};function s_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)r_.call(e,r)&&!i_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ma,type:t,key:s,ref:o,props:i,_owner:ih.current}}function KS(t,e){return{$$typeof:ma,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ma}function qS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gm=/\/+/g;function wu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qS(""+t.key):e.toString(36)}function cl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ma:case LS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+wu(o,0):r,Vm(i)?(n="",t!=null&&(n=t.replace(Gm,"$&/")+"/"),cl(i,e,n,"",function(c){return c})):i!=null&&(sh(i)&&(i=KS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+wu(s,a);o+=cl(s,e,n,l,i)}else if(l=GS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+wu(s,a++),o+=cl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fa(t,e,n){if(t==null)return t;var r=[],i=0;return cl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},ul={transition:null},QS={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ul,ReactCurrentOwner:ih};ue.Children={map:Fa,forEach:function(t,e,n){Fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fa(t,function(){e++}),e},toArray:function(t){return Fa(t,function(e){return e})||[]},only:function(t){if(!sh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Os;ue.Fragment=FS;ue.Profiler=$S;ue.PureComponent=nh;ue.StrictMode=US;ue.Suspense=WS;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ih.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)r_.call(e,l)&&!i_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ma,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:jS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BS,_context:t},t.Consumer=t};ue.createElement=s_;ue.createFactory=function(t){var e=s_.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:zS,render:t}};ue.isValidElement=sh;ue.lazy=function(t){return{$$typeof:VS,_payload:{_status:-1,_result:t},_init:YS}};ue.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,e){return ht.current.useCallback(t,e)};ue.useContext=function(t){return ht.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ue.useEffect=function(t,e){return ht.current.useEffect(t,e)};ue.useId=function(){return ht.current.useId()};ue.useImperativeHandle=function(t,e,n){return ht.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return ht.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return ht.current.useReducer(t,e,n)};ue.useRef=function(t){return ht.current.useRef(t)};ue.useState=function(t){return ht.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return ht.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return ht.current.useTransition()};ue.version="18.2.0";(function(t){t.exports=ue})(MS);const I=th(h),_d=PS({__proto__:null,default:I},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=h,JS=Symbol.for("react.element"),ZS=Symbol.for("react.fragment"),ek=Object.prototype.hasOwnProperty,tk=XS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nk={key:!0,ref:!0,__self:!0,__source:!0};function o_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ek.call(e,r)&&!nk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JS,type:t,key:s,ref:o,props:i,_owner:tk.current}}Rc.Fragment=ZS;Rc.jsx=o_;Rc.jsxs=o_;(function(t){t.exports=Rc})(DS);const $e=Ao.Fragment,v=Ao.jsx,P=Ao.jsxs;var wd={},Tl={},rk={get exports(){return Tl},set exports(t){Tl=t}},Dt={},Ed={},ik={get exports(){return Ed},set exports(t){Ed=t}},a_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var L=O.length;O.push(U);e:for(;0<L;){var Q=L-1>>>1,V=O[Q];if(0<i(V,U))O[Q]=U,O[L]=V,L=Q;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],L=O.pop();if(L!==U){O[0]=L;e:for(var Q=0,V=O.length,se=V>>>1;Q<se;){var te=2*(Q+1)-1,q=O[te],B=te+1,ae=O[B];if(0>i(q,L))B<V&&0>i(ae,q)?(O[Q]=ae,O[B]=L,Q=B):(O[Q]=q,O[te]=L,Q=te);else if(B<V&&0>i(ae,L))O[Q]=ae,O[B]=L,Q=B;else break e}}return U}function i(O,U){var L=O.sortIndex-U.sortIndex;return L!==0?L:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=O)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function C(O){if(g=!1,w(O),!m)if(n(l)!==null)m=!0,H(N);else{var U=n(c);U!==null&&K(C,U.startTime-O)}}function N(O,U){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var L=f;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||O&&!x());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var V=Q(d.expirationTime<=U);U=t.unstable_now(),typeof V=="function"?d.callback=V:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var se=!0;else{var te=n(c);te!==null&&K(C,te.startTime-U),se=!1}return se}finally{d=null,f=L,p=!1}}var S=!1,k=null,T=-1,R=5,b=-1;function x(){return!(t.unstable_now()-b<R)}function F(){if(k!==null){var O=t.unstable_now();b=O;var U=!0;try{U=k(!0,O)}finally{U?z():(S=!1,k=null)}}else S=!1}var z;if(typeof _=="function")z=function(){_(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,J=ee.port2;ee.port1.onmessage=F,z=function(){J.postMessage(null)}}else z=function(){E(F,0)};function H(O){k=O,S||(S=!0,z())}function K(O,U){T=E(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,H(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var L=f;f=U;try{return O()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=f;f=O;try{return U()}finally{f=L}},t.unstable_scheduleCallback=function(O,U,L){var Q=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Q+L:Q):L=Q,O){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=L+V,O={id:u++,callback:U,priorityLevel:O,startTime:L,expirationTime:V,sortIndex:-1},L>Q?(O.sortIndex=L,e(c,O),n(l)===null&&O===n(c)&&(g?(y(T),T=-1):g=!0,K(C,L-Q))):(O.sortIndex=V,e(l,O),m||p||(m=!0,H(N))),O},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(O){var U=f;return function(){var L=f;f=U;try{return O.apply(this,arguments)}finally{f=L}}}})(a_);(function(t){t.exports=a_})(ik);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_=h,At=Ed;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c_=new Set,Do={};function Ii(t,e){hs(t,e),hs(t+"Capture",e)}function hs(t,e){for(Do[t]=e,t=0;t<e.length;t++)c_.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=Object.prototype.hasOwnProperty,sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Km={},qm={};function ok(t){return Cd.call(qm,t)?!0:Cd.call(Km,t)?!1:sk.test(t)?qm[t]=!0:(Km[t]=!0,!1)}function ak(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lk(t,e,n,r){if(e===null||typeof e>"u"||ak(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var oh=/[\-:]([a-z])/g;function ah(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oh,ah);nt[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oh,ah);nt[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oh,ah);nt[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function lh(t,e,n,r){var i=nt.hasOwnProperty(e)?nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lk(e,n,i,r)&&(n=null),r||i===null?ok(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kn=l_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),Sd=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),uh=Symbol.for("react.forward_ref"),kd=Symbol.for("react.suspense"),Nd=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),f_=Symbol.for("react.offscreen"),Ym=Symbol.iterator;function qs(t){return t===null||typeof t!="object"?null:(t=Ym&&t[Ym]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Eu;function co(t){if(Eu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eu=e&&e[1]||""}return`
`+Eu+t}var Cu=!1;function Su(t,e){if(!t||Cu)return"";Cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?co(t):""}function ck(t){switch(t.tag){case 5:return co(t.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return t=Su(t.type,!1),t;case 11:return t=Su(t.type.render,!1),t;case 1:return t=Su(t.type,!0),t;default:return""}}function Td(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case Bi:return"Portal";case Sd:return"Profiler";case ch:return"StrictMode";case kd:return"Suspense";case Nd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case d_:return(t.displayName||"Context")+".Consumer";case u_:return(t._context.displayName||"Context")+".Provider";case uh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dh:return e=t.displayName||null,e!==null?e:Td(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return Td(t(e))}catch{}}return null}function uk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Td(e);case 8:return e===ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dk(t){var e=h_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $a(t){t._valueTracker||(t._valueTracker=dk(t))}function p_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Id(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=br(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m_(t,e){e=e.checked,e!=null&&lh(t,"checked",e,!1)}function bd(t,e){m_(t,e);var n=br(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rd(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rd(t,e,n){(e!=="number"||Il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var uo=Array.isArray;function ts(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+br(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(uo(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:br(n)}}function g_(t,e){var n=br(e.value),r=br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Od(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ba,y_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fk=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(t){fk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mo[e]=mo[t]})});function __(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mo.hasOwnProperty(t)&&mo[t]?(""+e).trim():e+"px"}function w_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=__(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hk=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pd(t,e){if(e){if(hk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Ad(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=null;function fh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Md=null,ns=null,rs=null;function eg(t){if(t=ya(t)){if(typeof Md!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Dc(e),Md(t.stateNode,t.type,e))}}function E_(t){ns?rs?rs.push(t):rs=[t]:ns=t}function C_(){if(ns){var t=ns,e=rs;if(rs=ns=null,eg(t),e)for(t=0;t<e.length;t++)eg(e[t])}}function S_(t,e){return t(e)}function k_(){}var ku=!1;function N_(t,e,n){if(ku)return t(e,n);ku=!0;try{return S_(t,e,n)}finally{ku=!1,(ns!==null||rs!==null)&&(k_(),C_())}}function Lo(t,e){var n=t.stateNode;if(n===null)return null;var r=Dc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Ld=!1;if(Un)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){Ld=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Ld=!1}function pk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var go=!1,bl=null,Rl=!1,Fd=null,mk={onError:function(t){go=!0,bl=t}};function gk(t,e,n,r,i,s,o,a,l){go=!1,bl=null,pk.apply(mk,arguments)}function vk(t,e,n,r,i,s,o,a,l){if(gk.apply(this,arguments),go){if(go){var c=bl;go=!1,bl=null}else throw Error(D(198));Rl||(Rl=!0,Fd=c)}}function bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tg(t){if(bi(t)!==t)throw Error(D(188))}function yk(t){var e=t.alternate;if(!e){if(e=bi(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return tg(i),t;if(s===r)return tg(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function I_(t){return t=yk(t),t!==null?b_(t):null}function b_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b_(t);if(e!==null)return e;t=t.sibling}return null}var R_=At.unstable_scheduleCallback,ng=At.unstable_cancelCallback,_k=At.unstable_shouldYield,wk=At.unstable_requestPaint,Ue=At.unstable_now,Ek=At.unstable_getCurrentPriorityLevel,hh=At.unstable_ImmediatePriority,x_=At.unstable_UserBlockingPriority,xl=At.unstable_NormalPriority,Ck=At.unstable_LowPriority,O_=At.unstable_IdlePriority,xc=null,hn=null;function Sk(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(xc,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Tk,kk=Math.log,Nk=Math.LN2;function Tk(t){return t>>>=0,t===0?32:31-(kk(t)/Nk|0)|0}var ja=64,za=4194304;function fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ol(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=fo(a):(s&=o,s!==0&&(r=fo(s)))}else o=n&~i,o!==0?r=fo(o):s!==0&&(r=fo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nn(e),i=1<<n,r|=t[n],e&=~i;return r}function Ik(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Ik(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ud(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P_(){var t=ja;return ja<<=1,!(ja&4194240)&&(ja=64),t}function Nu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=n}function Rk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ph(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function A_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D_,mh,M_,L_,F_,$d=!1,Wa=[],gr=null,vr=null,yr=null,Fo=new Map,Uo=new Map,or=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rg(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(e.pointerId)}}function Qs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ya(e),e!==null&&mh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ok(t,e,n,r,i){switch(e){case"focusin":return gr=Qs(gr,t,e,n,r,i),!0;case"dragenter":return vr=Qs(vr,t,e,n,r,i),!0;case"mouseover":return yr=Qs(yr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fo.set(s,Qs(Fo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Uo.set(s,Qs(Uo.get(s)||null,t,e,n,r,i)),!0}return!1}function U_(t){var e=Xr(t.target);if(e!==null){var n=bi(e);if(n!==null){if(e=n.tag,e===13){if(e=T_(n),e!==null){t.blockedOn=e,F_(t.priority,function(){M_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dd=r,n.target.dispatchEvent(r),Dd=null}else return e=ya(n),e!==null&&mh(e),t.blockedOn=n,!1;e.shift()}return!0}function ig(t,e,n){dl(t)&&n.delete(e)}function Pk(){$d=!1,gr!==null&&dl(gr)&&(gr=null),vr!==null&&dl(vr)&&(vr=null),yr!==null&&dl(yr)&&(yr=null),Fo.forEach(ig),Uo.forEach(ig)}function Xs(t,e){t.blockedOn===e&&(t.blockedOn=null,$d||($d=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,Pk)))}function $o(t){function e(i){return Xs(i,t)}if(0<Wa.length){Xs(Wa[0],t);for(var n=1;n<Wa.length;n++){var r=Wa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&Xs(gr,t),vr!==null&&Xs(vr,t),yr!==null&&Xs(yr,t),Fo.forEach(e),Uo.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)U_(n),n.blockedOn===null&&or.shift()}var is=Kn.ReactCurrentBatchConfig,Pl=!0;function Ak(t,e,n,r){var i=ye,s=is.transition;is.transition=null;try{ye=1,gh(t,e,n,r)}finally{ye=i,is.transition=s}}function Dk(t,e,n,r){var i=ye,s=is.transition;is.transition=null;try{ye=4,gh(t,e,n,r)}finally{ye=i,is.transition=s}}function gh(t,e,n,r){if(Pl){var i=Bd(t,e,n,r);if(i===null)Mu(t,e,r,Al,n),rg(t,r);else if(Ok(i,t,e,n,r))r.stopPropagation();else if(rg(t,r),e&4&&-1<xk.indexOf(t)){for(;i!==null;){var s=ya(i);if(s!==null&&D_(s),s=Bd(t,e,n,r),s===null&&Mu(t,e,r,Al,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mu(t,e,r,null,n)}}var Al=null;function Bd(t,e,n,r){if(Al=null,t=fh(r),t=Xr(t),t!==null)if(e=bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Al=t,null}function $_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ek()){case hh:return 1;case x_:return 4;case xl:case Ck:return 16;case O_:return 536870912;default:return 16}default:return 16}}var fr=null,vh=null,fl=null;function B_(){if(fl)return fl;var t,e=vh,n=e.length,r,i="value"in fr?fr.value:fr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return fl=i.slice(t,1<r?1-r:void 0)}function hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ha(){return!0}function sg(){return!1}function Mt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ha:sg,this.isPropagationStopped=sg,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=Mt(Ps),va=Ae({},Ps,{view:0,detail:0}),Mk=Mt(va),Tu,Iu,Js,Oc=Ae({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Js&&(Js&&t.type==="mousemove"?(Tu=t.screenX-Js.screenX,Iu=t.screenY-Js.screenY):Iu=Tu=0,Js=t),Tu)},movementY:function(t){return"movementY"in t?t.movementY:Iu}}),og=Mt(Oc),Lk=Ae({},Oc,{dataTransfer:0}),Fk=Mt(Lk),Uk=Ae({},va,{relatedTarget:0}),bu=Mt(Uk),$k=Ae({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Bk=Mt($k),jk=Ae({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zk=Mt(jk),Wk=Ae({},Ps,{data:0}),ag=Mt(Wk),Hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gk[t])?!!e[t]:!1}function _h(){return Kk}var qk=Ae({},va,{key:function(t){if(t.key){var e=Hk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(t){return t.type==="keypress"?hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yk=Mt(qk),Qk=Ae({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lg=Mt(Qk),Xk=Ae({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),Jk=Mt(Xk),Zk=Ae({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),eN=Mt(Zk),tN=Ae({},Oc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nN=Mt(tN),rN=[9,13,27,32],wh=Un&&"CompositionEvent"in window,vo=null;Un&&"documentMode"in document&&(vo=document.documentMode);var iN=Un&&"TextEvent"in window&&!vo,j_=Un&&(!wh||vo&&8<vo&&11>=vo),cg=String.fromCharCode(32),ug=!1;function z_(t,e){switch(t){case"keyup":return rN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function sN(t,e){switch(t){case"compositionend":return W_(e);case"keypress":return e.which!==32?null:(ug=!0,cg);case"textInput":return t=e.data,t===cg&&ug?null:t;default:return null}}function oN(t,e){if(zi)return t==="compositionend"||!wh&&z_(t,e)?(t=B_(),fl=vh=fr=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j_&&e.locale!=="ko"?null:e.data;default:return null}}var aN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aN[t.type]:e==="textarea"}function H_(t,e,n,r){E_(r),e=Dl(e,"onChange"),0<e.length&&(n=new yh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yo=null,Bo=null;function lN(t){t0(t,0)}function Pc(t){var e=Vi(t);if(p_(e))return t}function cN(t,e){if(t==="change")return e}var V_=!1;if(Un){var Ru;if(Un){var xu="oninput"in document;if(!xu){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),xu=typeof fg.oninput=="function"}Ru=xu}else Ru=!1;V_=Ru&&(!document.documentMode||9<document.documentMode)}function hg(){yo&&(yo.detachEvent("onpropertychange",G_),Bo=yo=null)}function G_(t){if(t.propertyName==="value"&&Pc(Bo)){var e=[];H_(e,Bo,t,fh(t)),N_(lN,e)}}function uN(t,e,n){t==="focusin"?(hg(),yo=e,Bo=n,yo.attachEvent("onpropertychange",G_)):t==="focusout"&&hg()}function dN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(Bo)}function fN(t,e){if(t==="click")return Pc(e)}function hN(t,e){if(t==="input"||t==="change")return Pc(e)}function pN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:pN;function jo(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cd.call(e,i)||!on(t[i],e[i]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,e){var n=pg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pg(n)}}function K_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q_(){for(var t=window,e=Il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Il(t.document)}return e}function Eh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mN(t){var e=q_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K_(n.ownerDocument.documentElement,n)){if(r!==null&&Eh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=mg(n,s);var o=mg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gN=Un&&"documentMode"in document&&11>=document.documentMode,Wi=null,jd=null,_o=null,zd=!1;function gg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zd||Wi==null||Wi!==Il(r)||(r=Wi,"selectionStart"in r&&Eh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&jo(_o,r)||(_o=r,r=Dl(jd,"onSelect"),0<r.length&&(e=new yh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wi)))}function Va(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},Ou={},Y_={};Un&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Ac(t){if(Ou[t])return Ou[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y_)return Ou[t]=e[n];return t}var Q_=Ac("animationend"),X_=Ac("animationiteration"),J_=Ac("animationstart"),Z_=Ac("transitionend"),e0=new Map,vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){e0.set(t,e),Ii(e,[t])}for(var Pu=0;Pu<vg.length;Pu++){var Au=vg[Pu],vN=Au.toLowerCase(),yN=Au[0].toUpperCase()+Au.slice(1);Lr(vN,"on"+yN)}Lr(Q_,"onAnimationEnd");Lr(X_,"onAnimationIteration");Lr(J_,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Z_,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_N=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function yg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vk(r,e,void 0,t),t.currentTarget=null}function t0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;yg(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;yg(i,a,c),s=l}}}if(Rl)throw t=Fd,Rl=!1,Fd=null,t}function Ne(t,e){var n=e[Kd];n===void 0&&(n=e[Kd]=new Set);var r=t+"__bubble";n.has(r)||(n0(e,t,2,!1),n.add(r))}function Du(t,e,n){var r=0;e&&(r|=4),n0(n,t,r,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[Ga]){t[Ga]=!0,c_.forEach(function(n){n!=="selectionchange"&&(_N.has(n)||Du(n,!1,t),Du(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,Du("selectionchange",!1,e))}}function n0(t,e,n,r){switch($_(e)){case 1:var i=Ak;break;case 4:i=Dk;break;default:i=gh}n=i.bind(null,e,n,t),i=void 0,!Ld||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}N_(function(){var c=s,u=fh(n),d=[];e:{var f=e0.get(t);if(f!==void 0){var p=yh,m=t;switch(t){case"keypress":if(hl(n)===0)break e;case"keydown":case"keyup":p=Yk;break;case"focusin":m="focus",p=bu;break;case"focusout":m="blur",p=bu;break;case"beforeblur":case"afterblur":p=bu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Jk;break;case Q_:case X_:case J_:p=Bk;break;case Z_:p=eN;break;case"scroll":p=Mk;break;case"wheel":p=nN;break;case"copy":case"cut":case"paste":p=zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lg}var g=(e&4)!==0,E=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var _=c,w;_!==null;){w=_;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,y!==null&&(C=Lo(_,y),C!=null&&g.push(Wo(_,C,w)))),E)break;_=_.return}0<g.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Dd&&(m=n.relatedTarget||n.fromElement)&&(Xr(m)||m[$n]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Xr(m):null,m!==null&&(E=bi(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=og,C="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=lg,C="onPointerLeave",y="onPointerEnter",_="pointer"),E=p==null?f:Vi(p),w=m==null?f:Vi(m),f=new g(C,_+"leave",p,n,u),f.target=E,f.relatedTarget=w,C=null,Xr(u)===c&&(g=new g(y,_+"enter",m,n,u),g.target=w,g.relatedTarget=E,C=g),E=C,p&&m)t:{for(g=p,y=m,_=0,w=g;w;w=Di(w))_++;for(w=0,C=y;C;C=Di(C))w++;for(;0<_-w;)g=Di(g),_--;for(;0<w-_;)y=Di(y),w--;for(;_--;){if(g===y||y!==null&&g===y.alternate)break t;g=Di(g),y=Di(y)}g=null}else g=null;p!==null&&_g(d,f,p,g,!1),m!==null&&E!==null&&_g(d,E,m,g,!0)}}e:{if(f=c?Vi(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=cN;else if(dg(f))if(V_)N=hN;else{N=dN;var S=uN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=fN);if(N&&(N=N(t,c))){H_(d,N,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Rd(f,"number",f.value)}switch(S=c?Vi(c):window,t){case"focusin":(dg(S)||S.contentEditable==="true")&&(Wi=S,jd=c,_o=null);break;case"focusout":_o=jd=Wi=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,gg(d,n,u);break;case"selectionchange":if(gN)break;case"keydown":case"keyup":gg(d,n,u)}var k;if(wh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zi?z_(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(j_&&n.locale!=="ko"&&(zi||T!=="onCompositionStart"?T==="onCompositionEnd"&&zi&&(k=B_()):(fr=u,vh="value"in fr?fr.value:fr.textContent,zi=!0)),S=Dl(c,T),0<S.length&&(T=new ag(T,t,null,n,u),d.push({event:T,listeners:S}),k?T.data=k:(k=W_(n),k!==null&&(T.data=k)))),(k=iN?sN(t,n):oN(t,n))&&(c=Dl(c,"onBeforeInput"),0<c.length&&(u=new ag("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}t0(d,e)})}function Wo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lo(t,n),s!=null&&r.unshift(Wo(t,s,i)),s=Lo(t,e),s!=null&&r.push(Wo(t,s,i))),t=t.return}return r}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _g(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Lo(n,s),l!=null&&o.unshift(Wo(n,l,a))):i||(l=Lo(n,s),l!=null&&o.push(Wo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wN=/\r\n?/g,EN=/\u0000|\uFFFD/g;function wg(t){return(typeof t=="string"?t:""+t).replace(wN,`
`).replace(EN,"")}function Ka(t,e,n){if(e=wg(e),wg(t)!==e&&n)throw Error(D(425))}function Ml(){}var Wd=null,Hd=null;function Vd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,CN=typeof clearTimeout=="function"?clearTimeout:void 0,Eg=typeof Promise=="function"?Promise:void 0,SN=typeof queueMicrotask=="function"?queueMicrotask:typeof Eg<"u"?function(t){return Eg.resolve(null).then(t).catch(kN)}:Gd;function kN(t){setTimeout(function(){throw t})}function Lu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$o(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$o(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var As=Math.random().toString(36).slice(2),un="__reactFiber$"+As,Ho="__reactProps$"+As,$n="__reactContainer$"+As,Kd="__reactEvents$"+As,NN="__reactListeners$"+As,TN="__reactHandles$"+As;function Xr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cg(t);t!==null;){if(n=t[un])return n;t=Cg(t)}return e}t=n,n=t.parentNode}return null}function ya(t){return t=t[un]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Dc(t){return t[Ho]||null}var qd=[],Gi=-1;function Fr(t){return{current:t}}function Ie(t){0>Gi||(t.current=qd[Gi],qd[Gi]=null,Gi--)}function ke(t,e){Gi++,qd[Gi]=t.current,t.current=e}var Rr={},lt=Fr(Rr),St=Fr(!1),di=Rr;function ps(t,e){var n=t.type.contextTypes;if(!n)return Rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kt(t){return t=t.childContextTypes,t!=null}function Ll(){Ie(St),Ie(lt)}function Sg(t,e,n){if(lt.current!==Rr)throw Error(D(168));ke(lt,e),ke(St,n)}function r0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,uk(t)||"Unknown",i));return Ae({},n,r)}function Fl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,di=lt.current,ke(lt,t),ke(St,St.current),!0}function kg(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=r0(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,Ie(St),Ie(lt),ke(lt,t)):Ie(St),ke(St,n)}var Nn=null,Mc=!1,Fu=!1;function i0(t){Nn===null?Nn=[t]:Nn.push(t)}function IN(t){Mc=!0,i0(t)}function Ur(){if(!Fu&&Nn!==null){Fu=!0;var t=0,e=ye;try{var n=Nn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,Mc=!1}catch(i){throw Nn!==null&&(Nn=Nn.slice(t+1)),R_(hh,Ur),i}finally{ye=e,Fu=!1}}return null}var Ki=[],qi=0,Ul=null,$l=0,Lt=[],Ft=0,fi=null,Rn=1,xn="";function Kr(t,e){Ki[qi++]=$l,Ki[qi++]=Ul,Ul=t,$l=e}function s0(t,e,n){Lt[Ft++]=Rn,Lt[Ft++]=xn,Lt[Ft++]=fi,fi=t;var r=Rn;t=xn;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var s=32-nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rn=1<<32-nn(e)+i|n<<i|r,xn=s+t}else Rn=1<<s|n<<i|r,xn=t}function Ch(t){t.return!==null&&(Kr(t,1),s0(t,1,0))}function Sh(t){for(;t===Ul;)Ul=Ki[--qi],Ki[qi]=null,$l=Ki[--qi],Ki[qi]=null;for(;t===fi;)fi=Lt[--Ft],Lt[Ft]=null,xn=Lt[--Ft],Lt[Ft]=null,Rn=Lt[--Ft],Lt[Ft]=null}var Pt=null,xt=null,Re=!1,Jt=null;function o0(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ng(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,xt=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fi!==null?{id:Rn,overflow:xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,xt=null,!0):!1;default:return!1}}function Yd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qd(t){if(Re){var e=xt;if(e){var n=e;if(!Ng(t,e)){if(Yd(t))throw Error(D(418));e=_r(n.nextSibling);var r=Pt;e&&Ng(t,e)?o0(r,n):(t.flags=t.flags&-4097|2,Re=!1,Pt=t)}}else{if(Yd(t))throw Error(D(418));t.flags=t.flags&-4097|2,Re=!1,Pt=t}}}function Tg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function qa(t){if(t!==Pt)return!1;if(!Re)return Tg(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vd(t.type,t.memoizedProps)),e&&(e=xt)){if(Yd(t))throw a0(),Error(D(418));for(;e;)o0(t,e),e=_r(e.nextSibling)}if(Tg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xt=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xt=null}}else xt=Pt?_r(t.stateNode.nextSibling):null;return!0}function a0(){for(var t=xt;t;)t=_r(t.nextSibling)}function ms(){xt=Pt=null,Re=!1}function kh(t){Jt===null?Jt=[t]:Jt.push(t)}var bN=Kn.ReactCurrentBatchConfig;function Qt(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bl=Fr(null),jl=null,Yi=null,Nh=null;function Th(){Nh=Yi=jl=null}function Ih(t){var e=Bl.current;Ie(Bl),t._currentValue=e}function Xd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ss(t,e){jl=t,Nh=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(Nh!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(jl===null)throw Error(D(308));Yi=t,jl.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var Jr=null;function bh(t){Jr===null?Jr=[t]:Jr.push(t)}function l0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bn(t,r)}function Bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function Rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bn(t,n)}return i=r.interleaved,i===null?(e.next=e,bh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bn(t,n)}function pl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ph(t,n)}}function Ig(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zl(t,e,n,r){var i=t.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Ae({},d,f);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pi|=o,t.lanes=o,t.memoizedState=d}}function bg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var u0=new l_.Component().refs;function Jd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lc={isMounted:function(t){return(t=t._reactInternals)?bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Cr(t),s=Dn(r,i);s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(rn(e,t,i,r),pl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Cr(t),s=Dn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wr(t,s,i),e!==null&&(rn(e,t,i,r),pl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=Cr(t),i=Dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=wr(t,i,r),e!==null&&(rn(e,t,r,n),pl(e,t,r))}};function Rg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jo(n,r)||!jo(i,s):!0}function d0(t,e,n){var r=!1,i=Rr,s=e.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=kt(e)?di:lt.current,r=e.contextTypes,s=(r=r!=null)?ps(t,i):Rr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function Zd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=u0,Rh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=kt(e)?di:lt.current,i.context=ps(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lc.enqueueReplaceState(i,i.state,null),zl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===u0&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Ya(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Og(t){var e=t._init;return e(t._payload)}function f0(t){function e(y,_){if(t){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Sr(y,_),y.index=0,y.sibling=null,y}function s(y,_,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=2,_):w):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,w,C){return _===null||_.tag!==6?(_=Hu(w,y.mode,C),_.return=y,_):(_=i(_,w),_.return=y,_)}function l(y,_,w,C){var N=w.type;return N===ji?u(y,_,w.props.children,C,w.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===rr&&Og(N)===_.type)?(C=i(_,w.props),C.ref=Zs(y,_,w),C.return=y,C):(C=wl(w.type,w.key,w.props,null,y.mode,C),C.ref=Zs(y,_,w),C.return=y,C)}function c(y,_,w,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Vu(w,y.mode,C),_.return=y,_):(_=i(_,w.children||[]),_.return=y,_)}function u(y,_,w,C,N){return _===null||_.tag!==7?(_=si(w,y.mode,C,N),_.return=y,_):(_=i(_,w),_.return=y,_)}function d(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Hu(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ua:return w=wl(_.type,_.key,_.props,null,y.mode,w),w.ref=Zs(y,null,_),w.return=y,w;case Bi:return _=Vu(_,y.mode,w),_.return=y,_;case rr:var C=_._init;return d(y,C(_._payload),w)}if(uo(_)||qs(_))return _=si(_,y.mode,w,null),_.return=y,_;Ya(y,_)}return null}function f(y,_,w,C){var N=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:a(y,_,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ua:return w.key===N?l(y,_,w,C):null;case Bi:return w.key===N?c(y,_,w,C):null;case rr:return N=w._init,f(y,_,N(w._payload),C)}if(uo(w)||qs(w))return N!==null?null:u(y,_,w,C,null);Ya(y,w)}return null}function p(y,_,w,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(w)||null,a(_,y,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ua:return y=y.get(C.key===null?w:C.key)||null,l(_,y,C,N);case Bi:return y=y.get(C.key===null?w:C.key)||null,c(_,y,C,N);case rr:var S=C._init;return p(y,_,w,S(C._payload),N)}if(uo(C)||qs(C))return y=y.get(w)||null,u(_,y,C,N,null);Ya(_,C)}return null}function m(y,_,w,C){for(var N=null,S=null,k=_,T=_=0,R=null;k!==null&&T<w.length;T++){k.index>T?(R=k,k=null):R=k.sibling;var b=f(y,k,w[T],C);if(b===null){k===null&&(k=R);break}t&&k&&b.alternate===null&&e(y,k),_=s(b,_,T),S===null?N=b:S.sibling=b,S=b,k=R}if(T===w.length)return n(y,k),Re&&Kr(y,T),N;if(k===null){for(;T<w.length;T++)k=d(y,w[T],C),k!==null&&(_=s(k,_,T),S===null?N=k:S.sibling=k,S=k);return Re&&Kr(y,T),N}for(k=r(y,k);T<w.length;T++)R=p(k,y,T,w[T],C),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?T:R.key),_=s(R,_,T),S===null?N=R:S.sibling=R,S=R);return t&&k.forEach(function(x){return e(y,x)}),Re&&Kr(y,T),N}function g(y,_,w,C){var N=qs(w);if(typeof N!="function")throw Error(D(150));if(w=N.call(w),w==null)throw Error(D(151));for(var S=N=null,k=_,T=_=0,R=null,b=w.next();k!==null&&!b.done;T++,b=w.next()){k.index>T?(R=k,k=null):R=k.sibling;var x=f(y,k,b.value,C);if(x===null){k===null&&(k=R);break}t&&k&&x.alternate===null&&e(y,k),_=s(x,_,T),S===null?N=x:S.sibling=x,S=x,k=R}if(b.done)return n(y,k),Re&&Kr(y,T),N;if(k===null){for(;!b.done;T++,b=w.next())b=d(y,b.value,C),b!==null&&(_=s(b,_,T),S===null?N=b:S.sibling=b,S=b);return Re&&Kr(y,T),N}for(k=r(y,k);!b.done;T++,b=w.next())b=p(k,y,T,b.value,C),b!==null&&(t&&b.alternate!==null&&k.delete(b.key===null?T:b.key),_=s(b,_,T),S===null?N=b:S.sibling=b,S=b);return t&&k.forEach(function(F){return e(y,F)}),Re&&Kr(y,T),N}function E(y,_,w,C){if(typeof w=="object"&&w!==null&&w.type===ji&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ua:e:{for(var N=w.key,S=_;S!==null;){if(S.key===N){if(N=w.type,N===ji){if(S.tag===7){n(y,S.sibling),_=i(S,w.props.children),_.return=y,y=_;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===rr&&Og(N)===S.type){n(y,S.sibling),_=i(S,w.props),_.ref=Zs(y,S,w),_.return=y,y=_;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===ji?(_=si(w.props.children,y.mode,C,w.key),_.return=y,y=_):(C=wl(w.type,w.key,w.props,null,y.mode,C),C.ref=Zs(y,_,w),C.return=y,y=C)}return o(y);case Bi:e:{for(S=w.key;_!==null;){if(_.key===S)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(y,_.sibling),_=i(_,w.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=Vu(w,y.mode,C),_.return=y,y=_}return o(y);case rr:return S=w._init,E(y,_,S(w._payload),C)}if(uo(w))return m(y,_,w,C);if(qs(w))return g(y,_,w,C);Ya(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,w),_.return=y,y=_):(n(y,_),_=Hu(w,y.mode,C),_.return=y,y=_),o(y)):n(y,_)}return E}var gs=f0(!0),h0=f0(!1),_a={},pn=Fr(_a),Vo=Fr(_a),Go=Fr(_a);function Zr(t){if(t===_a)throw Error(D(174));return t}function xh(t,e){switch(ke(Go,e),ke(Vo,t),ke(pn,_a),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Od(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Od(e,t)}Ie(pn),ke(pn,e)}function vs(){Ie(pn),Ie(Vo),Ie(Go)}function p0(t){Zr(Go.current);var e=Zr(pn.current),n=Od(e,t.type);e!==n&&(ke(Vo,t),ke(pn,n))}function Oh(t){Vo.current===t&&(Ie(pn),Ie(Vo))}var Oe=Fr(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uu=[];function Ph(){for(var t=0;t<Uu.length;t++)Uu[t]._workInProgressVersionPrimary=null;Uu.length=0}var ml=Kn.ReactCurrentDispatcher,$u=Kn.ReactCurrentBatchConfig,hi=0,Pe=null,je=null,Ge=null,Hl=!1,wo=!1,Ko=0,RN=0;function it(){throw Error(D(321))}function Ah(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function Dh(t,e,n,r,i,s){if(hi=s,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ml.current=t===null||t.memoizedState===null?AN:DN,t=n(r,i),wo){s=0;do{if(wo=!1,Ko=0,25<=s)throw Error(D(301));s+=1,Ge=je=null,e.updateQueue=null,ml.current=MN,t=n(r,i)}while(wo)}if(ml.current=Vl,e=je!==null&&je.next!==null,hi=0,Ge=je=Pe=null,Hl=!1,e)throw Error(D(300));return t}function Mh(){var t=Ko!==0;return Ko=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Pe.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function zt(){if(je===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Ge===null?Pe.memoizedState:Ge.next;if(e!==null)Ge=e,je=t;else{if(t===null)throw Error(D(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ge===null?Pe.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function qo(t,e){return typeof e=="function"?e(t):e}function Bu(t){var e=zt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((hi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Pe.lanes|=u,pi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,on(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Pe.lanes|=s,pi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ju(t){var e=zt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);on(s,e.memoizedState)||(wt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function m0(){}function g0(t,e){var n=Pe,r=zt(),i=e(),s=!on(r.memoizedState,i);if(s&&(r.memoizedState=i,wt=!0),r=r.queue,Lh(_0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Yo(9,y0.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(D(349));hi&30||v0(n,e,i)}return i}function v0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y0(t,e,n,r){e.value=n,e.getSnapshot=r,w0(e)&&E0(t)}function _0(t,e,n){return n(function(){w0(e)&&E0(t)})}function w0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function E0(t){var e=Bn(t,1);e!==null&&rn(e,t,1,-1)}function Pg(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},e.queue=t,t=t.dispatch=PN.bind(null,Pe,t),[e.memoizedState,t]}function Yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function C0(){return zt().memoizedState}function gl(t,e,n,r){var i=cn();Pe.flags|=t,i.memoizedState=Yo(1|e,n,void 0,r===void 0?null:r)}function Fc(t,e,n,r){var i=zt();r=r===void 0?null:r;var s=void 0;if(je!==null){var o=je.memoizedState;if(s=o.destroy,r!==null&&Ah(r,o.deps)){i.memoizedState=Yo(e,n,s,r);return}}Pe.flags|=t,i.memoizedState=Yo(1|e,n,s,r)}function Ag(t,e){return gl(8390656,8,t,e)}function Lh(t,e){return Fc(2048,8,t,e)}function S0(t,e){return Fc(4,2,t,e)}function k0(t,e){return Fc(4,4,t,e)}function N0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T0(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4,4,N0.bind(null,e,t),n)}function Fh(){}function I0(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ah(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b0(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ah(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function R0(t,e,n){return hi&21?(on(n,e)||(n=P_(),Pe.lanes|=n,pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function xN(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=$u.transition;$u.transition={};try{t(!1),e()}finally{ye=n,$u.transition=r}}function x0(){return zt().memoizedState}function ON(t,e,n){var r=Cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O0(t))P0(e,n);else if(n=l0(t,e,n,r),n!==null){var i=ft();rn(n,t,r,i),A0(n,e,r)}}function PN(t,e,n){var r=Cr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O0(t))P0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,o)){var l=e.interleaved;l===null?(i.next=i,bh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=l0(t,e,i,r),n!==null&&(i=ft(),rn(n,t,r,i),A0(n,e,r))}}function O0(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function P0(t,e){wo=Hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ph(t,n)}}var Vl={readContext:jt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},AN={readContext:jt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:Ag,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gl(4194308,4,N0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return gl(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ON.bind(null,Pe,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:Pg,useDebugValue:Fh,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=Pg(!1),e=t[0];return t=xN.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pe,i=cn();if(Re){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Ye===null)throw Error(D(349));hi&30||v0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ag(_0.bind(null,r,s,t),[t]),r.flags|=2048,Yo(9,y0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cn(),e=Ye.identifierPrefix;if(Re){var n=xn,r=Rn;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ko++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DN={readContext:jt,useCallback:I0,useContext:jt,useEffect:Lh,useImperativeHandle:T0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:b0,useReducer:Bu,useRef:C0,useState:function(){return Bu(qo)},useDebugValue:Fh,useDeferredValue:function(t){var e=zt();return R0(e,je.memoizedState,t)},useTransition:function(){var t=Bu(qo)[0],e=zt().memoizedState;return[t,e]},useMutableSource:m0,useSyncExternalStore:g0,useId:x0,unstable_isNewReconciler:!1},MN={readContext:jt,useCallback:I0,useContext:jt,useEffect:Lh,useImperativeHandle:T0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:b0,useReducer:ju,useRef:C0,useState:function(){return ju(qo)},useDebugValue:Fh,useDeferredValue:function(t){var e=zt();return je===null?e.memoizedState=t:R0(e,je.memoizedState,t)},useTransition:function(){var t=ju(qo)[0],e=zt().memoizedState;return[t,e]},useMutableSource:m0,useSyncExternalStore:g0,useId:x0,unstable_isNewReconciler:!1};function ys(t,e){try{var n="",r=e;do n+=ck(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ef(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LN=typeof WeakMap=="function"?WeakMap:Map;function D0(t,e,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kl||(Kl=!0,df=r),ef(t,e)},n}function M0(t,e,n){n=Dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ef(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ef(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QN.bind(null,t,e,n),e.then(t,t))}function Mg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dn(-1,1),e.tag=2,wr(n,e,1))),n.lanes|=1),t)}var FN=Kn.ReactCurrentOwner,wt=!1;function dt(t,e,n,r){e.child=t===null?h0(e,null,n,r):gs(e,t.child,n,r)}function Fg(t,e,n,r,i){n=n.render;var s=e.ref;return ss(e,i),r=Dh(t,e,n,r,s,i),n=Mh(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jn(t,e,i)):(Re&&n&&Ch(e),e.flags|=1,dt(t,e,r,i),e.child)}function Ug(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Vh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,L0(t,e,s,r,i)):(t=wl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(o,r)&&t.ref===e.ref)return jn(t,e,i)}return e.flags|=1,t=Sr(s,r),t.ref=e.ref,t.return=e,e.child=t}function L0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jo(s,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,jn(t,e,i)}return tf(t,e,n,r,i)}function F0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Xi,Rt),Rt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Xi,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Xi,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Xi,Rt),Rt|=r;return dt(t,e,i,n),e.child}function U0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tf(t,e,n,r,i){var s=kt(n)?di:lt.current;return s=ps(e,s),ss(e,i),n=Dh(t,e,n,r,s,i),r=Mh(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jn(t,e,i)):(Re&&r&&Ch(e),e.flags|=1,dt(t,e,n,i),e.child)}function $g(t,e,n,r,i){if(kt(n)){var s=!0;Fl(e)}else s=!1;if(ss(e,i),e.stateNode===null)vl(t,e),d0(e,n,r),Zd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=kt(n)?di:lt.current,c=ps(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xg(e,o,r,c),ir=!1;var f=e.memoizedState;o.state=f,zl(e,r,o,i),l=e.memoizedState,a!==r||f!==l||St.current||ir?(typeof u=="function"&&(Jd(e,n,u,r),l=e.memoizedState),(a=ir||Rg(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,c0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qt(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=kt(n)?di:lt.current,l=ps(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&xg(e,o,r,l),ir=!1,f=e.memoizedState,o.state=f,zl(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||St.current||ir?(typeof p=="function"&&(Jd(e,n,p,r),m=e.memoizedState),(c=ir||Rg(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return nf(t,e,n,r,s,i)}function nf(t,e,n,r,i,s){U0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kg(e,n,!1),jn(t,e,s);r=e.stateNode,FN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gs(e,t.child,null,s),e.child=gs(e,null,a,s)):dt(t,e,a,s),e.memoizedState=r.state,i&&kg(e,n,!0),e.child}function $0(t){var e=t.stateNode;e.pendingContext?Sg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sg(t,e.context,!1),xh(t,e.containerInfo)}function Bg(t,e,n,r,i){return ms(),kh(i),e.flags|=256,dt(t,e,n,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function B0(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Oe,i&1),t===null)return Qd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bc(o,r,0,null),t=si(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sf(n),e.memoizedState=rf,t):Uh(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Sr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Sr(a,s):(s=si(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rf,r}return s=t.child,t=s.sibling,r=Sr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uh(t,e){return e=Bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qa(t,e,n,r){return r!==null&&kh(r),gs(e,t.child,null,n),t=Uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zu(Error(D(422))),Qa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bc({mode:"visible",children:r.children},i,0,null),s=si(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&gs(e,t.child,null,o),e.child.memoizedState=sf(o),e.memoizedState=rf,s);if(!(e.mode&1))return Qa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=zu(s,r,void 0),Qa(t,e,o,r)}if(a=(o&t.childLanes)!==0,wt||a){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bn(t,i),rn(r,t,i,-1))}return Hh(),r=zu(Error(D(421))),Qa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xt=_r(i.nextSibling),Pt=e,Re=!0,Jt=null,t!==null&&(Lt[Ft++]=Rn,Lt[Ft++]=xn,Lt[Ft++]=fi,Rn=t.id,xn=t.overflow,fi=e),e=Uh(e,r.children),e.flags|=4096,e)}function jg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xd(t.return,e,n)}function Wu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,n,e);else if(t.tag===19)jg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wu(e,!0,n,null,s);break;case"together":Wu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $N(t,e,n){switch(e.tag){case 3:$0(e),ms();break;case 5:p0(e);break;case 1:kt(e.type)&&Fl(e);break;case 4:xh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(Bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?B0(t,e,n):(ke(Oe,Oe.current&1),t=jn(t,e,n),t!==null?t.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,F0(t,e,n)}return jn(t,e,n)}var z0,of,W0,H0;z0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};of=function(){};W0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zr(pn.current);var s=null;switch(n){case"input":i=Id(t,i),r=Id(t,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=xd(t,i),r=xd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ml)}Pd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Do.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Do.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};H0=function(t,e,n,r){n!==r&&(e.flags|=4)};function eo(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BN(t,e,n){var r=e.pendingProps;switch(Sh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return kt(e.type)&&Ll(),st(e),null;case 3:return r=e.stateNode,vs(),Ie(St),Ie(lt),Ph(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jt!==null&&(pf(Jt),Jt=null))),of(t,e),st(e),null;case 5:Oh(e);var i=Zr(Go.current);if(n=e.type,t!==null&&e.stateNode!=null)W0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return st(e),null}if(t=Zr(pn.current),qa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[un]=e,r[Ho]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<ho.length;i++)Ne(ho[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Qm(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":Jm(r,s),Ne("invalid",r)}Pd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ka(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ka(r.textContent,a,t),i=["children",""+a]):Do.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":$a(r),Xm(r,s,!0);break;case"textarea":$a(r),Zm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[un]=e,t[Ho]=r,z0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ad(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<ho.length;i++)Ne(ho[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":Qm(t,r),i=Id(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":Jm(t,r),i=xd(t,r),Ne("invalid",t);break;default:i=r}Pd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?w_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mo(t,l):typeof l=="number"&&Mo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Do.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&lh(t,s,l,o))}switch(n){case"input":$a(t),Xm(t,r,!1);break;case"textarea":$a(t),Zm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+br(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ts(t,!!r.multiple,s,!1):r.defaultValue!=null&&ts(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)H0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Zr(Go.current),Zr(pn.current),qa(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(s=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:Ka(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ka(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return st(e),null;case 13:if(Ie(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&xt!==null&&e.mode&1&&!(e.flags&128))a0(),ms(),e.flags|=98560,s=!1;else if(s=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[un]=e}else ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),s=!1}else Jt!==null&&(pf(Jt),Jt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?ze===0&&(ze=3):Hh())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return vs(),of(t,e),t===null&&zo(e.stateNode.containerInfo),st(e),null;case 10:return Ih(e.type._context),st(e),null;case 17:return kt(e.type)&&Ll(),st(e),null;case 19:if(Ie(Oe),s=e.memoizedState,s===null)return st(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)eo(s,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wl(t),o!==null){for(e.flags|=128,eo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>_s&&(e.flags|=128,r=!0,eo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return st(e),null}else 2*Ue()-s.renderingStartTime>_s&&n!==1073741824&&(e.flags|=128,r=!0,eo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=Oe.current,ke(Oe,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return Wh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function jN(t,e){switch(Sh(e),e.tag){case 1:return kt(e.type)&&Ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vs(),Ie(St),Ie(lt),Ph(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oh(e),null;case 13:if(Ie(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Oe),null;case 4:return vs(),null;case 10:return Ih(e.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var Xa=!1,ot=!1,zN=typeof WeakSet=="function"?WeakSet:Set,$=null;function Qi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function af(t,e,n){try{n()}catch(r){Me(t,e,r)}}var zg=!1;function WN(t,e){if(Wd=Pl,t=q_(),Eh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hd={focusedElem:t,selectionRange:n},Pl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Qt(e.type,g),E);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(C){Me(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return m=zg,zg=!1,m}function Eo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&af(e,n,s)}i=i.next}while(i!==r)}}function Uc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V0(t){var e=t.alternate;e!==null&&(t.alternate=null,V0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[Ho],delete e[Kd],delete e[NN],delete e[TN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G0(t){return t.tag===5||t.tag===3||t.tag===4}function Wg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ml));else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}var Je=null,Xt=!1;function tr(t,e,n){for(n=n.child;n!==null;)K0(t,e,n),n=n.sibling}function K0(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(xc,n)}catch{}switch(n.tag){case 5:ot||Qi(n,e);case 6:var r=Je,i=Xt;Je=null,tr(t,e,n),Je=r,Xt=i,Je!==null&&(Xt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Xt?(t=Je,n=n.stateNode,t.nodeType===8?Lu(t.parentNode,n):t.nodeType===1&&Lu(t,n),$o(t)):Lu(Je,n.stateNode));break;case 4:r=Je,i=Xt,Je=n.stateNode.containerInfo,Xt=!0,tr(t,e,n),Je=r,Xt=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&af(n,e,o),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!ot&&(Qi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,tr(t,e,n),ot=r):tr(t,e,n);break;default:tr(t,e,n)}}function Hg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zN),e.forEach(function(r){var i=JN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,Xt=!1;break e;case 3:Je=a.stateNode.containerInfo,Xt=!0;break e;case 4:Je=a.stateNode.containerInfo,Xt=!0;break e}a=a.return}if(Je===null)throw Error(D(160));K0(s,o,i),Je=null,Xt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Me(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q0(e,t),e=e.sibling}function q0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),ln(t),r&4){try{Eo(3,t,t.return),Uc(3,t)}catch(g){Me(t,t.return,g)}try{Eo(5,t,t.return)}catch(g){Me(t,t.return,g)}}break;case 1:Yt(e,t),ln(t),r&512&&n!==null&&Qi(n,n.return);break;case 5:if(Yt(e,t),ln(t),r&512&&n!==null&&Qi(n,n.return),t.flags&32){var i=t.stateNode;try{Mo(i,"")}catch(g){Me(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&m_(i,s),Ad(a,o);var c=Ad(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?w_(i,d):u==="dangerouslySetInnerHTML"?y_(i,d):u==="children"?Mo(i,d):lh(i,u,d,c)}switch(a){case"input":bd(i,s);break;case"textarea":g_(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ts(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ts(i,!!s.multiple,s.defaultValue,!0):ts(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ho]=s}catch(g){Me(t,t.return,g)}}break;case 6:if(Yt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Me(t,t.return,g)}}break;case 3:if(Yt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$o(e.containerInfo)}catch(g){Me(t,t.return,g)}break;case 4:Yt(e,t),ln(t);break;case 13:Yt(e,t),ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jh=Ue())),r&4&&Hg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(c=ot)||u,Yt(e,t),ot=c):Yt(e,t),ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($=t,u=t.child;u!==null;){for(d=$=u;$!==null;){switch(f=$,p=f.child,f.tag){case 0:case 11:case 14:case 15:Eo(4,f,f.return);break;case 1:Qi(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Me(r,n,g)}}break;case 5:Qi(f,f.return);break;case 22:if(f.memoizedState!==null){Gg(d);continue}}p!==null?(p.return=f,$=p):Gg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=__("display",o))}catch(g){Me(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Me(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yt(e,t),ln(t),r&4&&Hg(t);break;case 21:break;default:Yt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G0(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mo(i,""),r.flags&=-33);var s=Wg(t);uf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wg(t);cf(t,a,o);break;default:throw Error(D(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HN(t,e,n){$=t,Y0(t)}function Y0(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ot;a=Xa;var c=ot;if(Xa=o,(ot=l)&&!c)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Kg(i):l!==null?(l.return=o,$=l):Kg(i);for(;s!==null;)$=s,Y0(s),s=s.sibling;$=i,Xa=a,ot=c}Vg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):Vg(t)}}function Vg(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||Uc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&$o(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ot||e.flags&512&&lf(e)}catch(f){Me(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Gg(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Kg(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uc(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Me(e,i,l)}}var s=e.return;try{lf(e)}catch(l){Me(e,s,l)}break;case 5:var o=e.return;try{lf(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var VN=Math.ceil,Gl=Kn.ReactCurrentDispatcher,$h=Kn.ReactCurrentOwner,Bt=Kn.ReactCurrentBatchConfig,he=0,Ye=null,Be=null,tt=0,Rt=0,Xi=Fr(0),ze=0,Qo=null,pi=0,$c=0,Bh=0,Co=null,_t=null,jh=0,_s=1/0,kn=null,Kl=!1,df=null,Er=null,Ja=!1,hr=null,ql=0,So=0,ff=null,yl=-1,_l=0;function ft(){return he&6?Ue():yl!==-1?yl:yl=Ue()}function Cr(t){return t.mode&1?he&2&&tt!==0?tt&-tt:bN.transition!==null?(_l===0&&(_l=P_()),_l):(t=ye,t!==0||(t=window.event,t=t===void 0?16:$_(t.type)),t):1}function rn(t,e,n,r){if(50<So)throw So=0,ff=null,Error(D(185));ga(t,n,r),(!(he&2)||t!==Ye)&&(t===Ye&&(!(he&2)&&($c|=n),ze===4&&ar(t,tt)),Nt(t,r),n===1&&he===0&&!(e.mode&1)&&(_s=Ue()+500,Mc&&Ur()))}function Nt(t,e){var n=t.callbackNode;bk(t,e);var r=Ol(t,t===Ye?tt:0);if(r===0)n!==null&&ng(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ng(n),e===1)t.tag===0?IN(qg.bind(null,t)):i0(qg.bind(null,t)),SN(function(){!(he&6)&&Ur()}),n=null;else{switch(A_(r)){case 1:n=hh;break;case 4:n=x_;break;case 16:n=xl;break;case 536870912:n=O_;break;default:n=xl}n=rw(n,Q0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Q0(t,e){if(yl=-1,_l=0,he&6)throw Error(D(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var r=Ol(t,t===Ye?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yl(t,r);else{e=r;var i=he;he|=2;var s=J0();(Ye!==t||tt!==e)&&(kn=null,_s=Ue()+500,ii(t,e));do try{qN();break}catch(a){X0(t,a)}while(1);Th(),Gl.current=s,he=i,Be!==null?e=0:(Ye=null,tt=0,e=ze)}if(e!==0){if(e===2&&(i=Ud(t),i!==0&&(r=i,e=hf(t,i))),e===1)throw n=Qo,ii(t,0),ar(t,r),Nt(t,Ue()),n;if(e===6)ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!GN(i)&&(e=Yl(t,r),e===2&&(s=Ud(t),s!==0&&(r=s,e=hf(t,s))),e===1))throw n=Qo,ii(t,0),ar(t,r),Nt(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:qr(t,_t,kn);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=jh+500-Ue(),10<e)){if(Ol(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gd(qr.bind(null,t,_t,kn),e);break}qr(t,_t,kn);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VN(r/1960))-r,10<r){t.timeoutHandle=Gd(qr.bind(null,t,_t,kn),r);break}qr(t,_t,kn);break;case 5:qr(t,_t,kn);break;default:throw Error(D(329))}}}return Nt(t,Ue()),t.callbackNode===n?Q0.bind(null,t):null}function hf(t,e){var n=Co;return t.current.memoizedState.isDehydrated&&(ii(t,e).flags|=256),t=Yl(t,e),t!==2&&(e=_t,_t=n,e!==null&&pf(e)),t}function pf(t){_t===null?_t=t:_t.push.apply(_t,t)}function GN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!on(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~Bh,e&=~$c,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nn(e),r=1<<n;t[n]=-1,e&=~r}}function qg(t){if(he&6)throw Error(D(327));os();var e=Ol(t,0);if(!(e&1))return Nt(t,Ue()),null;var n=Yl(t,e);if(t.tag!==0&&n===2){var r=Ud(t);r!==0&&(e=r,n=hf(t,r))}if(n===1)throw n=Qo,ii(t,0),ar(t,e),Nt(t,Ue()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,_t,kn),Nt(t,Ue()),null}function zh(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(_s=Ue()+500,Mc&&Ur())}}function mi(t){hr!==null&&hr.tag===0&&!(he&6)&&os();var e=he;he|=1;var n=Bt.transition,r=ye;try{if(Bt.transition=null,ye=1,t)return t()}finally{ye=r,Bt.transition=n,he=e,!(he&6)&&Ur()}}function Wh(){Rt=Xi.current,Ie(Xi)}function ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CN(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Sh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ll();break;case 3:vs(),Ie(St),Ie(lt),Ph();break;case 5:Oh(r);break;case 4:vs();break;case 13:Ie(Oe);break;case 19:Ie(Oe);break;case 10:Ih(r.type._context);break;case 22:case 23:Wh()}n=n.return}if(Ye=t,Be=t=Sr(t.current,null),tt=Rt=e,ze=0,Qo=null,Bh=$c=pi=0,_t=Co=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Jr=null}return t}function X0(t,e){do{var n=Be;try{if(Th(),ml.current=Vl,Hl){for(var r=Pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hl=!1}if(hi=0,Ge=je=Pe=null,wo=!1,Ko=0,$h.current=null,n===null||n.return===null){ze=1,Qo=e,Be=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Mg(o);if(p!==null){p.flags&=-257,Lg(p,o,a,s,e),p.mode&1&&Dg(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Dg(s,c,e),Hh();break e}l=Error(D(426))}}else if(Re&&a.mode&1){var E=Mg(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Lg(E,o,a,s,e),kh(ys(l,a));break e}}s=l=ys(l,a),ze!==4&&(ze=2),Co===null?Co=[s]:Co.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=D0(s,l,e);Ig(s,y);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Er===null||!Er.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=M0(s,a,e);Ig(s,C);break e}}s=s.return}while(s!==null)}ew(n)}catch(N){e=N,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(1)}function J0(){var t=Gl.current;return Gl.current=Vl,t===null?Vl:t}function Hh(){(ze===0||ze===3||ze===2)&&(ze=4),Ye===null||!(pi&268435455)&&!($c&268435455)||ar(Ye,tt)}function Yl(t,e){var n=he;he|=2;var r=J0();(Ye!==t||tt!==e)&&(kn=null,ii(t,e));do try{KN();break}catch(i){X0(t,i)}while(1);if(Th(),he=n,Gl.current=r,Be!==null)throw Error(D(261));return Ye=null,tt=0,ze}function KN(){for(;Be!==null;)Z0(Be)}function qN(){for(;Be!==null&&!_k();)Z0(Be)}function Z0(t){var e=nw(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?ew(t):Be=e,$h.current=null}function ew(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jN(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Be=null;return}}else if(n=BN(n,e,Rt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);ze===0&&(ze=5)}function qr(t,e,n){var r=ye,i=Bt.transition;try{Bt.transition=null,ye=1,YN(t,e,n,r)}finally{Bt.transition=i,ye=r}return null}function YN(t,e,n,r){do os();while(hr!==null);if(he&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Rk(t,s),t===Ye&&(Be=Ye=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ja||(Ja=!0,rw(xl,function(){return os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bt.transition,Bt.transition=null;var o=ye;ye=1;var a=he;he|=4,$h.current=null,WN(t,n),q0(n,t),mN(Hd),Pl=!!Wd,Hd=Wd=null,t.current=n,HN(n),wk(),he=a,ye=o,Bt.transition=s}else t.current=n;if(Ja&&(Ja=!1,hr=t,ql=i),s=t.pendingLanes,s===0&&(Er=null),Sk(n.stateNode),Nt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,t=df,df=null,t;return ql&1&&t.tag!==0&&os(),s=t.pendingLanes,s&1?t===ff?So++:(So=0,ff=t):So=0,Ur(),null}function os(){if(hr!==null){var t=A_(ql),e=Bt.transition,n=ye;try{if(Bt.transition=null,ye=16>t?16:t,hr===null)var r=!1;else{if(t=hr,hr=null,ql=0,he&6)throw Error(D(331));var i=he;for(he|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:Eo(8,u,s)}var d=u.child;if(d!==null)d.return=u,$=d;else for(;$!==null;){u=$;var f=u.sibling,p=u.return;if(V0(u),u===c){$=null;break}if(f!==null){f.return=p,$=f;break}$=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Eo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,$=y;break e}$=s.return}}var _=t.current;for($=_;$!==null;){o=$;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$=w;else e:for(o=_;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uc(9,a)}}catch(N){Me(a,a.return,N)}if(a===o){$=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,$=C;break e}$=a.return}}if(he=i,Ur(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(xc,t)}catch{}r=!0}return r}finally{ye=n,Bt.transition=e}}return!1}function Yg(t,e,n){e=ys(n,e),e=D0(t,e,1),t=wr(t,e,1),e=ft(),t!==null&&(ga(t,1,e),Nt(t,e))}function Me(t,e,n){if(t.tag===3)Yg(t,t,n);else for(;e!==null;){if(e.tag===3){Yg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=ys(n,t),t=M0(e,t,1),e=wr(e,t,1),t=ft(),e!==null&&(ga(e,1,t),Nt(e,t));break}}e=e.return}}function QN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(tt&n)===n&&(ze===4||ze===3&&(tt&130023424)===tt&&500>Ue()-jh?ii(t,0):Bh|=n),Nt(t,e)}function tw(t,e){e===0&&(t.mode&1?(e=za,za<<=1,!(za&130023424)&&(za=4194304)):e=1);var n=ft();t=Bn(t,e),t!==null&&(ga(t,e,n),Nt(t,n))}function XN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tw(t,n)}function JN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),tw(t,n)}var nw;nw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,$N(t,e,n);wt=!!(t.flags&131072)}else wt=!1,Re&&e.flags&1048576&&s0(e,$l,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vl(t,e),t=e.pendingProps;var i=ps(e,lt.current);ss(e,n),i=Dh(null,e,r,t,i,n);var s=Mh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(s=!0,Fl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rh(e),i.updater=Lc,e.stateNode=i,i._reactInternals=e,Zd(e,r,t,n),e=nf(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Ch(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eT(r),t=Qt(r,t),i){case 0:e=tf(null,e,r,t,n);break e;case 1:e=$g(null,e,r,t,n);break e;case 11:e=Fg(null,e,r,t,n);break e;case 14:e=Ug(null,e,r,Qt(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),tf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),$g(t,e,r,i,n);case 3:e:{if($0(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,c0(t,e),zl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ys(Error(D(423)),e),e=Bg(t,e,r,n,i);break e}else if(r!==i){i=ys(Error(D(424)),e),e=Bg(t,e,r,n,i);break e}else for(xt=_r(e.stateNode.containerInfo.firstChild),Pt=e,Re=!0,Jt=null,n=h0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ms(),r===i){e=jn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return p0(e),t===null&&Qd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vd(r,i)?o=null:s!==null&&Vd(r,s)&&(e.flags|=32),U0(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Qd(e),null;case 13:return B0(t,e,n);case 4:return xh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gs(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),Fg(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Bl,r._currentValue),r._currentValue=o,s!==null)if(on(s.value,o)){if(s.children===i.children&&!St.current){e=jn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ss(e,n),i=jt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Qt(r,e.pendingProps),i=Qt(r.type,i),Ug(t,e,r,i,n);case 15:return L0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),vl(t,e),e.tag=1,kt(r)?(t=!0,Fl(e)):t=!1,ss(e,n),d0(e,r,i),Zd(e,r,i,n),nf(null,e,r,!0,t,n);case 19:return j0(t,e,n);case 22:return F0(t,e,n)}throw Error(D(156,e.tag))};function rw(t,e){return R_(t,e)}function ZN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new ZN(t,e,n,r)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eT(t){if(typeof t=="function")return Vh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uh)return 11;if(t===dh)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Vh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ji:return si(n.children,i,s,e);case ch:o=8,i|=8;break;case Sd:return t=Ut(12,n,e,i|2),t.elementType=Sd,t.lanes=s,t;case kd:return t=Ut(13,n,e,i),t.elementType=kd,t.lanes=s,t;case Nd:return t=Ut(19,n,e,i),t.elementType=Nd,t.lanes=s,t;case f_:return Bc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u_:o=10;break e;case d_:o=9;break e;case uh:o=11;break e;case dh:o=14;break e;case rr:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Ut(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function si(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function Bc(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=f_,t.lanes=n,t.stateNode={isHidden:!1},t}function Hu(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function Vu(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gh(t,e,n,r,i,s,o,a,l){return t=new tT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ut(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rh(s),t}function nT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iw(t){if(!t)return Rr;t=t._reactInternals;e:{if(bi(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(kt(n))return r0(t,n,e)}return e}function sw(t,e,n,r,i,s,o,a,l){return t=Gh(n,r,!0,t,i,s,o,a,l),t.context=iw(null),n=t.current,r=ft(),i=Cr(n),s=Dn(r,i),s.callback=e??null,wr(n,s,i),t.current.lanes=i,ga(t,i,r),Nt(t,r),t}function jc(t,e,n,r){var i=e.current,s=ft(),o=Cr(i);return n=iw(n),e.context===null?e.context=n:e.pendingContext=n,e=Dn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wr(i,e,o),t!==null&&(rn(t,i,o,s),pl(t,i,o)),o}function Ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kh(t,e){Qg(t,e),(t=t.alternate)&&Qg(t,e)}function rT(){return null}var ow=typeof reportError=="function"?reportError:function(t){console.error(t)};function qh(t){this._internalRoot=t}zc.prototype.render=qh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));jc(t,e,null,null)};zc.prototype.unmount=qh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){jc(null,t,null,null)}),e[$n]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=L_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&U_(t)}};function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xg(){}function iT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ql(o);s.call(c)}}var o=sw(e,r,t,0,null,!1,!1,"",Xg);return t._reactRootContainer=o,t[$n]=o.current,zo(t.nodeType===8?t.parentNode:t),mi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ql(l);a.call(c)}}var l=Gh(t,0,!1,null,null,!1,!1,"",Xg);return t._reactRootContainer=l,t[$n]=l.current,zo(t.nodeType===8?t.parentNode:t),mi(function(){jc(e,l,n,r)}),l}function Hc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ql(o);a.call(l)}}jc(e,o,t,i)}else o=iT(n,e,t,i,r);return Ql(o)}D_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fo(e.pendingLanes);n!==0&&(ph(e,n|1),Nt(e,Ue()),!(he&6)&&(_s=Ue()+500,Ur()))}break;case 13:mi(function(){var r=Bn(t,1);if(r!==null){var i=ft();rn(r,t,1,i)}}),Kh(t,1)}};mh=function(t){if(t.tag===13){var e=Bn(t,134217728);if(e!==null){var n=ft();rn(e,t,134217728,n)}Kh(t,134217728)}};M_=function(t){if(t.tag===13){var e=Cr(t),n=Bn(t,e);if(n!==null){var r=ft();rn(n,t,e,r)}Kh(t,e)}};L_=function(){return ye};F_=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Md=function(t,e,n){switch(e){case"input":if(bd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dc(r);if(!i)throw Error(D(90));p_(r),bd(r,i)}}}break;case"textarea":g_(t,n);break;case"select":e=n.value,e!=null&&ts(t,!!n.multiple,e,!1)}};S_=zh;k_=mi;var sT={usingClientEntryPoint:!1,Events:[ya,Vi,Dc,E_,C_,zh]},to={findFiberByHostInstance:Xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oT={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I_(t),t===null?null:t.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||rT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{xc=Za.inject(oT),hn=Za}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sT;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(e))throw Error(D(200));return nT(t,e,null,n)};Dt.createRoot=function(t,e){if(!Yh(t))throw Error(D(299));var n=!1,r="",i=ow;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gh(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,zo(t.nodeType===8?t.parentNode:t),new qh(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=I_(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return mi(t)};Dt.hydrate=function(t,e,n){if(!Wc(e))throw Error(D(200));return Hc(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!Yh(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ow;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sw(e,null,t,1,n??null,i,!1,s,o),t[$n]=e.current,zo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zc(e)};Dt.render=function(t,e,n){if(!Wc(e))throw Error(D(200));return Hc(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(D(40));return t._reactRootContainer?(mi(function(){Hc(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};Dt.unstable_batchedUpdates=zh;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wc(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Hc(t,e,n,!1,r)};Dt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Dt})(rk);const Ji=th(Tl);var Jg=Tl;wd.createRoot=Jg.createRoot,wd.hydrateRoot=Jg.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}var pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pr||(pr={}));const Zg="popstate";function aT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return mf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:aw(i)}return cT(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lT(){return Math.random().toString(36).substr(2,8)}function ev(t,e){return{usr:t.state,key:t.key,idx:e}}function mf(t,e,n,r){return n===void 0&&(n=null),Xo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ds(e):e,{state:n,key:e&&e.key||r||lT()})}function aw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ds(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xo({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=pr.Pop;let E=u(),y=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:y})}function f(E,y){a=pr.Push;let _=mf(g.location,E,y);n&&n(_,E),c=u()+1;let w=ev(_,c),C=g.createHref(_);try{o.pushState(w,"",C)}catch{i.location.assign(C)}s&&l&&l({action:a,location:g.location,delta:1})}function p(E,y){a=pr.Replace;let _=mf(g.location,E,y);n&&n(_,E),c=u();let w=ev(_,c),C=g.createHref(_);o.replaceState(w,"",C),s&&l&&l({action:a,location:g.location,delta:0})}function m(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:aw(E);return We(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let g={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zg,d),l=E,()=>{i.removeEventListener(Zg,d),l=null}},createHref(E){return e(i,E)},createURL:m,encodeLocation(E){let y=m(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var tv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tv||(tv={}));function uT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ds(e):e,i=uw(r.pathname||"/",n);if(i==null)return null;let s=lw(t);dT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=wT(s[a],ST(i));return o}function lw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=oi([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(We(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),lw(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yT(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of cw(s.path))i(s,o,l)}),e}function cw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=cw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_T(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fT=/^:\w+$/,hT=3,pT=2,mT=1,gT=10,vT=-2,nv=t=>t==="*";function yT(t,e){let n=t.split("/"),r=n.length;return n.some(nv)&&(r+=vT),e&&(r+=pT),n.filter(i=>!nv(i)).reduce((i,s)=>i+(fT.test(s)?hT:s===""?mT:gT),r)}function _T(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wT(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=ET({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:oi([i,u.pathname]),pathnameBase:RT(oi([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=oi([i,u.pathnameBase]))}return s}function ET(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=kT(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function CT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ST(t){try{return decodeURI(t)}catch(e){return Qh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kT(t,e){try{return decodeURIComponent(t)}catch(n){return Qh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function uw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ds(t):t;return{pathname:n?n.startsWith("/")?n:TT(n,e):e,search:xT(r),hash:OT(i)}}function TT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ds(t):(i=Xo({},t),We(!i.pathname||!i.pathname.includes("?"),Gu("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),Gu("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),Gu("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=NT(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),RT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AT=["post","put","patch","delete"];[...AT];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function DT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const MT=typeof Object.is=="function"?Object.is:DT,{useState:LT,useEffect:FT,useLayoutEffect:UT,useDebugValue:$T}=_d;function BT(t,e,n){const r=e(),[{inst:i},s]=LT({inst:{value:r,getSnapshot:e}});return UT(()=>{i.value=r,i.getSnapshot=e,Ku(i)&&s({inst:i})},[t,r,e]),FT(()=>(Ku(i)&&s({inst:i}),t(()=>{Ku(i)&&s({inst:i})})),[t]),$T(r),r}function Ku(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!MT(n,r)}catch{return!0}}function jT(t,e,n){return e()}const zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WT=!zT,HT=WT?jT:BT;"useSyncExternalStore"in _d&&(t=>t.useSyncExternalStore)(_d);const dw=h.createContext(null),Xh=h.createContext(null),Jh=h.createContext(null),Vc=h.createContext(null),wa=h.createContext({outlet:null,matches:[]}),fw=h.createContext(null);function Ea(){return h.useContext(Vc)!=null}function Ca(){return Ea()||We(!1),h.useContext(Vc).location}function qn(){Ea()||We(!1);let{basename:t,navigator:e}=h.useContext(Jh),{matches:n}=h.useContext(wa),{pathname:r}=Ca(),i=JSON.stringify(IT(n).map(a=>a.pathnameBase)),s=h.useRef(!1);return h.useEffect(()=>{s.current=!0}),h.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=bT(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:oi([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}function VT(t,e){Ea()||We(!1);let{navigator:n}=h.useContext(Jh),r=h.useContext(Xh),{matches:i}=h.useContext(wa),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ca(),c;if(e){var u;let g=typeof e=="string"?Ds(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||We(!1),c=g}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=uT(t,{pathname:f}),m=YT(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:oi([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:oi([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return e&&m?h.createElement(Vc.Provider,{value:{location:gf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:pr.Pop}},m):m}function GT(){let t=ZT(),e=PT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,s)}class KT extends h.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?h.createElement(wa.Provider,{value:this.props.routeContext},h.createElement(fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qT(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(dw);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(wa.Provider,{value:e},r)}function YT(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||We(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||h.createElement(GT,null):null,u=e.concat(r.slice(0,a+1)),d=()=>h.createElement(qT,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?h.createElement(KT,{location:n.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var rv;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(rv||(rv={}));var Xl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Xl||(Xl={}));function QT(t){let e=h.useContext(Xh);return e||We(!1),e}function XT(t){let e=h.useContext(wa);return e||We(!1),e}function JT(t){let e=XT(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function ZT(){var t;let e=h.useContext(fw),n=QT(Xl.UseRouteError),r=JT(Xl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Hr(t){let{to:e,replace:n,state:r,relative:i}=t;Ea()||We(!1);let s=h.useContext(Xh),o=qn();return h.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function Sn(t){We(!1)}function eI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pr.Pop,navigator:s,static:o=!1}=t;Ea()&&We(!1);let a=e.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ds(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=r,m=h.useMemo(()=>{let g=uw(c,a);return g==null?null:{pathname:g,search:u,hash:d,state:f,key:p}},[a,c,u,d,f,p]);return m==null?null:h.createElement(Jh.Provider,{value:l},h.createElement(Vc.Provider,{children:n,value:{location:m,navigationType:i}}))}function tI(t){let{children:e,location:n}=t,r=h.useContext(dw),i=r&&!e?r.router.routes:vf(e);return VT(i,n)}var iv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(iv||(iv={}));new Promise(()=>{});function vf(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;if(r.type===h.Fragment){n.push.apply(n,vf(r.props.children,e));return}r.type!==Sn&&We(!1),!r.props.index||!r.props.children||We(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=vf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nI(t){let{basename:e,children:n,window:r}=t,i=h.useRef();i.current==null&&(i.current=aT({window:r,v5Compat:!0}));let s=i.current,[o,a]=h.useState({action:s.action,location:s.location});return h.useLayoutEffect(()=>s.listen(a),[s]),h.createElement(eI,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var sv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(sv||(sv={}));var ov;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ov||(ov={}));var yf={},rI={get exports(){return yf},set exports(t){yf=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(rI);const Y=yf,iI=["xxl","xl","lg","md","sm","xs"],sI="xs",Gc=h.createContext({prefixes:{},breakpoints:iI,minBreakpoint:sI});function ie(t,e){const{prefixes:n}=h.useContext(Gc);return t||n[e]||e}function hw(){const{breakpoints:t}=h.useContext(Gc);return t}function pw(){const{minBreakpoint:t}=h.useContext(Gc);return t}function Zh(){const{dir:t}=h.useContext(Gc);return t==="rtl"}const oI={fluid:!1},A=h.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=ie(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return v(n,{ref:s,...i,className:Y(r,e?`${o}${a}`:o)})});A.displayName="Container";A.defaultProps=oI;const aI=h.createContext(null),Jo=(t,e=null)=>t!=null?String(t):e||null,gi=aI;function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_f.apply(this,arguments)}function mw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function av(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function lI(t){var e=cI(t,"string");return typeof e=="symbol"?e:String(e)}function cI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gw(t,e,n){var r=h.useRef(t!==void 0),i=h.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,h.useCallback(function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[c].concat(d)),o(c)},[n])]}function Kc(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[av(r)],a=s[r],l=mw(s,[av(r),r].map(lI)),c=e[r],u=gw(a,o,t[c]),d=u[0],f=u[1];return _f({},l,(i={},i[r]=d,i[c]=f,i))},t)}function wf(t,e){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wf(t,e)}function uI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wf(t,e)}var dI=/-(.)/g;function fI(t){return t.replace(dI,function(e,n){return n.toUpperCase()})}const hI=t=>t[0].toUpperCase()+fI(t).slice(1);function He(t,{displayName:e=hI(t),Component:n,defaultProps:r}={}){const i=h.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},c)=>{const u=ie(o,t);return v(a,{ref:c,className:Y(s,u),...l})});return i.defaultProps=r,i.displayName=e,i}const vw=h.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ie(t,"navbar-brand");const s=n||(r.href?"a":"span");return v(s,{...r,ref:i,className:Y(e,t)})});vw.displayName="NavbarBrand";const pI=vw;function Sa(t){return t&&t.ownerDocument||document}function mI(t){var e=Sa(t);return e&&e.defaultView||window}function gI(t,e){return mI(t).getComputedStyle(t,e)}var vI=/([A-Z])/g;function yI(t){return t.replace(vI,"-$1").toLowerCase()}var _I=/^ms-/;function el(t){return yI(t).replace(_I,"-ms-")}var wI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function EI(t){return!!(t&&wI.test(t))}function Mn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(el(e))||gI(t).getPropertyValue(el(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(el(i)):EI(i)?r+=i+"("+s+") ":n+=el(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var at={},CI={get exports(){return at},set exports(t){at=t}},SI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kI=SI,NI=kI;function yw(){}function _w(){}_w.resetWarningCache=yw;var TI=function(){function t(r,i,s,o,a,l){if(l!==NI){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_w,resetWarningCache:yw};return n.PropTypes=n,n};CI.exports=TI();const lv={disabled:!1},ww=I.createContext(null);var II=function(e){return e.scrollTop},po="unmounted",sr="exited",Zt="entering",In="entered",Zo="exiting",Yn=function(t){uI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=sr,s.appearStatus=Zt):l=In:r.unmountOnExit||r.mountOnEnter?l=po:l=sr,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===po?{status:sr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Zt&&o!==In&&(s=Zt):(o===Zt||o===In)&&(s=Zo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Zt){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ji.findDOMNode(this);o&&II(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sr&&this.setState({status:po})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ji.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||lv.disabled){this.safeSetState({status:In},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Zt},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:In},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ji.findDOMNode(this);if(!s||lv.disabled){this.safeSetState({status:sr},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Zo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:sr},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ji.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===po)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=mw(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return I.createElement(ww.Provider,{value:null},typeof o=="function"?o(i,a):I.cloneElement(I.Children.only(o),a))},e}(I.Component);Yn.contextType=ww;Yn.propTypes={};function Mi(){}Yn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mi,onEntering:Mi,onEntered:Mi,onExit:Mi,onExiting:Mi,onExited:Mi};Yn.UNMOUNTED=po;Yn.EXITED=sr;Yn.ENTERING=Zt;Yn.ENTERED=In;Yn.EXITING=Zo;const Ms=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ef=!1,Cf=!1;try{var qu={get passive(){return Ef=!0},get once(){return Cf=Ef=!0}};Ms&&(window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,!0))}catch{}function ep(t,e,n,r){if(r&&typeof r!="boolean"&&!Cf){var i=r.once,s=r.capture,o=n;!Cf&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Ef?r:s)}t.addEventListener(e,n,r)}function Sf(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function mr(t,e,n,r){return ep(t,e,n,r),function(){Sf(t,e,n,r)}}function bI(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function RI(t){var e=Mn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function xI(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||bI(t,"transitionend",!0)},e+n),s=mr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function Ew(t,e,n,r){n==null&&(n=RI(t)||0);var i=xI(t,n,r),s=mr(t,"transitionend",e);return function(){i(),s()}}function cv(t,e){const n=Mn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function qc(t,e){const n=cv(t,"transitionDuration"),r=cv(t,"transitionDelay"),i=Ew(t,s=>{s.target===t&&(i(),e(s))},n+r)}function no(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function tp(t){t.offsetHeight}var uv=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function OI(t,e){var n=uv(t),r=uv(e);return function(i){n&&n(i),r&&r(i)}}function Ri(t,e){return h.useMemo(function(){return OI(t,e)},[t,e])}function PI(t){return t&&"setState"in t?Ji.findDOMNode(t):t??null}const AI=I.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},u)=>{const d=h.useRef(null),f=Ri(d,l),p=S=>{f(PI(S))},m=S=>k=>{S&&d.current&&S(d.current,k)},g=h.useCallback(m(t),[t]),E=h.useCallback(m(e),[e]),y=h.useCallback(m(n),[n]),_=h.useCallback(m(r),[r]),w=h.useCallback(m(i),[i]),C=h.useCallback(m(s),[s]),N=h.useCallback(m(o),[o]);return v(Yn,{ref:u,...c,onEnter:g,onEntered:y,onEntering:E,onExit:_,onExited:C,onExiting:w,addEndListener:N,nodeRef:d,children:typeof a=="function"?(S,k)=>a(S,{...k,ref:p}):I.cloneElement(a,{ref:p})})}),Yc=AI,DI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Cw(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=DI[t];return r+parseInt(Mn(e,i[0]),10)+parseInt(Mn(e,i[1]),10)}const MI={[sr]:"collapse",[Zo]:"collapsing",[Zt]:"collapsing",[In]:"collapse show"},LI={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Cw},Sw=I.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=Cw,...c},u)=>{const d=typeof a=="function"?a():a,f=h.useMemo(()=>no(y=>{y.style[d]="0"},t),[d,t]),p=h.useMemo(()=>no(y=>{const _=`scroll${d[0].toUpperCase()}${d.slice(1)}`;y.style[d]=`${y[_]}px`},e),[d,e]),m=h.useMemo(()=>no(y=>{y.style[d]=null},n),[d,n]),g=h.useMemo(()=>no(y=>{y.style[d]=`${l(d,y)}px`,tp(y)},r),[r,l,d]),E=h.useMemo(()=>no(y=>{y.style[d]=null},i),[d,i]);return v(Yc,{ref:u,addEndListener:qc,...c,"aria-expanded":c.role?c.in:null,onEnter:f,onEntering:p,onEntered:m,onExit:g,onExiting:E,childRef:o.ref,children:(y,_)=>I.cloneElement(o,{..._,className:Y(s,o.props.className,MI[y],d==="width"&&"collapse-horizontal")})})});Sw.defaultProps=LI;const FI=Sw,kw=h.createContext(null);kw.displayName="NavbarContext";const xi=kw,Nw=h.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ie(e,"navbar-collapse");const i=h.useContext(xi);return v(FI,{in:!!(i&&i.expanded),...n,children:v("div",{ref:r,className:e,children:t})})});Nw.displayName="NavbarCollapse";const UI=Nw;function Tw(t){var e=h.useRef(t);return h.useEffect(function(){e.current=t},[t]),e}function xe(t){var e=Tw(t);return h.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const $I={label:"Toggle navigation"},np=h.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=ie(t,"navbar-toggler");const{onToggle:l,expanded:c}=h.useContext(xi)||{},u=xe(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),v(i,{...o,ref:a,onClick:u,"aria-label":r,className:Y(e,t,!c&&"collapsed"),children:n||v("span",{className:`${t}-icon`})})});np.displayName="NavbarToggle";np.defaultProps=$I;const BI=np;var jI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zI=typeof document<"u";const Jl=zI||jI?h.useLayoutEffect:h.useEffect;var kf=new WeakMap,dv=function(e,n){if(!(!e||!n)){var r=kf.get(n)||new Map;kf.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function WI(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=dv(t,e),r=h.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return Jl(function(){var o=dv(t,e);if(!o)return s(!1);var a=kf.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function HI(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),c=t[l];return typeof c=="number"?c=c-.2+"px":c="calc("+c+" - 0.2px)","(max-width: "+c+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,c){var u;if(typeof a=="object")u=a,c=l,l=!0;else{var d;l=l||!0,u=(d={},d[a]=l,d)}var f=h.useMemo(function(){return Object.entries(u).reduce(function(p,m){var g=m[0],E=m[1];return(E==="up"||E===!0)&&(p=n(p,s(g))),(E==="down"||E===!0)&&(p=n(p,i(g))),p},"")},[JSON.stringify(u)]);return WI(f,c)}return o}var VI=HI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Yu(t){t===void 0&&(t=Sa());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Zl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function rp(){var t=h.useRef(!0),e=h.useRef(function(){return t.current});return h.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function GI(t){var e=h.useRef(t);return e.current=t,e}function ip(t){var e=GI(t);h.useEffect(function(){return function(){return e.current()}},[])}function Iw(t){var e=h.useRef(null);return h.useEffect(function(){e.current=t}),e.current}const KI="data-rr-ui-",qI="rrUi";function Ls(t){return`${KI}${t}`}function YI(t){return`${qI}${t}`}function QI(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const fv=Ls("modal-open");class XI{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return QI(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Mn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(fv,""),Mn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(fv),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const sp=XI,bw=h.createContext(Ms?window:void 0);bw.Provider;function op(){return h.useContext(bw)}const Qu=(t,e)=>Ms?t==null?(e||Sa()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function JI(t,e){const n=op(),[r,i]=h.useState(()=>Qu(t,n==null?void 0:n.document));if(!r){const s=Qu(t);s&&i(s)}return h.useEffect(()=>{e&&r&&e(r)},[e,r]),h.useEffect(()=>{const s=Qu(t);s!==r&&i(s)},[t,r]),r}function ZI({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=h.useRef(null),o=h.useRef(e),a=xe(n);h.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=Ri(s,t.ref),c=h.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}function eb({in:t,onTransition:e}){const n=h.useRef(null),r=h.useRef(!0),i=xe(e);return Jl(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),Jl(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function tb({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=h.useState(!e);e&&s&&o(!1);const a=eb({in:!!e,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(u,d=>{throw c.in||o(!0),d})}}),l=Ri(a,t.ref);return s&&!e?null:h.cloneElement(t,{ref:l})}function hv(t,e,n){return t?v(t,Object.assign({},n)):e?v(tb,Object.assign({},n,{transition:e})):v(ZI,Object.assign({},n))}const nb=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function rb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Xu;function ib(t){return Xu||(Xu=new sp({ownerDocument:t==null?void 0:t.document})),Xu}function sb(t){const e=op(),n=t||ib(e),r=h.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:h.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:h.useCallback(i=>{r.current.backdrop=i},[])})}const Rw=h.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:g=!0,enforceFocus:E=!0,restoreFocus:y=!0,restoreFocusOptions:_,renderDialog:w,renderBackdrop:C=re=>v("div",Object.assign({},re)),manager:N,container:S,onShow:k,onHide:T=()=>{},onExit:R,onExited:b,onExiting:x,onEnter:F,onEntering:z,onEntered:ee}=t,J=rb(t,nb);const H=JI(S),K=sb(N),O=rp(),U=Iw(n),[L,Q]=h.useState(!n),V=h.useRef(null);h.useImperativeHandle(e,()=>K,[K]),Ms&&!U&&n&&(V.current=Yu()),n&&L&&Q(!1);const se=xe(()=>{if(K.add(),me.current=mr(document,"keydown",ae),pe.current=mr(document,"focus",()=>setTimeout(q),!0),k&&k(),g){const re=Yu(document);K.dialog&&re&&!Zl(K.dialog,re)&&(V.current=re,K.dialog.focus())}}),te=xe(()=>{if(K.remove(),me.current==null||me.current(),pe.current==null||pe.current(),y){var re;(re=V.current)==null||re.focus==null||re.focus(_),V.current=null}});h.useEffect(()=>{!n||!H||se()},[n,H,se]),h.useEffect(()=>{L&&te()},[L,te]),ip(()=>{te()});const q=xe(()=>{if(!E||!O()||!K.isTopModal())return;const re=Yu();K.dialog&&re&&!Zl(K.dialog,re)&&K.dialog.focus()}),B=xe(re=>{re.target===re.currentTarget&&(c==null||c(re),a===!0&&T())}),ae=xe(re=>{l&&re.keyCode===27&&K.isTopModal()&&(u==null||u(re),re.defaultPrevented||T())}),pe=h.useRef(),me=h.useRef(),ve=(...re)=>{Q(!0),b==null||b(...re)};if(!H)return null;const de=Object.assign({role:r,ref:K.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},J,{style:s,className:i,tabIndex:-1});let vt=w?w(de):v("div",Object.assign({},de,{children:h.cloneElement(o,{role:"document"})}));vt=hv(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:x,onExited:ve,onEnter:F,onEntering:z,onEntered:ee,children:vt});let Qe=null;return a&&(Qe=C({ref:K.setBackdropRef,onClick:B}),Qe=hv(p,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Qe})),v($e,{children:Ji.createPortal(P($e,{children:[Qe,vt]}),H)})});Rw.displayName="Modal";const xw=Object.assign(Rw,{Manager:sp}),ob={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ab={[Zt]:"show",[In]:"show"},ap=h.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=h.useCallback((o,a)=>{tp(o),r.onEnter==null||r.onEnter(o,a)},[r]);return v(Yc,{ref:i,addEndListener:qc,...r,onEnter:s,childRef:e.ref,children:(o,a)=>h.cloneElement(e,{...a,className:Y("fade",t,e.props.className,ab[o],n[o])})})});ap.defaultProps=ob;ap.displayName="Fade";const lp=ap,lb=He("offcanvas-body"),cb={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},ub={[Zt]:"show",[In]:"show"},cp=h.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=ie(t,"offcanvas"),v(Yc,{ref:i,addEndListener:qc,...r,childRef:n.ref,children:(s,o)=>h.cloneElement(n,{...o,className:Y(e,n.props.className,(s===Zt||s===Zo)&&`${t}-toggling`,ub[s])})})));cp.defaultProps=cb;cp.displayName="OffcanvasToggling";const db=cp,fb=h.createContext({onHide(){}}),up=fb,hb={"aria-label":at.string,onClick:at.func,variant:at.oneOf(["white"])},pb={"aria-label":"Close"},Qc=h.forwardRef(({className:t,variant:e,...n},r)=>v("button",{ref:r,type:"button",className:Y("btn-close",e&&`btn-close-${e}`,t),...n}));Qc.displayName="CloseButton";Qc.propTypes=hb;Qc.defaultProps=pb;const mb=Qc,gb={closeLabel:"Close",closeButton:!1},Ow=h.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=h.useContext(up),l=xe(()=>{a==null||a.onHide(),r==null||r()});return P("div",{ref:o,...s,children:[i,n&&v(mb,{"aria-label":t,variant:e,onClick:l})]})});Ow.defaultProps=gb;const Pw=Ow,vb={closeLabel:"Close",closeButton:!1},dp=h.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ie(t,"offcanvas-header"),v(Pw,{ref:r,...n,className:Y(e,t)})));dp.displayName="OffcanvasHeader";dp.defaultProps=vb;const yb=dp,Xc=t=>h.forwardRef((e,n)=>v("div",{...e,ref:n,className:Y(e.className,t)})),_b=Xc("h5"),wb=He("offcanvas-title",{Component:_b});function Eb(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Cb(t,e){t.classList?t.classList.add(e):Eb(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var Sb=Function.prototype.bind.call(Function.prototype.call,[].slice);function Tn(t,e){return Sb(t.querySelectorAll(e))}function pv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function kb(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=pv(t.className,e):t.setAttribute("class",pv(t.className&&t.className.baseVal||"",e))}const Li={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Aw extends sp{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Mn(n,{[e]:`${parseFloat(Mn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Mn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(Cb(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Tn(n,Li.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Tn(n,Li.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Tn(n,Li.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();kb(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Tn(n,Li.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Tn(n,Li.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Tn(n,Li.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Ju;function Dw(t){return Ju||(Ju=new Aw(t)),Ju}const Nb=Aw,Tb={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function Ib(t){return v(db,{...t})}function bb(t){return v(lp,{...t})}const fp=h.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:c,onEscapeKeyDown:u,onShow:d,onHide:f,container:p,autoFocus:m,enforceFocus:g,restoreFocus:E,restoreFocusOptions:y,onEntered:_,onExit:w,onExiting:C,onEnter:N,onEntering:S,onExited:k,backdropClassName:T,manager:R,renderStaticNode:b,...x},F)=>{const z=h.useRef();t=ie(t,"offcanvas");const{onToggle:ee}=h.useContext(xi)||{},[J,H]=h.useState(!1),K=VI(s||"xs","up");h.useEffect(()=>{H(s?o&&!K:o)},[o,s,K]);const O=xe(()=>{ee==null||ee(),f==null||f()}),U=h.useMemo(()=>({onHide:O}),[O]);function L(){return R||(c?(z.current||(z.current=new Nb({handleContainerOverflow:!1})),z.current):Dw())}const Q=(q,...B)=>{q&&(q.style.visibility="visible"),N==null||N(q,...B)},V=(q,...B)=>{q&&(q.style.visibility=""),k==null||k(...B)},se=h.useCallback(q=>v("div",{...q,className:Y(`${t}-backdrop`,T)}),[T,t]),te=q=>v("div",{...q,...x,className:Y(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return P($e,{children:[!J&&(s||b)&&te({}),v(up.Provider,{value:U,children:v(xw,{show:J,ref:F,backdrop:a,container:p,keyboard:l,autoFocus:m,enforceFocus:g&&!c,restoreFocus:E,restoreFocusOptions:y,onEscapeKeyDown:u,onShow:d,onHide:O,onEnter:Q,onEntering:S,onEntered:_,onExit:w,onExiting:C,onExited:V,manager:L(),transition:Ib,backdropTransition:bb,renderBackdrop:se,renderDialog:te})})]})});fp.displayName="Offcanvas";fp.defaultProps=Tb;const Rb=Object.assign(fp,{Body:lb,Header:yb,Title:wb}),Mw=h.forwardRef((t,e)=>{const n=h.useContext(xi);return v(Rb,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});Mw.displayName="NavbarOffcanvas";const xb=Mw,Ob=He("navbar-text",{Component:"span"}),Pb={expand:!0,variant:"light",collapseOnSelect:!1},hp=h.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:u,onToggle:d,onSelect:f,collapseOnSelect:p,...m}=Kc(t,{expanded:"onToggle"}),g=ie(n,"navbar"),E=h.useCallback((...w)=>{f==null||f(...w),p&&u&&(d==null||d(!1))},[f,p,u,d]);m.role===void 0&&c!=="nav"&&(m.role="navigation");let y=`${g}-expand`;typeof r=="string"&&(y=`${y}-${r}`);const _=h.useMemo(()=>({onToggle:()=>d==null?void 0:d(!u),bsPrefix:g,expanded:!!u,expand:r}),[g,u,r,d]);return v(xi.Provider,{value:_,children:v(gi.Provider,{value:E,children:v(c,{ref:e,...m,className:Y(l,g,r&&y,i&&`${g}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});hp.defaultProps=Pb;hp.displayName="Navbar";const Zu=Object.assign(hp,{Brand:pI,Collapse:UI,Offcanvas:xb,Text:Ob,Toggle:BI});function Lw(){var t=h.useReducer(function(n){return!n},!1),e=t[1];return e}function Ab(t,e,n,r){r===void 0&&(r=!1);var i=xe(n);h.useEffect(function(){var s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),function(){return s.removeEventListener(e,i,r)}},[t])}const Db=h.createContext(null),Jc=Db;function Fw(){return h.useState(null)}var mv=Object.prototype.hasOwnProperty;function gv(t,e,n){for(n of t.keys())if(ko(n,e))return n}function ko(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ko(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=gv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=gv(e,i),!i)||!ko(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(mv.call(t,n)&&++r&&!mv.call(e,n)||!(n in e)||!ko(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Mb(t){var e=rp();return[t[0],h.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Tt="top",Wt="bottom",Ht="right",It="left",pp="auto",ka=[Tt,Wt,Ht,It],ws="start",ea="end",Lb="clippingParents",Uw="viewport",ro="popper",Fb="reference",vv=ka.reduce(function(t,e){return t.concat([e+"-"+ws,e+"-"+ea])},[]),$w=[].concat(ka,[pp]).reduce(function(t,e){return t.concat([e,e+"-"+ws,e+"-"+ea])},[]),Ub="beforeRead",$b="read",Bb="afterRead",jb="beforeMain",zb="main",Wb="afterMain",Hb="beforeWrite",Vb="write",Gb="afterWrite",Kb=[Ub,$b,Bb,jb,zb,Wb,Hb,Vb,Gb];function mn(t){return t.split("-")[0]}function Vt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function vi(t){var e=Vt(t).Element;return t instanceof e||t instanceof Element}function gn(t){var e=Vt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function mp(t){if(typeof ShadowRoot>"u")return!1;var e=Vt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ai=Math.max,ec=Math.min,Es=Math.round;function Nf(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Bw(){return!/^((?!chrome|android).)*safari/i.test(Nf())}function Cs(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&gn(t)&&(i=t.offsetWidth>0&&Es(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Es(r.height)/t.offsetHeight||1);var o=vi(t)?Vt(t):window,a=o.visualViewport,l=!Bw()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function gp(t){var e=Cs(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function jw(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&mp(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xr(t){return t?(t.nodeName||"").toLowerCase():null}function zn(t){return Vt(t).getComputedStyle(t)}function qb(t){return["table","td","th"].indexOf(xr(t))>=0}function $r(t){return((vi(t)?t.ownerDocument:t.document)||window.document).documentElement}function Zc(t){return xr(t)==="html"?t:t.assignedSlot||t.parentNode||(mp(t)?t.host:null)||$r(t)}function yv(t){return!gn(t)||zn(t).position==="fixed"?null:t.offsetParent}function Yb(t){var e=/firefox/i.test(Nf()),n=/Trident/i.test(Nf());if(n&&gn(t)){var r=zn(t);if(r.position==="fixed")return null}var i=Zc(t);for(mp(i)&&(i=i.host);gn(i)&&["html","body"].indexOf(xr(i))<0;){var s=zn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Na(t){for(var e=Vt(t),n=yv(t);n&&qb(n)&&zn(n).position==="static";)n=yv(n);return n&&(xr(n)==="html"||xr(n)==="body"&&zn(n).position==="static")?e:n||Yb(t)||e}function vp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function No(t,e,n){return ai(t,ec(e,n))}function Qb(t,e,n){var r=No(t,e,n);return r>n?n:r}function zw(){return{top:0,right:0,bottom:0,left:0}}function Ww(t){return Object.assign({},zw(),t)}function Hw(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Xb=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ww(typeof e!="number"?e:Hw(e,ka))};function Jb(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=mn(n.placement),l=vp(a),c=[It,Ht].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Xb(i.padding,n),f=gp(s),p=l==="y"?Tt:It,m=l==="y"?Wt:Ht,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],E=o[l]-n.rects.reference[l],y=Na(s),_=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=g/2-E/2,C=d[p],N=_-f[u]-d[m],S=_/2-f[u]/2+w,k=No(C,S,N),T=l;n.modifiersData[r]=(e={},e[T]=k,e.centerOffset=k-S,e)}}function Zb(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||jw(e.elements.popper,i)&&(e.elements.arrow=i))}const eR={name:"arrow",enabled:!0,phase:"main",fn:Jb,effect:Zb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ss(t){return t.split("-")[1]}var tR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nR(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Es(e*i)/i||0,y:Es(n*i)/i||0}}function _v(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,g=m===void 0?0:m,E=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=E.x,g=E.y;var y=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),w=It,C=Tt,N=window;if(c){var S=Na(n),k="clientHeight",T="clientWidth";if(S===Vt(n)&&(S=$r(n),zn(S).position!=="static"&&a==="absolute"&&(k="scrollHeight",T="scrollWidth")),S=S,i===Tt||(i===It||i===Ht)&&s===ea){C=Wt;var R=d&&S===N&&N.visualViewport?N.visualViewport.height:S[k];g-=R-r.height,g*=l?1:-1}if(i===It||(i===Tt||i===Wt)&&s===ea){w=Ht;var b=d&&S===N&&N.visualViewport?N.visualViewport.width:S[T];p-=b-r.width,p*=l?1:-1}}var x=Object.assign({position:a},c&&tR),F=u===!0?nR({x:p,y:g}):{x:p,y:g};if(p=F.x,g=F.y,l){var z;return Object.assign({},x,(z={},z[C]=_?"0":"",z[w]=y?"0":"",z.transform=(N.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",z))}return Object.assign({},x,(e={},e[C]=_?g+"px":"",e[w]=y?p+"px":"",e.transform="",e))}function rR(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:mn(e.placement),variation:Ss(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_v(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_v(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const iR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rR,data:{}};var tl={passive:!0};function sR(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Vt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,tl)}),a&&l.addEventListener("resize",n.update,tl),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,tl)}),a&&l.removeEventListener("resize",n.update,tl)}}const oR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sR,data:{}};var aR={left:"right",right:"left",bottom:"top",top:"bottom"};function El(t){return t.replace(/left|right|bottom|top/g,function(e){return aR[e]})}var lR={start:"end",end:"start"};function wv(t){return t.replace(/start|end/g,function(e){return lR[e]})}function yp(t){var e=Vt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _p(t){return Cs($r(t)).left+yp(t).scrollLeft}function cR(t,e){var n=Vt(t),r=$r(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Bw();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+_p(t),y:l}}function uR(t){var e,n=$r(t),r=yp(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ai(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ai(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+_p(t),l=-r.scrollTop;return zn(i||n).direction==="rtl"&&(a+=ai(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function wp(t){var e=zn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Vw(t){return["html","body","#document"].indexOf(xr(t))>=0?t.ownerDocument.body:gn(t)&&wp(t)?t:Vw(Zc(t))}function To(t,e){var n;e===void 0&&(e=[]);var r=Vw(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Vt(r),o=i?[s].concat(s.visualViewport||[],wp(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(To(Zc(o)))}function Tf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function dR(t,e){var n=Cs(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Ev(t,e,n){return e===Uw?Tf(cR(t,n)):vi(e)?dR(e,n):Tf(uR($r(t)))}function fR(t){var e=To(Zc(t)),n=["absolute","fixed"].indexOf(zn(t).position)>=0,r=n&&gn(t)?Na(t):t;return vi(r)?e.filter(function(i){return vi(i)&&jw(i,r)&&xr(i)!=="body"}):[]}function hR(t,e,n,r){var i=e==="clippingParents"?fR(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=Ev(t,c,r);return l.top=ai(u.top,l.top),l.right=ec(u.right,l.right),l.bottom=ec(u.bottom,l.bottom),l.left=ai(u.left,l.left),l},Ev(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Gw(t){var e=t.reference,n=t.element,r=t.placement,i=r?mn(r):null,s=r?Ss(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Tt:l={x:o,y:e.y-n.height};break;case Wt:l={x:o,y:e.y+e.height};break;case Ht:l={x:e.x+e.width,y:a};break;case It:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?vp(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case ws:l[c]=l[c]-(e[u]/2-n[u]/2);break;case ea:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function ta(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Lb:a,c=n.rootBoundary,u=c===void 0?Uw:c,d=n.elementContext,f=d===void 0?ro:d,p=n.altBoundary,m=p===void 0?!1:p,g=n.padding,E=g===void 0?0:g,y=Ww(typeof E!="number"?E:Hw(E,ka)),_=f===ro?Fb:ro,w=t.rects.popper,C=t.elements[m?_:f],N=hR(vi(C)?C:C.contextElement||$r(t.elements.popper),l,u,o),S=Cs(t.elements.reference),k=Gw({reference:S,element:w,strategy:"absolute",placement:i}),T=Tf(Object.assign({},w,k)),R=f===ro?T:S,b={top:N.top-R.top+y.top,bottom:R.bottom-N.bottom+y.bottom,left:N.left-R.left+y.left,right:R.right-N.right+y.right},x=t.modifiersData.offset;if(f===ro&&x){var F=x[i];Object.keys(b).forEach(function(z){var ee=[Ht,Wt].indexOf(z)>=0?1:-1,J=[Tt,Wt].indexOf(z)>=0?"y":"x";b[z]+=F[J]*ee})}return b}function pR(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?$w:l,u=Ss(r),d=u?a?vv:vv.filter(function(m){return Ss(m)===u}):ka,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,g){return m[g]=ta(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[mn(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function mR(t){if(mn(t)===pp)return[];var e=El(t);return[wv(t),e,wv(e)]}function gR(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,g=n.allowedAutoPlacements,E=e.options.placement,y=mn(E),_=y===E,w=l||(_||!m?[El(E)]:mR(E)),C=[E].concat(w).reduce(function(te,q){return te.concat(mn(q)===pp?pR(e,{placement:q,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):q)},[]),N=e.rects.reference,S=e.rects.popper,k=new Map,T=!0,R=C[0],b=0;b<C.length;b++){var x=C[b],F=mn(x),z=Ss(x)===ws,ee=[Tt,Wt].indexOf(F)>=0,J=ee?"width":"height",H=ta(e,{placement:x,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),K=ee?z?Ht:It:z?Wt:Tt;N[J]>S[J]&&(K=El(K));var O=El(K),U=[];if(s&&U.push(H[F]<=0),a&&U.push(H[K]<=0,H[O]<=0),U.every(function(te){return te})){R=x,T=!1;break}k.set(x,U)}if(T)for(var L=m?3:1,Q=function(q){var B=C.find(function(ae){var pe=k.get(ae);if(pe)return pe.slice(0,q).every(function(me){return me})});if(B)return R=B,"break"},V=L;V>0;V--){var se=Q(V);if(se==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const vR={name:"flip",enabled:!0,phase:"main",fn:gR,requiresIfExists:["offset"],data:{_skip:!1}};function Cv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Sv(t){return[Tt,Ht,Wt,It].some(function(e){return t[e]>=0})}function yR(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=ta(e,{elementContext:"reference"}),a=ta(e,{altBoundary:!0}),l=Cv(o,r),c=Cv(a,i,s),u=Sv(l),d=Sv(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const _R={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yR};function wR(t,e,n){var r=mn(t),i=[It,Tt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[It,Ht].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function ER(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=$w.reduce(function(u,d){return u[d]=wR(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const CR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ER};function SR(t){var e=t.state,n=t.name;e.modifiersData[n]=Gw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const kR={name:"popperOffsets",enabled:!0,phase:"read",fn:SR,data:{}};function NR(t){return t==="x"?"y":"x"}function TR(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,E=ta(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=mn(e.placement),_=Ss(e.placement),w=!_,C=vp(y),N=NR(C),S=e.modifiersData.popperOffsets,k=e.rects.reference,T=e.rects.popper,R=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,b=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(S){if(s){var z,ee=C==="y"?Tt:It,J=C==="y"?Wt:Ht,H=C==="y"?"height":"width",K=S[C],O=K+E[ee],U=K-E[J],L=p?-T[H]/2:0,Q=_===ws?k[H]:T[H],V=_===ws?-T[H]:-k[H],se=e.elements.arrow,te=p&&se?gp(se):{width:0,height:0},q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zw(),B=q[ee],ae=q[J],pe=No(0,k[H],te[H]),me=w?k[H]/2-L-pe-B-b.mainAxis:Q-pe-B-b.mainAxis,ve=w?-k[H]/2+L+pe+ae+b.mainAxis:V+pe+ae+b.mainAxis,de=e.elements.arrow&&Na(e.elements.arrow),vt=de?C==="y"?de.clientTop||0:de.clientLeft||0:0,Qe=(z=x==null?void 0:x[C])!=null?z:0,re=K+me-Qe-vt,jr=K+ve-Qe,Jn=No(p?ec(O,re):O,K,p?ai(U,jr):U);S[C]=Jn,F[C]=Jn-K}if(a){var Ai,Hs=C==="x"?Tt:It,Vs=C==="x"?Wt:Ht,Kt=S[N],Zn=N==="y"?"height":"width",zr=Kt+E[Hs],an=Kt-E[Vs],er=[Tt,It].indexOf(y)!==-1,fe=(Ai=x==null?void 0:x[N])!=null?Ai:0,qt=er?zr:Kt-k[Zn]-T[Zn]-fe+b.altAxis,Wr=er?Kt+k[Zn]+T[Zn]-fe-b.altAxis:an,Gs=p&&er?Qb(qt,Kt,Wr):No(p?qt:zr,Kt,p?Wr:an);S[N]=Gs,F[N]=Gs-Kt}e.modifiersData[r]=F}}const IR={name:"preventOverflow",enabled:!0,phase:"main",fn:TR,requiresIfExists:["offset"]};function bR(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function RR(t){return t===Vt(t)||!gn(t)?yp(t):bR(t)}function xR(t){var e=t.getBoundingClientRect(),n=Es(e.width)/t.offsetWidth||1,r=Es(e.height)/t.offsetHeight||1;return n!==1||r!==1}function OR(t,e,n){n===void 0&&(n=!1);var r=gn(e),i=gn(e)&&xR(e),s=$r(e),o=Cs(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((xr(e)!=="body"||wp(s))&&(a=RR(e)),gn(e)?(l=Cs(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=_p(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function PR(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function AR(t){var e=PR(t);return Kb.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function DR(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function MR(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var kv={placement:"bottom",modifiers:[],strategy:"absolute"};function Nv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function LR(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?kv:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},kv,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(y){var _=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},s,u.options,_),u.scrollParents={reference:vi(a)?To(a):a.contextElement?To(a.contextElement):[],popper:To(l)};var w=AR(MR([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(C){return C.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var y=u.elements,_=y.reference,w=y.popper;if(Nv(_,w)){u.rects={reference:OR(_,Na(w),u.options.strategy==="fixed"),popper:gp(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(b){return u.modifiersData[b.name]=Object.assign({},b.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var N=u.orderedModifiers[C],S=N.fn,k=N.options,T=k===void 0?{}:k,R=N.name;typeof S=="function"&&(u=S({state:u,options:T,name:R,instance:p})||u)}}}},update:DR(function(){return new Promise(function(E){p.forceUpdate(),E(u)})}),destroy:function(){g(),f=!0}};if(!Nv(a,l))return p;p.setOptions(c).then(function(E){!f&&c.onFirstUpdate&&c.onFirstUpdate(E)});function m(){u.orderedModifiers.forEach(function(E){var y=E.name,_=E.options,w=_===void 0?{}:_,C=E.effect;if(typeof C=="function"){var N=C({state:u,name:y,instance:p,options:w}),S=function(){};d.push(N||S)}})}function g(){d.forEach(function(E){return E()}),d=[]}return p}}const FR=LR({defaultModifiers:[_R,kR,iR,oR,CR,vR,IR,eR]}),UR=["enabled","placement","strategy","modifiers"];function $R(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const BR={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},jR={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},zR=[];function WR(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=zR}=n,a=$R(n,UR);const l=h.useRef(o),c=h.useRef(),u=h.useCallback(()=>{var E;(E=c.current)==null||E.update()},[]),d=h.useCallback(()=>{var E;(E=c.current)==null||E.forceUpdate()},[]),[f,p]=Mb(h.useState({placement:i,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),m=h.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:E})=>{const y={},_={};Object.keys(E.elements).forEach(w=>{y[w]=E.styles[w],_[w]=E.attributes[w]}),p({state:E,styles:y,attributes:_,update:u,forceUpdate:d,placement:E.placement})}}),[u,d,p]),g=h.useMemo(()=>(ko(l.current,o)||(l.current=o),l.current),[o]);return h.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...g,m,BR]})},[s,i,m,r,g]),h.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=FR(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...g,jR,m]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,p(E=>Object.assign({},E,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}const Tv=()=>{};function HR(t){return t.button===0}function VR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const ed=t=>t&&("current"in t?t.current:t),Iv={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function GR(t,e=Tv,{disabled:n,clickTrigger:r="click"}={}){const i=h.useRef(!1),s=h.useRef(!1),o=h.useCallback(c=>{const u=ed(t);i.current=!u||VR(c)||!HR(c)||!!Zl(u,c.target)||s.current,s.current=!1},[t]),a=xe(c=>{const u=ed(t);u&&Zl(u,c.target)&&(s.current=!0)}),l=xe(c=>{i.current||e(c)});h.useEffect(()=>{if(n||t==null)return;const c=Sa(ed(t));let u=(c.defaultView||window).event,d=null;Iv[r]&&(d=mr(c,Iv[r],a,!0));const f=mr(c,r,o,!0),p=mr(c,r,g=>{if(g===u){u=void 0;return}l(g)});let m=[];return"ontouchstart"in c.documentElement&&(m=[].slice.call(c.body.children).map(g=>mr(g,"mousemove",Tv))),()=>{d==null||d(),f(),p(),m.forEach(g=>g())}},[t,n,r,o,a,l])}function KR(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function qR(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function YR({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var c,u,d,f,p;const m=KR(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:qR(Object.assign({},m,{eventListeners:{enabled:e,options:(c=m.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},m.preventOverflow,{options:o?Object.assign({padding:o},(u=m.preventOverflow)==null?void 0:u.options):(d=m.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=m.offset)==null?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!a,options:Object.assign({},(p=m.arrow)==null?void 0:p.options,{element:a})}),flip:Object.assign({enabled:!!r},m.flip)}))})}const QR=["children"];function XR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const JR=()=>{};function Kw(t={}){const e=h.useContext(Jc),[n,r]=Fw(),i=h.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:c,popperConfig:u={},enableEventListeners:d=!0,usePopper:f=!!e}=t,p=(e==null?void 0:e.show)==null?!!t.show:e.show;p&&!i.current&&(i.current=!0);const m=S=>{e==null||e.toggle(!1,S)},{placement:g,setMenu:E,menuElement:y,toggleElement:_}=e||{},w=WR(_,y,YR({placement:c||g||"bottom-start",enabled:f,enableEvents:d??p,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:u})),C=Object.assign({ref:E||JR,"aria-labelledby":_==null?void 0:_.id},w.attributes.popper,{style:w.styles.popper}),N={show:p,placement:g,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return GR(y,m,{clickTrigger:a,disabled:!p}),[C,N]}const ZR={usePopper:!0};function Ep(t){let{children:e}=t,n=XR(t,QR);const[r,i]=Kw(n);return v($e,{children:e(r,i)})}Ep.displayName="DropdownMenu";Ep.defaultProps=ZR;const qw={prefix:String(Math.round(Math.random()*1e10)),current:0},ex=I.createContext(qw);let tx=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function nx(t){let e=h.useContext(ex);return e===qw&&!tx&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),h.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}const Yw=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},bv=()=>{};function Qw(){const t=nx(),{show:e=!1,toggle:n=bv,setToggle:r,menuElement:i}=h.useContext(Jc)||{},s=h.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||bv,onClick:s,"aria-expanded":!!e};return i&&Yw(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function Xw({children:t}){const[e,n]=Qw();return v($e,{children:t(e,n)})}Xw.displayName="DropdownToggle";const Jw=h.createContext(null);Jw.displayName="NavContext";const Cp=Jw,rx=["as","disabled"];function ix(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sx(t){return!t||t.trim()==="#"}function Sp({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const u=f=>{if((e||t==="a"&&sx(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),u(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:u,onKeyDown:d},c]}const kp=h.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=ix(t,rx);const[s,{tagName:o}]=Sp(Object.assign({tagName:n,disabled:r},i));return v(o,Object.assign({},i,s,{ref:e}))});kp.displayName="Button";const ox=["eventKey","disabled","onClick","active","as"];function ax(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zw({key:t,href:e,active:n,disabled:r,onClick:i}){const s=h.useContext(gi),o=h.useContext(Cp),{activeKey:a}=o||{},l=Jo(t,e),c=n==null&&t!=null?Jo(a)===l:n;return[{onClick:xe(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":c,[Ls("dropdown-item")]:""},{isActive:c}]}const eE=h.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=kp}=t,a=ax(t,ox);const[l]=Zw({key:n,href:a.href,disabled:r,onClick:i,active:s});return v(o,Object.assign({},a,{ref:e},l))});eE.displayName="DropdownItem";function Rv(){const t=Lw(),e=h.useRef(null),n=h.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function Ta({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ls("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=op(),[c,u]=gw(e,t,r),[d,f]=Rv(),p=d.current,[m,g]=Rv(),E=m.current,y=Iw(c),_=h.useRef(null),w=h.useRef(!1),C=h.useContext(gi),N=h.useCallback((x,F,z=F==null?void 0:F.type)=>{u(x,{originalEvent:F,source:z})},[u]),S=xe((x,F)=>{n==null||n(x,F),N(!1,F,"select"),F.isPropagationStopped()||C==null||C(x,F)}),k=h.useMemo(()=>({toggle:N,placement:o,show:c,menuElement:p,toggleElement:E,setMenu:f,setToggle:g}),[N,o,c,p,E,f,g]);p&&y&&!c&&(w.current=p.contains(p.ownerDocument.activeElement));const T=xe(()=>{E&&E.focus&&E.focus()}),R=xe(()=>{const x=_.current;let F=s;if(F==null&&(F=d.current&&Yw(d.current)?"keyboard":!1),F===!1||F==="keyboard"&&!/^key.+$/.test(x))return;const z=Tn(d.current,i)[0];z&&z.focus&&z.focus()});h.useEffect(()=>{c?R():w.current&&(w.current=!1,T())},[c,w,T,R]),h.useEffect(()=>{_.current=null});const b=(x,F)=>{if(!d.current)return null;const z=Tn(d.current,i);let ee=z.indexOf(x)+F;return ee=Math.max(0,Math.min(ee,z.length)),z[ee]};return Ab(h.useCallback(()=>l.document,[l]),"keydown",x=>{var F,z;const{key:ee}=x,J=x.target,H=(F=d.current)==null?void 0:F.contains(J),K=(z=m.current)==null?void 0:z.contains(J);if(/input|textarea/i.test(J.tagName)&&(ee===" "||ee!=="Escape"&&H||ee==="Escape"&&J.type==="search")||!H&&!K||ee==="Tab"&&(!d.current||!c))return;_.current=x.type;const U={originalEvent:x,source:x.type};switch(ee){case"ArrowUp":{const L=b(J,-1);L&&L.focus&&L.focus(),x.preventDefault();return}case"ArrowDown":if(x.preventDefault(),!c)u(!0,U);else{const L=b(J,1);L&&L.focus&&L.focus()}return;case"Tab":ep(J.ownerDocument,"keyup",L=>{var Q;(L.key==="Tab"&&!L.target||!((Q=d.current)!=null&&Q.contains(L.target)))&&u(!1,U)},{once:!0});break;case"Escape":ee==="Escape"&&(x.preventDefault(),x.stopPropagation()),u(!1,U);break}}),v(gi.Provider,{value:S,children:v(Jc.Provider,{value:k,children:a})})}Ta.displayName="Dropdown";Ta.Menu=Ep;Ta.Toggle=Xw;Ta.Item=eE;const tE=h.createContext({});tE.displayName="DropdownContext";const nE=tE,lx=["onKeyDown"];function cx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ux(t){return!t||t.trim()==="#"}const rE=h.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=cx(t,lx);const[i]=Sp(Object.assign({tagName:"a"},r)),s=xe(o=>{i.onKeyDown(o),n==null||n(o)});return ux(r.href)||r.role==="button"?v("a",Object.assign({ref:e},r,i,{onKeyDown:s})):v("a",Object.assign({ref:e},r,{onKeyDown:n}))});rE.displayName="Anchor";const tc=rE,iE=h.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=tc,...a},l)=>{const c=ie(t,"dropdown-item"),[u,d]=Zw({key:n,href:a.href,disabled:r,onClick:i,active:s});return v(o,{...a,...u,ref:l,className:Y(e,c,d.isActive&&"active",r&&"disabled")})});iE.displayName="DropdownItem";const dx=iE,sE=h.createContext(null);sE.displayName="InputGroupContext";const oE=sE;function aE(t,e){return t}const fx={flip:!0};function lE(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",c=n?"left-start":"right-start",u=n?"left-end":"right-end";let d=t?o:s;return e==="up"?d=t?i:r:e==="end"?d=t?u:c:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const Np=h.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:c,...u},d)=>{let f=!1;const p=h.useContext(xi),m=ie(t,"dropdown-menu"),{align:g,drop:E,isRTL:y}=h.useContext(nE);n=n||g;const _=h.useContext(oE),w=[];if(n)if(typeof n=="object"){const x=Object.keys(n);if(x.length){const F=x[0],z=n[F];f=z==="start",w.push(`${m}-${F}-${z}`)}}else n==="end"&&(f=!0);const C=lE(f,E,y),[N,{hasShown:S,popper:k,show:T,toggle:R}]=Kw({flip:i,rootCloseEvent:r,show:s,usePopper:!p&&w.length===0,offset:[0,2],popperConfig:l,placement:C});if(N.ref=Ri(aE(d),N.ref),Jl(()=>{T&&(k==null||k.update())},[T]),!S&&!o&&!_)return null;typeof a!="string"&&(N.show=T,N.close=()=>R==null?void 0:R(!1),N.align=n);let b=u.style;return k!=null&&k.placement&&(b={...u.style,...N.style},u["x-placement"]=k.placement),v(a,{...u,...N,style:b,...(w.length||p)&&{"data-bs-popper":"static"},className:Y(e,m,T&&"show",f&&`${m}-end`,c&&`${m}-${c}`,...w)})});Np.displayName="DropdownMenu";Np.defaultProps=fx;const hx=Np,px={variant:"primary",active:!1,disabled:!1},Tp=h.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=ie(e,"btn"),[c,{tagName:u}]=Sp({tagName:t,...o});return v(u,{...c,...o,ref:a,className:Y(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});Tp.displayName="Button";Tp.defaultProps=px;const Te=Tp,cE=h.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Te,...s},o)=>{const a=ie(t,"dropdown-toggle"),l=h.useContext(Jc);r!==void 0&&(s.bsPrefix=r);const[c]=Qw();return c.ref=Ri(c.ref,aE(o)),v(i,{className:Y(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...c,...s})});cE.displayName="DropdownToggle";const mx=cE,gx=He("dropdown-header",{defaultProps:{role:"heading"}}),vx=He("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),yx=He("dropdown-item-text",{Component:"span"}),_x={navbar:!1,align:"start",autoClose:!0,drop:"down"},Ip=h.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:c,as:u="div",navbar:d,autoClose:f,...p}=Kc(t,{show:"onToggle"}),m=h.useContext(oE),g=ie(n,"dropdown"),E=Zh(),y=k=>f===!1?k==="click":f==="inside"?k!=="rootClose":f==="outside"?k!=="select":!0,_=xe((k,T)=>{T.originalEvent.currentTarget===document&&(T.source!=="keydown"||T.originalEvent.key==="Escape")&&(T.source="rootClose"),y(T.source)&&(l==null||l(k,T))}),C=lE(o==="end",r,E),N=h.useMemo(()=>({align:o,drop:r,isRTL:E}),[o,r,E]),S={down:g,"down-centered":`${g}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return v(nE.Provider,{value:N,children:v(Ta,{placement:C,show:i,onSelect:a,onToggle:_,focusFirstItemOnShow:c,itemSelector:`.${g}-item:not(.disabled):not(:disabled)`,children:m?p.children:v(u,{...p,ref:e,className:Y(s,i&&"show",S[r])})})})});Ip.displayName="Dropdown";Ip.defaultProps=_x;const ei=Object.assign(Ip,{Toggle:mx,Menu:hx,Item:dx,ItemText:yx,Divider:vx,Header:gx}),wx=h.createContext(null),uE=wx,Ex=["as","active","eventKey"];function Cx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dE({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=h.useContext(gi),a=h.useContext(Cp),l=h.useContext(uE);let c=n;const u={role:i};if(a){!i&&a.role==="tablist"&&(u.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);u[Ls("event-key")]=t,u.id=d||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=f)}return u.role==="tab"&&(u["aria-selected"]=c,c||(u.tabIndex=-1),s&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=xe(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[u,{isActive:c}]}const fE=h.forwardRef((t,e)=>{let{as:n=kp,active:r,eventKey:i}=t,s=Cx(t,Ex);const[o,a]=dE(Object.assign({key:Jo(i,s.href),active:r},s));return o[Ls("active")]=a.isActive,v(n,Object.assign({},s,o,{ref:e}))});fE.displayName="NavItem";const Sx=fE,kx={disabled:!1},bp=h.forwardRef(({bsPrefix:t,className:e,as:n=tc,active:r,eventKey:i,...s},o)=>{t=ie(t,"nav-link");const[a,l]=dE({key:Jo(i,s.href),active:r,...s});return v(n,{...s,...a,ref:o,className:Y(e,t,s.disabled&&"disabled",l.isActive&&"active")})});bp.displayName="NavLink";bp.defaultProps=kx;const hE=bp,pE=h.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:c,menuVariant:u,...d},f)=>{const p=ie(void 0,"nav-item");return P(ei,{ref:f,...d,className:Y(i,p),children:[v(ei.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:hE,children:e}),v(ei.Menu,{role:o,renderOnMount:c,rootCloseEvent:s,variant:u,children:n})]})});pE.displayName="NavDropdown";const xv=Object.assign(pE,{Item:ei.Item,ItemText:ei.ItemText,Divider:ei.Divider,Header:ei.Header});var If={},Nx={get exports(){return If},set exports(t){If=t}},nc={},Tx={get exports(){return nc},set exports(t){nc=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,c,u,d){var f=c||"<<anonymous>>",p=d||l;if(a[l]==null)return o?new Error("Required "+u+" `"+p+"` was not specified "+("in `"+f+"`.")):null;for(var m=arguments.length,g=Array(m>6?m-6:0),E=6;E<m;E++)g[E-6]=arguments[E];return r.apply(void 0,[a,l,f,u,p].concat(g))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(Tx,nc);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=nc,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function c(){for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=null;return a.forEach(function(m){if(p==null){var g=m.apply(void 0,d);g!=null&&(p=g)}}),p}return(0,r.default)(c)}t.exports=e.default})(Nx,If);const Ix=["as","onSelect","activeKey","role","onKeyDown"];function bx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Ov=()=>{},Pv=Ls("event-key"),mE=h.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=bx(t,Ix);const l=Lw(),c=h.useRef(!1),u=h.useContext(gi),d=h.useContext(uE);let f,p;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,p=d.getControllerId);const m=h.useRef(null),g=w=>{const C=m.current;if(!C)return null;const N=Tn(C,`[${Pv}]:not([aria-disabled=true])`),S=C.querySelector("[aria-selected=true]");if(!S||S!==document.activeElement)return null;const k=N.indexOf(S);if(k===-1)return null;let T=k+w;return T>=N.length&&(T=0),T<0&&(T=N.length-1),N[T]},E=(w,C)=>{w!=null&&(r==null||r(w,C),u==null||u(w,C))},y=w=>{if(o==null||o(w),!d)return;let C;switch(w.key){case"ArrowLeft":case"ArrowUp":C=g(-1);break;case"ArrowRight":case"ArrowDown":C=g(1);break;default:return}C&&(w.preventDefault(),E(C.dataset[YI("EventKey")]||null,w),c.current=!0,l())};h.useEffect(()=>{if(m.current&&c.current){const w=m.current.querySelector(`[${Pv}][aria-selected=true]`);w==null||w.focus()}c.current=!1});const _=Ri(e,m);return v(gi.Provider,{value:E,children:v(Cp.Provider,{value:{role:s,activeKey:Jo(i),getControlledId:f||Ov,getControllerId:p||Ov},children:v(n,Object.assign({},a,{onKeyDown:y,ref:_,role:s}))})})});mE.displayName="Nav";const Rx=Object.assign(mE,{Item:Sx}),gE=h.createContext(null);gE.displayName="CardHeaderContext";const vE=gE,xx=He("nav-item"),Ox={justify:!1,fill:!1},Rp=h.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:c,activeKey:u,...d}=Kc(t,{activeKey:"onSelect"}),f=ie(r,"nav");let p,m,g=!1;const E=h.useContext(xi),y=h.useContext(vE);return E?(p=E.bsPrefix,g=a??!0):y&&({cardHeaderBsPrefix:m}=y),v(Rx,{as:n,ref:e,activeKey:u,className:Y(c,{[f]:!g,[`${p}-nav`]:g,[`${p}-nav-scroll`]:g&&l,[`${m}-${i}`]:!!m,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});Rp.displayName="Nav";Rp.defaultProps=Ox;Object.assign(Rp,{Item:xx,Link:hE});var yE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Av=I.createContext&&I.createContext(yE),kr=globalThis&&globalThis.__assign||function(){return kr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kr.apply(this,arguments)},Px=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _E(t){return t&&t.map(function(e,n){return I.createElement(e.tag,kr({key:n},e.attr),_E(e.child))})}function mt(t){return function(e){return I.createElement(Ax,kr({attr:kr({},t.attr)},e),_E(t.child))}}function Ax(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Px(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),I.createElement("svg",kr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:kr(kr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&I.createElement("title",null,s),t.children)};return Av!==void 0?I.createElement(Av.Consumer,null,function(n){return e(n)}):e(yE)}function Dv(t){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"}}]})(t)}function eu(t){return mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"}}]})(t)}function wE(t){return mt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(t)}function EE(t){return mt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(t)}function Dx(t){return mt({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(t,e){if(!t)throw Fs(e)},Fs=function(t){return new Error("Firebase Database ("+CE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Mx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Mx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},kE=function(t){const e=SE(t);return xp.encodeByteArray(e,!0)},rc=function(t){return kE(t).replace(/\./g,"")},ic=function(t){try{return xp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){return NE(void 0,t)}function NE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Fx(n)||(t[n]=NE(t[n],e[n]));return t}function Fx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=()=>Ux().__FIREBASE_DEFAULTS__,Bx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ic(t[1]);return e&&JSON.parse(e)},tu=()=>{try{return $x()||Bx()||jx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TE=t=>{var e,n;return(n=(e=tu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IE=t=>{const e=TE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zx=()=>{var t;return(t=tu())===null||t===void 0?void 0:t.config},bE=t=>{var e;return(e=tu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[rc(JSON.stringify(n)),rc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Op(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function Wx(){var t;const e=(t=tu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vx(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OE(){return CE.NODE_ADMIN===!0}function Gx(){try{return typeof indexedDB=="object"}catch{return!1}}function Kx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qx,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,r)}}function Yx(t,e){return t.replace(Qx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Qx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){return JSON.parse(t)}function qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=na(ic(s[0])||""),n=na(ic(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Xx=function(t){const e=PE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Jx=function(t){const e=PE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ks(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function oc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Mv(s)&&Mv(o)){if(!oc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function eO(t,e){const n=new tO(t,e);return n.subscribe.bind(n)}class tO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=td),i.error===void 0&&(i.error=td),i.complete===void 0&&(i.complete=td);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function td(){}function Pp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,M(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ru=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oO(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sO(t){return t===Yr?void 0:t}function oO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const lO={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},cO=we.INFO,uO={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},dO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=cO,this._logHandler=dO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const fO=(t,e)=>e.some(n=>t instanceof n);let Lv,Fv;function hO(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pO(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,Rf=new WeakMap,DE=new WeakMap,nd=new WeakMap,Dp=new WeakMap;function mO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AE.set(n,t)}).catch(()=>{}),Dp.set(e,t),e}function gO(t){if(Rf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rf.set(t,e)}let xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vO(t){xf=t(xf)}function yO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rd(this),e,...n);return DE.set(r,e.sort?e.sort():[e]),Nr(r)}:pO().includes(t)?function(...e){return t.apply(rd(this),e),Nr(AE.get(this))}:function(...e){return Nr(t.apply(rd(this),e))}}function _O(t){return typeof t=="function"?yO(t):(t instanceof IDBTransaction&&gO(t),fO(t,hO())?new Proxy(t,xf):t)}function Nr(t){if(t instanceof IDBRequest)return mO(t);if(nd.has(t))return nd.get(t);const e=_O(t);return e!==t&&(nd.set(t,e),Dp.set(e,t)),e}const rd=t=>Dp.get(t);function wO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Nr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Nr(o.result),l.oldVersion,l.newVersion,Nr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const EO=["get","getKey","getAll","getAllKeys","count"],CO=["put","add","delete","clear"],id=new Map;function Uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(id.get(e))return id.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return id.set(e,s),s}vO(t=>({...t,get:(e,n,r)=>Uv(e,n)||t.get(e,n,r),has:(e,n)=>!!Uv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",$v="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Ap("@firebase/app"),NO="@firebase/app-compat",TO="@firebase/analytics-compat",IO="@firebase/analytics",bO="@firebase/app-check-compat",RO="@firebase/app-check",xO="@firebase/auth",OO="@firebase/auth-compat",PO="@firebase/database",AO="@firebase/database-compat",DO="@firebase/functions",MO="@firebase/functions-compat",LO="@firebase/installations",FO="@firebase/installations-compat",UO="@firebase/messaging",$O="@firebase/messaging-compat",BO="@firebase/performance",jO="@firebase/performance-compat",zO="@firebase/remote-config",WO="@firebase/remote-config-compat",HO="@firebase/storage",VO="@firebase/storage-compat",GO="@firebase/firestore",KO="@firebase/firestore-compat",qO="firebase",YO="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",QO={[Of]:"fire-core",[NO]:"fire-core-compat",[IO]:"fire-analytics",[TO]:"fire-analytics-compat",[RO]:"fire-app-check",[bO]:"fire-app-check-compat",[xO]:"fire-auth",[OO]:"fire-auth-compat",[PO]:"fire-rtdb",[AO]:"fire-rtdb-compat",[DO]:"fire-fn",[MO]:"fire-fn-compat",[LO]:"fire-iid",[FO]:"fire-iid-compat",[UO]:"fire-fcm",[$O]:"fire-fcm-compat",[BO]:"fire-perf",[jO]:"fire-perf-compat",[zO]:"fire-rc",[WO]:"fire-rc-compat",[HO]:"fire-gcs",[VO]:"fire-gcs-compat",[GO]:"fire-fst",[KO]:"fire-fst-compat","fire-js":"fire-js",[qO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new Map,Af=new Map;function XO(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _i(t){const e=t.name;if(Af.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Af.set(e,t);for(const n of ac.values())XO(n,t);return!0}function iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tr=new Ia("app","Firebase",JO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=YO;function ME(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=zx()),!n)throw Tr.create("no-options");const s=ac.get(i);if(s){if(oc(n,s.options)&&oc(r,s.config))return s;throw Tr.create("duplicate-app",{appName:i})}const o=new aO(i);for(const l of Af.values())o.addComponent(l);const a=new ZO(n,r,o);return ac.set(i,a),a}function Mp(t=Pf){const e=ac.get(t);if(!e&&t===Pf)return ME();if(!e)throw Tr.create("no-app",{appName:t});return e}function vn(t,e,n){var r;let i=(r=QO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(a.join(" "));return}_i(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebase-heartbeat-database",tP=1,ra="firebase-heartbeat-store";let sd=null;function LE(){return sd||(sd=wO(eP,tP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ra)}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),sd}async function nP(t){try{return(await LE()).transaction(ra).objectStore(ra).get(FE(t))}catch(e){if(e instanceof Qn)yi.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function Bv(t,e){try{const r=(await LE()).transaction(ra,"readwrite");return await r.objectStore(ra).put(e,FE(t)),r.done}catch(n){if(n instanceof Qn)yi.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function FE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=1024,iP=30*24*60*60*1e3;class sP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=iP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jv(),{heartbeatsToSend:n,unsentEntries:r}=oP(this._heartbeatsCache.heartbeats),i=rc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function jv(){return new Date().toISOString().substring(0,10)}function oP(t,e=rP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gx()?Kx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await nP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zv(t){return rc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){_i(new Or("platform-logger",e=>new SO(e),"PRIVATE")),_i(new Or("heartbeat",e=>new sP(e),"PRIVATE")),vn(Of,$v,t),vn(Of,$v,"esm2017"),vn("fire-js","")}lP("");const Wv="@firebase/database",Hv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE="";function cP(t){UE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:na(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uP(e)}}catch{}return new dP},ti=$E("localStorage"),Df=$E("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Ap("@firebase/database"),fP=function(){let t=1;return function(){return t++}}(),BE=function(t){const e=rO(t),n=new Zx;n.update(e);const r=n.digest();return xp.encodeByteArray(r)},ba=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ba.apply(null,r):typeof r=="object"?e+=qe(r):e+=r,e+=" "}return e};let li=null,Vv=!0;const hP=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(as.logLevel=we.VERBOSE,li=as.log.bind(as),e&&Df.set("logging_enabled",!0)):typeof t=="function"?li=t:(li=null,Df.remove("logging_enabled"))},Ze=function(...t){if(Vv===!0&&(Vv=!1,li===null&&Df.get("logging_enabled")===!0&&hP(!0)),li){const e=ba.apply(null,t);li(e)}},Ra=function(t){return function(...e){Ze(t,...e)}},Mf=function(...t){const e="FIREBASE INTERNAL ERROR: "+ba(...t);as.error(e)},Wn=function(...t){const e=`FIREBASE FATAL ERROR: ${ba(...t)}`;throw as.error(e),new Error(e)},bt=function(...t){const e="FIREBASE WARNING: "+ba(...t);as.warn(e)},pP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ns="[MIN_NAME]",wi="[MAX_NAME]",Oi=function(t,e){if(t===e)return 0;if(t===Ns||e===wi)return-1;if(e===Ns||t===wi)return 1;{const n=Gv(t),r=Gv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},gP=function(t,e){return t===e?0:t<e?-1:1},io=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qe(e))},Fp=function(t){if(typeof t!="object"||t===null)return qe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=qe(e[r]),n+=":",n+=Fp(t[e[r]]);return n+="}",n},jE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function rt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const zE=function(t){M(!Lp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},vP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _P(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const wP=new RegExp("^-?(0*)\\d{1,10}$"),EP=-2147483648,CP=2147483647,Gv=function(t){if(wP.test(t)){const e=Number(t);if(e>=EP&&e<=CP)return e}return null},Bs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw bt("Exception was thrown by user callback.",n),e},Math.floor(0))}},SP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Io=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(e)}}class ls{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ls.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="5",WE="v",HE="s",VE="r",GE="f",KE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qE="ls",YE="p",Lf="ac",QE="websocket",XE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ti.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ti.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function TP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZE(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(e===QE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===XE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TP(t)&&(n.ns=t.namespace);const i=[];return rt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Lx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od={},ad={};function $p(t){const e=t.toString();return od[e]||(od[e]=new IP),od[e]}function bP(t,e){const n=t.toString();return ad[n]||(ad[n]=e()),ad[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="start",xP="close",OP="pLPCommand",PP="pRTLPCB",e1="id",t1="pw",n1="ser",AP="cb",DP="seg",MP="ts",LP="d",FP="dframe",r1=1870,i1=30,UP=r1-i1,$P=25e3,BP=3e4;class Zi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ra(e),this.stats_=$p(n),this.urlFn=l=>(this.appCheckToken&&(l[Lf]=this.appCheckToken),ZE(n,XE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new RP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BP)),mP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bp((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Kv)this.id=a,this.password=l;else if(o===xP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Kv]="t",r[n1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[WE]=Up,this.transportSessionId&&(r[HE]=this.transportSessionId),this.lastSessionId&&(r[qE]=this.lastSessionId),this.applicationId&&(r[YE]=this.applicationId),this.appCheckToken&&(r[Lf]=this.appCheckToken),typeof location<"u"&&location.hostname&&KE.test(location.hostname)&&(r[VE]=GE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zi.forceAllow_=!0}static forceDisallow(){Zi.forceDisallow_=!0}static isAvailable(){return Zi.forceAllow_?!0:!Zi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vP()&&!yP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kE(n),i=jE(r,UP);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[FP]="t",r[e1]=e,r[t1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Bp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fP(),window[OP+this.uniqueCallbackIdentifier]=e,window[PP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Bp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ze("frame writing exception"),a.stack&&Ze(a.stack),Ze(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[e1]=this.myID,e[t1]=this.myPW,e[n1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+i1+r.length<=r1;){const o=this.pendingSegs.shift();r=r+"&"+DP+i+"="+o.seg+"&"+MP+i+"="+o.ts+"&"+LP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($P)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=16384,zP=45e3;let lc=null;typeof MozWebSocket<"u"?lc=MozWebSocket:typeof WebSocket<"u"&&(lc=WebSocket);class en{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ra(this.connId),this.stats_=$p(n),this.connURL=en.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[WE]=Up,typeof location<"u"&&location.hostname&&KE.test(location.hostname)&&(o[VE]=GE),n&&(o[HE]=n),r&&(o[qE]=r),i&&(o[Lf]=i),s&&(o[YE]=s),ZE(e,QE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ti.set("previous_websocket_failure",!0);try{let r;OE(),this.mySock=new lc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&lc!==null&&!en.forceDisallow_}static previouslyFailed(){return ti.isInMemoryStorage||ti.get("previous_websocket_failure")===!0}markConnectionHealthy(){ti.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=na(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=jE(n,jP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zi,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=en&&en.isAvailable();let r=n&&!en.previouslyFailed();if(e.webSocketOnly&&(n||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[en];else{const i=this.transports_=[];for(const s of ia.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ia.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ia.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=6e4,HP=5e3,VP=10*1024,GP=100*1024,ld="t",qv="d",KP="s",Yv="r",qP="e",Qv="o",Xv="a",Jv="n",Zv="p",YP="h";class QP{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ra("c:"+this.id+":"),this.transportManager_=new ia(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Io(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ld in e){const n=e[ld];n===Xv?this.upgradeIfSecondaryHealthy_():n===Yv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Qv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=io("t",e),r=io("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=io("t",e),r=io("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=io(ld,e);if(qv in e){const r=e[qv];if(n===YP){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Jv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===KP?this.onConnectionShutdown_(r):n===Yv?this.onReset_(r):n===qP?Mf("Server Error: "+r):n===Qv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Up!==r&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Io(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Io(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ti.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends o1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Op()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new cc}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=32,ty=768;class _e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ge(){return new _e("")}function le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Pr(t){return t.pieces_.length-t.pieceNum_}function Se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function jp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function XP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function sa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function a1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function Le(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _e)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _e(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function Et(t,e){const n=le(t),r=le(e);if(n===null)return e;if(n===r)return Et(Se(t),Se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function JP(t,e){const n=sa(t,0),r=sa(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Oi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function zp(t,e){if(Pr(t)!==Pr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function $t(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pr(t)>Pr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ZP{constructor(e,n){this.errorPrefix_=n,this.parts_=sa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ru(this.parts_[r]);l1(this)}}function eA(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ru(e),l1(t)}function tA(t){const e=t.parts_.pop();t.byteLength_-=ru(e),t.parts_.length>0&&(t.byteLength_-=1)}function l1(t){if(t.byteLength_>ty)throw new Error(t.errorPrefix_+"has a key path longer than "+ty+" bytes ("+t.byteLength_+").");if(t.parts_.length>ey)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ey+") or object contains a cycle "+Qr(t))}function Qr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends o1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Wp}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=1e3,nA=60*5*1e3,ny=30*1e3,rA=1.3,iA=3e4,sA="server_kill",ry=3;class Ln extends s1{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ln.nextPersistentConnectionId_++,this.log_=Ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=so,this.maxReconnectDelay_=nA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!OE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&cc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(qe(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new nu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ln.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&En(e,"w")){const r=ks(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Jx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ny)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Xx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+qe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Mf("Unrecognized action received from server: "+qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iA&&(this.reconnectDelay_=so),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ln.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){M(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new QP(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{bt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(sA)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&bt(d),l())}}}interrupt(e){Ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bf(this.interruptReasons_)&&(this.reconnectDelay_=so,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Fp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _e(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ry&&(this.reconnectDelay_=ny,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ry&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+UE.replace(/\./g,"-")]=1,Op()?e["framework.cordova"]=1:xE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cc.getInstance().currentlyOnline();return bf(this.interruptReasons_)&&e}}Ln.nextPersistentConnectionId_=0;Ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new oe(Ns,e),i=new oe(Ns,n);return this.compare(r,i)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class c1 extends su{static get __EMPTY_NODE(){return nl}static set __EMPTY_NODE(e){nl=e}compare(e,n){return Oi(e.name,n.name)}isDefinedOn(e){throw Fs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(wi,nl)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,nl)}toString(){return".key"}}const cs=new c1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??Ct.EMPTY_NODE,this.right=s??Ct.EMPTY_NODE}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class oA{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,n=Ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new rl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new rl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new rl(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new oA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t,e){return Oi(t.name,e.name)}function Hp(t,e){return Oi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;function lA(t){Ff=t}const u1=function(t){return typeof t=="number"?"number:"+zE(t):"string:"+t},d1=function(t){if(t.isLeafNode()){const e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else M(t===Ff||t.isEmpty(),"priority of unexpected type.");M(t===Ff||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy;class Ve{constructor(e,n=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),d1(this.priorityNode_)}static set __childrenNodeConstructor(e){iy=e}static get __childrenNodeConstructor(){return iy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ve(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:le(e)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(M(r!==".priority"||Pr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(Se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+u1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=zE(this.value_):e+=this.value_,this.lazyHash_=BE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ve.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ve.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ve.VALUE_TYPE_ORDER.indexOf(n),s=Ve.VALUE_TYPE_ORDER.indexOf(r);return M(i>=0,"Unknown leaf type: "+n),M(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f1,h1;function cA(t){f1=t}function uA(t){h1=t}class dA extends su{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Oi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(wi,new Ve("[PRIORITY-POST]",h1))}makePost(e,n){const r=f1(e);return new oe(n,new Ve("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new dA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=Math.log(2);class hA{constructor(e){const n=s=>parseInt(Math.log(s)/fA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uc=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),g=i(p+1,c);return d=t[p],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,m,g)}},s=function(l){let c=null,u=null,d=t.length;const f=function(m,g){const E=d-m,y=d;d-=m;const _=i(E+1,y),w=t[E],C=n?n(w):w;p(new Ke(C,w.node,g,null,_))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,Ke.BLACK):(f(E,Ke.BLACK),f(E,Ke.RED))}return u},o=new hA(t.length),a=s(o);return new Ct(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;const Fi={};class On{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M(Fi&&Fe,"ChildrenNode.ts has not been loaded"),cd=cd||new On({".priority":Fi},{".priority":Fe}),cd}get(e){const n=ks(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ct?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){M(e!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(oe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=uc(r,e.getCompare()):a=Fi;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new On(u,c)}addToIndexes(e,n){const r=sc(this.indexes_,(i,s)=>{const o=ks(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===Fi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(oe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),uc(a,o.getCompare())}else return Fi;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new oe(e.name,a))),l.insert(e,e.node)}});return new On(r,this.indexSet_)}removeFromIndexes(e,n){const r=sc(this.indexes_,i=>{if(i===Fi)return i;{const s=n.get(e.name);return s?i.remove(new oe(e.name,s)):i}});return new On(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo;class X{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&d1(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oo||(oo=new X(new Ct(Hp),null,On.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oo}updatePriority(e){return this.children_.isEmpty()?this:new X(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?oo:n}}getChild(e){const n=le(e);return n===null?this:this.getImmediateChild(n).getChild(Se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(M(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new oe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?oo:this.priorityNode_;return new X(i,o,s)}}updateChild(e,n){const r=le(e);if(r===null)return n;{M(le(e)!==".priority"||Pr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Se(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Fe,(o,a)=>{n[o]=a.val(e),r++,s&&X.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+u1(this.getPriority().val())+":"),this.forEachChild(Fe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":BE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new oe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xa?-1:0}withIndex(e){if(e===cs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new X(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Fe),i=n.getIterator(Fe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===cs?null:this.indexMap_.get(e.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pA extends X{constructor(){super(new Ct(Hp),X.EMPTY_NODE,On.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return X.EMPTY_NODE}isEmpty(){return!1}}const xa=new pA;Object.defineProperties(oe,{MIN:{value:new oe(Ns,X.EMPTY_NODE)},MAX:{value:new oe(wi,xa)}});c1.__EMPTY_NODE=X.EMPTY_NODE;Ve.__childrenNodeConstructor=X;lA(xa);uA(xa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=!0;function et(t,e=null){if(t===null)return X.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ve(n,et(e))}if(!(t instanceof Array)&&mA){const n=[];let r=!1;if(rt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=et(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new oe(o,l)))}}),n.length===0)return X.EMPTY_NODE;const s=uc(n,aA,o=>o.name,Hp);if(r){const o=uc(n,Fe.getCompare());return new X(s,et(e),new On({".priority":o},{".priority":Fe}))}else return new X(s,et(e),On.Default)}else{let n=X.EMPTY_NODE;return rt(t,(r,i)=>{if(En(t,r)&&r.substring(0,1)!=="."){const s=et(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(et(e))}}cA(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends su{constructor(e){super(),this.indexPath_=e,M(!ce(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Oi(e.name,n.name):s}makePost(e,n){const r=et(e),i=X.EMPTY_NODE.updateChild(this.indexPath_,r);return new oe(n,i)}maxPost(){const e=X.EMPTY_NODE.updateChild(this.indexPath_,xa);return new oe(wi,e)}toString(){return sa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends su{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Oi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const r=et(e);return new oe(n,r)}toString(){return".value"}}const yA=new vA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){return{type:"value",snapshotNode:t}}function Ts(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function oa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function aa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _A(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(oa(n,a)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ts(n,r)):o.trackChildChange(aa(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Fe,(i,s)=>{n.hasChild(i)||r.trackChildChange(oa(i,s))}),n.isLeafNode()||n.forEachChild(Fe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(aa(i,s,o))}else r.trackChildChange(Ts(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?X.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.indexedFilter_=new Vp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=la.getStartPost_(e),this.endPost_=la.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new oe(n,r))||(r=X.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=X.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(X.EMPTY_NODE);const s=this;return n.forEachChild(Fe,(o,a)=>{s.matches(new oe(o,a))||(i=i.updateImmediateChild(o,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new la(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new oe(n,r))||(r=X.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=X.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(X.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;M(a.numChildren()===this.limit_,"");const l=new oe(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(aa(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(oa(n,d));const g=a.updateImmediateChild(n,X.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Ts(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(oa(c.name,c.node)),s.trackChildChange(Ts(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,X.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ns}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new Gp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function EA(t){return t.loadsAllData()?new Vp(t.getIndex()):t.hasLimit()?new wA(t):new la(t)}function sy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Fe?n="$priority":t.index_===yA?n="$value":t.index_===cs?n="$key":(M(t.index_ instanceof gA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=qe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+qe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=qe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function oy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Fe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends s1{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ra("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=dc.getListenId_(e,r),a={};this.listens_[o]=a;const l=sy(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ks(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=dc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sy(e._queryParams),r=e._path.toString(),i=new nu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Us(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=na(a.responseText)}catch{bt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&bt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(){return{value:null,children:new Map}}function m1(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=le(e);t.children.has(r)||t.children.set(r,fc());const i=t.children.get(r);e=Se(e),m1(i,e,n)}}function Uf(t,e,n){t.value!==null?n(e,t.value):SA(t,(r,i)=>{const s=new _e(e.toString()+"/"+r);Uf(i,s,n)})}function SA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&rt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=10*1e3,NA=30*1e3,TA=5*60*1e3;class IA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kA(e);const r=ay+(NA-ay)*Math.random();Io(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;rt(e,(i,s)=>{s>0&&En(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Io(this.reportStats_.bind(this),Math.floor(Math.random()*2*TA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tn||(tn={}));function Kp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=tn.ACK_USER_WRITE,this.source=Kp()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(e));return new hc(ge(),n,this.revert)}}else return M(le(this.path)===e,"operationForChild called for unrelated child."),new hc(Se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.source=e,this.path=n,this.type=tn.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new ca(this.source,ge()):new ca(this.source,Se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=tn.OVERWRITE}operationForChild(e){return ce(this.path)?new Ei(this.source,ge(),this.snap.getImmediateChild(e)):new Ei(this.source,Se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=tn.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new Ei(this.source,ge(),n.value):new Is(this.source,ge(),n)}else return M(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Is(this.source,Se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RA(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(_A(o.childName,o.snapshotNode))}),ao(t,i,"child_removed",e,r,n),ao(t,i,"child_added",e,r,n),ao(t,i,"child_moved",s,r,n),ao(t,i,"child_changed",e,r,n),ao(t,i,"value",e,r,n),i}function ao(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>OA(t,a,l)),o.forEach(a=>{const l=xA(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function xA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function OA(t,e,n){if(e.childName==null||n.childName==null)throw Fs("Should only compare child_ events.");const r=new oe(e.childName,e.snapshotNode),i=new oe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e){return{eventCache:t,serverCache:e}}function bo(t,e,n,r){return ou(new Ci(e,n,r),t.serverCache)}function g1(t,e,n,r){return ou(t.eventCache,new Ci(e,n,r))}function $f(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud;const PA=()=>(ud||(ud=new Ct(gP)),ud);class Ce{constructor(e,n=PA()){this.value=e,this.children=n}static fromObject(e){let n=new Ce(null);return rt(e,(r,i)=>{n=n.set(new _e(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ce(e))return null;{const r=le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Se(e),n);return s!=null?{path:Le(new _e(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=le(e),r=this.children.get(n);return r!==null?r.subtree(Se(e)):new Ce(null)}}set(e,n){if(ce(e))return new Ce(n,this.children);{const r=le(e),s=(this.children.get(r)||new Ce(null)).set(Se(e),n),o=this.children.insert(r,s);return new Ce(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=le(e),r=this.children.get(n);if(r){const i=r.remove(Se(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ce(null):new Ce(this.value,s)}else return this}}get(e){if(ce(e))return this.value;{const n=le(e),r=this.children.get(n);return r?r.get(Se(e)):null}}setTree(e,n){if(ce(e))return n;{const r=le(e),s=(this.children.get(r)||new Ce(null)).setTree(Se(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ce(this.value,o)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Le(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ce(e))return null;{const s=le(e),o=this.children.get(s);return o?o.findOnPath_(Se(e),Le(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,r){if(ce(e))return this;{this.value&&r(n,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Se(e),Le(n,i),r):new Ce(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Le(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.writeTree_=e}static empty(){return new sn(new Ce(null))}}function Ro(t,e,n){if(ce(e))return new sn(new Ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Et(i,e);return s=s.updateChild(o,n),new sn(t.writeTree_.set(i,s))}else{const i=new Ce(n),s=t.writeTree_.setTree(e,i);return new sn(s)}}}function Bf(t,e,n){let r=t;return rt(n,(i,s)=>{r=Ro(r,Le(e,i),s)}),r}function ly(t,e){if(ce(e))return sn.empty();{const n=t.writeTree_.setTree(e,new Ce(null));return new sn(n)}}function jf(t,e){return Pi(t,e)!=null}function Pi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Et(n.path,e)):null}function cy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,(r,i)=>{e.push(new oe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new oe(r,i.value))}),e}function Ir(t,e){if(ce(e))return t;{const n=Pi(t,e);return n!=null?new sn(new Ce(n)):new sn(t.writeTree_.subtree(e))}}function zf(t){return t.writeTree_.isEmpty()}function bs(t,e){return v1(ge(),t.writeTree_,e)}function v1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=v1(Le(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Le(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){return E1(e,t)}function AA(t,e,n,r,i){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ro(t.visibleWrites,e,n)),t.lastWriteId=r}function DA(t,e,n,r){M(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Bf(t.visibleWrites,e,n),t.lastWriteId=r}function MA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function LA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&FA(a,r.path)?i=!1:$t(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return UA(t),!0;if(r.snap)t.visibleWrites=ly(t.visibleWrites,r.path);else{const a=r.children;rt(a,l=>{t.visibleWrites=ly(t.visibleWrites,Le(r.path,l))})}return!0}else return!1}function FA(t,e){if(t.snap)return $t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$t(Le(t.path,n),e))return!0;return!1}function UA(t){t.visibleWrites=y1(t.allWrites,$A,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $A(t){return t.visible}function y1(t,e,n){let r=sn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)$t(n,o)?(a=Et(n,o),r=Ro(r,a,s.snap)):$t(o,n)&&(a=Et(o,n),r=Ro(r,ge(),s.snap.getChild(a)));else if(s.children){if($t(n,o))a=Et(n,o),r=Bf(r,a,s.children);else if($t(o,n))if(a=Et(o,n),ce(a))r=Bf(r,ge(),s.children);else{const l=ks(s.children,le(a));if(l){const c=l.getChild(Se(a));r=Ro(r,ge(),c)}}}else throw Fs("WriteRecord should have .snap or .children")}}return r}function _1(t,e,n,r,i){if(!r&&!i){const s=Pi(t.visibleWrites,e);if(s!=null)return s;{const o=Ir(t.visibleWrites,e);if(zf(o))return n;if(n==null&&!jf(o,ge()))return null;{const a=n||X.EMPTY_NODE;return bs(o,a)}}}else{const s=Ir(t.visibleWrites,e);if(!i&&zf(s))return n;if(!i&&n==null&&!jf(s,ge()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&($t(c.path,e)||$t(e,c.path))},a=y1(t.allWrites,o,e),l=n||X.EMPTY_NODE;return bs(a,l)}}}function BA(t,e,n){let r=X.EMPTY_NODE;const i=Pi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Fe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ir(t.visibleWrites,e);return n.forEachChild(Fe,(o,a)=>{const l=bs(Ir(s,new _e(o)),a);r=r.updateImmediateChild(o,l)}),cy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ir(t.visibleWrites,e);return cy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function jA(t,e,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Le(e,n);if(jf(t.visibleWrites,s))return null;{const o=Ir(t.visibleWrites,s);return zf(o)?i.getChild(n):bs(o,i.getChild(n))}}function zA(t,e,n,r){const i=Le(e,n),s=Pi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ir(t.visibleWrites,i);return bs(o,r.getNode().getImmediateChild(n))}else return null}function WA(t,e){return Pi(t.visibleWrites,e)}function HA(t,e,n,r,i,s,o){let a;const l=Ir(t.visibleWrites,e),c=Pi(l,ge());if(c!=null)a=c;else if(n!=null)a=bs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function VA(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}function pc(t,e,n,r){return _1(t.writeTree,t.treePath,e,n,r)}function Xp(t,e){return BA(t.writeTree,t.treePath,e)}function uy(t,e,n,r){return jA(t.writeTree,t.treePath,e,n,r)}function mc(t,e){return WA(t.writeTree,Le(t.treePath,e))}function GA(t,e,n,r,i,s){return HA(t.writeTree,t.treePath,e,n,r,i,s)}function Jp(t,e,n){return zA(t.writeTree,t.treePath,e,n)}function w1(t,e){return E1(Le(t.treePath,e),t.writeTree)}function E1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,aa(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,oa(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ts(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,aa(r,e.snapshotNode,i.oldSnap));else throw Fs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const C1=new qA;class Zp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Si(this.viewCache_),s=GA(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){return{filter:t}}function QA(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function XA(t,e,n,r,i){const s=new KA;let o,a;if(n.type===tn.OVERWRITE){const c=n;c.source.fromUser?o=Wf(t,e,c.path,c.snap,r,i,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ce(c.path),o=gc(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===tn.MERGE){const c=n;c.source.fromUser?o=ZA(t,e,c.path,c.children,r,i,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Hf(t,e,c.path,c.children,r,i,a,s))}else if(n.type===tn.ACK_USER_WRITE){const c=n;c.revert?o=n2(t,e,c.path,r,i,s):o=e2(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===tn.LISTEN_COMPLETE)o=t2(t,e,n.path,r,s);else throw Fs("Unknown operation type: "+n.type);const l=s.getChanges();return JA(e,o,l),{viewCache:o,changes:l}}function JA(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=$f(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(p1($f(e)))}}function S1(t,e,n,r,i,s){const o=e.eventCache;if(mc(r,n)!=null)return e;{let a,l;if(ce(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Si(e),u=c instanceof X?c:X.EMPTY_NODE,d=Xp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=pc(r,Si(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=le(n);if(c===".priority"){M(Pr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=uy(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Se(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=uy(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Jp(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return bo(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function gc(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ce(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=le(n);if(!l.isCompleteForPath(n)&&Pr(n)>1)return e;const m=Se(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,C1,null)}const d=g1(e,c,l.isFullyInitialized()||ce(n),u.filtersNodes()),f=new Zp(i,d,s);return S1(t,d,n,i,f,a)}function Wf(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Zp(i,e,s);if(ce(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=bo(e,c,!0,t.filter.filtersNodes());else{const d=le(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=bo(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Se(n),p=a.getNode().getImmediateChild(d);let m;if(ce(f))m=r;else{const g=u.getCompleteChild(d);g!=null?jp(f)===".priority"&&g.getChild(a1(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=X.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=bo(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function dy(t,e){return t.eventCache.isCompleteForChild(e)}function ZA(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Le(n,l);dy(e,le(u))&&(a=Wf(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Le(n,l);dy(e,le(u))||(a=Wf(t,a,u,c,i,s,o))}),a}function fy(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Hf(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ce(n)?c=r:c=new Ce(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=fy(t,p,f);l=gc(t,l,new _e(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),g=fy(t,m,f);l=gc(t,l,new _e(d),g,i,s,o,a)}}),l}function e2(t,e,n,r,i,s,o){if(mc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return gc(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ce(n)){let c=new Ce(null);return l.getNode().forEachChild(cs,(u,d)=>{c=c.set(new _e(u),d)}),Hf(t,e,n,c,i,s,a,o)}else return e}else{let c=new Ce(null);return r.foreach((u,d)=>{const f=Le(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Hf(t,e,n,c,i,s,a,o)}}function t2(t,e,n,r,i){const s=e.serverCache,o=g1(e,s.getNode(),s.isFullyInitialized()||ce(n),s.isFiltered());return S1(t,o,n,r,C1,i)}function n2(t,e,n,r,i,s){let o;if(mc(r,n)!=null)return e;{const a=new Zp(r,e,i),l=e.eventCache.getNode();let c;if(ce(n)||le(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=pc(r,Si(e));else{const d=e.serverCache.getNode();M(d instanceof X,"serverChildren would be complete if leaf node"),u=Xp(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=le(n);let d=Jp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Se(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,X.EMPTY_NODE,Se(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=pc(r,Si(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||mc(r,ge())!=null,bo(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Vp(r.getIndex()),s=EA(r);this.processor_=YA(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(X.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(X.EMPTY_NODE,a.getNode(),null),u=new Ci(l,o.isFullyInitialized(),i.filtersNodes()),d=new Ci(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ou(d,u),this.eventGenerator_=new bA(this.query_)}get query(){return this.query_}}function i2(t){return t.viewCache_.serverCache.getNode()}function s2(t,e){const n=Si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(le(e)).isEmpty())?n.getChild(e):null}function hy(t){return t.eventRegistrations_.length===0}function o2(t,e){t.eventRegistrations_.push(e)}function py(t,e,n){const r=[];if(n){M(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function my(t,e,n,r){e.type===tn.MERGE&&e.source.queryId!==null&&(M(Si(t.viewCache_),"We should always have a full cache before handling merges"),M($f(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=XA(t.processor_,i,e,n,r);return QA(t.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,k1(t,s.changes,s.viewCache.eventCache.getNode(),null)}function a2(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fe,(s,o)=>{r.push(Ts(s,o))}),n.isFullyInitialized()&&r.push(p1(n.getNode())),k1(t,r,n.getNode(),e)}function k1(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return RA(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;class l2{constructor(){this.views=new Map}}function c2(t){M(!vc,"__referenceConstructor has already been defined"),vc=t}function u2(){return M(vc,"Reference.ts has not been loaded"),vc}function d2(t){return t.views.size===0}function em(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return M(s!=null,"SyncTree gave us an op for an invalid query."),my(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(my(o,e,n,r));return s}}function f2(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=pc(n,i?r:null),l=!1;a?l=!0:r instanceof X?(a=Xp(n,r),l=!1):(a=X.EMPTY_NODE,l=!1);const c=ou(new Ci(a,l,!1),new Ci(r,i,!1));return new r2(e,c)}return o}function h2(t,e,n,r,i,s){const o=f2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),o2(o,n),a2(o,n)}function p2(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ar(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(py(c,n,r)),hy(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(py(l,n,r)),hy(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ar(t)&&s.push(new(u2())(e._repo,e._path)),{removed:s,events:o}}function N1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function us(t,e){let n=null;for(const r of t.views.values())n=n||s2(r,e);return n}function T1(t,e){if(e._queryParams.loadsAllData())return au(t);{const r=e._queryIdentifier;return t.views.get(r)}}function I1(t,e){return T1(t,e)!=null}function Ar(t){return au(t)!=null}function au(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc;function m2(t){M(!yc,"__referenceConstructor has already been defined"),yc=t}function g2(){return M(yc,"Reference.ts has not been loaded"),yc}let v2=1;class gy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=VA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function y2(t,e,n,r,i){return AA(t.pendingWriteTree_,e,n,r,i),i?js(t,new Ei(Kp(),e,n)):[]}function _2(t,e,n,r){DA(t.pendingWriteTree_,e,n,r);const i=Ce.fromObject(n);return js(t,new Is(Kp(),e,i))}function ni(t,e,n=!1){const r=MA(t.pendingWriteTree_,e);if(LA(t.pendingWriteTree_,e)){let s=new Ce(null);return r.snap!=null?s=s.set(ge(),!0):rt(r.children,o=>{s=s.set(new _e(o),!0)}),js(t,new hc(r.path,s,n))}else return[]}function lu(t,e,n){return js(t,new Ei(qp(),e,n))}function w2(t,e,n){const r=Ce.fromObject(n);return js(t,new Is(qp(),e,r))}function E2(t,e){return js(t,new ca(qp(),e))}function C2(t,e,n){const r=tm(t,n);if(r){const i=nm(r),s=i.path,o=i.queryId,a=Et(s,e),l=new ca(Yp(o),a);return rm(t,s,l)}else return[]}function Vf(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||I1(o,e))){const l=p2(o,e,n,r);d2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>Ar(p));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=N2(f);for(let m=0;m<p.length;++m){const g=p[m],E=g.query,y=O1(t,g);t.listenProvider_.startListening(xo(E),_c(t,E),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(xo(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(cu(f));t.listenProvider_.stopListening(xo(f),p)}))}T2(t,c)}return a}function S2(t,e,n,r){const i=tm(t,r);if(i!=null){const s=nm(i),o=s.path,a=s.queryId,l=Et(o,e),c=new Ei(Yp(a),l,n);return rm(t,o,c)}else return[]}function k2(t,e,n,r){const i=tm(t,r);if(i){const s=nm(i),o=s.path,a=s.queryId,l=Et(o,e),c=Ce.fromObject(n),u=new Is(Yp(a),l,c);return rm(t,o,u)}else return[]}function vy(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const m=Et(f,i);s=s||us(p,m),o=o||Ar(p)});let a=t.syncPointTree_.get(i);a?(o=o||Ar(a),s=s||us(a,ge())):(a=new l2,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=X.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const g=us(m,ge());g&&(s=s.updateImmediateChild(p,g))}));const c=I1(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=cu(e);M(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=I2();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=Qp(t.pendingWriteTree_,i);let d=h2(a,e,n,u,s,l);if(!c&&!o&&!r){const f=T1(a,e);d=d.concat(b2(t,e,f))}return d}function b1(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Et(o,e),c=us(a,l);if(c)return c});return _1(i,e,s,n,!0)}function js(t,e){return R1(e,t.syncPointTree_,null,Qp(t.pendingWriteTree_,ge()))}function R1(t,e,n,r){if(ce(t.path))return x1(t,e,n,r);{const i=e.get(ge());n==null&&i!=null&&(n=us(i,ge()));let s=[];const o=le(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=w1(r,o);s=s.concat(R1(a,l,c,u))}return i&&(s=s.concat(em(i,t,r,n))),s}}function x1(t,e,n,r){const i=e.get(ge());n==null&&i!=null&&(n=us(i,ge()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=w1(r,o),u=t.operationForChild(o);u&&(s=s.concat(x1(u,a,l,c)))}),i&&(s=s.concat(em(i,t,r,n))),s}function O1(t,e){const n=e.query,r=_c(t,n);return{hashFn:()=>(i2(e)||X.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?C2(t,n._path,r):E2(t,n._path);{const s=_P(i,n);return Vf(t,n,null,s)}}}}function _c(t,e){const n=cu(e);return t.queryToTagMap.get(n)}function cu(t){return t._path.toString()+"$"+t._queryIdentifier}function tm(t,e){return t.tagToQueryMap.get(e)}function nm(t){const e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function rm(t,e,n){const r=t.syncPointTree_.get(e);M(r,"Missing sync point for query tag that we're tracking");const i=Qp(t.pendingWriteTree_,e);return em(r,n,i,null)}function N2(t){return t.fold((e,n,r)=>{if(n&&Ar(n))return[au(n)];{let i=[];return n&&(i=N1(n)),rt(r,(s,o)=>{i=i.concat(o)}),i}})}function xo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(g2())(t._repo,t._path):t}function T2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=cu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function I2(){return v2++}function b2(t,e,n){const r=e._path,i=_c(t,e),s=O1(t,n),o=t.listenProvider_.startListening(xo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)M(!Ar(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ce(c)&&u&&Ar(u))return[au(u).query];{let f=[];return u&&(f=f.concat(N1(u).map(p=>p.query))),rt(d,(p,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(xo(u),_c(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new im(n)}node(){return this.node_}}class sm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Le(this.path_,e);return new sm(this.syncTree_,n)}node(){return b1(this.syncTree_,this.path_)}}const R2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yy=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return x2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return O2(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},x2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},O2=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);const i=e.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},P1=function(t,e,n,r){return om(e,new sm(n,t),r)},P2=function(t,e,n){return om(t,new im(e),n)};function om(t,e,n){const r=t.getPriority().val(),i=yy(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=yy(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Ve(a,et(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ve(i))),o.forEachChild(Fe,(a,l)=>{const c=om(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function lm(t,e){let n=e instanceof _e?e:new _e(e),r=t,i=le(n);for(;i!==null;){const s=ks(r.node.children,i)||{children:{},childCount:0};r=new am(i,r,s),n=Se(n),i=le(n)}return r}function zs(t){return t.node.value}function A1(t,e){t.node.value=e,Gf(t)}function D1(t){return t.node.childCount>0}function A2(t){return zs(t)===void 0&&!D1(t)}function uu(t,e){rt(t.node.children,(n,r)=>{e(new am(n,t,r))})}function M1(t,e,n,r){n&&!r&&e(t),uu(t,i=>{M1(i,e,!0,r)}),n&&r&&e(t)}function D2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Oa(t){return new _e(t.parent===null?t.name:Oa(t.parent)+"/"+t.name)}function Gf(t){t.parent!==null&&M2(t.parent,t.name,t)}function M2(t,e,n){const r=A2(n),i=En(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Gf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Gf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/[\[\].#$\/\u0000-\u001F\u007F]/,F2=/[\[\].#$\u0000-\u001F\u007F]/,dd=10*1024*1024,cm=function(t){return typeof t=="string"&&t.length!==0&&!L2.test(t)},L1=function(t){return typeof t=="string"&&t.length!==0&&!F2.test(t)},U2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),L1(t)},$2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Lp(t)||t&&typeof t=="object"&&En(t,".sv")},um=function(t,e,n){const r=n instanceof _e?new ZP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Qr(r)+" with contents = "+e.toString());if(Lp(e))throw new Error(t+"contains "+e.toString()+" "+Qr(r));if(typeof e=="string"&&e.length>dd/3&&ru(e)>dd)throw new Error(t+"contains a string greater than "+dd+" utf8 bytes "+Qr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(rt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Qr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eA(r,o),um(t,a,r),tA(r)}),i&&s)throw new Error(t+' contains ".value" child '+Qr(r)+" in addition to actual children.")}},B2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=sa(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!cm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(JP);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&$t(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},j2=function(t,e,n,r){if(r&&e===void 0)return;const i=Pp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];rt(e,(o,a)=>{const l=new _e(o);if(um(i,a,Le(n,l)),jp(l)===".priority"&&!$2(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),B2(i,s)},F1=function(t,e,n,r){if(!(r&&n===void 0)&&!L1(n))throw new Error(Pp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},z2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),F1(t,e,n,r)},W2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!U2(n))throw new Error(Pp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!zp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function U1(t,e,n){dm(t,n),$1(t,r=>zp(r,e))}function Hn(t,e,n){dm(t,n),$1(t,r=>$t(r,e)||$t(e,r))}function $1(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(V2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function V2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();li&&Ze("event: "+n.toString()),Bs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="repo_interrupt",K2=25;class q2{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fc(),this.transactionQueueTree_=new am,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Y2(t,e,n){if(t.stats_=$p(t.repoInfo_),t.forceRestClient_||SP())t.server_=new dc(t.repoInfo_,(r,i,s,o)=>{_y(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ln(t.repoInfo_,e,(r,i,s,o)=>{_y(t,r,i,s,o)},r=>{wy(t,r)},r=>{X2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bP(t.repoInfo_,()=>new IA(t.stats_,t.server_)),t.infoData_=new CA,t.infoSyncTree_=new gy({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=lu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),hm(t,"connected",!1),t.serverSyncTree_=new gy({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Hn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Q2(t){const n=t.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fm(t){return R2({timestamp:Q2(t)})}function _y(t,e,n,r,i){t.dataUpdateCount++;const s=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=sc(n,c=>et(c));o=k2(t.serverSyncTree_,s,l,i)}else{const l=et(n);o=S2(t.serverSyncTree_,s,l,i)}else if(r){const l=sc(n,c=>et(c));o=w2(t.serverSyncTree_,s,l)}else{const l=et(n);o=lu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ua(t,s)),Hn(t.eventQueue_,a,o)}function wy(t,e){hm(t,"connected",e),e===!1&&Z2(t)}function X2(t,e){rt(e,(n,r)=>{hm(t,n,r)})}function hm(t,e,n){const r=new _e("/.info/"+e),i=et(n);t.infoData_.updateSnapshot(r,i);const s=lu(t.infoSyncTree_,r,i);Hn(t.eventQueue_,r,s)}function B1(t){return t.nextWriteId_++}function J2(t,e,n,r){pm(t,"update",{path:e.toString(),value:n});let i=!0;const s=fm(t),o={};if(rt(n,(a,l)=>{i=!1,o[a]=P1(Le(e,a),et(l),t.serverSyncTree_,s)}),i)Ze("update() called with empty data.  Don't do anything."),Cy(t,r,"ok",void 0);else{const a=B1(t),l=_2(t.serverSyncTree_,e,o,a);dm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||bt("update at "+e+" failed: "+c);const f=ni(t.serverSyncTree_,a,!d),p=f.length>0?ua(t,e):e;Hn(t.eventQueue_,p,f),Cy(t,r,c,u)}),rt(n,c=>{const u=V1(t,Le(e,c));ua(t,u)}),Hn(t.eventQueue_,e,[])}}function Z2(t){pm(t,"onDisconnectEvents");const e=fm(t),n=fc();Uf(t.onDisconnect_,ge(),(i,s)=>{const o=P1(i,s,t.serverSyncTree_,e);m1(n,i,o)});let r=[];Uf(n,ge(),(i,s)=>{r=r.concat(lu(t.serverSyncTree_,i,s));const o=V1(t,i);ua(t,o)}),t.onDisconnect_=fc(),Hn(t.eventQueue_,ge(),r)}function eD(t,e,n){let r;le(e._path)===".info"?r=vy(t.infoSyncTree_,e,n):r=vy(t.serverSyncTree_,e,n),U1(t.eventQueue_,e._path,r)}function Ey(t,e,n){let r;le(e._path)===".info"?r=Vf(t.infoSyncTree_,e,n):r=Vf(t.serverSyncTree_,e,n),U1(t.eventQueue_,e._path,r)}function tD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(G2)}function pm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ze(n,...e)}function Cy(t,e,n,r){e&&Bs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function j1(t,e,n){return b1(t.serverSyncTree_,e,n)||X.EMPTY_NODE}function mm(t,e=t.transactionQueueTree_){if(e||du(t,e),zs(e)){const n=W1(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&nD(t,Oa(e),n)}else D1(e)&&uu(e,n=>{mm(t,n)})}function nD(t,e,n){const r=n.map(c=>c.currentWriteId),i=j1(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];M(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Et(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{pm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ni(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();du(t,lm(t.transactionQueueTree_,e)),mm(t,t.transactionQueueTree_),Hn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Bs(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{bt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ua(t,e)}},o)}function ua(t,e){const n=z1(t,e),r=Oa(n),i=W1(t,n);return rD(t,i,r),r}function rD(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Et(n,l.path);let u=!1,d;if(M(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(ni(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=K2)u=!0,d="maxretry",i=i.concat(ni(t.serverSyncTree_,l.currentWriteId,!0));else{const f=j1(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){um("transaction failed: Data returned ",p,l.path);let m=et(p);typeof p=="object"&&p!=null&&En(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,y=fm(t),_=P2(m,f,y);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=_,l.currentWriteId=B1(t),o.splice(o.indexOf(E),1),i=i.concat(y2(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(ni(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(ni(t.serverSyncTree_,l.currentWriteId,!0))}Hn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}du(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Bs(r[a]);mm(t,t.transactionQueueTree_)}function z1(t,e){let n,r=t.transactionQueueTree_;for(n=le(e);n!==null&&zs(r)===void 0;)r=lm(r,n),e=Se(e),n=le(e);return r}function W1(t,e){const n=[];return H1(t,e,n),n.sort((r,i)=>r.order-i.order),n}function H1(t,e,n){const r=zs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);uu(e,i=>{H1(t,i,n)})}function du(t,e){const n=zs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,A1(e,n.length>0?n:void 0)}uu(e,r=>{du(t,r)})}function V1(t,e){const n=Oa(z1(t,e)),r=lm(t.transactionQueueTree_,e);return D2(r,i=>{fd(t,i)}),fd(t,r),M1(r,i=>{fd(t,i)}),n}function fd(t,e){const n=zs(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ni(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?A1(e,void 0):n.length=s+1,Hn(t.eventQueue_,Oa(e),i);for(let o=0;o<r.length;o++)Bs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function sD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Sy=function(t,e){const n=oD(t),r=n.namespace;n.domain==="firebase.com"&&Wn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||pP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new JE(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _e(n.pathString)}},oD=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=iD(t.substring(u,d)));const f=sD(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}}class K1{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ce(this._path)?null:jp(this._path)}get ref(){return new Xn(this._repo,this._path)}get _queryIdentifier(){const e=oy(this._queryParams),n=Fp(e);return n==="{}"?"default":n}get _queryObject(){return oy(this._queryParams)}isEqual(e){if(e=gt(e),!(e instanceof gm))return!1;const n=this._repo===e._repo,r=zp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+XP(this._path)}}class Xn extends gm{constructor(e,n){super(e,n,new Gp,!1)}get parent(){const e=a1(this._path);return e===null?null:new Xn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class da{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new _e(e),r=wc(this.ref,e);return new da(this._node.getChild(n),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new da(i,wc(this.ref,r),Fe)))}hasChild(e){const n=new _e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function q1(t,e){return t=gt(t),t._checkNotDeleted("ref"),e!==void 0?wc(t._root,e):t._root}function wc(t,e){return t=gt(t),le(t._path)===null?z2("child","path",e,!1):F1("child","path",e,!1),new Xn(t._repo,Le(t._path,e))}function lD(t,e){j2("update",e,t._path,!1);const n=new nu;return J2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class vm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new G1("value",this,new da(e.snapshotNode,new Xn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new K1(this,e,n):null}matches(e){return e instanceof vm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ym{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new K1(this,e,n):null}createEvent(e,n){M(e.childName!=null,"Child events should have a childName.");const r=wc(new Xn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new G1(e.type,this,new da(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ym?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function cD(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{Ey(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new aD(n,s||void 0),a=e==="value"?new vm(o):new ym(e,o);return eD(t._repo,t,a),()=>Ey(t._repo,t,a)}function uD(t,e,n,r){return cD(t,"value",e,n,r)}c2(Xn);m2(Xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="FIREBASE_DATABASE_EMULATOR_HOST",Kf={};let fD=!1;function hD(t,e,n,r){t.repoInfo_=new JE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function pD(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Sy(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[dD]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Sy(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new ls(ls.OWNER):new NP(t.name,t.options,e);W2("Invalid Firebase Database URL",o),ce(o.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=gD(a,t,u,new kP(t.name,n));return new vD(d,t)}function mD(t,e){const n=Kf[e];(!n||n[t.key]!==t)&&Wn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tD(t),delete n[t.key]}function gD(t,e,n,r){let i=Kf[e.name];i||(i={},Kf[e.name]=i);let s=i[t.toURLString()];return s&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new q2(t,fD,n,r),i[t.toURLString()]=s,s}class vD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Y2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wn("Cannot call "+e+" on a deleted database.")}}function yD(t=Mp(),e){const n=iu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=IE("database");r&&_D(n,...r)}return n}function _D(t,e,n,r={}){t=gt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Wn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ls(ls.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:RE(r.mockUserToken,t.app.options.projectId);s=new ls(o)}hD(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){cP($s),_i(new Or("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return pD(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),vn(Wv,Hv,t),vn(Wv,Hv,"esm2017")}Ln.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ln.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebasestorage.googleapis.com",Q1="storageBucket",ED=2*60*1e3,CD=10*60*1e3,SD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De extends Qn{constructor(e,n,r=0){super(hd(e),`Firebase Storage: ${n} (${hd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(be||(be={}));function hd(t){return"storage/"+t}function _m(){const t="An unknown error occurred, please check the error payload for server response.";return new De(be.UNKNOWN,t)}function kD(t){return new De(be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ND(t){return new De(be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new De(be.UNAUTHENTICATED,t)}function ID(){return new De(be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bD(t){return new De(be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function X1(){return new De(be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J1(){return new De(be.CANCELED,"User canceled the upload/download.")}function RD(t){return new De(be.INVALID_URL,"Invalid URL '"+t+"'.")}function xD(t){return new De(be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OD(){return new De(be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Q1+"' property when initializing the app?")}function Z1(){return new De(be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PD(){return new De(be.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function AD(){return new De(be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DD(t){return new De(be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qf(t){return new De(be.INVALID_ARGUMENT,t)}function eC(){return new De(be.APP_DELETED,"The Firebase app was deleted.")}function MD(t){return new De(be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oo(t,e){return new De(be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lo(t){throw new De(be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ot.makeFromUrl(e,n)}catch{return new Ot(e,"")}if(r.path==="")return r;throw xD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},g=n===Y1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",y=new RegExp(`^https?://${g}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const N=w[C],S=N.regex.exec(e);if(S){const k=S[N.indices.bucket];let T=S[N.indices.path];T||(T=""),r=new Ot(k,T),N.postModify(r);break}}if(r==null)throw RD(e);return r}}class LD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...y){if(c){f();return}if(E){f(),u.call(null,E,...y);return}if(l()||o){f(),u.call(null,E,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let m=!1;function g(E){m||(m=!0,f(),!c&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function UD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){return t!==void 0}function BD(t){return typeof t=="function"}function jD(t){return typeof t=="object"&&!Array.isArray(t)}function fu(t){return typeof t=="string"||t instanceof String}function ky(t){return wm()&&t instanceof Blob}function wm(){return typeof Blob<"u"&&!Wx()}function Ny(t,e,n,r){if(r<e)throw qf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw qf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ci||(ci={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new il(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ci.NO_ERROR,l=s.getStatus();if(!a||nC(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===ci.ABORT;r(!1,new il(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new il(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$D(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=_m();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?eC():J1();o(l)}else{const l=X1();o(l)}};this.canceled_?n(!1,new il(!1,null,!0)):this.backoffId_=FD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class il{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function WD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function HD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KD(t,e,n,r,i,s,o=!0){const a=tC(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return VD(c,e),WD(c,n),HD(c,s),GD(c,r),new zD(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YD(...t){const e=qD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wm())return new Blob(t);throw new De(be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){if(typeof atob>"u")throw DD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pd{constructor(e,n){this.data=e,this.contentType=n||null}}function JD(t,e){switch(t){case fn.RAW:return new pd(rC(e));case fn.BASE64:case fn.BASE64URL:return new pd(iC(t,e));case fn.DATA_URL:return new pd(eM(e),tM(e))}throw _m()}function rC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ZD(t){let e;try{e=decodeURIComponent(t)}catch{throw Oo(fn.DATA_URL,"Malformed data URL.")}return rC(e)}function iC(t,e){switch(t){case fn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Oo(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Oo(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=XD(e)}catch(i){throw i.message.includes("polyfill")?i:Oo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class sC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Oo(fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=nM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function eM(t){const e=new sC(t);return e.base64?iC(fn.BASE64,e.rest):ZD(e.rest)}function tM(t){return new sC(t).contentType}function nM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){let r=0,i="";ky(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ky(this.data_)){const r=this.data_,i=QD(r,e,n);return i===null?null:new lr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new lr(r,!0)}}static getBlob(...e){if(wm()){const n=e.map(r=>r instanceof lr?r.data_:r);return new lr(YD.apply(null,n))}else{const n=e.map(o=>fu(o)?JD(fn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new lr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){let e;try{e=JSON.parse(t)}catch{return null}return jD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function aC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e){return e}class ut{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||sM}}let sl=null;function oM(t){return!fu(t)||t.length<2?t:aC(t)}function lC(){if(sl)return sl;const t=[];t.push(new ut("bucket")),t.push(new ut("generation")),t.push(new ut("metageneration")),t.push(new ut("name","fullPath",!0));function e(s,o){return oM(o)}const n=new ut("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ut("size");return i.xform=r,t.push(i),t.push(new ut("timeCreated")),t.push(new ut("updated")),t.push(new ut("md5Hash",null,!0)),t.push(new ut("cacheControl",null,!0)),t.push(new ut("contentDisposition",null,!0)),t.push(new ut("contentEncoding",null,!0)),t.push(new ut("contentLanguage",null,!0)),t.push(new ut("contentType",null,!0)),t.push(new ut("metadata","customMetadata",!0)),sl=t,sl}function aM(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ot(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function lM(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return aM(r,t),r}function cC(t,e,n){const r=oC(e);return r===null?null:lM(t,r,n)}function cM(t,e,n,r){const i=oC(e);if(i===null||!fu(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=Pa(f,n,r),m=tC({alt:"media",token:c});return p+m})[0]}function uC(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ws{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){if(!t)throw _m()}function Em(t,e){function n(r,i){const s=cC(t,i,e);return Fn(s!==null),s}return n}function uM(t,e){function n(r,i){const s=cC(t,i,e);return Fn(s!==null),cM(s,i,t.host,t._protocol)}return n}function Aa(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ID():i=TD():n.getStatus()===402?i=ND(t.bucket):n.getStatus()===403?i=bD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dC(t){const e=Aa(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=kD(t.path)),s.serverResponse=i.serverResponse,s}return n}function dM(t,e,n){const r=e.fullServerUrl(),i=Pa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ws(i,s,Em(t,n),o);return a.errorHandler=dC(e),a}function fM(t,e,n){const r=e.fullServerUrl(),i=Pa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ws(i,s,uM(t,n),o);return a.errorHandler=dC(e),a}function hM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fC(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hM(null,e)),r}function pM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=fC(e,r,i),u=uC(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=lr.getBlob(d,r,f);if(p===null)throw Z1();const m={name:c.fullPath},g=Pa(s,t.host,t._protocol),E="POST",y=t.maxUploadRetryTime,_=new Ws(g,E,Em(t,n),y);return _.urlParams=m,_.headers=o,_.body=p.uploadData(),_.errorHandler=Aa(e),_}class Ec{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Cm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Fn(!1)}return Fn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function mM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=fC(e,r,i),a={name:o.fullPath},l=Pa(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=uC(o,n),f=t.maxUploadRetryTime;function p(g){Cm(g);let E;try{E=g.getResponseHeader("X-Goog-Upload-URL")}catch{Fn(!1)}return Fn(fu(E)),E}const m=new Ws(l,c,p,f);return m.urlParams=a,m.headers=u,m.body=d,m.errorHandler=Aa(e),m}function gM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=Cm(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fn(!1)}d||Fn(!1);const f=Number(d);return Fn(!isNaN(f)),new Ec(f,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ws(n,o,s,a);return l.headers=i,l.errorHandler=Aa(e),l}const Ty=256*1024;function vM(t,e,n,r,i,s,o,a){const l=new Ec(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw PD();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,f=d+u;let p="";u===0?p="finalize":c===u?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,f);if(g===null)throw Z1();function E(C,N){const S=Cm(C,["active","final"]),k=l.current+u,T=r.size();let R;return S==="final"?R=Em(e,s)(C,N):R=null,new Ec(k,T,S==="final",R)}const y="POST",_=e.maxUploadRetryTime,w=new Ws(n,y,E,_);return w.headers=m,w.body=g.uploadData(),w.progressCallback=a||null,w.errorHandler=Aa(t),w}const yt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function md(t){switch(t){case"running":case"pausing":case"canceling":return yt.RUNNING;case"paused":return yt.PAUSED;case"success":return yt.SUCCESS;case"canceled":return yt.CANCELED;case"error":return yt.ERROR;default:return yt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r){if(BD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class _M{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ci.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ci.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ci.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw lo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wM extends _M{initXhr(){this.xhr_.responseType="text"}}function $i(){return new wM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=lC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(be.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(nC(i.status,[]))if(s)i=X1();else{this.sleepTime=Math.max(this.sleepTime*2,SD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(be.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=mM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$i,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=gM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,$i,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Ty*this._chunkMultiplier,n=new Ec(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=vM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,$i,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Ty*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=dM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,$i,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=pM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$i,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=J1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=md(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new yM(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(md(this._state)){case yt.SUCCESS:Ui(this._resolve.bind(null,this.snapshot))();break;case yt.CANCELED:case yt.ERROR:const n=this._reject;Ui(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(md(this._state)){case yt.RUNNING:case yt.PAUSED:e.next&&Ui(e.next.bind(e,this.snapshot))();break;case yt.SUCCESS:e.complete&&Ui(e.complete.bind(e))();break;case yt.CANCELED:case yt.ERROR:e.error&&Ui(e.error.bind(e,this._error))();break;default:e.error&&Ui(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this._service=e,n instanceof Ot?this._location=n:this._location=Ot.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ki(e,n)}get root(){const e=new Ot(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aC(this._location.path)}get storage(){return this._service}get parent(){const e=rM(this._location.path);if(e===null)return null;const n=new Ot(this._location.bucket,e);return new ki(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MD(e)}}function CM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new EM(t,new lr(e),n)}function SM(t){t._throwIfRoot("getDownloadURL");const e=fM(t.storage,t._location,lC());return t.storage.makeRequestWithTokens(e,$i).then(n=>{if(n===null)throw AD();return n})}function kM(t,e){const n=iM(t._location.path,e),r=new Ot(t._location.bucket,n);return new ki(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){return/^[A-Za-z]+:\/\//.test(t)}function TM(t,e){return new ki(t,e)}function hC(t,e){if(t instanceof Sm){const n=t;if(n._bucket==null)throw OD();const r=new ki(n,n._bucket);return e!=null?hC(r,e):r}else return e!==void 0?kM(t,e):t}function IM(t,e){if(e&&NM(e)){if(t instanceof Sm)return TM(t,e);throw qf("To use ref(service, url), the first argument must be a Storage instance.")}else return hC(t,e)}function Iy(t,e){const n=e==null?void 0:e[Q1];return n==null?null:Ot.makeFromBucketSpec(n,t)}function bM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:RE(i,t.app.options.projectId))}class Sm{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Y1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ED,this._maxUploadRetryTime=CD,this._requests=new Set,i!=null?this._bucket=Ot.makeFromBucketSpec(i,this._host):this._bucket=Iy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ot.makeFromBucketSpec(this._url,e):this._bucket=Iy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ny("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ny("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ki(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new LD(eC());{const o=KD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const by="@firebase/storage",Ry="0.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="storage";function RM(t,e,n){return t=gt(t),CM(t,e,n)}function xM(t){return t=gt(t),SM(t)}function OM(t,e){return t=gt(t),IM(t,e)}function PM(t=Mp(),e){t=gt(t);const r=iu(t,pC).getImmediate({identifier:e}),i=IE("storage");return i&&AM(r,...i),r}function AM(t,e,n,r={}){bM(t,e,n,r)}function DM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Sm(n,r,i,e,$s)}function MM(){_i(new Or(pC,DM,"PUBLIC").setMultipleInstances(!0)),vn(by,Ry,""),vn(by,Ry,"esm2017")}MM();function km(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LM=mC,gC=new Ia("auth","Firebase",mC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Ap("@firebase/auth");function Cl(t,...e){xy.logLevel<=we.ERROR&&xy.error(`Auth (${$s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw Nm(t,...e)}function yn(t,...e){return Nm(t,...e)}function vC(t,e,n){const r=Object.assign(Object.assign({},LM()),{[e]:n});return new Ia("auth","Firebase",r).create(e,{appName:t.name})}function FM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wn(t,"argument-error"),vC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gC.create(t,...e)}function Z(t,e,...n){if(!t)throw Nm(e,...n)}function Pn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cl(e),new Error(e)}function Vn(t,e){t||Pn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;function An(t){Vn(t instanceof Function,"Expected a class definition");let e=Oy.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Oy.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t,e){const n=iu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(oc(s,e??{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function $M(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(An);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BM(){return Py()==="http:"||Py()==="https:"}function Py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BM()||Hx()||"connection"in navigator)?navigator.onLine:!0}function zM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=Op()||xE()}get(){return jM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Da(3e4,6e4);function VM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hu(t,e,n,r,i={}){return _C(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Us(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),yC.fetch()(wC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function _C(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WM),e);try{const i=new KM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ol(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ol(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ol(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ol(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vC(t,u,c);wn(t,u)}}catch(i){if(i instanceof Qn)throw i;wn(t,"network-request-failed")}}async function GM(t,e,n,r,i={}){const s=await hu(t,e,n,r,i);return"mfaPendingCredential"in s&&wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Tm(t.config,i):`${t.config.apiScheme}://${i}`}class KM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),HM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ol(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return hu(t,"POST","/v1/accounts:delete",e)}async function YM(t,e){return hu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QM(t,e=!1){const n=gt(t),r=await n.getIdToken(e),i=Im(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Po(gd(i.auth_time)),issuedAtTime:Po(gd(i.iat)),expirationTime:Po(gd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gd(t){return Number(t)*1e3}function Im(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cl("JWT malformed, contained fewer than 3 sections"),null;try{const i=ic(n);return i?JSON.parse(i):(Cl("Failed to decode base64 JWT payload"),null)}catch(i){return Cl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XM(t){const e=Im(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&JM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fa(t,YM(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nL(s.providerUserInfo):[],a=tL(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new EC(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function eL(t){const e=gt(t);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nL(t){return t.map(e=>{var{providerId:n}=e,r=km(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){const n=await _C(t,{},async()=>{const r=Us({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ha;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new EC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fa(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QM(this,e)}reload(){return eL(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fa(this,qM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:C,isAnonymous:N,providerData:S,stsTokenManager:k}=n;Z(w&&k,e,"internal-error");const T=ha.fromJSON(this.name,k);Z(typeof w=="string",e,"internal-error"),nr(d,e.name),nr(f,e.name),Z(typeof C=="boolean",e,"internal-error"),Z(typeof N=="boolean",e,"internal-error"),nr(p,e.name),nr(m,e.name),nr(g,e.name),nr(E,e.name),nr(y,e.name),nr(_,e.name);const R=new ui({uid:w,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:N,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:y,lastLoginAt:_});return S&&Array.isArray(S)&&(R.providerData=S.map(b=>Object.assign({},b))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ha;i.updateFromServerResponse(n);const s=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CC.type="NONE";const Ay=CC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e,n){return`firebase:${t}:${e}:${n}`}class ds{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ds(An(Ay),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||An(Ay);const o=Sl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ui._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ds(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ds(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IC(e))return"Blackberry";if(bC(e))return"Webos";if(bm(e))return"Safari";if((e.includes("chrome/")||kC(e))&&!e.includes("edge/"))return"Chrome";if(TC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SC(t=ct()){return/firefox\//i.test(t)}function bm(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kC(t=ct()){return/crios\//i.test(t)}function NC(t=ct()){return/iemobile/i.test(t)}function TC(t=ct()){return/android/i.test(t)}function IC(t=ct()){return/blackberry/i.test(t)}function bC(t=ct()){return/webos/i.test(t)}function pu(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iL(t=ct()){var e;return pu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sL(){return Vx()&&document.documentMode===10}function RC(t=ct()){return pu(t)||TC(t)||bC(t)||IC(t)||/windows phone/i.test(t)||NC(t)}function oL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e=[]){let n;switch(t){case"Browser":n=Dy(ct());break;case"Worker":n=`${Dy(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new My(this),this.idTokenSubscription=new My(this),this.beforeStateQueue=new aL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ds.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?gt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await ds.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function mu(t){return gt(t)}class My{constructor(e){this.auth=e,this.observer=null,this.addObserver=eO(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cL(t,e,n){const r=mu(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=OC(e),{host:o,port:a}=uL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||dL()}function OC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uL(t){const e=OC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ly(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ly(o)}}}function Ly(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t,e){return GM(t,"POST","/v1/accounts:signInWithIdp",VM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="http://localhost";class Ni extends PC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=km(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ni(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fs(e,n)}buildRequest(){const e={requestUri:fL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Us(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Ma{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bn.credentialFromTaggedObject(e)}static credentialFromError(e){return bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bn.credential(n,r)}catch{return null}}}bn.GOOGLE_SIGN_IN_METHOD="google.com";bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ma{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Ma{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ui._fromIdTokenResponse(e,r,i),o=Fy(r);return new Rs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Fy(r);return new Rs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Fy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sc(e,n,r,i)}}function AC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(t,s,e,r):s})}async function hL(t,e,n=!1){const r=await fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await fa(t,AC(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Im(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),Rs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&wn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e,n=!1){const r="signIn",i=await AC(t,r,e),s=await Rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function gL(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function vL(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function yL(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){const t=ct();return bm(t)||pu(t)}const wL=1e3,EL=10;class MC extends DC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_L()&&oL(),this.fallbackToPolling=RC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);sL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,EL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MC.type="LOCAL";const CL=MC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends DC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LC.type="SESSION";const FC=LC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await SL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=xm("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function NL(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function TL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bL(){return UC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebaseLocalStorageDb",RL=1,Nc="firebaseLocalStorage",BC="fbase_key";class La{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vu(t,e){return t.transaction([Nc],e?"readwrite":"readonly").objectStore(Nc)}function xL(){const t=indexedDB.deleteDatabase($C);return new La(t).toPromise()}function Qf(){const t=indexedDB.open($C,RL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nc,{keyPath:BC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nc)?e(r):(r.close(),await xL(),e(await Qf()))})})}async function Uy(t,e,n){const r=vu(t,!0).put({[BC]:e,value:n});return new La(r).toPromise()}async function OL(t,e){const n=vu(t,!1).get(e),r=await new La(n).toPromise();return r===void 0?null:r.value}function $y(t,e){const n=vu(t,!0).delete(e);return new La(n).toPromise()}const PL=800,AL=3;class jC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gu._getInstance(bL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TL(),!this.activeServiceWorker)return;this.sender=new kL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qf();return await Uy(e,kc,"1"),await $y(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$y(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=vu(i,!1).getAll();return new La(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jC.type="LOCAL";const DL=jC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function LL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ML().appendChild(r)})}function FL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Da(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e){return e?An(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends PC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UL(t){return mL(t.auth,new Om(t),t.bypassAuthState)}function $L(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),pL(n,new Om(t),t.bypassAuthState)}async function BL(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),hL(n,new Om(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UL;case"linkViaPopup":case"linkViaRedirect":return BL;case"reauthViaPopup":case"reauthViaRedirect":return $L;default:wn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Da(2e3,1e4);async function zL(t,e,n){const r=mu(t);FM(t,e,Rm);const i=zC(r,n);return new ri(r,"signInViaPopup",e,i).executeNotNull()}class ri extends WC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ri.currentPopupAction&&ri.currentPopupAction.cancel(),ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,jL.get())};e()}}ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="pendingRedirect",kl=new Map;class HL extends WC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kl.get(this.auth._key());if(!e){try{const r=await VL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kl.set(this.auth._key(),e)}return this.bypassAuthState||kl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VL(t,e){const n=qL(e),r=KL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function GL(t,e){kl.set(t._key(),e)}function KL(t){return An(t._redirectPersistence)}function qL(t){return Sl(WL,t.config.apiKey,t.name)}async function YL(t,e,n=!1){const r=mu(t),i=zC(r,e),o=await new HL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=10*60*1e3;class XL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QL&&this.cachedEventUids.clear(),this.cachedEventUids.has(By(e))}saveEventToCache(e){this.cachedEventUids.add(By(e)),this.lastProcessedEventTime=Date.now()}}function By(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e={}){return hu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tF=/^https?/;async function nF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZL(t);for(const n of e)try{if(rF(n))return}catch{}wn(t,"unauthorized-domain")}function rF(t){const e=Yf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tF.test(n))return!1;if(eF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new Da(3e4,6e4);function jy(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sF(t){return new Promise((e,n)=>{var r,i,s;function o(){jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jy(),n(yn(t,"network-request-failed"))},timeout:iF.get()})}if(!((i=(r=_n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_n().gapi)===null||s===void 0)&&s.load)o();else{const a=FL("iframefcb");return _n()[a]=()=>{gapi.load?o():n(yn(t,"network-request-failed"))},LL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nl=null,e})}let Nl=null;function oF(t){return Nl=Nl||sF(t),Nl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new Da(5e3,15e3),lF="__/auth/iframe",cF="emulator/auth/iframe",uF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fF(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tm(e,cF):`https://${t.config.authDomain}/${lF}`,r={apiKey:e.apiKey,appName:t.name,v:$s},i=dF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Us(r).slice(1)}`}async function hF(t){const e=await oF(t),n=_n().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:fF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=yn(t,"network-request-failed"),a=_n().setTimeout(()=>{s(o)},aF.get());function l(){_n().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mF=500,gF=600,vF="_blank",yF="http://localhost";class zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _F(t,e,n,r=mF,i=gF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ct().toLowerCase();n&&(a=kC(c)?vF:n),SC(c)&&(e=e||yF,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(iL(c)&&a!=="_self")return wF(e||"",a),new zy(null);const d=window.open(e||"",a,u);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new zy(d)}function wF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="__/auth/handler",CF="emulator/auth/handler";function Wy(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$s,eventId:i};if(e instanceof Rm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof Ma){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${SF(t)}?${Us(a).slice(1)}`}function SF({config:t}){return t.emulator?Tm(t,CF):`https://${t.authDomain}/${EF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="webStorageSupport";class kF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FC,this._completeRedirectFn=YL,this._overrideRedirectResult=GL}async _openPopup(e,n,r,i){var s;Vn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Wy(e,n,r,Yf(),i);return _F(e,o,xm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),NL(Wy(e,n,r,Yf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hF(e),r=new XL(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vd,{type:vd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[vd];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RC()||bm()||pu()}}const NF=kF;var Hy="@firebase/auth",Vy="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function bF(t){_i(new Or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Z(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Z(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xC(t)},u=new lL(a,l,c);return $M(u,n),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_i(new Or("auth-internal",e=>{const n=mu(e.getProvider("auth").getImmediate());return(r=>new TF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(Hy,Vy,IF(t)),vn(Hy,Vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=5*60,xF=bE("authIdTokenMaxAge")||RF;let Gy=null;const OF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xF)return;const i=n==null?void 0:n.token;Gy!==i&&(Gy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VC(t=Mp()){const e=iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UM(t,{popupRedirectResolver:NF,persistence:[DL,CL,FC]}),r=bE("authTokenSyncURL");if(r){const s=OF(r);vL(n,s,()=>s(n.currentUser)),gL(n,o=>s(o))}const i=TE("auth");return i&&cL(n,`http://${i}`),n}bF("Browser");var PF="firebase",AF="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(PF,AF,"app");const DF={apiKey:"AIzaSyCXfdPxRt8Qvi3AZsXu1lxl9VJXuRlga_8",authDomain:"outfitoftheday-c3adf.firebaseapp.com",databaseURL:"https://outfitoftheday-c3adf-default-rtdb.firebaseio.com",projectId:"outfitoftheday-c3adf",storageBucket:"outfitoftheday-c3adf.appspot.com",messagingSenderId:"160151796856",appId:"1:160151796856:web:510e79243373c60cd0c18d"},yu=ME(DF),GC=yD(yu),MF=PM(yu),Br=t=>{const[e,n]=h.useState(),[r,i]=h.useState(null);return h.useEffect(()=>uD(q1(GC,t),s=>{n(s.val())},s=>{i(s)}),[t]),[e,r]},Ky=t=>{const e=Date.now(),n=(t==null?void 0:t.message)||`Updated: ${new Date(e).toLocaleString()}`;return{timestamp:e,error:t,message:n}},LF=t=>{const[e,n]=h.useState();return[h.useCallback(i=>{const s=OM(MF,t),o=RM(s,i);o.on("state_changed",a=>{const l=Math.round(a.bytesTransferred/a.totalBytes*100);console.log(l)},a=>{console.log(a)},()=>{xM(o.snapshot.ref).then(a=>{n(a)})})},[t]),e]},Dr=t=>{const[e,n]=h.useState();return[h.useCallback(i=>{lD(q1(GC,t),i).then(()=>n(Ky())).catch(s=>n(Ky(s)))},[t]),e]},FF=()=>{const[t,e]=h.useState();return h.useEffect(()=>yL(VC(yu),e),[]),[t]},UF=()=>{zL(VC(yu),new bn)},$F=()=>{const[t]=FF(),[e,n]=Dr("/users/"),[r,i]=Dr("/closet/"),[s,o,a]=Br("/users/");return h.useEffect(()=>{t&&!o&&!a&&(e({[t.uid]:{displayName:t.displayName,email:t.email,profilePic:t.photoURL}}),r({[t.uid]:{id:t.uid,tops:[],bottoms:[],shoes:[],dresses:[],jackets:[],favorites:{}}}))},[o,a,t,e,r]),[t,o,a]},Gt=()=>({uid:"33VC4ni86kMMYI1PiJtHuEAHCCj2",displayName:"Amy Doe",email:"amy@test.com",profilePic:"https://cdn-icons-png.flaticon.com/512/1946/1946429.png"}),Vr=()=>{const t=Gt(),e=qn();return t?v(Zu,{className:"navbar",children:P(A,{className:"navbar-container",children:[v(A,{className:"navbar-logo",children:v("img",{src:"ootd-transparent.png",className:"icon-image",onClick:()=>e("/")})}),v(Zu.Toggle,{"aria-controls":"responsive-navbar-nav"}),P(Zu.Collapse,{id:"responsive-navbar-nav",className:"header-dropdown",children:[v(Dv,{size:24}),v(xv,{id:"collasible-nav-dropdown",align:"end",children:P(xv.Item,{onClick:()=>e("/add"),children:[v(Dv,{size:24})," Add Item"]})})]})]})}):v("h5",{className:"text-muted",children:"Loading user profile..."})};function BF(t){return mt({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(t)}function jF(t){return mt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}}]})(t)}function zF(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M11 13v8H4a1 1 0 0 1-1-1v-7h8zm2-10h7a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-7V3zM3 4a1 1 0 0 1 1-1h7v8H3V4z"}}]}]})(t)}function WF(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fillRule:"nonzero",d:"M20 3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h16zm-9 10H5v6h6v-6zm2 6h6V5h-6v14zM11 5H5v6h6V5z"}}]}]})(t)}function HF(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10.551v-.678A4.005 4.005 0 0 0 16 6c0-2.206-1.794-4-4-4S8 3.794 8 6h2c0-1.103.897-2 2-2s2 .897 2 2-.897 2-2 2a1 1 0 0 0-1 1v1.551l-8.665 7.702A1.001 1.001 0 0 0 3 20h18a1.001 1.001 0 0 0 .664-1.748L13 10.551zM5.63 18 12 12.338 18.37 18H5.63z"}}]})(t)}const Gr=()=>{const t=qn(),e=Ca(),n=28,[r,i]=h.useState("home");return h.useEffect(()=>{e.pathname==="/outfits"?i("outfits"):e.pathname==="/closet"?i("closet"):e.pathname==="/"&&i("home")},[e]),P("div",{className:"bottom-container",children:[v("div",{className:r==="outfits"?"outfits-btn-container active-container":"outfits-btn-container",onClick:()=>t("/outfits",{state:{showFavorites:!1}}),children:P("div",{className:"info-container",children:[r==="outfits"?v(zF,{size:n}):v(WF,{size:n}),v("br",{}),"Outfits"]})}),v("div",{className:r==="home"?"home-btn-container active-container":"home-btn-container",onClick:()=>t("/"),children:P("div",{className:"info-container",children:[r==="home"?v(BF,{size:n}):v(jF,{size:n}),v("br",{}),"Home"]})}),v("div",{className:r==="closet"?"closet-btn-container active-container":"closet-btn-container",onClick:()=>t("/closet"),children:P("div",{className:"info-container",children:[v(HF,{size:n}),v("br",{}),"Closet"]})})]})},VF={bg:"primary",pill:!1},Pm=h.forwardRef(({bsPrefix:t,bg:e,pill:n,text:r,className:i,as:s="span",...o},a)=>{const l=ie(t,"badge");return v(s,{ref:a,...o,className:Y(i,l,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});Pm.displayName="Badge";Pm.defaultProps=VF;const GF=Pm,KF={vertical:!1,role:"group"},Am=h.forwardRef(({bsPrefix:t,size:e,vertical:n,className:r,as:i="div",...s},o)=>{const a=ie(t,"btn-group");let l=a;return n&&(l=`${a}-vertical`),v(i,{...s,ref:o,className:Y(r,l,e&&`${a}-${e}`)})});Am.displayName="ButtonGroup";Am.defaultProps=KF;const qF=Am,KC=h.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ie(t,"card-img");return v(r,{ref:s,className:Y(n?`${o}-${n}`:o,e),...i})});KC.displayName="CardImg";const YF=KC,qC=h.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ie(t,"card-header"),o=h.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return v(vE.Provider,{value:o,children:v(n,{ref:i,...r,className:Y(e,s)})})});qC.displayName="CardHeader";const QF=qC,XF=Xc("h5"),JF=Xc("h6"),YC=He("card-body"),ZF=He("card-title",{Component:XF}),eU=He("card-subtitle",{Component:JF}),tU=He("card-link",{Component:"a"}),nU=He("card-text",{Component:"p"}),rU=He("card-footer"),iU=He("card-img-overlay"),sU={body:!1},Dm=h.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},c)=>{const u=ie(t,"card");return v(a,{ref:c,...l,className:Y(e,u,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?v(YC,{children:o}):o})});Dm.displayName="Card";Dm.defaultProps=sU;const es=Object.assign(Dm,{Img:YF,Title:ZF,Subtitle:eU,Body:YC,Link:tU,Text:nU,Header:QF,Footer:rU,ImgOverlay:iU});function oU(t,e){var n=h.useRef(!0);h.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}var Xf=Math.pow(2,31)-1;function QC(t,e,n){var r=n-Date.now();t.current=r<=Xf?setTimeout(e,r):setTimeout(function(){return QC(t,e,n)},Xf)}function aU(){var t=rp(),e=h.useRef();return ip(function(){return clearTimeout(e.current)}),h.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,s){s===void 0&&(s=0),t()&&(n(),s<=Xf?e.current=setTimeout(i,s):QC(e,i,Date.now()+s))}return{set:r,clear:n}},[])}const lU=He("carousel-caption"),XC=h.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=Y(n,ie(e,"carousel-item"));return v(t,{ref:i,...r,className:s})});XC.displayName="CarouselItem";const cU=XC;function qy(t,e){let n=0;return h.Children.map(t,r=>h.isValidElement(r)?e(r,n++):r)}function uU(t,e){let n=0;h.Children.forEach(t,r=>{h.isValidElement(r)&&e(r,n++)})}function dU(t,e){return h.Children.toArray(t).some(n=>h.isValidElement(n)&&n.type===e)}const fU=40,hU={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:v("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:v("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function pU(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const Mm=h.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,slide:i,fade:s,controls:o,indicators:a,indicatorLabels:l,activeIndex:c,onSelect:u,onSlide:d,onSlid:f,interval:p,keyboard:m,onKeyDown:g,pause:E,onMouseOver:y,onMouseOut:_,wrap:w,touch:C,onTouchStart:N,onTouchMove:S,onTouchEnd:k,prevIcon:T,prevLabel:R,nextIcon:b,nextLabel:x,variant:F,className:z,children:ee,...J}=Kc(t,{activeIndex:"onSelect"}),H=ie(r,"carousel"),K=Zh(),O=h.useRef(null),[U,L]=h.useState("next"),[Q,V]=h.useState(!1),[se,te]=h.useState(!1),[q,B]=h.useState(c||0);h.useEffect(()=>{!se&&c!==q&&(O.current?L(O.current):L((c||0)>q?"next":"prev"),i&&te(!0),B(c||0))},[c,se,q,i]),h.useEffect(()=>{O.current&&(O.current=null)});let ae=0,pe;uU(ee,(ne,Ee)=>{++ae,Ee===c&&(pe=ne.props.interval)});const me=Tw(pe),ve=h.useCallback(ne=>{if(se)return;let Ee=q-1;if(Ee<0){if(!w)return;Ee=ae-1}O.current="prev",u==null||u(Ee,ne)},[se,q,u,w,ae]),de=xe(ne=>{if(se)return;let Ee=q+1;if(Ee>=ae){if(!w)return;Ee=0}O.current="next",u==null||u(Ee,ne)}),vt=h.useRef();h.useImperativeHandle(e,()=>({element:vt.current,prev:ve,next:de}));const Qe=xe(()=>{!document.hidden&&pU(vt.current)&&(K?ve():de())}),re=U==="next"?"start":"end";oU(()=>{i||(d==null||d(q,re),f==null||f(q,re))},[q]);const jr=`${H}-item-${U}`,Jn=`${H}-item-${re}`,Ai=h.useCallback(ne=>{tp(ne),d==null||d(q,re)},[d,q,re]),Hs=h.useCallback(()=>{te(!1),f==null||f(q,re)},[f,q,re]),Vs=h.useCallback(ne=>{if(m&&!/input|textarea/i.test(ne.target.tagName))switch(ne.key){case"ArrowLeft":ne.preventDefault(),K?de(ne):ve(ne);return;case"ArrowRight":ne.preventDefault(),K?ve(ne):de(ne);return}g==null||g(ne)},[m,g,ve,de,K]),Kt=h.useCallback(ne=>{E==="hover"&&V(!0),y==null||y(ne)},[E,y]),Zn=h.useCallback(ne=>{V(!1),_==null||_(ne)},[_]),zr=h.useRef(0),an=h.useRef(0),er=aU(),fe=h.useCallback(ne=>{zr.current=ne.touches[0].clientX,an.current=0,E==="hover"&&V(!0),N==null||N(ne)},[E,N]),qt=h.useCallback(ne=>{ne.touches&&ne.touches.length>1?an.current=0:an.current=ne.touches[0].clientX-zr.current,S==null||S(ne)},[S]),Wr=h.useCallback(ne=>{if(C){const Ee=an.current;Math.abs(Ee)>fU&&(Ee>0?ve(ne):de(ne))}E==="hover"&&er.set(()=>{V(!1)},p||void 0),k==null||k(ne)},[C,E,ve,de,er,p,k]),Gs=p!=null&&!Q&&!se,_u=h.useRef();h.useEffect(()=>{var ne,Ee;if(!Gs)return;const Cn=K?ve:de;return _u.current=window.setInterval(document.visibilityState?Qe:Cn,(ne=(Ee=me.current)!=null?Ee:p)!=null?ne:void 0),()=>{_u.current!==null&&clearInterval(_u.current)}},[Gs,ve,de,me,p,Qe,K]);const Wm=h.useMemo(()=>a&&Array.from({length:ae},(ne,Ee)=>Cn=>{u==null||u(Ee,Cn)}),[a,ae,u]);return P(n,{ref:vt,...J,onKeyDown:Vs,onMouseOver:Kt,onMouseOut:Zn,onTouchStart:fe,onTouchMove:qt,onTouchEnd:Wr,className:Y(z,H,i&&"slide",s&&`${H}-fade`,F&&`${H}-${F}`),children:[a&&v("div",{className:`${H}-indicators`,children:qy(ee,(ne,Ee)=>v("button",{type:"button","data-bs-target":"","aria-label":l!=null&&l.length?l[Ee]:`Slide ${Ee+1}`,className:Ee===q?"active":void 0,onClick:Wm?Wm[Ee]:void 0,"aria-current":Ee===q},Ee))}),v("div",{className:`${H}-inner`,children:qy(ee,(ne,Ee)=>{const Cn=Ee===q;return i?v(Yc,{in:Cn,onEnter:Cn?Ai:void 0,onEntered:Cn?Hs:void 0,addEndListener:qc,children:(Ks,OS)=>h.cloneElement(ne,{...OS,className:Y(ne.props.className,Cn&&Ks!=="entered"&&jr,(Ks==="entered"||Ks==="exiting")&&"active",(Ks==="entering"||Ks==="exiting")&&Jn)})}):h.cloneElement(ne,{className:Y(ne.props.className,Cn&&"active")})})}),o&&P($e,{children:[(w||c!==0)&&P(tc,{className:`${H}-control-prev`,onClick:ve,children:[T,R&&v("span",{className:"visually-hidden",children:R})]}),(w||c!==ae-1)&&P(tc,{className:`${H}-control-next`,onClick:de,children:[b,x&&v("span",{className:"visually-hidden",children:x})]})]})]})});Mm.displayName="Carousel";Mm.defaultProps=hU;const Yy=Object.assign(Mm,{Caption:lU,Item:cU});function mU({as:t,bsPrefix:e,className:n,...r}){e=ie(e,"col");const i=hw(),s=pw(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let u,d,f;typeof c=="object"&&c!=null?{span:u,offset:d,order:f}=c:u=c;const p=l!==s?`-${l}`:"";u&&o.push(u===!0?`${e}${p}`:`${e}${p}-${u}`),f!=null&&a.push(`order${p}-${f}`),d!=null&&a.push(`offset${p}-${d}`)}),[{...r,className:Y(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const Mr=h.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=mU(t);return v(i,{...r,ref:e,className:Y(n,!o.length&&s)})});Mr.displayName="Col";const gU={type:at.string,tooltip:at.bool,as:at.elementType},Lm=h.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>v(t,{...i,ref:s,className:Y(e,`${n}-${r?"tooltip":"feedback"}`)}));Lm.displayName="Feedback";Lm.propTypes=gU;const JC=Lm,Gn=h.createContext({}),ZC=h.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=h.useContext(Gn);return e=ie(e,"form-check-input"),v(o,{...a,ref:l,type:r,id:t||c,className:Y(n,e,i&&"is-valid",s&&"is-invalid")})});ZC.displayName="FormCheckInput";const eS=ZC,tS=h.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=h.useContext(Gn);return t=ie(t,"form-check-label"),v("label",{...r,ref:i,htmlFor:n||s,className:Y(e,t)})});tS.displayName="FormCheckLabel";const Jf=tS,nS=h.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:d,style:f,title:p="",type:m="checkbox",label:g,children:E,as:y="input",..._},w)=>{e=ie(e,"form-check"),n=ie(n,"form-switch");const{controlId:C}=h.useContext(Gn),N=h.useMemo(()=>({controlId:t||C}),[C,t]),S=!E&&g!=null&&g!==!1||dU(E,Jf),k=v(eS,{..._,type:m==="switch"?"checkbox":m,ref:w,isValid:o,isInvalid:a,disabled:s,as:y});return v(Gn.Provider,{value:N,children:v("div",{style:f,className:Y(d,S&&e,r&&`${e}-inline`,i&&`${e}-reverse`,m==="switch"&&n),children:E||P($e,{children:[k,S&&v(Jf,{title:p,children:g}),c&&v(JC,{type:u,tooltip:l,children:c})]})})})});nS.displayName="FormCheck";const Tc=Object.assign(nS,{Input:eS,Label:Jf}),rS=h.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input",...d},f)=>{const{controlId:p}=h.useContext(Gn);t=ie(t,"form-control");let m;return l?m={[`${t}-plaintext`]:!0}:m={[t]:!0,[`${t}-${n}`]:n},v(u,{...d,type:e,size:r,ref:f,readOnly:c,id:i||p,className:Y(s,m,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});rS.displayName="FormControl";const vU=Object.assign(rS,{Feedback:JC}),yU=He("form-floating"),iS=h.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=h.useMemo(()=>({controlId:t}),[t]);return v(Gn.Provider,{value:i,children:v(e,{...n,ref:r})})});iS.displayName="FormGroup";const sS=iS,_U={column:!1,visuallyHidden:!1},Fm=h.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=h.useContext(Gn);e=ie(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=Y(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?v(Mr,{ref:a,as:"label",className:u,htmlFor:s,...o}):v(t,{ref:a,className:u,htmlFor:s,...o})});Fm.displayName="FormLabel";Fm.defaultProps=_U;const wU=Fm,oS=h.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=h.useContext(Gn);return t=ie(t,"form-range"),v("input",{...r,type:"range",ref:i,className:Y(e,t),id:n||s})});oS.displayName="FormRange";const EU=oS,aS=h.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=h.useContext(Gn);return t=ie(t,"form-select"),v("select",{...a,size:n,ref:l,className:Y(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});aS.displayName="FormSelect";const CU=aS,lS=h.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ie(t,"form-text"),v(n,{...i,ref:s,className:Y(e,t,r&&"text-muted")})));lS.displayName="FormText";const SU=lS,cS=h.forwardRef((t,e)=>v(Tc,{...t,ref:e,type:"switch"}));cS.displayName="Switch";const kU=Object.assign(cS,{Input:Tc.Input,Label:Tc.Label}),uS=h.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ie(t,"form-floating"),P(sS,{ref:o,className:Y(e,t),controlId:r,...s,children:[n,v("label",{htmlFor:r,children:i})]})));uS.displayName="FloatingLabel";const NU=uS,TU={_ref:at.any,validated:at.bool,as:at.elementType},Um=h.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>v(n,{...r,ref:i,className:Y(t,e&&"was-validated")}));Um.displayName="Form";Um.propTypes=TU;const Ic=Object.assign(Um,{Group:sS,Control:vU,Floating:yU,Check:Tc,Switch:kU,Label:wU,Text:SU,Range:EU,Select:CU,FloatingLabel:NU});at.string,at.bool,at.bool,at.bool,at.bool;const IU={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},$m=h.forwardRef(({bsPrefix:t,className:e,fluid:n,rounded:r,roundedCircle:i,thumbnail:s,...o},a)=>(t=ie(t,"img"),v("img",{ref:a,...o,className:Y(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));$m.displayName="Image";$m.defaultProps=IU;const dS=$m;var al;function Qy(t){if((!al&&al!==0||t)&&Ms){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),al=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return al}const bU=He("modal-body"),fS=h.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{t=ie(t,"modal");const u=`${t}-dialog`,d=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return v("div",{...l,ref:c,className:Y(u,e,i&&`${t}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,s&&d),children:v("div",{className:Y(`${t}-content`,n),children:o})})});fS.displayName="ModalDialog";const hS=fS,RU=He("modal-footer"),xU={closeLabel:"Close",closeButton:!1},Bm=h.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ie(t,"modal-header"),v(Pw,{ref:r,...n,className:Y(e,t)})));Bm.displayName="ModalHeader";Bm.defaultProps=xU;const OU=Bm,PU=Xc("h4"),AU=He("modal-title",{Component:PU}),DU={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:hS};function MU(t){return v(lp,{...t,timeout:null})}function LU(t){return v(lp,{...t,timeout:null})}const jm=h.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o,"aria-labelledby":a,"aria-describedby":l,"aria-label":c,show:u,animation:d,backdrop:f,keyboard:p,onEscapeKeyDown:m,onShow:g,onHide:E,container:y,autoFocus:_,enforceFocus:w,restoreFocus:C,restoreFocusOptions:N,onEntered:S,onExit:k,onExiting:T,onEnter:R,onEntering:b,onExited:x,backdropClassName:F,manager:z,...ee},J)=>{const[H,K]=h.useState({}),[O,U]=h.useState(!1),L=h.useRef(!1),Q=h.useRef(!1),V=h.useRef(null),[se,te]=Fw(),q=Ri(J,te),B=xe(E),ae=Zh();t=ie(t,"modal");const pe=h.useMemo(()=>({onHide:B}),[B]);function me(){return z||Dw({isRTL:ae})}function ve(fe){if(!Ms)return;const qt=me().getScrollbarWidth()>0,Wr=fe.scrollHeight>Sa(fe).documentElement.clientHeight;K({paddingRight:qt&&!Wr?Qy():void 0,paddingLeft:!qt&&Wr?Qy():void 0})}const de=xe(()=>{se&&ve(se.dialog)});ip(()=>{Sf(window,"resize",de),V.current==null||V.current()});const vt=()=>{L.current=!0},Qe=fe=>{L.current&&se&&fe.target===se.dialog&&(Q.current=!0),L.current=!1},re=()=>{U(!0),V.current=Ew(se.dialog,()=>{U(!1)})},jr=fe=>{fe.target===fe.currentTarget&&re()},Jn=fe=>{if(f==="static"){jr(fe);return}if(Q.current||fe.target!==fe.currentTarget){Q.current=!1;return}E==null||E()},Ai=fe=>{p?m==null||m(fe):(fe.preventDefault(),f==="static"&&re())},Hs=(fe,qt)=>{fe&&ve(fe),R==null||R(fe,qt)},Vs=fe=>{V.current==null||V.current(),k==null||k(fe)},Kt=(fe,qt)=>{b==null||b(fe,qt),ep(window,"resize",de)},Zn=fe=>{fe&&(fe.style.display=""),x==null||x(fe),Sf(window,"resize",de)},zr=h.useCallback(fe=>v("div",{...fe,className:Y(`${t}-backdrop`,F,!d&&"show")}),[d,F,t]),an={...n,...H};an.display="block";const er=fe=>v("div",{role:"dialog",...fe,style:an,className:Y(e,t,O&&`${t}-static`,!d&&"show"),onClick:f?Jn:void 0,onMouseUp:Qe,"aria-label":c,"aria-labelledby":a,"aria-describedby":l,children:v(o,{...ee,onMouseDown:vt,className:r,contentClassName:i,children:s})});return v(up.Provider,{value:pe,children:v(xw,{show:u,ref:q,backdrop:f,container:y,keyboard:!0,autoFocus:_,enforceFocus:w,restoreFocus:C,restoreFocusOptions:N,onEscapeKeyDown:Ai,onShow:g,onHide:E,onEnter:Hs,onEntering:Kt,onEntered:S,onExit:Vs,onExiting:T,onExited:Zn,manager:me(),transition:d?MU:void 0,backdropTransition:d?LU:void 0,renderBackdrop:zr,renderDialog:er})})});jm.displayName="Modal";jm.defaultProps=DU;const dn=Object.assign(jm,{Body:bU,Header:OU,Title:AU,Footer:RU,Dialog:hS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ti=h.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ie(t,"row"),o=hw(),a=pw(),l=`${s}-cols`,c=[];return o.forEach(u=>{const d=r[u];delete r[u];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const p=u!==a?`-${u}`:"";f!=null&&c.push(`${l}${p}-${f}`)}),v(n,{ref:i,...r,className:Y(e,s,...c)})});Ti.displayName="Row";const FU=()=>{},pS=h.forwardRef(({bsPrefix:t,name:e,className:n,checked:r,type:i,onChange:s,value:o,disabled:a,id:l,inputRef:c,...u},d)=>(t=ie(t,"btn-check"),P($e,{children:[v("input",{className:t,name:e,type:i,value:o,ref:c,autoComplete:"off",checked:!!r,disabled:!!a,onChange:s||FU,id:l}),v(Te,{...u,ref:d,className:Y(n,a&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:l})]})));pS.displayName="ToggleButton";const Xy=pS,UU=()=>{const t=Gt(),e=qn();return h.useEffect(()=>{t&&e("/")},[t,e]),v(A,{className:"login-container",children:v(A,{className:"login-info-container",children:P(A,{children:[v("h1",{className:"login-title","data-cy":"login-title",children:"Outfit Of The Day"}),v("p",{className:"login-info",children:"OutfitOfTheDay is an app that allows you to catalog your closet and decide on an outfit for the day each morning. It will also keep track of your favorite outfits, which will be recommended more frequently."}),v(()=>v("button",{className:"ml-5 p-2 w-75 btn login-button",onClick:UF,children:"SIGN IN"}),{})]})})})};function $U(t){return mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}]})(t)}function BU(t){return mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}}]})(t)}function jU(t){return mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"}},{tag:"path",attr:{d:"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"}}]})(t)}const zU=({clothes:t,idx:e,bottoms:n,option:r,deletePiece:i})=>{const s=Gt(),[o]=Br("/closet"),[a]=Dr("/"),l=["tops","bottoms","shoes"],c=u=>{i(u),a({["/closet/"+s.uid+"/"+r.toLowerCase()+"/"+u]:null}),o&&l.includes(r.toLowerCase())&&o[s.uid].outfits&&Object.entries(o[s.uid].outfits).map(([d,f])=>{t.url===f[r.toLowerCase()].url&&a({["/closet/"+s.uid+"/outfits/"+d]:null})})};return P(es,{className:"card-container",children:[v(es.Img,{variant:"top",src:t.url,className:n?"card-image-bottoms":"card-image"}),v(A,{className:"card-text-container",children:t.weather.map(u=>v(GF,{bg:"secondary",className:"card-weather",pill:!0,children:u},u))}),v(A,{className:"card-trash-container",children:v(BU,{onClick:()=>c(e),size:23})})]})},WU=()=>{const t=Gt(),[e]=Br("/closet"),[n,r]=h.useState("Tops"),[i,s]=h.useState(null),[o,a]=h.useState(null),[l,c]=h.useState([]),u=["cold","warm","rainy","sunny"],d=g=>{g==="Tops"?(r("Tops"),s(e[t.uid].tops),a(e[t.uid].tops)):g==="Jackets"?(r("Jackets"),s(e[t.uid].jackets),a(e[t.uid].jackets)):g==="Dresses"?(r("Dresses"),s(e[t.uid].dresses),a(e[t.uid].dresses)):g==="Bottoms"?(r("Bottoms"),s(e[t.uid].bottoms),a(e[t.uid].bottoms)):g==="Shoes"&&(r("Shoes"),s(e[t.uid].shoes),a(e[t.uid].shoes))},f=g=>{let E=[...l];if(E.includes(g)?E=E.filter(_=>_!==g):E=[...l,g],E.length===0){a(i),c([]);return}let y=new Object;for(const _ in i)i[_].weather.forEach(function(w,C){E.includes(w)&&(y[_]=i[_])});if(i===null){let _=e[t.uid].tops;for(const w in _)_[w].weather.forEach(function(C,N){E.includes(C)&&(y[w]=_[w])})}c(E),a(y)},p=()=>{if(JSON.stringify(o)==="{}")return v("h6",{className:"text-muted text-center",children:"No clothing for filter selected"})},m=g=>{if(o){let E=new Object;for(const y in o)y!==g&&(E[y]=o[y]);s(E),a(E)}};return t?e?P(A,{className:"p-10 mt-3",children:[v("h4",{className:"closet-title",children:"My Closet"}),P(Ic.Select,{onChange:g=>d(g.target.value),children:[v("option",{value:"Tops",children:"Tops"}),v("option",{value:"Jackets",children:"Jackets"}),v("option",{value:"Dresses",children:"Dresses"}),v("option",{value:"Bottoms",children:"Bottoms"}),v("option",{value:"Shoes",children:"Shoes"})]}),v(A,{className:"card-text-container-header",children:u.map((g,E)=>P(Te,{variant:"light",className:l.includes(g)?"weather-filter-active":"filter-weather-button",onClick:()=>f(g),children:[g.charAt(0).toUpperCase(),g.slice(1)]},E))})," ",v(A,{className:"closet-cards-container",children:v(Ti,{xs:2,md:4,className:"g-3",children:Object.entries(o||e[t.uid].tops).map(([g,E])=>v(Mr,{children:v(zU,{clothes:E,idx:g,bottoms:n==="Bottoms",option:n,deletePiece:m})},g))})}),p()]}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user profile..."})};function HU(t){return mt({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14.004 6a2 2 0 1 0 -4 0c.003 1.667 .67 3 2.004 4h-.008l7.971 4.428a2 2 0 0 1 1.029 1.749v.823a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-.823a2 2 0 0 1 1.029 -1.749l7.971 -4.428"}}]})(t)}const bc=()=>{const t=new Date,e=t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getMonth()+1<10?"0"+e:e;return t.getFullYear()+"-"+r+"-"+n},VU=({show:t,handleClose:e,clothes:n,idx:r})=>{const i=Gt(),[s]=Dr("/"),o=qn(),a=()=>{l(),o("/"),e()},l=()=>{s({["/closet/"+i.uid+"/outfits/"+r]:{...n,times:n.times+1}}),s({["/closet/"+i.uid+"/todays/"+r]:{...n,times:n.times+1}}),s({["/closet/"+i.uid+"/lastWorn"]:bc()})};return v($e,{children:n&&P(dn,{centered:!0,show:t,onHide:e,children:[v(dn.Header,{closeButton:!0,className:"modal-header",children:P(dn.Title,{children:["You've worn this look ",n.times," ",n.times===1?"time":"times","!"]})}),v(dn.Body,{className:"modal-body",children:v(xs,{clothes:n,idx:null,modalShown:!1,big:!0})}),v(dn.Footer,{className:"outfit-modal-footer",children:v(Te,{onClick:a,children:"I'll wear this today!"})})]})})},xs=({clothes:t,idx:e,big:n,modalShown:r})=>{const i=Gt(),[s]=Dr("/"),[o,a]=h.useState(!1),[l,c]=h.useState(null),u=()=>a(!1),d=p=>{r&&(c(p),a(!0))},f=()=>{if(!e)return;const p=t.isFavorite;s({["/closet/"+i.uid+"/outfits/"+e]:{...t,isFavorite:!p}})};return P($e,{children:[P(es,{className:"mb-3 outfits-card-container",children:[P(A,{className:"outfits-card-clothes",onClick:()=>d(t),children:[P(A,{className:"outfits-top-shoes-container",children:[v(A,{className:"outfits-top-container",children:v(es.Img,{variant:"top",src:t.tops.url,className:n?"big-outfits-card-image":"outfits-card-image"})}),v(A,{className:"outfits-shoes-container",children:v(es.Img,{variant:"top",src:t.shoes.url,className:n?"big-outfits-card-image-shoes":"outfits-card-image-shoes"})})]}),v(A,{className:"outfits-bottom-container",children:v(es.Img,{variant:"top",src:t.bottoms.url,className:n?"big-outfits-card-image-bottom":"outfits-card-image-bottom"})})]}),P(A,{className:"outfits-card-footer",children:[P(A,{className:"outfits-card-frequency",children:[v(HU,{className:"me-1",size:23}),t.times]}),v(A,{className:"outfits-card-heart",children:t.isFavorite?v(wE,{onClick:()=>f(),size:23}):v(EE,{onClick:()=>f(),size:23})})]})]}),v(VU,{show:o,handleClose:u,clothes:l,idx:e})]})},GU=()=>{const t=Gt(),[e]=Br("/closet"),[n,r]=h.useState(null),[i,s]=h.useState([]),{state:o}=Ca(),{showFavorites:a}=o,[l,c]=h.useState(a!==void 0?a:!1),u=["cold","warm","rainy","sunny"];h.useEffect(()=>{f()},[l,e]);const d=m=>{if(!e[t.uid].outfits)return;let g=[...i];if(g.includes(m)?g=g.filter(_=>_!==m):g=[...i,m],g.length===0){r(e[t.uid].outfits),c(!1),s([]);return}let E=new Object;const y=e[t.uid].outfits;for(const _ in y)l?g.includes(y[_].weather)&&y[_].isFavorite&&(E[_]=y[_]):g.includes(y[_].weather)&&(E[_]=y[_]);r(E),s(g)},f=()=>{if(e)if(l){let m=new Object;const g=e[t.uid].outfits;for(const E in g)g[E].isFavorite&&(m[E]=g[E]);r(m)}else r(e[t.uid].outfits)},p=()=>{if(e){let m=0;const g=e[t.uid].outfits;for(const E in g)g[E].isFavorite&&(m+=1);return m}};return t?e?P(A,{className:"p-10 mt-3",children:[v("h4",{className:"closet-title",children:"My Past Outfits"}),v(A,{className:"m-0 p-0 card-text-container-header",children:u.map((m,g)=>P(Te,{variant:"light",className:i.includes(m)?"weather-filter-active":"filter-weather-button",onClick:()=>d(m),children:[m.charAt(0).toUpperCase(),m.slice(1)]},g))}),v(A,{className:"p-0 outfits-checkbox-container",children:v(Ic,{children:v(Ic.Check,{type:"checkbox",inline:!0,label:"Show favorites only",checked:l,onChange:m=>c(m.target.checked)})})}),P(A,{className:"closet-cards-container",children:[e[t.uid].outfits?v(Ti,{xs:2,md:4,children:Object.entries(n||e[t.uid].outfits).map(([m,g])=>v(Mr,{children:v(xs,{clothes:g,idx:m,modalShown:!0})},m))}):v(A,{className:"mt-3",children:v("h5",{className:"text-center text-muted",children:"There are no outfits in your closet!"})}),n&&Object.entries(n).length===0&&v(A,{className:"mt-3",children:v("h5",{className:"text-center text-muted",children:"There are no outfits for the selected filter!"})}),l&&p()===0&&v(A,{className:"mt-3",children:v("h5",{className:"text-center text-muted",children:"There are no favorited outfits in your closet!"})})]})]}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user profile..."})},mS=()=>{let t=41.881832,e=-87.623177;return"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(n){t=n.coords.latitude,e=n.coords.longitude}),`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current_weather=true&temperature_unit=fahrenheit&hourly=temperature_2m`},Zf=new Map([[0,"sunny"],[1,"sunny"],[2,"sunny"],[3,"sunny"],[45,"sunny"],[48,"sunny"],[51,"rainy"],[53,"rainy"],[55,"rainy"],[56,"rainy"],[57,"rainy"],[61,"rainy"],[63,"rainy"],[65,"rainy"],[66,"rainy"],[67,"rainy"],[71,"rainy"],[73,"rainy"],[75,"rainy"],[77,"rainy"],[80,"rainy"],[81,"rainy"],[82,"rainy"],[85,"rainy"],[86,"rainy"],[95,"rainy"],[96,"rainy"],[99,"rainy"]]),KU=new Map([[0,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-01-512.png"],[1,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[2,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[3,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[45,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[48,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[51,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[53,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[55,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[56,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[57,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[61,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[63,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[65,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[66,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[67,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[71,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[73,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[75,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[77,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[80,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[81,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[82,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[85,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[86,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[95,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[96,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[99,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"]]),zm=({weather:t,weatherCode:e})=>P(A,{className:"weather-header-container",children:[v(A,{className:"weather-icon",children:v("img",{src:KU.get(e),alt:"icon-weather"})}),P(A,{className:"weather-temperature",children:[t,"F"]})]}),qU=()=>{const e=new Date().getDay();if(e===0)return"Sunday";if(e===1)return"Monday";if(e===2)return"Tuesday";if(e===3)return"Wednesday";if(e===4)return"Thursday";if(e===5)return"Friday";if(e===6)return"Saturday"},YU=()=>{const t=qn(),e=Gt(),[n]=Br("/closet"),[r,i]=h.useState([]),[s,o]=h.useState();return h.useEffect(()=>{fetch(mS()).then(a=>a.json()).then(a=>{i(a.current_weather.temperature),o(a.current_weather.weathercode)}).catch(a=>console.error(a))},[]),e?n?P(A,{children:[P(A,{className:"home-header-container",children:[P(A,{className:"home-header-title",children:["Happy ",qU()," ",e.displayName.split(" ")[0],"!"]}),v(A,{className:"home-header-weather",children:v(zm,{weather:r,weatherCode:s||0})})]}),P(A,{className:"home-button-container",children:[P(A,{className:"home-build-button",onClick:()=>t("/build"),children:[v(Dx,{size:24}),P("p",{children:["Build a new ",v("br",{})," Outfit"]})]}),P(A,{className:"home-suggest-button",onClick:()=>t("/suggest",{state:{closet:n,weather:r,weatherCode:s}}),children:[v(jU,{size:24}),P("p",{children:["Give me a ",v("br",{})," suggestion"]})]})]}),P(A,{className:"home-favorites-container",children:[v(A,{className:"home-favorites-title",children:v("h6",{children:"Quick Select: Favorites"})}),v(A,{className:"home-favorites-panel",children:v(Ti,{xs:2,md:2,children:Object.entries(n[e.uid].outfits).filter(([a,l])=>l.isFavorite===!0).sort((a,l)=>l[1].times-a[1].times).slice(0,2).map(([a,l])=>v(Mr,{children:v(xs,{clothes:l,idx:a,modalShown:!0})},a))})}),v(A,{className:"home-favorites-footer",children:v("h6",{onClick:()=>t("/outfits",{state:{showFavorites:!0}}),children:"View All Favorites"})})]}),n[e.uid].todays&&P(A,{className:"home-favorites-container",children:[v(A,{className:"home-favorites-title",children:Object.entries(n[e.uid].todays).length<=1?v("h6",{children:"Today's Outfit"}):v("h6",{children:"Today's Outfits"})}),v(A,{className:"home-favorites-panel",children:v(Ti,{xs:2,md:2,children:Object.entries(n[e.uid].todays).map(([a,l])=>v(Mr,{children:v(xs,{clothes:l,idx:null,modalShown:!1})},a))})})]})]}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user profile..."})};function gS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=gS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function W(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=gS(e))&&(r&&(r+=" "),r+=n);return r}var j=function(){return j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},j.apply(this,arguments)};function G(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var vS=I.forwardRef(function(t,e){var n=t.breakpoint,r=t.fluid,i=t.children,s=t.className,o=t.tag,a=G(t,["breakpoint","fluid","children","className","tag"]),l=W("".concat(r?"container-fluid":"container".concat(n?"-"+n:"")),s);return I.createElement(o,j({className:l},a,{ref:e}),i)});vS.defaultProps={tag:"div"};var yS=I.forwardRef(function(t,e){var n=t.center,r=t.children,i=t.className,s=t.end,o=t.lg,a=t.md,l=t.offsetLg,c=t.offsetMd,u=t.offsetSm,d=t.order,f=t.size,p=t.sm,m=t.start,g=t.tag,E=t.xl,y=t.xxl,_=t.xs,w=G(t,["center","children","className","end","lg","md","offsetLg","offsetMd","offsetSm","order","size","sm","start","tag","xl","xxl","xs"]),C=W(f&&"col-".concat(f),_&&"col-xs-".concat(_),p&&"col-sm-".concat(p),a&&"col-md-".concat(a),o&&"col-lg-".concat(o),E&&"col-xl-".concat(E),y&&"col-xxl-".concat(y),f||_||p||a||o||E||y?"":"col",d&&"order-".concat(d),m&&"align-self-start",n&&"align-self-center",s&&"align-self-end",u&&"offset-sm-".concat(u),c&&"offset-md-".concat(c),l&&"offset-lg-".concat(l),i);return I.createElement(g,j({className:C,ref:e},w),r)});yS.defaultProps={tag:"div"};var QU=I.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.pill,s=t.light,o=t.dot,a=t.tag,l=t.children,c=t.notification,u=G(t,["className","color","pill","light","dot","tag","children","notification"]),d=W("badge",s?r&&"badge-".concat(r):r&&"bg-".concat(r),o&&"badge-dot",i&&"rounded-pill",c&&"badge-notification",n);return I.createElement(a,j({className:d,ref:e},u),l)});QU.defaultProps={tag:"span",color:"primary"};var XU=function(t){var e=G(t,[]),n=h.useState(!1),r=n[0],i=n[1],s=W("ripple-wave",r&&"active");return h.useEffect(function(){var o=setTimeout(function(){i(!0)},50);return function(){clearTimeout(o)}},[]),I.createElement("div",j({className:s},e))},_S=I.forwardRef(function(t,e){var n=t.className,r=t.rippleTag,i=t.rippleCentered,s=t.rippleDuration,o=t.rippleUnbound,a=t.rippleRadius,l=t.rippleColor,c=t.children,u=t.onMouseDown,d=G(t,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onMouseDown"]),f=function(){for(var R=[],b=0;b<arguments.length;b++)R[b]=arguments[b];var x=I.useRef();return I.useEffect(function(){R.forEach(function(F){F&&(typeof F=="function"?F(x.current):F.current=x.current)})},[R]),x}(e,h.useRef(null)),p=[0,0,0],m=["primary","secondary","success","danger","warning","info","light","dark"],g=h.useState([]),E=g[0],y=g[1],_=h.useState(!1),w=_[0],C=_[1],N=W("ripple","ripple-surface",o&&"ripple-surface-unbound",w&&"ripple-surface-".concat(l),n),S=function(){if(m.find(function(x){return x===(l==null?void 0:l.toLowerCase())}))return C(!0);var R=k(l).join(","),b="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(R));return"radial-gradient(circle, ".concat(b,")")},k=function(R){return R.toLowerCase()==="transparent"?p:R[0]==="#"?function(b){return b.length<7&&(b="#".concat(b[1]).concat(b[1]).concat(b[2]).concat(b[2]).concat(b[3]).concat(b[3])),[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)]}(R):(R.indexOf("rgb")===-1&&(R=function(b){var x=document.body.appendChild(document.createElement("fictum")),F="rgb(1, 2, 3)";return x.style.color=F,x.style.color!==F?p:(x.style.color=b,x.style.color===F||x.style.color===""?p:(b=getComputedStyle(x).color,document.body.removeChild(x),b))}(R)),R.indexOf("rgb")===0?function(b){return(b=b.match(/[.\d]+/g).map(function(x){return+Number(x)})).length=3,b}(R):p)},T=function(R){var b,x=(b=f.current)===null||b===void 0?void 0:b.getBoundingClientRect(),F=R.clientX-x.left,z=R.clientY-x.top,ee=x.height,J=x.width,H={delay:s&&.5*s,duration:s&&s-.5*s},K=function(L){var Q=L.offsetX,V=L.offsetY,se=L.height,te=L.width,q=V<=se/2,B=Q<=te/2,ae=function(jr,Jn){return Math.sqrt(Math.pow(jr,2)+Math.pow(Jn,2))},pe=V===se/2&&Q===te/2,me=q===!0&&B===!1,ve=q===!0&&B===!0,de=q===!1&&B===!0,vt=q===!1&&B===!1,Qe={topLeft:ae(Q,V),topRight:ae(te-Q,V),bottomLeft:ae(Q,se-V),bottomRight:ae(te-Q,se-V)},re=0;return pe||vt?re=Qe.topLeft:de?re=Qe.topRight:ve?re=Qe.bottomRight:me&&(re=Qe.bottomLeft),2*re}({offsetX:i?ee/2:F,offsetY:i?J/2:z,height:ee,width:J}),O=a||K/2,U={left:"".concat(i?J/2-O:F-O,"px"),top:"".concat(i?ee/2-O:z-O,"px"),height:"".concat(a?2*a:K,"px"),width:"".concat(a?2*a:K,"px"),transitionDelay:"0s, ".concat(H.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(H.duration,"ms")};return w?U:j(j({},U),{backgroundImage:"".concat(S())})};return h.useEffect(function(){var R=setTimeout(function(){E.length>0&&y(E.splice(1,E.length-1))},s);return function(){clearTimeout(R)}},[s,E]),I.createElement(r,j({className:N,onMouseDown:function(R){return function(b){var x=T(b),F=E.concat(x);y(F),u&&u(b)}(R)},ref:f},d),c,E.map(function(R,b){return I.createElement(XU,{key:b,style:R})}))});_S.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var JU=I.forwardRef(function(t,e){var n,r=t.className,i=t.color,s=t.outline,o=t.children,a=t.rounded,l=t.disabled,c=t.floating,u=t.size,d=t.href,f=t.block,p=t.active,m=t.toggle,g=t.noRipple,E=t.tag,y=G(t,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),_=h.useState(p||!1),w=_[0],C=_[1],N=i&&["light","link"].includes(i)||s?"dark":"light";n=i!=="none"?s?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"";var S=W(i!=="none"&&"btn",n,a&&"btn-rounded",c&&"btn-floating",u&&"btn-".concat(u),"".concat((d||E!=="button")&&l?"disabled":""),f&&"btn-block",w&&"active",r);return d&&E!=="a"&&(E="a"),["hr","img","input"].includes(E)||g?I.createElement(E,j({className:S,onClick:m?function(){C(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},y),o):I.createElement(_S,j({rippleTag:E,rippleColor:N,className:S,onClick:m?function(){C(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},y),o)});JU.defaultProps={tag:"button",role:"button",color:"primary"};var ZU=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.shadow,s=t.toolbar,o=t.size,a=t.vertical,l=t.tag,c=G(t,["className","children","shadow","toolbar","size","vertical","tag"]),u=W(s?"btn-toolbar":a?"btn-group-vertical":"btn-group",i&&"shadow-".concat(i),o&&"btn-group-".concat(o),n);return I.createElement(l,j({className:u,ref:e},c),r)});ZU.defaultProps={tag:"div",role:"group"};var e3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.color,o=t.grow,a=t.size,l=G(t,["className","children","tag","color","grow","size"]),c=W("".concat(o?"spinner-grow":"spinner-border"),s&&"text-".concat(s),"".concat(a?o?"spinner-grow-"+a:"spinner-border-"+a:""),n);return I.createElement(i,j({className:c,ref:e},l),r)});e3.defaultProps={tag:"div"};var wS=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=t.shadow,l=t.alignment,c=G(t,["className","children","border","background","tag","shadow","alignment"]),u=W("card",i&&"border border-".concat(i),s&&"bg-".concat(s),a&&"shadow-".concat(a),l&&"text-".concat(l),n);return I.createElement(o,j({className:u,ref:e},c),r)});wS.defaultProps={tag:"div"};var t3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=G(t,["className","children","border","background","tag"]),l=W("card-header",i&&"border-".concat(i),s&&"bg-".concat(s),n);return I.createElement(o,j({className:l},a,{ref:e}),r)});t3.defaultProps={tag:"div"};var n3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("card-subtitle",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});n3.defaultProps={tag:"p"};var ES=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("card-title",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});ES.defaultProps={tag:"h5"};var CS=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("card-text",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});CS.defaultProps={tag:"p"};var SS=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("card-body",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});SS.defaultProps={tag:"div"};var r3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=G(t,["className","children","border","background","tag"]),l=W("card-footer",i&&"border-".concat(i),s&&"bg-".concat(s),n);return I.createElement(o,j({className:l},a,{ref:e}),r)});r3.defaultProps={tag:"div"};var i3=function(t){var e=t.className,n=t.children,r=t.overlay,i=t.position,s=t.fluid,o=G(t,["className","children","overlay","position","fluid"]),a=W(i&&"card-img-".concat(i),s&&"img-fluid",r&&"card-img",e);return I.createElement("img",j({className:a},o),n)},s3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("card-img-overlay",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});s3.defaultProps={tag:"div"};var o3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("card-group",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});o3.defaultProps={tag:"div"};var a3=I.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.horizontal,s=t.horizontalSize,o=t.light,a=t.numbered,l=t.children,c=t.small,u=G(t,["className","tag","horizontal","horizontalSize","light","numbered","children","small"]),d=W("list-group",i&&(s?"list-group-horizontal-".concat(s):"list-group-horizontal"),o&&"list-group-light",a&&"list-group-numbered",c&&"list-group-small",n);return I.createElement(r,j({className:d,ref:e},u),l)});a3.defaultProps={tag:"ul"};var l3=I.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.active,s=t.disabled,o=t.action,a=t.color,l=t.children,c=t.noBorders,u=G(t,["className","tag","active","disabled","action","color","children","noBorders"]),d=r==="button",f=W("list-group-item",i&&"active",s&&!d&&"disabled",o&&"list-group-item-action",a&&"list-group-item-".concat(a),c&&"border-0",n);return I.createElement(r,j({className:f,disabled:d&&s,ref:e},u),l)});l3.defaultProps={tag:"li"};var kS=I.forwardRef(function(t,e){var n=t.around,r=t.between,i=t.bottom,s=t.center,o=t.children,a=t.className,l=t.evenly,c=t.end,u=t.middle,d=t.start,f=t.tag,p=t.top,m=G(t,["around","between","bottom","center","children","className","evenly","end","middle","start","tag","top"]),g=W("row",n&&"justify-content-around",r&&"justify-content-between",i&&"align-self-end",s&&"justify-content-center",l&&"justifty-content-evenly",c&&"justify-content-end",u&&"align-self-center",d&&"justify-content-start",p&&"align-self-start",a);return I.createElement(f,j({className:g},m,{ref:e}),o)});kS.defaultProps={tag:"div"};var c3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.variant,o=t.color,a=t.blockquote,l=t.note,c=t.noteColor,u=t.listUnStyled,d=t.listInLine,f=G(t,["className","children","tag","variant","color","blockquote","note","noteColor","listUnStyled","listInLine"]),p=W(s&&s,a&&"blockquote",l&&"note",o&&"text-".concat(o),c&&"note-".concat(c),u&&"list-unstyled",d&&"list-inline",n);return a&&(i="blockquote"),(u||d)&&(i="ul"),I.createElement(i,j({className:p,ref:e},f),r)});c3.defaultProps={tag:"p"};I.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.uppercase,s=t.bold,o=t.children,a=G(t,["className","color","uppercase","bold","children"]),l=W("breadcrumb",s&&"font-weight-bold",r&&"text-".concat(r),i&&"text-uppercase",n);return I.createElement("nav",{"aria-label":"breadcrumb"},I.createElement("ol",j({className:l,ref:e},a),o))});var u3=I.forwardRef(function(t,e){var n=t.className,r=t.active,i=t.current,s=t.children,o=G(t,["className","active","current","children"]),a=W("breadcrumb-item",r&&"active",n);return I.createElement("li",j({className:a,ref:e,"aria-current":r&&i},o),s)});u3.defaultProps={current:"page"};var d3=I.forwardRef(function(t,e){var n,r=t.className,i=t.children,s=t.light,o=t.dark,a=t.scrolling,l=t.fixed,c=t.sticky,u=t.scrollingNavbarOffset,d=t.color,f=t.transparent,p=t.expand,m=t.tag,g=t.bgColor,E=G(t,["className","children","light","dark","scrolling","fixed","sticky","scrollingNavbarOffset","color","transparent","expand","tag","bgColor"]),y=h.useState(!1),_=y[0],w=y[1],C=W(((n={"navbar-light":s,"navbar-dark":o,"scrolling-navbar":a||u,"top-nav-collapse":_})["text-".concat(d)]=d&&f?_:d,n),l&&"fixed-".concat(l),c&&"sticky-top","navbar",p&&function(S){if(S!==!1)return"navbar-expand-".concat(S)}(p),g&&"bg-".concat(g),r),N=h.useCallback(function(){u&&window.pageYOffset>u?w(!0):w(!1)},[u]);return h.useEffect(function(){return(a||u)&&window.addEventListener("scroll",N),function(){window.removeEventListener("scroll",N)}},[N,a,u]),I.createElement(m,j({className:C,role:"navigation"},E,{ref:e}),i)});d3.defaultProps={tag:"nav"};var f3=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.disabled,s=t.active,o=t.tag,a=G(t,["children","className","disabled","active","tag"]),l=W("nav-link",i?"disabled":s?"active":"",r);return I.createElement(o,j({"data-test":"nav-link",className:l,style:{cursor:"pointer"},ref:e},a),n)});f3.defaultProps={tag:"a",active:!1,className:"",disabled:!1};var h3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("navbar-brand",n);return I.createElement(i,j({className:o,ref:e},s),r)});h3.defaultProps={tag:"a"};var p3=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.text,o=t.tag,a=G(t,["children","className","active","text","tag"]),l=W("nav-item",i&&"active",s&&"navbar-text",r);return I.createElement(o,j({},a,{className:l,ref:e}),n)});p3.defaultProps={tag:"li"};var m3=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.right,s=t.fullWidth,o=t.left,a=t.tag,l=G(t,["children","className","right","fullWidth","left","tag"]),c=W("navbar-nav",s&&"w-100",i&&"ms-auto",o&&"me-auto",r);return I.createElement(a,j({className:c,ref:e},l),n)});m3.defaultProps={tag:"ul",fullWidth:!0};var g3=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=G(t,["children","className","tag"]),o=W("navbar-toggler",r);return I.createElement(i,j({},s,{className:o,ref:e}),n)});g3.defaultProps={tag:"button"};I.forwardRef(function(t,e){var n=t.children,r=t.bgColor,i=t.color,s=t.className,o=G(t,["children","bgColor","color","className"]),a=W(r&&"bg-".concat(r),i&&"text-".concat(i),s);return I.createElement("footer",j({className:a},o,{ref:e}),n)});I.forwardRef(function(t,e){var n=t.children,r=t.size,i=t.circle,s=t.center,o=t.end,a=t.start,l=t.className,c=G(t,["children","size","circle","center","end","start","className"]),u=W("pagination",s&&"justify-content-center",i&&"pagination-circle",o&&"justify-content-end",r&&"pagination-".concat(r),a&&"justify-content-start",l);return I.createElement("ul",j({className:u},c,{ref:e}),n)});var v3=I.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=G(t,["children","className","tag"]),o=W("page-link",r);return I.createElement(i,j({className:o},s,{ref:e}),n)});v3.defaultProps={tag:"a"};I.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.disabled,o=G(t,["children","className","active","disabled"]),a=W("page-item",i&&"active",s&&"disabled",r);return I.createElement("li",j({className:a},o,{ref:e}),n)});var NS=I.forwardRef(function(t,e){var n,r=t.animated,i=t.children,s=t.className,o=t.style,a=t.tag,l=t.valuenow,c=t.valuemax,u=t.striped,d=t.bgColor,f=t.valuemin,p=t.width,m=G(t,["animated","children","className","style","tag","valuenow","valuemax","striped","bgColor","valuemin","width"]),g=W("progress-bar",d&&"bg-".concat(d),u&&"progress-bar-striped",r&&"progress-bar-animated",s),E=j({width:"".concat(p,"%")},o);return I.createElement(a,j({className:g,style:E,ref:e,role:"progressbar"},m,{"aria-valuenow":(n=Number(p))!==null&&n!==void 0?n:l,"aria-valuemin":Number(f),"aria-valuemax":Number(c)}),i)});NS.defaultProps={tag:"div"};var y3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.height,o=t.style,a=G(t,["className","children","tag","height","style"]),l=W("progress",n),c=j({height:"".concat(s,"px")},o);return I.createElement(i,j({className:l,ref:e,style:c},a),I.Children.map(r,function(u){return I.isValidElement(u)&&u.type===NS?u:void console.error("Progress component only allows ProgressBar as child")}))});y3.defaultProps={tag:"div"};var _3=I.forwardRef(function(t,e){var n,r,i=t.className,s=t.size,o=t.contrast,a=t.value,l=t.defaultValue,c=t.id,u=t.labelClass,d=t.wrapperClass,f=t.wrapperStyle,p=t.wrapperTag,m=t.label,g=t.onChange,E=t.children,y=t.labelRef,_=t.labelStyle,w=t.type,C=t.onBlur,N=t.readonly,S=G(t,["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","type","onBlur","readonly"]),k=h.useState(a||l),T=k[0],R=k[1],b=h.useState(0),x=b[0],F=b[1],z=h.useState(!1),ee=z[0],J=z[1],H=h.useRef(null);h.useImperativeHandle(e,function(){return H.current});var K=h.useRef(null),O=y||K,U=W("form-outline",o&&"form-white",d),L=W("form-control",ee&&"active",w==="date"&&"active",s&&"form-control-".concat(s),i),Q=W("form-label",u);h.useEffect(function(){H.current&&(H.current.value.length>0?J(!0):J(!1))},[(n=H.current)===null||n===void 0?void 0:n.value]),h.useEffect(function(){a!==void 0&&(a.toString().length>0?J(!0):J(!1))},[a]),h.useEffect(function(){l!==void 0&&(l.toString().length>0?J(!0):J(!1))},[l]);var V=h.useCallback(function(){var te;!((te=O.current)===null||te===void 0)&&te.clientWidth&&F(.8*O.current.clientWidth+8)},[O]);h.useEffect(function(){V()},[(r=O.current)===null||r===void 0?void 0:r.clientWidth,V]);var se=h.useCallback(function(te){H.current&&(T!==void 0&&T.toString().length>0||a!==void 0&&a.toString().length>0||H.current.value.length>0?J(!0):J(!1),C&&C(te))},[T,a,C]);return I.createElement(p,{className:U,style:f},I.createElement("input",j({type:w,readOnly:N,className:L,onBlur:se,onChange:function(te){R(te.target.value),g==null||g(te)},onFocus:V,value:a,defaultValue:l,id:c,ref:H},S)),m&&I.createElement("label",{className:Q,style:_,htmlFor:c,ref:O},m),I.createElement("div",{className:"form-notch"},I.createElement("div",{className:"form-notch-leading"}),I.createElement("div",{className:"form-notch-middle",style:{width:x}}),I.createElement("div",{className:"form-notch-trailing"})),E)});_3.defaultProps={wrapperTag:"div",readonly:!1};var TS=function(t){var e=t.className,n=t.children,r=t.show,i=t.id,s=t.navbar,o=t.tag,a=t.collapseRef,l=t.style,c=G(t,["className","children","show","id","navbar","tag","collapseRef","style"]),u=h.useState(!1),d=u[0],f=u[1],p=h.useState(void 0),m=p[0],g=p[1],E=h.useState(!1),y=E[0],_=E[1],w=W(y?"collapsing":"collapse",!y&&d&&"show",s&&"navbar-collapse",e),C=h.useRef(null),N=a??C,S=h.useCallback(function(){d&&g(void 0)},[d]);return h.useEffect(function(){var k;m===void 0&&d&&g((k=N==null?void 0:N.current)===null||k===void 0?void 0:k.scrollHeight)},[m,d,N]),h.useEffect(function(){f(r),d&&_(!0);var k=setTimeout(function(){_(!1)},350);return function(){clearTimeout(k)}},[r,d]),h.useEffect(function(){var k;g(d?(k=N==null?void 0:N.current)===null||k===void 0?void 0:k.scrollHeight:0)},[d,N]),h.useEffect(function(){return window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}},[S]),I.createElement(o,j({style:j({height:m},l),id:i,className:w},c,{ref:N}),n)};TS.defaultProps={tag:"div"};h.createContext(null);function IS(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}IS(`.dropdown-menu .active {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
`);IS(`.dropdown-menu [data-active='true'] a.dropdown-item,\r
.dropdown-menu .dropdown-item:focus,\r
.dropdown-menu li:focus .dropdown-item :not(.disabled) {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
\r
.dropdown-menu li:focus {\r
  outline: none;\r
}\r
\r
.dropdown-menu.dropdown-menu-dark [data-active='true'] a.dropdown-item,\r
.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,\r
.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item {\r
  color: #fff;\r
  background-color: #1266f1;\r
}\r
\r
.btn-group.dropstart > .dropdown-menu {\r
  right: 0 !important;\r
}\r
`);var w3=I.forwardRef(function(t,e){var n=t.className,r=t.centered,i=t.children,s=t.size,o=t.scrollable,a=t.tag,l=G(t,["className","centered","children","size","scrollable","tag"]),c=W("modal-dialog",o&&"modal-dialog-scrollable",r&&"modal-dialog-centered",s&&"modal-".concat(s),n);return I.createElement(a,j({className:c},l,{ref:e}),i)});w3.defaultProps={tag:"div"};var E3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("modal-content",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});E3.defaultProps={tag:"div"};var C3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("modal-header",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});C3.defaultProps={tag:"div"};var S3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("modal-title",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});S3.defaultProps={tag:"h5"};var k3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("modal-body",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});k3.defaultProps={tag:"div"};var N3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=G(t,["className","children","tag"]),o=W("modal-footer",n);return I.createElement(i,j({className:o},s,{ref:e}),r)});N3.defaultProps={tag:"div"};I.createContext({activeElement:null,setTargets:null});var T3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.noBorder,s=t.textBefore,o=t.textAfter,a=t.noWrap,l=t.tag,c=t.textTag,u=t.textClass,d=t.size,f=t.textProps,p=G(t,["className","children","noBorder","textBefore","textAfter","noWrap","tag","textTag","textClass","size","textProps"]),m=W("input-group",a&&"flex-nowrap",d&&"input-group-".concat(d),n),g=W("input-group-text",i&&"border-0",u),E=function(y){return I.createElement(I.Fragment,null,y&&Array.isArray(y)?y.map(function(_,w){return I.createElement(c,j({key:w,className:g},f),_)}):I.createElement(c,j({className:g},f),y))};return I.createElement(l,j({className:m,ref:e},p),s&&E(s),r,o&&E(o))});T3.defaultProps={tag:"div",textTag:"span"};var I3=I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.isValidated,s=t.onReset,o=t.onSubmit,a=G(t,["className","children","isValidated","onReset","onSubmit"]),l=h.useState(i),c=l[0],u=l[1],d=W("needs-validation",c&&"was-validated",n);return I.createElement("form",j({className:d,onSubmit:function(f){f.preventDefault(),u(!0),o&&o(f)},onReset:function(f){f.preventDefault(),u(!1),s&&s(f)},ref:e},a),r)});I3.defaultProps={noValidate:!0};I.forwardRef(function(t,e){var n=t.className,r=t.fill,i=t.pills,s=t.justify,o=t.children,a=G(t,["className","fill","pills","justify","children"]),l=W("nav",i?"nav-pills":"nav-tabs",r&&"nav-fill",s&&"nav-justified",n);return I.createElement("ul",j({className:l,ref:e},a),o)});I.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.style,s=G(t,["className","children","style"]),o=W("nav-item",n);return I.createElement("li",j({className:o,style:j({cursor:"pointer"},i),role:"presentation",ref:e},s),r)});I.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.active,s=t.onShow,o=t.onHide,a=t.children,l=G(t,["className","color","active","onShow","onHide","children"]),c=W("nav-link",i&&"active",r&&"bg-".concat(r),n);return h.useEffect(function(){i?s==null||s():o==null||o()},[i]),I.createElement("a",j({className:c,ref:e},l),a)});var b3=I.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.children,s=G(t,["className","tag","children"]),o=W("tab-content",n);return I.createElement(r,j({className:o,ref:e},s),i)});b3.defaultProps={tag:"div"};var R3=I.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.show,s=t.children,o=G(t,["className","tag","show","children"]),a=h.useState(!1),l=a[0],c=a[1],u=W("tab-pane","fade",l&&"show",i&&"active",n);return h.useEffect(function(){var d;return i?d=setTimeout(function(){c(!0)},100):c(!1),function(){clearTimeout(d)}},[i]),I.createElement(r,j({className:u,role:"tabpanel",ref:e},o),s)});R3.defaultProps={tag:"div"};h.createContext({active:0});var bS=I.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),x3=I.forwardRef(function(t,e){var n=t.alwaysOpen,r=t.borderless,i=t.className,s=t.flush,o=t.initialActive,a=t.tag,l=t.children,c=t.onChange,u=G(t,["alwaysOpen","borderless","className","flush","initialActive","tag","children","onChange"]),d=W("accordion",s&&"accordion-flush",r&&"accordion-borderless",i),f=h.useState(o),p=f[0],m=f[1];return h.useEffect(function(){p&&c&&c(p)},[c,p]),I.createElement(a,j({className:d,ref:e},u),I.createElement(bS.Provider,{value:{activeItem:p,setActiveItem:m,alwaysOpen:n,initialActive:o}},l))});x3.defaultProps={tag:"div",initialActive:0};var O3=I.forwardRef(function(t,e){var n=t.className,r=t.bodyClassName,i=t.bodyStyle,s=t.headerClassName,o=t.collapseId,a=t.headerTitle,l=t.headerStyle,c=t.btnClassName,u=t.tag,d=t.children,f=G(t,["className","bodyClassName","bodyStyle","headerClassName","collapseId","headerTitle","headerStyle","btnClassName","tag","children"]),p=h.useContext(bS),m=p.activeItem,g=p.setActiveItem,E=p.alwaysOpen,y=p.initialActive,_=h.useState(y),w=_[0],C=_[1],N=W("accordion-item",n),S=W("accordion-header",s),k=W("accordion-body",r),T=W("accordion-button",E?o!==w&&"collapsed":o!==m&&"collapsed",c);return I.createElement(u,j({className:N,ref:e},f),I.createElement("h2",{className:S,style:l},I.createElement("button",{onClick:function(){return R=o,void(E?C(R!==w?R:0):g(R!==m?R:0));var R},className:T,type:"button"},a)),I.createElement(TS,{id:o.toString(),show:E?w===o:m===o},I.createElement("div",{className:k,style:i},d)))});O3.defaultProps={tag:"div"};const P3=()=>{const[t]=$F();return t?v("div",{className:"view-profile",children:v(vS,{children:v(kS,{className:"justify-content-center",children:v(yS,{md:"9",lg:"7",xl:"5",className:"mt-5",children:v(wS,{style:{width:"595px",borderRadius:"15px",alignContent:"center",padding:"5px"},children:v(SS,{className:"p-4",children:P("div",{className:"d-flex text-black",children:[v("div",{className:"flex-shrink-0",children:v(i3,{style:{width:"180px",borderRadius:"10px"},src:t.photoURL,alt:"Generic placeholder image",fluid:!0})}),P("div",{className:"flex-grow-1 ms-3",children:[v(ES,{children:t.displayName}),v(CS,{children:t.email}),P("div",{className:"d-flex justify-content-start rounded-3 p-2 mb-2",style:{backgroundColor:"#efefef"},children:[P("div",{children:[v("p",{className:"small text-muted mb-1",children:"Favorites"}),v("p",{className:"mb-0",children:"4"})]}),P("div",{className:"px-3",children:[v("p",{className:"small text-muted mb-1",children:"Closet"}),v("p",{className:"mb-0",children:"22"})]}),P("div",{children:[v("p",{className:"small text-muted mb-1",children:"Followers"}),v("p",{className:"mb-0",children:"8"})]})]}),v("div",{className:"d-flex pt-1"})]})]})})})})})})}):v("h5",{className:"text-muted",children:"Loading user profile..."})};let ll;const A3=new Uint8Array(16);function D3(){if(!ll&&(ll=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ll))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ll(A3)}const Xe=[];for(let t=0;t<256;++t)Xe.push((t+256).toString(16).slice(1));function M3(t,e=0){return(Xe[t[e+0]]+Xe[t[e+1]]+Xe[t[e+2]]+Xe[t[e+3]]+"-"+Xe[t[e+4]]+Xe[t[e+5]]+"-"+Xe[t[e+6]]+Xe[t[e+7]]+"-"+Xe[t[e+8]]+Xe[t[e+9]]+"-"+Xe[t[e+10]]+Xe[t[e+11]]+Xe[t[e+12]]+Xe[t[e+13]]+Xe[t[e+14]]+Xe[t[e+15]]).toLowerCase()}const L3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jy={randomUUID:L3};function pa(t,e,n){if(Jy.randomUUID&&!e&&!t)return Jy.randomUUID();t=t||{};const r=t.random||(t.rng||D3)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return M3(r)}const RS=({input:t,step:e})=>{const n=qn(),r=Gt(),[i]=Dr("/"),[s,o]=h.useState(!1),[a,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(null),[p,m]=h.useState([]),[g,E]=LF("/files/"+r.uid+"/"+pa()),[y]=Br("/closet");h.useEffect(()=>{E&&C()},[E]);const _=()=>new Promise(S=>setTimeout(S,1e3)),w=async()=>{const k=await(await fetch(t)).blob();return new File([k],"image.jpg",{type:k.type})},C=()=>{const S=y[r.uid],k=S[c],T=pa(),R={id:T,available:!0,weather:p,formality:d,url:E},b=k?{...k,[T]:R}:{[T]:R};c==="tops"?S.tops=b:c==="jackets"?S.jackets=b:c==="dresses"?S.dresses=b:c==="bottoms"?S.bottoms=b:c==="shoes"&&(S.shoes=b),i({["/closet/"+r.uid]:S}),s?(o(!1),e(0)):(l(!1),e(0),n("/"))},N=async S=>{if(p.length===0||!c||!d)return;S?o(!0):l(!0);const k=await w();k&&(g(k),await _())};return r?P(A,{className:"mt-2",children:[P(A,{children:[v("h5",{className:"link-upload-tag",children:"Category:"}),P(A,{className:"link-upload-category-container",children:[v(Te,{className:c==="tops"?"link-upload-button-active":"",onClick:()=>u("tops"),children:"Top"}),v(Te,{className:c==="jackets"?"link-upload-button-active":"",onClick:()=>u("jackets"),children:"Jacket"}),v(Te,{className:c==="bottoms"?"link-upload-button-active":"",onClick:()=>u("bottoms"),children:"Bottom"}),v(Te,{className:c==="shoes"?"link-upload-button-active":"",onClick:()=>u("shoes"),children:"Shoes"}),v(Te,{className:c==="dresses"?"link-upload-button-active":"",onClick:()=>u("dresses"),children:"Dress"})]})]}),P(A,{className:"mt-2",children:[v("h5",{className:"link-upload-tag",children:"I'll wear this when it's:"}),P(A,{className:"link-upload-weather-container",children:[v(Te,{className:p.includes("cold")?"link-upload-button-active":"",onClick:()=>{p.includes("cold")?m(p.filter(S=>S!=="cold")):m([...p,"cold"])},children:"Cold"}),v(Te,{className:p.includes("warm")?"link-upload-button-active":"",onClick:()=>{p.includes("warm")?m(p.filter(S=>S!=="warm")):m([...p,"warm"])},children:"Warm"}),v(Te,{className:p.includes("rainy")?"link-upload-button-active":"",onClick:()=>{p.includes("rainy")?m(p.filter(S=>S!=="rainy")):m([...p,"rainy"])},children:"Rainy"}),v(Te,{className:p.includes("sunny")?"link-upload-button-active":"",onClick:()=>{p.includes("sunny")?m(p.filter(S=>S!=="sunny")):m([...p,"sunny"])},children:"Sunny"})]})]}),P(A,{className:"mt-2",children:[v("h5",{className:"link-upload-tag",children:"I think this item is:"}),P(A,{className:"link-upload-weather-container",children:[v(Te,{className:d==="casual"?"link-upload-button-active":"",onClick:()=>f("casual"),children:"Casual"}),v(Te,{className:d==="formal"?"link-upload-button-active":"",onClick:()=>f("formal"),children:"Formal"})]})]}),P(A,{className:"mt-5 link-upload-buttons-container",children:[v(Te,{onClick:()=>N(!0),disabled:a||s,children:s?"Uploading...":"Add another Item"}),v(Te,{onClick:()=>N(!1),disabled:a||s,children:a?"Uploading...":"I'm done!"})]})]}):v("h5",{className:"text-muted",children:"Loading user profile..."})};var eh={},F3={get exports(){return eh},set exports(t){eh=t}};(function(t,e){(function(r,i){t.exports=i(h)})(AS,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)s.d(l,c,function(u){return o[u]}.bind(null,c));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var y in E)E.hasOwnProperty(y)&&(g[y]=E[y])},f(p,m)};return function(p,m){f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),l=function(){return l=Object.assign||function(f){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(f[E]=p[E])}return f},l.apply(this,arguments)},c=function(f,p){var m={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&p.indexOf(g)<0&&(m[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,g=Object.getOwnPropertySymbols(f);E<g.length;E++)p.indexOf(g[E])<0&&Object.prototype.propertyIsEnumerable.call(f,g[E])&&(m[g[E]]=f[g[E]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(g,E){m.call(navigator,p,g,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(f){a(p,f);function p(m){var g=f.call(this,m)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return p.prototype.componentDidMount=function(){var m=this,g=m.state,E=m.props;if(this.unmounted=!1,!u()){E.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),E.children&&typeof E.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var g=this.props;if(!u()){g.onUserMediaError("getUserMedia not supported");return}var E=JSON.stringify(m.audioConstraints)!==JSON.stringify(g.audioConstraints),y=JSON.stringify(m.videoConstraints)!==JSON.stringify(g.videoConstraints),_=m.minScreenshotWidth!==g.minScreenshotWidth,w=m.minScreenshotHeight!==g.minScreenshotHeight;(y||_||w)&&(this.canvas=null,this.ctx=null),(E||y)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(g){m.removeTrack(g),g.stop()}),m.getAudioTracks().map(function(g){m.removeTrack(g),g.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var g=this,E=g.state,y=g.props;if(!E.hasUserMedia)return null;var _=this.getCanvas(m);return _&&_.toDataURL(y.screenshotFormat,y.screenshotQuality)},p.prototype.getCanvas=function(m){var g=this,E=g.state,y=g.props;if(!this.video||!E.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var _=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var C=_/w;_=y.minScreenshotWidth||this.video.clientWidth,w=_/C,y.minScreenshotHeight&&w<y.minScreenshotHeight&&(w=y.minScreenshotHeight,_=w*C)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||_,this.canvas.height=(m==null?void 0:m.height)||w,this.ctx=this.canvas.getContext("2d")}var N=this,S=N.ctx,k=N.canvas;return S&&k&&(y.mirrored&&(S.translate(k.width,0),S.scale(-1,1)),S.imageSmoothingEnabled=y.imageSmoothing,S.drawImage(this.video,0,0,(m==null?void 0:m.width)||k.width,(m==null?void 0:m.height)||k.height),y.mirrored&&(S.scale(-1,1),S.translate(-k.width,0))),k},p.prototype.requestUserMedia=function(){var m=this,g=this.props,E=function(w,C){var N={video:typeof C<"u"?C:!0};g.audio&&(N.audio=typeof w<"u"?w:!0),m.requestUserMediaId++;var S=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(N).then(function(k){m.unmounted||S!==m.requestUserMediaId?p.stopMediaStream(k):m.handleUserMedia(null,k)}).catch(function(k){m.handleUserMedia(k)})};if("mediaDevices"in navigator)E(g.audioConstraints,g.videoConstraints);else{var y=function(w){return{optional:[{sourceId:w}]}},_=function(w){var C=w.deviceId;return typeof C=="string"?C:Array.isArray(C)&&C.length>0?C[0]:typeof C=="object"&&C.ideal?C.ideal:null};MediaStreamTrack.getSources(function(w){var C=null,N=null;w.forEach(function(T){T.kind==="audio"?C=T.id:T.kind==="video"&&(N=T.id)});var S=_(g.audioConstraints);S&&(C=S);var k=_(g.videoConstraints);k&&(N=k),E(y(C),y(N))})}},p.prototype.handleUserMedia=function(m,g){var E=this.props;if(m||!g){this.setState({hasUserMedia:!1}),E.onUserMediaError(m);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}E.onUserMedia(g)},p.prototype.render=function(){var m=this,g=this,E=g.state,y=g.props,_=y.audio;y.forceScreenshotSourceSize,y.onUserMedia,y.onUserMediaError,y.screenshotFormat,y.screenshotQuality,y.minScreenshotWidth,y.minScreenshotHeight,y.audioConstraints,y.videoConstraints,y.imageSmoothing;var w=y.mirrored,C=y.style,N=C===void 0?{}:C,S=y.children,k=c(y,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=w?l(l({},N),{transform:(N.transform||"")+" scaleX(-1)"}):N,R={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,src:E.src,muted:!_,playsInline:!0,ref:function(b){m.video=b},style:T},k)),S&&S(R))},p.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=d},react:function(r,i){r.exports=n}}).default})})(F3);const U3=th(eh),$3=({setImgBytes:t})=>{const e={facingMode:"environment"},n=I.useRef(null),r=I.useCallback(()=>{const i=n.current.getScreenshot();t(i)},[n]);return P(A,{className:"webcam-container",children:[v(A,{children:v(U3,{className:"webcam",audio:!1,ref:n,screenshotFormat:"image/jpeg",videoConstraints:e})}),v(A,{className:"mt-2",children:v($U,{size:34,onClick:r})})]})},B3=({step:t})=>{const[e,n]=h.useState(null);return P(A,{className:"mt-3",children:[v(A,{className:"mb-2",children:v(eu,{size:24,onClick:()=>t(0)})}),!e&&v($3,{setImgBytes:n}),e&&P(A,{children:[v(dS,{className:"add-image-camera",src:e,alt:"camera"}),v(RS,{input:e,step:t})]})]})},j3=({step:t})=>{const[e,n]=h.useState(null),[r,i]=h.useState(!0);return P(A,{className:"mt-3",children:[v(A,{className:"mb-2",children:v(eu,{size:24,onClick:()=>t(0)})}),P(A,{className:"mb-3",children:[v("h4",{className:"add-title",children:"Add via file upload"}),v(A,{className:"link-upload-form",children:v(Ic.Control,{type:"file",size:"sm",accept:"image/*",onChange:s=>n(URL.createObjectURL(s.target.files[0]))})})]}),e&&r&&v(A,{className:"add-image-container",children:v(dS,{className:"add-image",src:e,onError:()=>i(!1)})}),e&&!r&&v("h4",{className:"text-center text-muted",children:"Invalid Image"}),e&&r&&v(RS,{input:e,step:t})]})},z3=()=>{const[t,e]=h.useState(null),[n,r]=h.useState(0),i=()=>{e("camera"),r(1)},s=()=>{e("device"),r(1)};if(n===0)return P(A,{className:"upload-container",children:[P("h4",{className:"add-title",children:["Let's add ",v("br",{})," your clothes"]}),v("p",{className:"add-subtitle",children:"You can do this by taking photos of each piece, or adding a link to where you bought them from online"}),P(A,{className:"add-button-container",children:[v(Te,{className:"add-button",onClick:i,children:"Use Camera"}),v(Te,{className:"add-button",onClick:s,children:"Use File Upload"})]})]});if(n===1&&t==="device")return v(j3,{step:r});if(n===1&&t==="camera")return v(B3,{step:r})};function xS(t){return mt({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 7H3V2h1v5zm-1 7h1v-3H3v3zm5 0h1V8H8v6zm5 0h1v-2h-1v2zm1-12h-1v6h1V2zM9 2H8v2h1V2zM5 8H2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1zm5-3H7c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1zm5 4h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1z"}}]})(t)}const yd=({data:t,type:e,handleSelect:n,index:r,setShowAll:i})=>JSON.stringify(t)==="{}"?P(A,{className:"carousel-not-found-container",children:[P("h6",{className:"carousel-not-found-title",children:["No ",e," available for this type of weather/formality"]}),P("p",{onClick:()=>i(e),className:"carousel-not-found-link",children:["Click to see all ",e,"!"]})]}):v(A,{className:"carousel-container",children:v(Yy,{interval:null,indicators:!1,activeIndex:r,onSelect:n,children:Object.entries(t).map(([s,o])=>v(Yy.Item,{children:v("img",{src:o.url,alt:"Slide"})},s))})}),W3=({show:t,handleClose:e,formality:n,setFormality:r,weatherFilter:i,setWeatherFilter:s})=>v($e,{children:P(dn,{centered:!0,show:t,onHide:e,children:[v(dn.Header,{closeButton:!0,className:"modal-header",children:P(dn.Title,{className:"filter-modal-title",children:[v(xS,{size:28})," Filter"]})}),P(dn.Body,{className:"filter-modal-body",children:[v(A,{children:v("h6",{children:"Weather Filters:"})}),P(A,{children:[v(Te,{className:i==="today"?"filter-modal-button-active":"",onClick:()=>s("today"),children:"Outfits for today's weather"}),v(Te,{className:i==="warm"?"filter-modal-button-active":"",onClick:()=>s("warm"),children:"Outfits for warm weather"}),v(Te,{className:i==="cold"?"filter-modal-button-active":"",onClick:()=>s("cold"),children:"Outfits for cold weather"})]})]}),P(dn.Footer,{className:"filter-modal-footer",children:[v(A,{children:v("h6",{children:"Occasion Filters:"})}),v(A,{className:"build-header-toggle",children:P(qF,{className:"formality-toggle",children:[v(Xy,{id:"radio-formal-2",size:"sm",type:"radio",name:"radio",value:"formal",variant:n==="formal"?"dark":"light",checked:n==="formal",onChange:o=>r(o.currentTarget.value),children:"Formal"}),v(Xy,{id:"radio-casual-2",size:"sm",type:"radio",name:"radio",value:"casual",variant:n==="casual"?"dark":"light",checked:n==="casual",onChange:o=>r(o.currentTarget.value),children:"Casual"})]})})]})]})}),H3=()=>{const t=qn(),e=Gt(),[n]=Br("/closet"),[r]=Dr("/"),[i,s]=h.useState([]),[o,a]=h.useState(),[l,c]=h.useState(null),[u,d]=h.useState(null),[f,p]=h.useState(!1),[m,g]=h.useState(!1),[E,y]=h.useState(0),[_,w]=h.useState(0),[C,N]=h.useState(0),[S,k]=h.useState(null),[T,R]=h.useState(null),[b,x]=h.useState(null),[F,z]=h.useState(!1);h.useEffect(()=>{fetch(mS()).then(B=>B.json()).then(B=>{console.log(B),s(B.current_weather.temperature),a(B.current_weather.weathercode),H()}).catch(B=>console.error(B))},[l,u]),h.useEffect(()=>{n&&L()},[n,l,u]),h.useEffect(()=>{L()},[E,_,C]),h.useEffect(()=>{L()},[S,T,b]);const ee=()=>z(!1),J=()=>z(!0),H=()=>{if(l||c("casual"),u||d("today"),n){const B=n[e.uid].tops,ae=n[e.uid].bottoms,pe=n[e.uid].shoes;k(se(B,l)),R(se(ae,l)),x(se(pe,l))}},K=B=>{y(B)},O=B=>{w(B)},U=B=>{N(B)},L=()=>{if(q()){const B={tops:Object.values(S)[E],bottoms:Object.values(T)[_],shoes:Object.values(b)[C]};let ae=!1;Object.entries(n[e.uid].outfits).map(([pe,me])=>{B.bottoms.url===me.bottoms.url&&B.shoes.url===me.shoes.url&&B.tops.url===me.tops.url&&me.isFavorite&&(ae=!0,g(pe))}),p(ae)}},Q=()=>{if(f){const B=n[e.uid].outfits[m];r({["/closet/"+e.uid+"/outfits/"+m]:{...B,isFavorite:!1}}),p(!1)}else V(!0,!1)},V=(B=!1,ae=!0)=>{if(n){let pe=!1;const me={tops:Object.values(S)[E],bottoms:Object.values(T)[_],shoes:Object.values(b)[C]};if(n[e.uid].outfits&&Object.entries(n[e.uid].outfits).map(([ve,de])=>{me.bottoms.url===de.bottoms.url&&me.shoes.url===de.shoes.url&&me.tops.url===de.tops.url&&(pe=!0,r({["/closet/"+e.uid+"/outfits/"+ve]:{...de,times:ae?de.times+1:de.times,isFavorite:B}}),r({["/closet/"+e.uid+"/todays/"+ve]:{...de,times:ae?de.times+1:de.times,isFavorite:B}}),r({["/closet/"+e.uid+"/lastWorn"]:bc()}))}),!pe){const ve=pa();me.times=1,me.isFavorite=B,me.weather=Zf.get(o),r({["/closet/"+e.uid+"/outfits/"+ve]:me}),r({["/closet/"+e.uid+"/todays/"+ve]:me}),r({["/closet/"+e.uid+"/lastWorn"]:bc()})}ae&&t("/")}},se=(B,ae)=>{let pe=[];u==="today"?pe.push(Zf.get(o)):u==="warm"?(pe.push("warm"),pe.push("sunny")):u==="cold"&&(pe.push("cold"),pe.push("rainy"));let me=new Object;for(const ve in B)B[ve].weather.forEach(function(de,vt){pe.includes(de)&&B[ve].formality===ae&&(me[ve]=B[ve])});return me},te=B=>{B==="tops"&&k(n[e.uid].tops),B==="bottoms"&&R(n[e.uid].bottoms),B==="shoes"&&x(n[e.uid].shoes)},q=()=>!(!S||JSON.stringify(S)==="{}"||!T||JSON.stringify(T)==="{}"||!b||JSON.stringify(b)==="{}");return e?n?S?T?b?P(A,{className:"build-container",children:[v(A,{className:"build-back-arrow",children:v(eu,{size:20,onClick:()=>t("/")})}),P(A,{className:"build-header-container",children:[P(A,{className:"build-header-title",onClick:J,children:[v(xS,{size:28})," Filter"]}),v(A,{className:"build-header-weather",children:v(zm,{weather:i,weatherCode:o||0})})]}),v(A,{className:"build-header-filter-title",children:P("h6",{children:["You're seeing ",l," clothes for ",u," weather"]})}),P(A,{className:"build-clothes-container",children:[v(A,{className:"build-clothes-top",children:v(yd,{data:S,type:"tops",handleSelect:K,setShowAll:te,index:E})}),v(A,{className:"build-clothes-bottoms",children:v(yd,{data:T,type:"bottoms",handleSelect:O,setShowAll:te,index:_})}),v(A,{className:"build-clothes-shoes",children:v(yd,{data:b,type:"shoes",handleSelect:U,setShowAll:te,index:C})})]}),q()===!0&&P(A,{className:"build-button-container",children:[v(Te,{className:"build-btn",onClick:()=>V(),children:"I'll wear this today!"}),P(Te,{className:"build-btn-fav",variant:"light",onClick:()=>{Q()},children:[f?P($e,{children:[v(wE,{size:20}),"  Favorited"]}):P($e,{children:[v(EE,{size:20}),"  Favorite this look"]})," "]})]}),v(W3,{show:F,handleClose:ee,formality:l,setFormality:c,weatherFilter:u,setWeatherFilter:d})]}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user profile..."})},V3=()=>{const t=qn(),e=Gt(),{state:n}=Ca(),{closet:r,weather:i,weatherCode:s}=n,[o,a]=h.useState(null),[l,c]=h.useState(null),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,g]=h.useState(null),[E,y]=h.useState(null);h.useEffect(()=>{_()},[]);const _=()=>{const k=r[e.uid].tops,T=r[e.uid].bottoms,R=r[e.uid].shoes;p(w(k,"casual")),g(w(T,"casual")),y(w(R,"casual")),a(w(k,"formal")),c(w(T,"formal")),d(w(R,"formal"))},w=(k,T)=>{const R=Zf.get(s);let b=new Object;for(const x in k)k[x].weather.forEach(function(F,z){R===F&&k[x].formality===T&&(b[x]=k[x])});return b},C=()=>{let k=new Object;const T=Object.values(f).length,R=Object.values(m).length,b=Object.values(E).length;if(T===0||R===0||b===0)return{};for(let x=0;x<2;x++){const F=pa(),z=Math.floor(Math.random()*T),ee=Math.floor(Math.random()*R),J=Math.floor(Math.random()*b),H={tops:Object.values(f)[z],bottoms:Object.values(m)[ee],shoes:Object.values(E)[J],times:0,isFavorite:!1};k[F]=H}return k},N=()=>{let k=new Object;const T=Object.values(o).length,R=Object.values(l).length,b=Object.values(u).length;if(T===0||R===0||b===0)return{};for(let x=0;x<2;x++){const F=pa(),z=Math.floor(Math.random()*T),ee=Math.floor(Math.random()*R),J=Math.floor(Math.random()*b),H={tops:Object.values(o)[z],bottoms:Object.values(l)[ee],shoes:Object.values(u)[J],times:0,isFavorite:!1};k[F]=H}return k},S=()=>!!(f&&m&&E&&o&&l&&u);return e?r?S()?P(A,{className:"suggest-container",children:[v(A,{className:"build-back-arrow",children:v(eu,{size:20,onClick:()=>t("/")})}),P(A,{className:"home-header-container",children:[v(A,{className:"home-header-title",children:"Suggested by Category"}),v(A,{className:"home-header-weather",children:v(zm,{weather:i,weatherCode:s||0})})]}),P(A,{className:"suggest-casual-container",children:[v(A,{children:v("h6",{children:"Casual"})}),v(A,{children:v(Ti,{xs:2,md:2,children:Object.entries(C()).map(([k,T])=>v(Mr,{children:v(xs,{clothes:T,idx:k,modalShown:!0})},k))})})]}),P(A,{className:"suggest-formal-container",children:[v(A,{children:v("h6",{children:"Formal"})}),v(A,{children:v(Ti,{xs:2,md:2,children:Object.entries(N()).map(([k,T])=>v(Mr,{children:v(xs,{clothes:T,idx:k,modalShown:!0})},k))})})]})]}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user closet..."}):v("h5",{className:"text-muted",children:"Loading user profile..."})},G3=()=>{const t=Gt(),[e]=Br("/closet"),[n]=Dr("/");return h.useEffect(()=>{e&&e[t.uid].todays&&e[t.uid].lastWorn<bc()&&(n({["/closet/"+t.uid+"/todays/"]:null}),n({["/closet/"+t.uid+"/lastWorn"]:null}))},[e]),v(nI,{children:P(tI,{children:[v(Sn,{path:"/login",element:v(UU,{})}),v(Sn,{path:"/add",element:t?P($e,{children:[v(Vr,{}),v(z3,{}),v(Gr,{})]}):v(Hr,{replace:!0,to:"/login"})}),v(Sn,{path:"/",element:t?P($e,{children:[v(Vr,{}),v(YU,{}),v(Gr,{})]}):v(Hr,{replace:!0,to:"/login"})}),v(Sn,{path:"/build",element:t?P($e,{children:[v(Vr,{}),v(H3,{}),v(Gr,{})]}):v(Hr,{replace:!0,to:"/login"})}),v(Sn,{path:"/suggest",element:t?P($e,{children:[v(Vr,{}),v(V3,{}),v(Gr,{})]}):v(Hr,{replace:!0,to:"/login"})}),v(Sn,{path:"/outfits",element:t?P($e,{children:[v(Vr,{}),v(GU,{}),v(Gr,{})]}):v(Hr,{replace:!0,to:"/login"})}),v(Sn,{path:"/view-profile",element:t?P($e,{children:[v(Vr,{}),v(P3,{}),v(Gr,{})]}):v(Hr,{replace:!0,to:"/login"})}),v(Sn,{path:"/closet",element:t?P($e,{children:[v(Vr,{}),v(WU,{}),v(Gr,{})]}):v(Hr,{replace:!0,to:"/login"})})]})})};const K3=wd.createRoot(document.getElementById("root"));K3.render(v(I.StrictMode,{children:v(G3,{})}));
