function TS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eo={},kS={get exports(){return Eo},set exports(t){Eo=t}},Eu={},h={},NS={get exports(){return h},set exports(t){h=t}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),IS=Symbol.for("react.portal"),RS=Symbol.for("react.fragment"),bS=Symbol.for("react.strict_mode"),xS=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),PS=Symbol.for("react.context"),AS=Symbol.for("react.forward_ref"),DS=Symbol.for("react.suspense"),MS=Symbol.for("react.memo"),LS=Symbol.for("react.lazy"),Fm=Symbol.iterator;function US(t){return t===null||typeof t!="object"?null:(t=Fm&&t[Fm]||t["@@iterator"],typeof t=="function"?t:null)}var V_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G_=Object.assign,K_={};function gs(t,e,n){this.props=t,this.context=e,this.refs=K_,this.updater=n||V_}gs.prototype.isReactComponent={};gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q_(){}q_.prototype=gs.prototype;function Xf(t,e,n){this.props=t,this.context=e,this.refs=K_,this.updater=n||V_}var Jf=Xf.prototype=new q_;Jf.constructor=Xf;G_(Jf,gs.prototype);Jf.isPureReactComponent=!0;var $m=Array.isArray,Y_=Object.prototype.hasOwnProperty,Zf={current:null},Q_={key:!0,ref:!0,__self:!0,__source:!0};function X_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Y_.call(e,r)&&!Q_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ia,type:t,key:s,ref:o,props:i,_owner:Zf.current}}function FS(t,e){return{$$typeof:ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ia}function $S(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bm=/\/+/g;function mc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$S(""+t.key):e.toString(36)}function nl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ia:case IS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mc(o,0):r,$m(i)?(n="",t!=null&&(n=t.replace(Bm,"$&/")+"/"),nl(i,e,n,"",function(u){return u})):i!=null&&(eh(i)&&(i=FS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$m(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mc(s,a);o+=nl(s,e,n,l,i)}else if(l=US(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mc(s,a++),o+=nl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ba(t,e,n){if(t==null)return t;var r=[],i=0;return nl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function BS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},rl={transition:null},jS={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:rl,ReactCurrentOwner:Zf};le.Children={map:ba,forEach:function(t,e,n){ba(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ba(t,function(){e++}),e},toArray:function(t){return ba(t,function(e){return e})||[]},only:function(t){if(!eh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=gs;le.Fragment=RS;le.Profiler=xS;le.PureComponent=Xf;le.StrictMode=bS;le.Suspense=DS;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=G_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Y_.call(e,l)&&!Q_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ia,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:PS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OS,_context:t},t.Consumer=t};le.createElement=X_;le.createFactory=function(t){var e=X_.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:AS,render:t}};le.isValidElement=eh;le.lazy=function(t){return{$$typeof:LS,_payload:{_status:-1,_result:t},_init:BS}};le.memo=function(t,e){return{$$typeof:MS,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=rl.transition;rl.transition={};try{t()}finally{rl.transition=e}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(t,e){return dt.current.useCallback(t,e)};le.useContext=function(t){return dt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};le.useEffect=function(t,e){return dt.current.useEffect(t,e)};le.useId=function(){return dt.current.useId()};le.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return dt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};le.useRef=function(t){return dt.current.useRef(t)};le.useState=function(t){return dt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return dt.current.useTransition()};le.version="18.2.0";(function(t){t.exports=le})(NS);const x=Qf(h),pd=TS({__proto__:null,default:x},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS=h,WS=Symbol.for("react.element"),HS=Symbol.for("react.fragment"),VS=Object.prototype.hasOwnProperty,GS=zS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KS={key:!0,ref:!0,__self:!0,__source:!0};function J_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VS.call(e,r)&&!KS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WS,type:t,key:s,ref:o,props:i,_owner:GS.current}}Eu.Fragment=HS;Eu.jsx=J_;Eu.jsxs=J_;(function(t){t.exports=Eu})(kS);const ut=Eo.Fragment,C=Eo.jsx,H=Eo.jsxs;var md={},yl={},qS={get exports(){return yl},set exports(t){yl=t}},xt={},gd={},YS={get exports(){return gd},set exports(t){gd=t}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,F){var M=P.length;P.push(F);e:for(;0<M;){var z=M-1>>>1,G=P[z];if(0<i(G,F))P[z]=F,P[M]=G,M=z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var F=P[0],M=P.pop();if(M!==F){P[0]=M;e:for(var z=0,G=P.length,X=G>>>1;z<X;){var ne=2*(z+1)-1,Y=P[ne],fe=ne+1,ce=P[fe];if(0>i(Y,M))fe<G&&0>i(ce,Y)?(P[z]=ce,P[fe]=M,z=fe):(P[z]=Y,P[ne]=M,z=ne);else if(fe<G&&0>i(ce,M))P[z]=ce,P[fe]=M,z=fe;else break e}}return F}function i(P,F){var M=P.sortIndex-F.sortIndex;return M!==0?M:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=P)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function S(P){if(_=!1,w(P),!m)if(n(l)!==null)m=!0,A(I);else{var F=n(u);F!==null&&D(S,F.startTime-P)}}function I(P,F){m=!1,_&&(_=!1,g(T),T=-1),p=!0;var M=f;try{for(w(F),d=n(l);d!==null&&(!(d.expirationTime>F)||P&&!b());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var G=z(d.expirationTime<=F);F=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),w(F)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var ne=n(u);ne!==null&&D(S,ne.startTime-F),X=!1}return X}finally{d=null,f=M,p=!1}}var R=!1,y=null,T=-1,N=5,k=-1;function b(){return!(t.unstable_now()-k<N)}function O(){if(y!==null){var P=t.unstable_now();k=P;var F=!0;try{F=y(!0,P)}finally{F?L():(R=!1,y=null)}}else R=!1}var L;if(typeof v=="function")L=function(){v(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=O,L=function(){B.postMessage(null)}}else L=function(){E(O,0)};function A(P){y=P,R||(R=!0,L())}function D(P,F){T=E(function(){P(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(I))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var M=f;f=F;try{return P()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=f;f=P;try{return F()}finally{f=M}},t.unstable_scheduleCallback=function(P,F,M){var z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?z+M:z):M=z,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,P={id:c++,callback:F,priorityLevel:P,startTime:M,expirationTime:G,sortIndex:-1},M>z?(P.sortIndex=M,e(u,P),n(l)===null&&P===n(u)&&(_?(g(T),T=-1):_=!0,D(S,M-z))):(P.sortIndex=G,e(l,P),m||p||(m=!0,A(I))),P},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(P){var F=f;return function(){var M=f;f=F;try{return P.apply(this,arguments)}finally{f=M}}}})(Z_);(function(t){t.exports=Z_})(YS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=h,bt=gd;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ty=new Set,Co={};function fi(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(Co[t]=e,t=0;t<e.length;t++)ty.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=Object.prototype.hasOwnProperty,QS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},zm={};function XS(t){return vd.call(zm,t)?!0:vd.call(jm,t)?!1:QS.test(t)?zm[t]=!0:(jm[t]=!0,!1)}function JS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZS(t,e,n,r){if(e===null||typeof e>"u"||JS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var th=/[\-:]([a-z])/g;function nh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(th,nh);Xe[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(th,nh);Xe[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(th,nh);Xe[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function rh(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZS(e,n,i,r)&&(n=null),r||i===null?XS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xa=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),ny=Symbol.for("react.provider"),ry=Symbol.for("react.context"),sh=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),wd=Symbol.for("react.suspense_list"),oh=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),Wm=Symbol.iterator;function Ds(t){return t===null||typeof t!="object"?null:(t=Wm&&t[Wm]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,gc;function Qs(t){if(gc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gc=e&&e[1]||""}return`
`+gc+t}var vc=!1;function _c(t,e){if(!t||vc)return"";vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function eT(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=_c(t.type,!1),t;case 11:return t=_c(t.type.render,!1),t;case 1:return t=_c(t.type,!0),t;default:return""}}function Ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Ii:return"Portal";case _d:return"Profiler";case ih:return"StrictMode";case yd:return"Suspense";case wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ry:return(t.displayName||"Context")+".Consumer";case ny:return(t._context.displayName||"Context")+".Provider";case sh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oh:return e=t.displayName||null,e!==null?e:Ed(t.type)||"Memo";case qn:e=t._payload,t=t._init;try{return Ed(t(e))}catch{}}return null}function tT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ed(e);case 8:return e===ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nT(t){var e=sy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oa(t){t._valueTracker||(t._valueTracker=nT(t))}function oy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cd(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ay(t,e){e=e.checked,e!=null&&rh(t,"checked",e,!1)}function Sd(t,e){ay(t,e);var n=yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Td(t,e.type,n):e.hasOwnProperty("defaultValue")&&Td(t,e.type,yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Td(t,e,n){(e!=="number"||wl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xs=Array.isArray;function ji(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Xs(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yr(n)}}function ly(t,e){var n=yr(e.value),r=yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Km(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pa,cy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pa=Pa||document.createElement("div"),Pa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function So(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rT=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(t){rT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),to[e]=to[t]})});function dy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||to.hasOwnProperty(t)&&to[t]?(""+e).trim():e+"px"}function fy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iT=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Id(t,e){if(e){if(iT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=null;function ah(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xd=null,zi=null,Wi=null;function qm(t){if(t=aa(t)){if(typeof xd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Nu(e),xd(t.stateNode,t.type,e))}}function hy(t){zi?Wi?Wi.push(t):Wi=[t]:zi=t}function py(){if(zi){var t=zi,e=Wi;if(Wi=zi=null,qm(t),e)for(t=0;t<e.length;t++)qm(e[t])}}function my(t,e){return t(e)}function gy(){}var yc=!1;function vy(t,e,n){if(yc)return t(e,n);yc=!0;try{return my(t,e,n)}finally{yc=!1,(zi!==null||Wi!==null)&&(gy(),py())}}function To(t,e){var n=t.stateNode;if(n===null)return null;var r=Nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Od=!1;if(Pn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Od=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Od=!1}function sT(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var no=!1,El=null,Cl=!1,Pd=null,oT={onError:function(t){no=!0,El=t}};function aT(t,e,n,r,i,s,o,a,l){no=!1,El=null,sT.apply(oT,arguments)}function lT(t,e,n,r,i,s,o,a,l){if(aT.apply(this,arguments),no){if(no){var u=El;no=!1,El=null}else throw Error(U(198));Cl||(Cl=!0,Pd=u)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ym(t){if(hi(t)!==t)throw Error(U(188))}function uT(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ym(i),t;if(s===r)return Ym(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function yy(t){return t=uT(t),t!==null?wy(t):null}function wy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wy(t);if(e!==null)return e;t=t.sibling}return null}var Ey=bt.unstable_scheduleCallback,Qm=bt.unstable_cancelCallback,cT=bt.unstable_shouldYield,dT=bt.unstable_requestPaint,Ae=bt.unstable_now,fT=bt.unstable_getCurrentPriorityLevel,lh=bt.unstable_ImmediatePriority,Cy=bt.unstable_UserBlockingPriority,Sl=bt.unstable_NormalPriority,hT=bt.unstable_LowPriority,Sy=bt.unstable_IdlePriority,Cu=null,an=null;function pT(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Cu,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:vT,mT=Math.log,gT=Math.LN2;function vT(t){return t>>>=0,t===0?32:31-(mT(t)/gT|0)|0}var Aa=64,Da=4194304;function Js(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Js(a):(s&=o,s!==0&&(r=Js(s)))}else o=n&~i,o!==0?r=Js(o):s!==0&&(r=Js(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function _T(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_T(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ty(){var t=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),t}function wc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function wT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function uh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var he=0;function ky(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ny,ch,Iy,Ry,by,Dd=!1,Ma=[],ar=null,lr=null,ur=null,ko=new Map,No=new Map,Xn=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xm(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function Ls(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=aa(e),e!==null&&ch(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CT(t,e,n,r,i){switch(e){case"focusin":return ar=Ls(ar,t,e,n,r,i),!0;case"dragenter":return lr=Ls(lr,t,e,n,r,i),!0;case"mouseover":return ur=Ls(ur,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ko.set(s,Ls(ko.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,No.set(s,Ls(No.get(s)||null,t,e,n,r,i)),!0}return!1}function xy(t){var e=Ur(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=_y(n),e!==null){t.blockedOn=e,by(t.priority,function(){Iy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Md(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bd=r,n.target.dispatchEvent(r),bd=null}else return e=aa(n),e!==null&&ch(e),t.blockedOn=n,!1;e.shift()}return!0}function Jm(t,e,n){il(t)&&n.delete(e)}function ST(){Dd=!1,ar!==null&&il(ar)&&(ar=null),lr!==null&&il(lr)&&(lr=null),ur!==null&&il(ur)&&(ur=null),ko.forEach(Jm),No.forEach(Jm)}function Us(t,e){t.blockedOn===e&&(t.blockedOn=null,Dd||(Dd=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,ST)))}function Io(t){function e(i){return Us(i,t)}if(0<Ma.length){Us(Ma[0],t);for(var n=1;n<Ma.length;n++){var r=Ma[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ar!==null&&Us(ar,t),lr!==null&&Us(lr,t),ur!==null&&Us(ur,t),ko.forEach(e),No.forEach(e),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)xy(n),n.blockedOn===null&&Xn.shift()}var Hi=jn.ReactCurrentBatchConfig,kl=!0;function TT(t,e,n,r){var i=he,s=Hi.transition;Hi.transition=null;try{he=1,dh(t,e,n,r)}finally{he=i,Hi.transition=s}}function kT(t,e,n,r){var i=he,s=Hi.transition;Hi.transition=null;try{he=4,dh(t,e,n,r)}finally{he=i,Hi.transition=s}}function dh(t,e,n,r){if(kl){var i=Md(t,e,n,r);if(i===null)xc(t,e,r,Nl,n),Xm(t,r);else if(CT(i,t,e,n,r))r.stopPropagation();else if(Xm(t,r),e&4&&-1<ET.indexOf(t)){for(;i!==null;){var s=aa(i);if(s!==null&&Ny(s),s=Md(t,e,n,r),s===null&&xc(t,e,r,Nl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xc(t,e,r,null,n)}}var Nl=null;function Md(t,e,n,r){if(Nl=null,t=ah(r),t=Ur(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_y(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nl=t,null}function Oy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fT()){case lh:return 1;case Cy:return 4;case Sl:case hT:return 16;case Sy:return 536870912;default:return 16}default:return 16}}var rr=null,fh=null,sl=null;function Py(){if(sl)return sl;var t,e=fh,n=e.length,r,i="value"in rr?rr.value:rr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sl=i.slice(t,1<r?1-r:void 0)}function ol(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function La(){return!0}function Zm(){return!1}function Ot(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?La:Zm,this.isPropagationStopped=Zm,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=Ot(vs),oa=Ie({},vs,{view:0,detail:0}),NT=Ot(oa),Ec,Cc,Fs,Su=Ie({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fs&&(Fs&&t.type==="mousemove"?(Ec=t.screenX-Fs.screenX,Cc=t.screenY-Fs.screenY):Cc=Ec=0,Fs=t),Ec)},movementY:function(t){return"movementY"in t?t.movementY:Cc}}),eg=Ot(Su),IT=Ie({},Su,{dataTransfer:0}),RT=Ot(IT),bT=Ie({},oa,{relatedTarget:0}),Sc=Ot(bT),xT=Ie({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),OT=Ot(xT),PT=Ie({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AT=Ot(PT),DT=Ie({},vs,{data:0}),tg=Ot(DT),MT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UT[t])?!!e[t]:!1}function ph(){return FT}var $T=Ie({},oa,{key:function(t){if(t.key){var e=MT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ol(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(t){return t.type==="keypress"?ol(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ol(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BT=Ot($T),jT=Ie({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ng=Ot(jT),zT=Ie({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),WT=Ot(zT),HT=Ie({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),VT=Ot(HT),GT=Ie({},Su,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KT=Ot(GT),qT=[9,13,27,32],mh=Pn&&"CompositionEvent"in window,ro=null;Pn&&"documentMode"in document&&(ro=document.documentMode);var YT=Pn&&"TextEvent"in window&&!ro,Ay=Pn&&(!mh||ro&&8<ro&&11>=ro),rg=String.fromCharCode(32),ig=!1;function Dy(t,e){switch(t){case"keyup":return qT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function QT(t,e){switch(t){case"compositionend":return My(e);case"keypress":return e.which!==32?null:(ig=!0,rg);case"textInput":return t=e.data,t===rg&&ig?null:t;default:return null}}function XT(t,e){if(bi)return t==="compositionend"||!mh&&Dy(t,e)?(t=Py(),sl=fh=rr=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ay&&e.locale!=="ko"?null:e.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JT[t.type]:e==="textarea"}function Ly(t,e,n,r){hy(r),e=Il(e,"onChange"),0<e.length&&(n=new hh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var io=null,Ro=null;function ZT(t){Ky(t,0)}function Tu(t){var e=Pi(t);if(oy(e))return t}function ek(t,e){if(t==="change")return e}var Uy=!1;if(Pn){var Tc;if(Pn){var kc="oninput"in document;if(!kc){var og=document.createElement("div");og.setAttribute("oninput","return;"),kc=typeof og.oninput=="function"}Tc=kc}else Tc=!1;Uy=Tc&&(!document.documentMode||9<document.documentMode)}function ag(){io&&(io.detachEvent("onpropertychange",Fy),Ro=io=null)}function Fy(t){if(t.propertyName==="value"&&Tu(Ro)){var e=[];Ly(e,Ro,t,ah(t)),vy(ZT,e)}}function tk(t,e,n){t==="focusin"?(ag(),io=e,Ro=n,io.attachEvent("onpropertychange",Fy)):t==="focusout"&&ag()}function nk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Ro)}function rk(t,e){if(t==="click")return Tu(e)}function ik(t,e){if(t==="input"||t==="change")return Tu(e)}function sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:sk;function bo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vd.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,e){var n=lg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lg(n)}}function $y(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$y(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function By(){for(var t=window,e=wl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wl(t.document)}return e}function gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ok(t){var e=By(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$y(n.ownerDocument.documentElement,n)){if(r!==null&&gh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ug(n,s);var o=ug(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ak=Pn&&"documentMode"in document&&11>=document.documentMode,xi=null,Ld=null,so=null,Ud=!1;function cg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ud||xi==null||xi!==wl(r)||(r=xi,"selectionStart"in r&&gh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&bo(so,r)||(so=r,r=Il(Ld,"onSelect"),0<r.length&&(e=new hh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xi)))}function Ua(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oi={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Nc={},jy={};Pn&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function ku(t){if(Nc[t])return Nc[t];if(!Oi[t])return t;var e=Oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jy)return Nc[t]=e[n];return t}var zy=ku("animationend"),Wy=ku("animationiteration"),Hy=ku("animationstart"),Vy=ku("transitionend"),Gy=new Map,dg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){Gy.set(t,e),fi(e,[t])}for(var Ic=0;Ic<dg.length;Ic++){var Rc=dg[Ic],lk=Rc.toLowerCase(),uk=Rc[0].toUpperCase()+Rc.slice(1);kr(lk,"on"+uk)}kr(zy,"onAnimationEnd");kr(Wy,"onAnimationIteration");kr(Hy,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Vy,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function fg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lT(r,e,void 0,t),t.currentTarget=null}function Ky(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fg(i,a,u),s=l}}}if(Cl)throw t=Pd,Cl=!1,Pd=null,t}function we(t,e){var n=e[zd];n===void 0&&(n=e[zd]=new Set);var r=t+"__bubble";n.has(r)||(qy(e,t,2,!1),n.add(r))}function bc(t,e,n){var r=0;e&&(r|=4),qy(n,t,r,e)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function xo(t){if(!t[Fa]){t[Fa]=!0,ty.forEach(function(n){n!=="selectionchange"&&(ck.has(n)||bc(n,!1,t),bc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fa]||(e[Fa]=!0,bc("selectionchange",!1,e))}}function qy(t,e,n,r){switch(Oy(e)){case 1:var i=TT;break;case 4:i=kT;break;default:i=dh}n=i.bind(null,e,n,t),i=void 0,!Od||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ur(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vy(function(){var u=s,c=ah(n),d=[];e:{var f=Gy.get(t);if(f!==void 0){var p=hh,m=t;switch(t){case"keypress":if(ol(n)===0)break e;case"keydown":case"keyup":p=BT;break;case"focusin":m="focus",p=Sc;break;case"focusout":m="blur",p=Sc;break;case"beforeblur":case"afterblur":p=Sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WT;break;case zy:case Wy:case Hy:p=OT;break;case Vy:p=VT;break;case"scroll":p=NT;break;case"wheel":p=KT;break;case"copy":case"cut":case"paste":p=AT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ng}var _=(e&4)!==0,E=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=To(v,g),S!=null&&_.push(Oo(v,S,w)))),E)break;v=v.return}0<_.length&&(f=new p(f,m,null,n,c),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==bd&&(m=n.relatedTarget||n.fromElement)&&(Ur(m)||m[An]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ur(m):null,m!==null&&(E=hi(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(_=eg,S="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=ng,S="onPointerLeave",g="onPointerEnter",v="pointer"),E=p==null?f:Pi(p),w=m==null?f:Pi(m),f=new _(S,v+"leave",p,n,c),f.target=E,f.relatedTarget=w,S=null,Ur(c)===u&&(_=new _(g,v+"enter",m,n,c),_.target=w,_.relatedTarget=E,S=_),E=S,p&&m)t:{for(_=p,g=m,v=0,w=_;w;w=yi(w))v++;for(w=0,S=g;S;S=yi(S))w++;for(;0<v-w;)_=yi(_),v--;for(;0<w-v;)g=yi(g),w--;for(;v--;){if(_===g||g!==null&&_===g.alternate)break t;_=yi(_),g=yi(g)}_=null}else _=null;p!==null&&hg(d,f,p,_,!1),m!==null&&E!==null&&hg(d,E,m,_,!0)}}e:{if(f=u?Pi(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=ek;else if(sg(f))if(Uy)I=ik;else{I=nk;var R=tk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=rk);if(I&&(I=I(t,u))){Ly(d,I,n,c);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Td(f,"number",f.value)}switch(R=u?Pi(u):window,t){case"focusin":(sg(R)||R.contentEditable==="true")&&(xi=R,Ld=u,so=null);break;case"focusout":so=Ld=xi=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,cg(d,n,c);break;case"selectionchange":if(ak)break;case"keydown":case"keyup":cg(d,n,c)}var y;if(mh)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else bi?Dy(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ay&&n.locale!=="ko"&&(bi||T!=="onCompositionStart"?T==="onCompositionEnd"&&bi&&(y=Py()):(rr=c,fh="value"in rr?rr.value:rr.textContent,bi=!0)),R=Il(u,T),0<R.length&&(T=new tg(T,t,null,n,c),d.push({event:T,listeners:R}),y?T.data=y:(y=My(n),y!==null&&(T.data=y)))),(y=YT?QT(t,n):XT(t,n))&&(u=Il(u,"onBeforeInput"),0<u.length&&(c=new tg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=y))}Ky(d,e)})}function Oo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Il(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=To(t,n),s!=null&&r.unshift(Oo(t,s,i)),s=To(t,e),s!=null&&r.push(Oo(t,s,i))),t=t.return}return r}function yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=To(n,s),l!=null&&o.unshift(Oo(n,l,a))):i||(l=To(n,s),l!=null&&o.push(Oo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dk=/\r\n?/g,fk=/\u0000|\uFFFD/g;function pg(t){return(typeof t=="string"?t:""+t).replace(dk,`
`).replace(fk,"")}function $a(t,e,n){if(e=pg(e),pg(t)!==e&&n)throw Error(U(425))}function Rl(){}var Fd=null,$d=null;function Bd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,hk=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,pk=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(t){return mg.resolve(null).then(t).catch(mk)}:jd;function mk(t){setTimeout(function(){throw t})}function Oc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Io(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Io(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),sn="__reactFiber$"+_s,Po="__reactProps$"+_s,An="__reactContainer$"+_s,zd="__reactEvents$"+_s,gk="__reactListeners$"+_s,vk="__reactHandles$"+_s;function Ur(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gg(t);t!==null;){if(n=t[sn])return n;t=gg(t)}return e}t=n,n=t.parentNode}return null}function aa(t){return t=t[sn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Nu(t){return t[Po]||null}var Wd=[],Ai=-1;function Nr(t){return{current:t}}function Ee(t){0>Ai||(t.current=Wd[Ai],Wd[Ai]=null,Ai--)}function ye(t,e){Ai++,Wd[Ai]=t.current,t.current=e}var wr={},rt=Nr(wr),yt=Nr(!1),Xr=wr;function es(t,e){var n=t.type.contextTypes;if(!n)return wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function bl(){Ee(yt),Ee(rt)}function vg(t,e,n){if(rt.current!==wr)throw Error(U(168));ye(rt,e),ye(yt,n)}function Yy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,tT(t)||"Unknown",i));return Ie({},n,r)}function xl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,Xr=rt.current,ye(rt,t),ye(yt,yt.current),!0}function _g(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Yy(t,e,Xr),r.__reactInternalMemoizedMergedChildContext=t,Ee(yt),Ee(rt),ye(rt,t)):Ee(yt),ye(yt,n)}var yn=null,Iu=!1,Pc=!1;function Qy(t){yn===null?yn=[t]:yn.push(t)}function _k(t){Iu=!0,Qy(t)}function Ir(){if(!Pc&&yn!==null){Pc=!0;var t=0,e=he;try{var n=yn;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yn=null,Iu=!1}catch(i){throw yn!==null&&(yn=yn.slice(t+1)),Ey(lh,Ir),i}finally{he=e,Pc=!1}}return null}var Di=[],Mi=0,Ol=null,Pl=0,At=[],Dt=0,Jr=null,Sn=1,Tn="";function Pr(t,e){Di[Mi++]=Pl,Di[Mi++]=Ol,Ol=t,Pl=e}function Xy(t,e,n){At[Dt++]=Sn,At[Dt++]=Tn,At[Dt++]=Jr,Jr=t;var r=Sn;t=Tn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sn=1<<32-Jt(e)+i|n<<i|r,Tn=s+t}else Sn=1<<s|n<<i|r,Tn=t}function vh(t){t.return!==null&&(Pr(t,1),Xy(t,1,0))}function _h(t){for(;t===Ol;)Ol=Di[--Mi],Di[Mi]=null,Pl=Di[--Mi],Di[Mi]=null;for(;t===Jr;)Jr=At[--Dt],At[Dt]=null,Tn=At[--Dt],At[Dt]=null,Sn=At[--Dt],At[Dt]=null}var Rt=null,Nt=null,Te=!1,Kt=null;function Jy(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,Nt=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jr!==null?{id:Sn,overflow:Tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rt=t,Nt=null,!0):!1;default:return!1}}function Hd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vd(t){if(Te){var e=Nt;if(e){var n=e;if(!yg(t,e)){if(Hd(t))throw Error(U(418));e=cr(n.nextSibling);var r=Rt;e&&yg(t,e)?Jy(r,n):(t.flags=t.flags&-4097|2,Te=!1,Rt=t)}}else{if(Hd(t))throw Error(U(418));t.flags=t.flags&-4097|2,Te=!1,Rt=t}}}function wg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function Ba(t){if(t!==Rt)return!1;if(!Te)return wg(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bd(t.type,t.memoizedProps)),e&&(e=Nt)){if(Hd(t))throw Zy(),Error(U(418));for(;e;)Jy(t,e),e=cr(e.nextSibling)}if(wg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Rt?cr(t.stateNode.nextSibling):null;return!0}function Zy(){for(var t=Nt;t;)t=cr(t.nextSibling)}function ts(){Nt=Rt=null,Te=!1}function yh(t){Kt===null?Kt=[t]:Kt.push(t)}var yk=jn.ReactCurrentBatchConfig;function Vt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Al=Nr(null),Dl=null,Li=null,wh=null;function Eh(){wh=Li=Dl=null}function Ch(t){var e=Al.current;Ee(Al),t._currentValue=e}function Gd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vi(t,e){Dl=t,wh=Li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(wh!==t)if(t={context:t,memoizedValue:e,next:null},Li===null){if(Dl===null)throw Error(U(308));Li=t,Dl.dependencies={lanes:0,firstContext:t}}else Li=Li.next=t;return e}var Fr=null;function Sh(t){Fr===null?Fr=[t]:Fr.push(t)}function e0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dn(t,r)}function Dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yn=!1;function Th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dn(t,n)}return i=r.interleaved,i===null?(e.next=e,Sh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dn(t,n)}function al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uh(t,n)}}function Eg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ml(t,e,n,r){var i=t.updateQueue;Yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(f=e,p=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Ie({},d,f);break e;case 2:Yn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ei|=o,t.lanes=o,t.memoizedState=d}}function Cg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var n0=new ey.Component().refs;function Kd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ru={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ct(),i=hr(t),s=Rn(r,i);s.payload=e,n!=null&&(s.callback=n),e=dr(t,s,i),e!==null&&(Zt(e,t,i,r),al(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ct(),i=hr(t),s=Rn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=dr(t,s,i),e!==null&&(Zt(e,t,i,r),al(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),r=hr(t),i=Rn(n,r);i.tag=2,e!=null&&(i.callback=e),e=dr(t,i,r),e!==null&&(Zt(e,t,r,n),al(e,t,r))}};function Sg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bo(n,r)||!bo(i,s):!0}function r0(t,e,n){var r=!1,i=wr,s=e.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(i=wt(e)?Xr:rt.current,r=e.contextTypes,s=(r=r!=null)?es(t,i):wr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ru,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ru.enqueueReplaceState(e,e.state,null)}function qd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=n0,Th(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ft(s):(s=wt(e)?Xr:rt.current,i.context=es(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ru.enqueueReplaceState(i,i.state,null),Ml(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===n0&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function ja(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kg(t){var e=t._init;return e(t._payload)}function i0(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=pr(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,S){return v===null||v.tag!==6?(v=$c(w,g.mode,S),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,S){var I=w.type;return I===Ri?c(g,v,w.props.children,S,w.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qn&&kg(I)===v.type)?(S=i(v,w.props),S.ref=$s(g,v,w),S.return=g,S):(S=hl(w.type,w.key,w.props,null,g.mode,S),S.ref=$s(g,v,w),S.return=g,S)}function u(g,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Bc(w,g.mode,S),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,S,I){return v===null||v.tag!==7?(v=Vr(w,g.mode,S,I),v.return=g,v):(v=i(v,w),v.return=g,v)}function d(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$c(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xa:return w=hl(v.type,v.key,v.props,null,g.mode,w),w.ref=$s(g,null,v),w.return=g,w;case Ii:return v=Bc(v,g.mode,w),v.return=g,v;case qn:var S=v._init;return d(g,S(v._payload),w)}if(Xs(v)||Ds(v))return v=Vr(v,g.mode,w,null),v.return=g,v;ja(g,v)}return null}function f(g,v,w,S){var I=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:a(g,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xa:return w.key===I?l(g,v,w,S):null;case Ii:return w.key===I?u(g,v,w,S):null;case qn:return I=w._init,f(g,v,I(w._payload),S)}if(Xs(w)||Ds(w))return I!==null?null:c(g,v,w,S,null);ja(g,w)}return null}function p(g,v,w,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,a(v,g,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xa:return g=g.get(S.key===null?w:S.key)||null,l(v,g,S,I);case Ii:return g=g.get(S.key===null?w:S.key)||null,u(v,g,S,I);case qn:var R=S._init;return p(g,v,w,R(S._payload),I)}if(Xs(S)||Ds(S))return g=g.get(w)||null,c(v,g,S,I,null);ja(v,S)}return null}function m(g,v,w,S){for(var I=null,R=null,y=v,T=v=0,N=null;y!==null&&T<w.length;T++){y.index>T?(N=y,y=null):N=y.sibling;var k=f(g,y,w[T],S);if(k===null){y===null&&(y=N);break}t&&y&&k.alternate===null&&e(g,y),v=s(k,v,T),R===null?I=k:R.sibling=k,R=k,y=N}if(T===w.length)return n(g,y),Te&&Pr(g,T),I;if(y===null){for(;T<w.length;T++)y=d(g,w[T],S),y!==null&&(v=s(y,v,T),R===null?I=y:R.sibling=y,R=y);return Te&&Pr(g,T),I}for(y=r(g,y);T<w.length;T++)N=p(y,g,T,w[T],S),N!==null&&(t&&N.alternate!==null&&y.delete(N.key===null?T:N.key),v=s(N,v,T),R===null?I=N:R.sibling=N,R=N);return t&&y.forEach(function(b){return e(g,b)}),Te&&Pr(g,T),I}function _(g,v,w,S){var I=Ds(w);if(typeof I!="function")throw Error(U(150));if(w=I.call(w),w==null)throw Error(U(151));for(var R=I=null,y=v,T=v=0,N=null,k=w.next();y!==null&&!k.done;T++,k=w.next()){y.index>T?(N=y,y=null):N=y.sibling;var b=f(g,y,k.value,S);if(b===null){y===null&&(y=N);break}t&&y&&b.alternate===null&&e(g,y),v=s(b,v,T),R===null?I=b:R.sibling=b,R=b,y=N}if(k.done)return n(g,y),Te&&Pr(g,T),I;if(y===null){for(;!k.done;T++,k=w.next())k=d(g,k.value,S),k!==null&&(v=s(k,v,T),R===null?I=k:R.sibling=k,R=k);return Te&&Pr(g,T),I}for(y=r(g,y);!k.done;T++,k=w.next())k=p(y,g,T,k.value,S),k!==null&&(t&&k.alternate!==null&&y.delete(k.key===null?T:k.key),v=s(k,v,T),R===null?I=k:R.sibling=k,R=k);return t&&y.forEach(function(O){return e(g,O)}),Te&&Pr(g,T),I}function E(g,v,w,S){if(typeof w=="object"&&w!==null&&w.type===Ri&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xa:e:{for(var I=w.key,R=v;R!==null;){if(R.key===I){if(I=w.type,I===Ri){if(R.tag===7){n(g,R.sibling),v=i(R,w.props.children),v.return=g,g=v;break e}}else if(R.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qn&&kg(I)===R.type){n(g,R.sibling),v=i(R,w.props),v.ref=$s(g,R,w),v.return=g,g=v;break e}n(g,R);break}else e(g,R);R=R.sibling}w.type===Ri?(v=Vr(w.props.children,g.mode,S,w.key),v.return=g,g=v):(S=hl(w.type,w.key,w.props,null,g.mode,S),S.ref=$s(g,v,w),S.return=g,g=S)}return o(g);case Ii:e:{for(R=w.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Bc(w,g.mode,S),v.return=g,g=v}return o(g);case qn:return R=w._init,E(g,v,R(w._payload),S)}if(Xs(w))return m(g,v,w,S);if(Ds(w))return _(g,v,w,S);ja(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=$c(w,g.mode,S),v.return=g,g=v),o(g)):n(g,v)}return E}var ns=i0(!0),s0=i0(!1),la={},ln=Nr(la),Ao=Nr(la),Do=Nr(la);function $r(t){if(t===la)throw Error(U(174));return t}function kh(t,e){switch(ye(Do,e),ye(Ao,t),ye(ln,la),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nd(e,t)}Ee(ln),ye(ln,e)}function rs(){Ee(ln),Ee(Ao),Ee(Do)}function o0(t){$r(Do.current);var e=$r(ln.current),n=Nd(e,t.type);e!==n&&(ye(Ao,t),ye(ln,n))}function Nh(t){Ao.current===t&&(Ee(ln),Ee(Ao))}var ke=Nr(0);function Ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ac=[];function Ih(){for(var t=0;t<Ac.length;t++)Ac[t]._workInProgressVersionPrimary=null;Ac.length=0}var ll=jn.ReactCurrentDispatcher,Dc=jn.ReactCurrentBatchConfig,Zr=0,Ne=null,Ue=null,je=null,Ul=!1,oo=!1,Mo=0,wk=0;function et(){throw Error(U(321))}function Rh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function bh(t,e,n,r,i,s){if(Zr=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ll.current=t===null||t.memoizedState===null?Tk:kk,t=n(r,i),oo){s=0;do{if(oo=!1,Mo=0,25<=s)throw Error(U(301));s+=1,je=Ue=null,e.updateQueue=null,ll.current=Nk,t=n(r,i)}while(oo)}if(ll.current=Fl,e=Ue!==null&&Ue.next!==null,Zr=0,je=Ue=Ne=null,Ul=!1,e)throw Error(U(300));return t}function xh(){var t=Mo!==0;return Mo=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ne.memoizedState=je=t:je=je.next=t,je}function $t(){if(Ue===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=je===null?Ne.memoizedState:je.next;if(e!==null)je=e,Ue=t;else{if(t===null)throw Error(U(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},je===null?Ne.memoizedState=je=t:je=je.next=t}return je}function Lo(t,e){return typeof e=="function"?e(t):e}function Mc(t){var e=$t(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ne.lanes|=c,ei|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tn(r,e.memoizedState)||(gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,ei|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lc(t){var e=$t(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tn(s,e.memoizedState)||(gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function a0(){}function l0(t,e){var n=Ne,r=$t(),i=e(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,gt=!0),r=r.queue,Oh(d0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Uo(9,c0.bind(null,n,r,i,e),void 0,null),He===null)throw Error(U(349));Zr&30||u0(n,e,i)}return i}function u0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c0(t,e,n,r){e.value=n,e.getSnapshot=r,f0(e)&&h0(t)}function d0(t,e,n){return n(function(){f0(e)&&h0(t)})}function f0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function h0(t){var e=Dn(t,1);e!==null&&Zt(e,t,1,-1)}function Ng(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:t},e.queue=t,t=t.dispatch=Sk.bind(null,Ne,t),[e.memoizedState,t]}function Uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p0(){return $t().memoizedState}function ul(t,e,n,r){var i=rn();Ne.flags|=t,i.memoizedState=Uo(1|e,n,void 0,r===void 0?null:r)}function bu(t,e,n,r){var i=$t();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Rh(r,o.deps)){i.memoizedState=Uo(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Uo(1|e,n,s,r)}function Ig(t,e){return ul(8390656,8,t,e)}function Oh(t,e){return bu(2048,8,t,e)}function m0(t,e){return bu(4,2,t,e)}function g0(t,e){return bu(4,4,t,e)}function v0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _0(t,e,n){return n=n!=null?n.concat([t]):null,bu(4,4,v0.bind(null,e,t),n)}function Ph(){}function y0(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w0(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E0(t,e,n){return Zr&21?(tn(n,e)||(n=Ty(),Ne.lanes|=n,ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=n)}function Ek(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=Dc.transition;Dc.transition={};try{t(!1),e()}finally{he=n,Dc.transition=r}}function C0(){return $t().memoizedState}function Ck(t,e,n){var r=hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S0(t))T0(e,n);else if(n=e0(t,e,n,r),n!==null){var i=ct();Zt(n,t,r,i),k0(n,e,r)}}function Sk(t,e,n){var r=hr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S0(t))T0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(i.next=i,Sh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=e0(t,e,i,r),n!==null&&(i=ct(),Zt(n,t,r,i),k0(n,e,r))}}function S0(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function T0(t,e){oo=Ul=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function k0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uh(t,n)}}var Fl={readContext:Ft,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Tk={readContext:Ft,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:Ig,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ul(4194308,4,v0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ul(4194308,4,t,e)},useInsertionEffect:function(t,e){return ul(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ck.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:Ng,useDebugValue:Ph,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=Ng(!1),e=t[0];return t=Ek.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=rn();if(Te){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),He===null)throw Error(U(349));Zr&30||u0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ig(d0.bind(null,r,s,t),[t]),r.flags|=2048,Uo(9,c0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rn(),e=He.identifierPrefix;if(Te){var n=Tn,r=Sn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kk={readContext:Ft,useCallback:y0,useContext:Ft,useEffect:Oh,useImperativeHandle:_0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:Mc,useRef:p0,useState:function(){return Mc(Lo)},useDebugValue:Ph,useDeferredValue:function(t){var e=$t();return E0(e,Ue.memoizedState,t)},useTransition:function(){var t=Mc(Lo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:a0,useSyncExternalStore:l0,useId:C0,unstable_isNewReconciler:!1},Nk={readContext:Ft,useCallback:y0,useContext:Ft,useEffect:Oh,useImperativeHandle:_0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:w0,useReducer:Lc,useRef:p0,useState:function(){return Lc(Lo)},useDebugValue:Ph,useDeferredValue:function(t){var e=$t();return Ue===null?e.memoizedState=t:E0(e,Ue.memoizedState,t)},useTransition:function(){var t=Lc(Lo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:a0,useSyncExternalStore:l0,useId:C0,unstable_isNewReconciler:!1};function is(t,e){try{var n="",r=e;do n+=eT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Uc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ik=typeof WeakMap=="function"?WeakMap:Map;function N0(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bl||(Bl=!0,of=r),Yd(t,e)},n}function I0(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yd(t,e),typeof r!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ik;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jk.bind(null,t,e,n),e.then(t,t))}function bg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,dr(n,e,1))),n.lanes|=1),t)}var Rk=jn.ReactCurrentOwner,gt=!1;function lt(t,e,n,r){e.child=t===null?s0(e,null,n,r):ns(e,t.child,n,r)}function Og(t,e,n,r,i){n=n.render;var s=e.ref;return Vi(e,i),r=bh(t,e,n,r,s,i),n=xh(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(Te&&n&&vh(e),e.flags|=1,lt(t,e,r,i),e.child)}function Pg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Bh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,R0(t,e,s,r,i)):(t=hl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(o,r)&&t.ref===e.ref)return Mn(t,e,i)}return e.flags|=1,t=pr(s,r),t.ref=e.ref,t.return=e,e.child=t}function R0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bo(s,r)&&t.ref===e.ref)if(gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gt=!0);else return e.lanes=t.lanes,Mn(t,e,i)}return Qd(t,e,n,r,i)}function b0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Fi,kt),kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Fi,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(Fi,kt),kt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(Fi,kt),kt|=r;return lt(t,e,i,n),e.child}function x0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qd(t,e,n,r,i){var s=wt(n)?Xr:rt.current;return s=es(e,s),Vi(e,i),n=bh(t,e,n,r,s,i),r=xh(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(Te&&r&&vh(e),e.flags|=1,lt(t,e,n,i),e.child)}function Ag(t,e,n,r,i){if(wt(n)){var s=!0;xl(e)}else s=!1;if(Vi(e,i),e.stateNode===null)cl(t,e),r0(e,n,r),qd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=wt(n)?Xr:rt.current,u=es(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Tg(e,o,r,u),Yn=!1;var f=e.memoizedState;o.state=f,Ml(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yt.current||Yn?(typeof c=="function"&&(Kd(e,n,c,r),l=e.memoizedState),(a=Yn||Sg(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,t0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=wt(n)?Xr:rt.current,l=es(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Tg(e,o,r,l),Yn=!1,f=e.memoizedState,o.state=f,Ml(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||yt.current||Yn?(typeof p=="function"&&(Kd(e,n,p,r),m=e.memoizedState),(u=Yn||Sg(e,n,u,r,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Xd(t,e,n,r,s,i)}function Xd(t,e,n,r,i,s){x0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_g(e,n,!1),Mn(t,e,s);r=e.stateNode,Rk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ns(e,t.child,null,s),e.child=ns(e,null,a,s)):lt(t,e,a,s),e.memoizedState=r.state,i&&_g(e,n,!0),e.child}function O0(t){var e=t.stateNode;e.pendingContext?vg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vg(t,e.context,!1),kh(t,e.containerInfo)}function Dg(t,e,n,r,i){return ts(),yh(i),e.flags|=256,lt(t,e,n,r),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function P0(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(ke,i&1),t===null)return Vd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pu(o,r,0,null),t=Vr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zd(n),e.memoizedState=Jd,t):Ah(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=pr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=pr(a,s):(s=Vr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jd,r}return s=t.child,t=s.sibling,r=pr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ah(t,e){return e=Pu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function za(t,e,n,r){return r!==null&&yh(r),ns(e,t.child,null,n),t=Ah(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Uc(Error(U(422))),za(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pu({mode:"visible",children:r.children},i,0,null),s=Vr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ns(e,t.child,null,o),e.child.memoizedState=Zd(o),e.memoizedState=Jd,s);if(!(e.mode&1))return za(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Uc(s,r,void 0),za(t,e,o,r)}if(a=(o&t.childLanes)!==0,gt||a){if(r=He,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dn(t,i),Zt(r,t,i,-1))}return $h(),r=Uc(Error(U(421))),za(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nt=cr(i.nextSibling),Rt=e,Te=!0,Kt=null,t!==null&&(At[Dt++]=Sn,At[Dt++]=Tn,At[Dt++]=Jr,Sn=t.id,Tn=t.overflow,Jr=e),e=Ah(e,r.children),e.flags|=4096,e)}function Mg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gd(t.return,e,n)}function Fc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function A0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(lt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,n,e);else if(t.tag===19)Mg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ll(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ll(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fc(e,!0,n,null,s);break;case"together":Fc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xk(t,e,n){switch(e.tag){case 3:O0(e),ts();break;case 5:o0(e);break;case 1:wt(e.type)&&xl(e);break;case 4:kh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(Al,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?P0(t,e,n):(ye(ke,ke.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return A0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,b0(t,e,n)}return Mn(t,e,n)}var D0,ef,M0,L0;D0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ef=function(){};M0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$r(ln.current);var s=null;switch(n){case"input":i=Cd(t,i),r=Cd(t,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=kd(t,i),r=kd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rl)}Id(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Co.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Co.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};L0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bs(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ok(t,e,n){var r=e.pendingProps;switch(_h(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return wt(e.type)&&bl(),tt(e),null;case 3:return r=e.stateNode,rs(),Ee(yt),Ee(rt),Ih(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(uf(Kt),Kt=null))),ef(t,e),tt(e),null;case 5:Nh(e);var i=$r(Do.current);if(n=e.type,t!==null&&e.stateNode!=null)M0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return tt(e),null}if(t=$r(ln.current),Ba(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sn]=e,r[Po]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Zs.length;i++)we(Zs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Hm(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":Gm(r,s),we("invalid",r)}Id(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$a(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$a(r.textContent,a,t),i=["children",""+a]):Co.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Oa(r),Vm(r,s,!0);break;case"textarea":Oa(r),Km(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[Po]=r,D0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rd(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zs.length;i++)we(Zs[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":Hm(t,r),i=Cd(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),we("invalid",t);break;case"textarea":Gm(t,r),i=kd(t,r),we("invalid",t);break;default:i=r}Id(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&So(t,l):typeof l=="number"&&So(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Co.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&rh(t,s,l,o))}switch(n){case"input":Oa(t),Vm(t,r,!1);break;case"textarea":Oa(t),Km(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ji(t,!!r.multiple,s,!1):r.defaultValue!=null&&ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)L0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=$r(Do.current),$r(ln.current),Ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(s=r.nodeValue!==n)&&(t=Rt,t!==null))switch(t.tag){case 3:$a(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$a(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return tt(e),null;case 13:if(Ee(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Nt!==null&&e.mode&1&&!(e.flags&128))Zy(),ts(),e.flags|=98560,s=!1;else if(s=Ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[sn]=e}else ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else Kt!==null&&(uf(Kt),Kt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Fe===0&&(Fe=3):$h())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return rs(),ef(t,e),t===null&&xo(e.stateNode.containerInfo),tt(e),null;case 10:return Ch(e.type._context),tt(e),null;case 17:return wt(e.type)&&bl(),tt(e),null;case 19:if(Ee(ke),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Bs(s,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ll(t),o!==null){for(e.flags|=128,Bs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>ss&&(e.flags|=128,r=!0,Bs(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ll(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return tt(e),null}else 2*Ae()-s.renderingStartTime>ss&&n!==1073741824&&(e.flags|=128,r=!0,Bs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Fh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Pk(t,e){switch(_h(e),e.tag){case 1:return wt(e.type)&&bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rs(),Ee(yt),Ee(rt),Ih(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nh(e),null;case 13:if(Ee(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(ke),null;case 4:return rs(),null;case 10:return Ch(e.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var Wa=!1,nt=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ui(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function tf(t,e,n){try{n()}catch(r){be(t,e,r)}}var Lg=!1;function Dk(t,e){if(Fd=kl,t=By(),gh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($d={focusedElem:t,selectionRange:n},kl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,E=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Vt(e.type,_),E);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){be(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return m=Lg,Lg=!1,m}function ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tf(e,n,s)}i=i.next}while(i!==r)}}function xu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function U0(t){var e=t.alternate;e!==null&&(t.alternate=null,U0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Po],delete e[zd],delete e[gk],delete e[vk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F0(t){return t.tag===5||t.tag===3||t.tag===4}function Ug(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rl));else if(r!==4&&(t=t.child,t!==null))for(rf(t,e,n),t=t.sibling;t!==null;)rf(t,e,n),t=t.sibling}function sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sf(t,e,n),t=t.sibling;t!==null;)sf(t,e,n),t=t.sibling}var Ge=null,Gt=!1;function Gn(t,e,n){for(n=n.child;n!==null;)$0(t,e,n),n=n.sibling}function $0(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Cu,n)}catch{}switch(n.tag){case 5:nt||Ui(n,e);case 6:var r=Ge,i=Gt;Ge=null,Gn(t,e,n),Ge=r,Gt=i,Ge!==null&&(Gt?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Gt?(t=Ge,n=n.stateNode,t.nodeType===8?Oc(t.parentNode,n):t.nodeType===1&&Oc(t,n),Io(t)):Oc(Ge,n.stateNode));break;case 4:r=Ge,i=Gt,Ge=n.stateNode.containerInfo,Gt=!0,Gn(t,e,n),Ge=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tf(n,e,o),i=i.next}while(i!==r)}Gn(t,e,n);break;case 1:if(!nt&&(Ui(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}Gn(t,e,n);break;case 21:Gn(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Gn(t,e,n),nt=r):Gn(t,e,n);break;default:Gn(t,e,n)}}function Fg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ak),e.forEach(function(r){var i=Wk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,Gt=!1;break e;case 3:Ge=a.stateNode.containerInfo,Gt=!0;break e;case 4:Ge=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(Ge===null)throw Error(U(160));$0(s,o,i),Ge=null,Gt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B0(e,t),e=e.sibling}function B0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),nn(t),r&4){try{ao(3,t,t.return),xu(3,t)}catch(_){be(t,t.return,_)}try{ao(5,t,t.return)}catch(_){be(t,t.return,_)}}break;case 1:Ht(e,t),nn(t),r&512&&n!==null&&Ui(n,n.return);break;case 5:if(Ht(e,t),nn(t),r&512&&n!==null&&Ui(n,n.return),t.flags&32){var i=t.stateNode;try{So(i,"")}catch(_){be(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ay(i,s),Rd(a,o);var u=Rd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?fy(i,d):c==="dangerouslySetInnerHTML"?cy(i,d):c==="children"?So(i,d):rh(i,c,d,u)}switch(a){case"input":Sd(i,s);break;case"textarea":ly(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ji(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ji(i,!!s.multiple,s.defaultValue,!0):ji(i,!!s.multiple,s.multiple?[]:"",!1))}i[Po]=s}catch(_){be(t,t.return,_)}}break;case 6:if(Ht(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){be(t,t.return,_)}}break;case 3:if(Ht(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Io(e.containerInfo)}catch(_){be(t,t.return,_)}break;case 4:Ht(e,t),nn(t);break;case 13:Ht(e,t),nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lh=Ae())),r&4&&Fg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(u=nt)||c,Ht(e,t),nt=u):Ht(e,t),nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,p=f.child,f.tag){case 0:case 11:case 14:case 15:ao(4,f,f.return);break;case 1:Ui(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){be(r,n,_)}}break;case 5:Ui(f,f.return);break;case 22:if(f.memoizedState!==null){Bg(d);continue}}p!==null?(p.return=f,W=p):Bg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dy("display",o))}catch(_){be(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){be(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ht(e,t),nn(t),r&4&&Fg(t);break;case 21:break;default:Ht(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(So(i,""),r.flags&=-33);var s=Ug(t);sf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ug(t);rf(t,a,o);break;default:throw Error(U(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mk(t,e,n){W=t,j0(t)}function j0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nt;a=Wa;var u=nt;if(Wa=o,(nt=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?jg(i):l!==null?(l.return=o,W=l):jg(i);for(;s!==null;)W=s,j0(s),s=s.sibling;W=i,Wa=a,nt=u}$g(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):$g(t)}}function $g(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||xu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Cg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Io(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}nt||e.flags&512&&nf(e)}catch(f){be(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Bg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function jg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xu(4,e)}catch(l){be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){be(e,i,l)}}var s=e.return;try{nf(e)}catch(l){be(e,s,l)}break;case 5:var o=e.return;try{nf(e)}catch(l){be(e,o,l)}}}catch(l){be(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var Lk=Math.ceil,$l=jn.ReactCurrentDispatcher,Dh=jn.ReactCurrentOwner,Ut=jn.ReactCurrentBatchConfig,ue=0,He=null,De=null,Qe=0,kt=0,Fi=Nr(0),Fe=0,Fo=null,ei=0,Ou=0,Mh=0,lo=null,mt=null,Lh=0,ss=1/0,_n=null,Bl=!1,of=null,fr=null,Ha=!1,ir=null,jl=0,uo=0,af=null,dl=-1,fl=0;function ct(){return ue&6?Ae():dl!==-1?dl:dl=Ae()}function hr(t){return t.mode&1?ue&2&&Qe!==0?Qe&-Qe:yk.transition!==null?(fl===0&&(fl=Ty()),fl):(t=he,t!==0||(t=window.event,t=t===void 0?16:Oy(t.type)),t):1}function Zt(t,e,n,r){if(50<uo)throw uo=0,af=null,Error(U(185));sa(t,n,r),(!(ue&2)||t!==He)&&(t===He&&(!(ue&2)&&(Ou|=n),Fe===4&&Jn(t,Qe)),Et(t,r),n===1&&ue===0&&!(e.mode&1)&&(ss=Ae()+500,Iu&&Ir()))}function Et(t,e){var n=t.callbackNode;yT(t,e);var r=Tl(t,t===He?Qe:0);if(r===0)n!==null&&Qm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qm(n),e===1)t.tag===0?_k(zg.bind(null,t)):Qy(zg.bind(null,t)),pk(function(){!(ue&6)&&Ir()}),n=null;else{switch(ky(r)){case 1:n=lh;break;case 4:n=Cy;break;case 16:n=Sl;break;case 536870912:n=Sy;break;default:n=Sl}n=Y0(n,z0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function z0(t,e){if(dl=-1,fl=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(Gi()&&t.callbackNode!==n)return null;var r=Tl(t,t===He?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zl(t,r);else{e=r;var i=ue;ue|=2;var s=H0();(He!==t||Qe!==e)&&(_n=null,ss=Ae()+500,Hr(t,e));do try{$k();break}catch(a){W0(t,a)}while(1);Eh(),$l.current=s,ue=i,De!==null?e=0:(He=null,Qe=0,e=Fe)}if(e!==0){if(e===2&&(i=Ad(t),i!==0&&(r=i,e=lf(t,i))),e===1)throw n=Fo,Hr(t,0),Jn(t,r),Et(t,Ae()),n;if(e===6)Jn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Uk(i)&&(e=zl(t,r),e===2&&(s=Ad(t),s!==0&&(r=s,e=lf(t,s))),e===1))throw n=Fo,Hr(t,0),Jn(t,r),Et(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Ar(t,mt,_n);break;case 3:if(Jn(t,r),(r&130023424)===r&&(e=Lh+500-Ae(),10<e)){if(Tl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jd(Ar.bind(null,t,mt,_n),e);break}Ar(t,mt,_n);break;case 4:if(Jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lk(r/1960))-r,10<r){t.timeoutHandle=jd(Ar.bind(null,t,mt,_n),r);break}Ar(t,mt,_n);break;case 5:Ar(t,mt,_n);break;default:throw Error(U(329))}}}return Et(t,Ae()),t.callbackNode===n?z0.bind(null,t):null}function lf(t,e){var n=lo;return t.current.memoizedState.isDehydrated&&(Hr(t,e).flags|=256),t=zl(t,e),t!==2&&(e=mt,mt=n,e!==null&&uf(e)),t}function uf(t){mt===null?mt=t:mt.push.apply(mt,t)}function Uk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jn(t,e){for(e&=~Mh,e&=~Ou,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function zg(t){if(ue&6)throw Error(U(327));Gi();var e=Tl(t,0);if(!(e&1))return Et(t,Ae()),null;var n=zl(t,e);if(t.tag!==0&&n===2){var r=Ad(t);r!==0&&(e=r,n=lf(t,r))}if(n===1)throw n=Fo,Hr(t,0),Jn(t,e),Et(t,Ae()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ar(t,mt,_n),Et(t,Ae()),null}function Uh(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(ss=Ae()+500,Iu&&Ir())}}function ti(t){ir!==null&&ir.tag===0&&!(ue&6)&&Gi();var e=ue;ue|=1;var n=Ut.transition,r=he;try{if(Ut.transition=null,he=1,t)return t()}finally{he=r,Ut.transition=n,ue=e,!(ue&6)&&Ir()}}function Fh(){kt=Fi.current,Ee(Fi)}function Hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hk(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(_h(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bl();break;case 3:rs(),Ee(yt),Ee(rt),Ih();break;case 5:Nh(r);break;case 4:rs();break;case 13:Ee(ke);break;case 19:Ee(ke);break;case 10:Ch(r.type._context);break;case 22:case 23:Fh()}n=n.return}if(He=t,De=t=pr(t.current,null),Qe=kt=e,Fe=0,Fo=null,Mh=Ou=ei=0,mt=lo=null,Fr!==null){for(e=0;e<Fr.length;e++)if(n=Fr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fr=null}return t}function W0(t,e){do{var n=De;try{if(Eh(),ll.current=Fl,Ul){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ul=!1}if(Zr=0,je=Ue=Ne=null,oo=!1,Mo=0,Dh.current=null,n===null||n.return===null){Fe=1,Fo=e,De=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=bg(o);if(p!==null){p.flags&=-257,xg(p,o,a,s,e),p.mode&1&&Rg(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){Rg(s,u,e),$h();break e}l=Error(U(426))}}else if(Te&&a.mode&1){var E=bg(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),xg(E,o,a,s,e),yh(is(l,a));break e}}s=l=is(l,a),Fe!==4&&(Fe=2),lo===null?lo=[s]:lo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=N0(s,l,e);Eg(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fr===null||!fr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=I0(s,a,e);Eg(s,S);break e}}s=s.return}while(s!==null)}G0(n)}catch(I){e=I,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function H0(){var t=$l.current;return $l.current=Fl,t===null?Fl:t}function $h(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),He===null||!(ei&268435455)&&!(Ou&268435455)||Jn(He,Qe)}function zl(t,e){var n=ue;ue|=2;var r=H0();(He!==t||Qe!==e)&&(_n=null,Hr(t,e));do try{Fk();break}catch(i){W0(t,i)}while(1);if(Eh(),ue=n,$l.current=r,De!==null)throw Error(U(261));return He=null,Qe=0,Fe}function Fk(){for(;De!==null;)V0(De)}function $k(){for(;De!==null&&!cT();)V0(De)}function V0(t){var e=q0(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?G0(t):De=e,Dh.current=null}function G0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pk(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,De=null;return}}else if(n=Ok(n,e,kt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Fe===0&&(Fe=5)}function Ar(t,e,n){var r=he,i=Ut.transition;try{Ut.transition=null,he=1,Bk(t,e,n,r)}finally{Ut.transition=i,he=r}return null}function Bk(t,e,n,r){do Gi();while(ir!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wT(t,s),t===He&&(De=He=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ha||(Ha=!0,Y0(Sl,function(){return Gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ut.transition,Ut.transition=null;var o=he;he=1;var a=ue;ue|=4,Dh.current=null,Dk(t,n),B0(n,t),ok($d),kl=!!Fd,$d=Fd=null,t.current=n,Mk(n),dT(),ue=a,he=o,Ut.transition=s}else t.current=n;if(Ha&&(Ha=!1,ir=t,jl=i),s=t.pendingLanes,s===0&&(fr=null),pT(n.stateNode),Et(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bl)throw Bl=!1,t=of,of=null,t;return jl&1&&t.tag!==0&&Gi(),s=t.pendingLanes,s&1?t===af?uo++:(uo=0,af=t):uo=0,Ir(),null}function Gi(){if(ir!==null){var t=ky(jl),e=Ut.transition,n=he;try{if(Ut.transition=null,he=16>t?16:t,ir===null)var r=!1;else{if(t=ir,ir=null,jl=0,ue&6)throw Error(U(331));var i=ue;for(ue|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:ao(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,p=c.return;if(U0(c),c===u){W=null;break}if(f!==null){f.return=p,W=f;break}W=p}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ao(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,W=g;break e}W=s.return}}var v=t.current;for(W=v;W!==null;){o=W;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,W=w;else e:for(o=v;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xu(9,a)}}catch(I){be(a,a.return,I)}if(a===o){W=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,W=S;break e}W=a.return}}if(ue=i,Ir(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Cu,t)}catch{}r=!0}return r}finally{he=n,Ut.transition=e}}return!1}function Wg(t,e,n){e=is(n,e),e=N0(t,e,1),t=dr(t,e,1),e=ct(),t!==null&&(sa(t,1,e),Et(t,e))}function be(t,e,n){if(t.tag===3)Wg(t,t,n);else for(;e!==null;){if(e.tag===3){Wg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fr===null||!fr.has(r))){t=is(n,t),t=I0(e,t,1),e=dr(e,t,1),t=ct(),e!==null&&(sa(e,1,t),Et(e,t));break}}e=e.return}}function jk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Qe&n)===n&&(Fe===4||Fe===3&&(Qe&130023424)===Qe&&500>Ae()-Lh?Hr(t,0):Mh|=n),Et(t,e)}function K0(t,e){e===0&&(t.mode&1?(e=Da,Da<<=1,!(Da&130023424)&&(Da=4194304)):e=1);var n=ct();t=Dn(t,e),t!==null&&(sa(t,e,n),Et(t,n))}function zk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K0(t,n)}function Wk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),K0(t,n)}var q0;q0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gt=!1,xk(t,e,n);gt=!!(t.flags&131072)}else gt=!1,Te&&e.flags&1048576&&Xy(e,Pl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cl(t,e),t=e.pendingProps;var i=es(e,rt.current);Vi(e,n),i=bh(null,e,r,t,i,n);var s=xh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(s=!0,xl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Th(e),i.updater=Ru,e.stateNode=i,i._reactInternals=e,qd(e,r,t,n),e=Xd(null,e,r,!0,s,n)):(e.tag=0,Te&&s&&vh(e),lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Vk(r),t=Vt(r,t),i){case 0:e=Qd(null,e,r,t,n);break e;case 1:e=Ag(null,e,r,t,n);break e;case 11:e=Og(null,e,r,t,n);break e;case 14:e=Pg(null,e,r,Vt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Qd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Ag(t,e,r,i,n);case 3:e:{if(O0(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,t0(t,e),Ml(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=is(Error(U(423)),e),e=Dg(t,e,r,n,i);break e}else if(r!==i){i=is(Error(U(424)),e),e=Dg(t,e,r,n,i);break e}else for(Nt=cr(e.stateNode.containerInfo.firstChild),Rt=e,Te=!0,Kt=null,n=s0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ts(),r===i){e=Mn(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return o0(e),t===null&&Vd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Bd(r,i)?o=null:s!==null&&Bd(r,s)&&(e.flags|=32),x0(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&Vd(e),null;case 13:return P0(t,e,n);case 4:return kh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ns(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Og(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(Al,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!yt.current){e=Mn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vi(e,n),i=Ft(i),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,i=Vt(r,e.pendingProps),i=Vt(r.type,i),Pg(t,e,r,i,n);case 15:return R0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),cl(t,e),e.tag=1,wt(r)?(t=!0,xl(e)):t=!1,Vi(e,n),r0(e,r,i),qd(e,r,i,n),Xd(null,e,r,!0,t,n);case 19:return A0(t,e,n);case 22:return b0(t,e,n)}throw Error(U(156,e.tag))};function Y0(t,e){return Ey(t,e)}function Hk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new Hk(t,e,n,r)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vk(t){if(typeof t=="function")return Bh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sh)return 11;if(t===oh)return 14}return 2}function pr(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Bh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ri:return Vr(n.children,i,s,e);case ih:o=8,i|=8;break;case _d:return t=Mt(12,n,e,i|2),t.elementType=_d,t.lanes=s,t;case yd:return t=Mt(13,n,e,i),t.elementType=yd,t.lanes=s,t;case wd:return t=Mt(19,n,e,i),t.elementType=wd,t.lanes=s,t;case iy:return Pu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ny:o=10;break e;case ry:o=9;break e;case sh:o=11;break e;case oh:o=14;break e;case qn:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function Pu(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=iy,t.lanes=n,t.stateNode={isHidden:!1},t}function $c(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function Bc(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wc(0),this.expirationTimes=wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jh(t,e,n,r,i,s,o,a,l){return t=new Gk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(s),t}function Kk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Q0(t){if(!t)return wr;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(wt(n))return Yy(t,n,e)}return e}function X0(t,e,n,r,i,s,o,a,l){return t=jh(n,r,!0,t,i,s,o,a,l),t.context=Q0(null),n=t.current,r=ct(),i=hr(n),s=Rn(r,i),s.callback=e??null,dr(n,s,i),t.current.lanes=i,sa(t,i,r),Et(t,r),t}function Au(t,e,n,r){var i=e.current,s=ct(),o=hr(i);return n=Q0(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dr(i,e,o),t!==null&&(Zt(t,i,o,s),al(t,i,o)),o}function Wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zh(t,e){Hg(t,e),(t=t.alternate)&&Hg(t,e)}function qk(){return null}var J0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wh(t){this._internalRoot=t}Du.prototype.render=Wh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Au(t,e,null,null)};Du.prototype.unmount=Wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ti(function(){Au(null,t,null,null)}),e[An]=null}};function Du(t){this._internalRoot=t}Du.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ry();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xn.length&&e!==0&&e<Xn[n].priority;n++);Xn.splice(n,0,t),n===0&&xy(t)}};function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vg(){}function Yk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wl(o);s.call(u)}}var o=X0(e,r,t,0,null,!1,!1,"",Vg);return t._reactRootContainer=o,t[An]=o.current,xo(t.nodeType===8?t.parentNode:t),ti(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wl(l);a.call(u)}}var l=jh(t,0,!1,null,null,!1,!1,"",Vg);return t._reactRootContainer=l,t[An]=l.current,xo(t.nodeType===8?t.parentNode:t),ti(function(){Au(e,l,n,r)}),l}function Lu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Wl(o);a.call(l)}}Au(e,o,t,i)}else o=Yk(n,e,t,i,r);return Wl(o)}Ny=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Js(e.pendingLanes);n!==0&&(uh(e,n|1),Et(e,Ae()),!(ue&6)&&(ss=Ae()+500,Ir()))}break;case 13:ti(function(){var r=Dn(t,1);if(r!==null){var i=ct();Zt(r,t,1,i)}}),zh(t,1)}};ch=function(t){if(t.tag===13){var e=Dn(t,134217728);if(e!==null){var n=ct();Zt(e,t,134217728,n)}zh(t,134217728)}};Iy=function(t){if(t.tag===13){var e=hr(t),n=Dn(t,e);if(n!==null){var r=ct();Zt(n,t,e,r)}zh(t,e)}};Ry=function(){return he};by=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};xd=function(t,e,n){switch(e){case"input":if(Sd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nu(r);if(!i)throw Error(U(90));oy(r),Sd(r,i)}}}break;case"textarea":ly(t,n);break;case"select":e=n.value,e!=null&&ji(t,!!n.multiple,e,!1)}};my=Uh;gy=ti;var Qk={usingClientEntryPoint:!1,Events:[aa,Pi,Nu,hy,py,Uh]},js={findFiberByHostInstance:Ur,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Xk={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yy(t),t===null?null:t.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{Cu=Va.inject(Xk),an=Va}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qk;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hh(e))throw Error(U(200));return Kk(t,e,null,n)};xt.createRoot=function(t,e){if(!Hh(t))throw Error(U(299));var n=!1,r="",i=J0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jh(t,1,!1,null,null,n,!1,r,i),t[An]=e.current,xo(t.nodeType===8?t.parentNode:t),new Wh(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=yy(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return ti(t)};xt.hydrate=function(t,e,n){if(!Mu(e))throw Error(U(200));return Lu(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Hh(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=J0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=X0(e,null,t,1,n??null,i,!1,s,o),t[An]=e.current,xo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Du(e)};xt.render=function(t,e,n){if(!Mu(e))throw Error(U(200));return Lu(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!Mu(t))throw Error(U(40));return t._reactRootContainer?(ti(function(){Lu(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};xt.unstable_batchedUpdates=Uh;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Lu(t,e,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=xt})(qS);const $i=Qf(yl);var Gg=yl;md.createRoot=Gg.createRoot,md.hydrateRoot=Gg.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}var sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sr||(sr={}));const Kg="popstate";function Jk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return cf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Z0(i)}return eN(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zk(){return Math.random().toString(36).substr(2,8)}function qg(t,e){return{usr:t.state,key:t.key,idx:e}}function cf(t,e,n,r){return n===void 0&&(n=null),$o({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ys(e):e,{state:n,key:e&&e.key||r||Zk()})}function Z0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=sr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState($o({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=sr.Pop;let E=c(),g=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:g})}function f(E,g){a=sr.Push;let v=cf(_.location,E,g);n&&n(v,E),u=c()+1;let w=qg(v,u),S=_.createHref(v);try{o.pushState(w,"",S)}catch{i.location.assign(S)}s&&l&&l({action:a,location:_.location,delta:1})}function p(E,g){a=sr.Replace;let v=cf(_.location,E,g);n&&n(v,E),u=c();let w=qg(v,u),S=_.createHref(v);o.replaceState(w,"",S),s&&l&&l({action:a,location:_.location,delta:0})}function m(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof E=="string"?E:Z0(E);return $e(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Kg,d),l=E,()=>{i.removeEventListener(Kg,d),l=null}},createHref(E){return e(i,E)},createURL:m,encodeLocation(E){let g=m(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(E){return o.go(E)}};return _}var Yg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yg||(Yg={}));function tN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ys(e):e,i=nw(r.pathname||"/",n);if(i==null)return null;let s=ew(t);nN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=dN(s[a],pN(i));return o}function ew(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ew(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:uN(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tw(s.path))i(s,o,l)}),e}function tw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rN=/^:\w+$/,iN=3,sN=2,oN=1,aN=10,lN=-2,Qg=t=>t==="*";function uN(t,e){let n=t.split("/"),r=n.length;return n.some(Qg)&&(r+=lN),e&&(r+=sN),n.filter(i=>!Qg(i)).reduce((i,s)=>i+(rN.test(s)?iN:s===""?oN:aN),r)}function cN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=fN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Gr([i,c.pathname]),pathnameBase:wN(Gr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Gr([i,c.pathnameBase]))}return s}function fN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=mN(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function hN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pN(t){try{return decodeURI(t)}catch(e){return Vh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mN(t,e){try{return decodeURIComponent(t)}catch(n){return Vh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function nw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Vh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ys(t):t;return{pathname:n?n.startsWith("/")?n:vN(n,e):e,search:EN(r),hash:CN(i)}}function vN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _N(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ys(t):(i=$o({},t),$e(!i.pathname||!i.pathname.includes("?"),jc("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),jc("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),jc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=gN(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),wN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TN=["post","put","patch","delete"];[...TN];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function kN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const NN=typeof Object.is=="function"?Object.is:kN,{useState:IN,useEffect:RN,useLayoutEffect:bN,useDebugValue:xN}=pd;function ON(t,e,n){const r=e(),[{inst:i},s]=IN({inst:{value:r,getSnapshot:e}});return bN(()=>{i.value=r,i.getSnapshot=e,zc(i)&&s({inst:i})},[t,r,e]),RN(()=>(zc(i)&&s({inst:i}),t(()=>{zc(i)&&s({inst:i})})),[t]),xN(r),r}function zc(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!NN(n,r)}catch{return!0}}function PN(t,e,n){return e()}const AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DN=!AN,MN=DN?PN:ON;"useSyncExternalStore"in pd&&(t=>t.useSyncExternalStore)(pd);const rw=h.createContext(null),Gh=h.createContext(null),Kh=h.createContext(null),Uu=h.createContext(null),ua=h.createContext({outlet:null,matches:[]}),iw=h.createContext(null);function ca(){return h.useContext(Uu)!=null}function qh(){return ca()||$e(!1),h.useContext(Uu).location}function da(){ca()||$e(!1);let{basename:t,navigator:e}=h.useContext(Kh),{matches:n}=h.useContext(ua),{pathname:r}=qh(),i=JSON.stringify(_N(n).map(a=>a.pathnameBase)),s=h.useRef(!1);return h.useEffect(()=>{s.current=!0}),h.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=yN(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Gr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function LN(t,e){ca()||$e(!1);let{navigator:n}=h.useContext(Kh),r=h.useContext(Gh),{matches:i}=h.useContext(ua),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=qh(),u;if(e){var c;let _=typeof e=="string"?ys(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||$e(!1),u=_}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=tN(t,{pathname:f}),m=BN(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Gr([a,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:Gr([a,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return e&&m?h.createElement(Uu.Provider,{value:{location:df({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sr.Pop}},m):m}function UN(){let t=HN(),e=SN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,s)}class FN extends h.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?h.createElement(ua.Provider,{value:this.props.routeContext},h.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $N(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(rw);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(ua.Provider,{value:e},r)}function BN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||$e(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||h.createElement(UN,null):null,c=e.concat(r.slice(0,a+1)),d=()=>h.createElement($N,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?h.createElement(FN,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var Xg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Xg||(Xg={}));var Hl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Hl||(Hl={}));function jN(t){let e=h.useContext(Gh);return e||$e(!1),e}function zN(t){let e=h.useContext(ua);return e||$e(!1),e}function WN(t){let e=zN(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function HN(){var t;let e=h.useContext(iw),n=jN(Hl.UseRouteError),r=WN(Hl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function zs(t){let{to:e,replace:n,state:r,relative:i}=t;ca()||$e(!1);let s=h.useContext(Gh),o=da();return h.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function Dr(t){$e(!1)}function VN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=sr.Pop,navigator:s,static:o=!1}=t;ca()&&$e(!1);let a=e.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ys(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,m=h.useMemo(()=>{let _=nw(u,a);return _==null?null:{pathname:_,search:c,hash:d,state:f,key:p}},[a,u,c,d,f,p]);return m==null?null:h.createElement(Kh.Provider,{value:l},h.createElement(Uu.Provider,{children:n,value:{location:m,navigationType:i}}))}function GN(t){let{children:e,location:n}=t,r=h.useContext(rw),i=r&&!e?r.router.routes:ff(e);return LN(i,n)}var Jg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Jg||(Jg={}));new Promise(()=>{});function ff(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;if(r.type===h.Fragment){n.push.apply(n,ff(r.props.children,e));return}r.type!==Dr&&$e(!1),!r.props.index||!r.props.children||$e(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=ff(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function KN(t){let{basename:e,children:n,window:r}=t,i=h.useRef();i.current==null&&(i.current=Jk({window:r,v5Compat:!0}));let s=i.current,[o,a]=h.useState({action:s.action,location:s.location});return h.useLayoutEffect(()=>s.listen(a),[s]),h.createElement(VN,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var Zg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Zg||(Zg={}));var ev;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ev||(ev={}));var hf={},qN={get exports(){return hf},set exports(t){hf=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(qN);const ee=hf,YN=["xxl","xl","lg","md","sm","xs"],QN="xs",Fu=h.createContext({prefixes:{},breakpoints:YN,minBreakpoint:QN});function ae(t,e){const{prefixes:n}=h.useContext(Fu);return t||n[e]||e}function sw(){const{breakpoints:t}=h.useContext(Fu);return t}function ow(){const{minBreakpoint:t}=h.useContext(Fu);return t}function aw(){const{dir:t}=h.useContext(Fu);return t==="rtl"}const XN={fluid:!1},J=h.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=ae(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return C(n,{ref:s,...i,className:ee(r,e?`${o}${a}`:o)})});J.displayName="Container";J.defaultProps=XN;const JN=h.createContext(null),Bo=(t,e=null)=>t!=null?String(t):e||null,ni=JN;function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(this,arguments)}function lw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function ZN(t){var e=eI(t,"string");return typeof e=="symbol"?e:String(e)}function eI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uw(t,e,n){var r=h.useRef(t!==void 0),i=h.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,h.useCallback(function(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function $u(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[tv(r)],a=s[r],l=lw(s,[tv(r),r].map(ZN)),u=e[r],c=uw(a,o,t[u]),d=c[0],f=c[1];return pf({},l,(i={},i[r]=d,i[u]=f,i))},t)}function mf(t,e){return mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mf(t,e)}function tI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mf(t,e)}var nI=/-(.)/g;function rI(t){return t.replace(nI,function(e,n){return n.toUpperCase()})}const iI=t=>t[0].toUpperCase()+rI(t).slice(1);function st(t,{displayName:e=iI(t),Component:n,defaultProps:r}={}){const i=h.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},u)=>{const c=ae(o,t);return C(a,{ref:u,className:ee(s,c),...l})});return i.defaultProps=r,i.displayName=e,i}const cw=h.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ae(t,"navbar-brand");const s=n||(r.href?"a":"span");return C(s,{...r,ref:i,className:ee(e,t)})});cw.displayName="NavbarBrand";function Bu(t){return t&&t.ownerDocument||document}function sI(t){var e=Bu(t);return e&&e.defaultView||window}function oI(t,e){return sI(t).getComputedStyle(t,e)}var aI=/([A-Z])/g;function lI(t){return t.replace(aI,"-$1").toLowerCase()}var uI=/^ms-/;function Ga(t){return lI(t).replace(uI,"-ms-")}var cI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function dI(t){return!!(t&&cI.test(t))}function bn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Ga(e))||oI(t).getPropertyValue(Ga(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Ga(i)):dI(i)?r+=i+"("+s+") ":n+=Ga(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Ye={},fI={get exports(){return Ye},set exports(t){Ye=t}},hI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pI=hI,mI=pI;function dw(){}function fw(){}fw.resetWarningCache=dw;var gI=function(){function t(r,i,s,o,a,l){if(l!==mI){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fw,resetWarningCache:dw};return n.PropTypes=n,n};fI.exports=gI();const nv={disabled:!1},hw=x.createContext(null);var vI=function(e){return e.scrollTop},eo="unmounted",Qn="exited",qt="entering",En="entered",jo="exiting",zn=function(t){tI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Qn,s.appearStatus=qt):l=En:r.unmountOnExit||r.mountOnEnter?l=eo:l=Qn,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===eo?{status:Qn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==qt&&o!==En&&(s=qt):(o===qt||o===En)&&(s=jo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===qt){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:$i.findDOMNode(this);o&&vI(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qn&&this.setState({status:eo})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[$i.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||nv.disabled){this.safeSetState({status:En},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:qt},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:En},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:$i.findDOMNode(this);if(!s||nv.disabled){this.safeSetState({status:Qn},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:jo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Qn},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:$i.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===eo)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=lw(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(hw.Provider,{value:null},typeof o=="function"?o(i,a):x.cloneElement(x.Children.only(o),a))},e}(x.Component);zn.contextType=hw;zn.propTypes={};function wi(){}zn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wi,onEntering:wi,onEntered:wi,onExit:wi,onExiting:wi,onExited:wi};zn.UNMOUNTED=eo;zn.EXITED=Qn;zn.ENTERING=qt;zn.ENTERED=En;zn.EXITING=jo;const ju=!!(typeof window<"u"&&window.document&&window.document.createElement);var gf=!1,vf=!1;try{var Wc={get passive(){return gf=!0},get once(){return vf=gf=!0}};ju&&(window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,!0))}catch{}function pw(t,e,n,r){if(r&&typeof r!="boolean"&&!vf){var i=r.once,s=r.capture,o=n;!vf&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,gf?r:s)}t.addEventListener(e,n,r)}function _I(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function or(t,e,n,r){return pw(t,e,n,r),function(){_I(t,e,n,r)}}function yI(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function wI(t){var e=bn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function EI(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||yI(t,"transitionend",!0)},e+n),s=or(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function CI(t,e,n,r){n==null&&(n=wI(t)||0);var i=EI(t,n,r),s=or(t,"transitionend",e);return function(){i(),s()}}function rv(t,e){const n=bn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function zu(t,e){const n=rv(t,"transitionDuration"),r=rv(t,"transitionDelay"),i=CI(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Ws(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function Yh(t){t.offsetHeight}var iv=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function SI(t,e){var n=iv(t),r=iv(e);return function(i){n&&n(i),r&&r(i)}}function ws(t,e){return h.useMemo(function(){return SI(t,e)},[t,e])}function TI(t){return t&&"setState"in t?$i.findDOMNode(t):t??null}const Wu=x.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const d=h.useRef(null),f=ws(d,l),p=R=>{f(TI(R))},m=R=>y=>{R&&d.current&&R(d.current,y)},_=h.useCallback(m(t),[t]),E=h.useCallback(m(e),[e]),g=h.useCallback(m(n),[n]),v=h.useCallback(m(r),[r]),w=h.useCallback(m(i),[i]),S=h.useCallback(m(s),[s]),I=h.useCallback(m(o),[o]);return C(zn,{ref:c,...u,onEnter:_,onEntered:g,onEntering:E,onExit:v,onExited:S,onExiting:w,addEndListener:I,nodeRef:d,children:typeof a=="function"?(R,y)=>a(R,{...y,ref:p}):x.cloneElement(a,{ref:p})})}),kI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function mw(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=kI[t];return r+parseInt(bn(e,i[0]),10)+parseInt(bn(e,i[1]),10)}const NI={[Qn]:"collapse",[jo]:"collapsing",[qt]:"collapsing",[En]:"collapse show"},II={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:mw},gw=x.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=mw,...u},c)=>{const d=typeof a=="function"?a():a,f=h.useMemo(()=>Ws(g=>{g.style[d]="0"},t),[d,t]),p=h.useMemo(()=>Ws(g=>{const v=`scroll${d[0].toUpperCase()}${d.slice(1)}`;g.style[d]=`${g[v]}px`},e),[d,e]),m=h.useMemo(()=>Ws(g=>{g.style[d]=null},n),[d,n]),_=h.useMemo(()=>Ws(g=>{g.style[d]=`${l(d,g)}px`,Yh(g)},r),[r,l,d]),E=h.useMemo(()=>Ws(g=>{g.style[d]=null},i),[d,i]);return C(Wu,{ref:c,addEndListener:zu,...u,"aria-expanded":u.role?u.in:null,onEnter:f,onEntering:p,onEntered:m,onExit:_,onExiting:E,childRef:o.ref,children:(g,v)=>x.cloneElement(o,{...v,className:ee(s,o.props.className,NI[g],d==="width"&&"collapse-horizontal")})})});gw.defaultProps=II;const RI=gw,Rr=h.createContext(null);Rr.displayName="NavbarContext";const vw=h.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ae(e,"navbar-collapse");const i=h.useContext(Rr);return C(RI,{in:!!(i&&i.expanded),...n,children:C("div",{ref:r,className:e,children:t})})});vw.displayName="NavbarCollapse";function _w(t){var e=h.useRef(t);return h.useEffect(function(){e.current=t},[t]),e}function xe(t){var e=_w(t);return h.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const bI={label:"Toggle navigation"},Qh=h.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=ae(t,"navbar-toggler");const{onToggle:l,expanded:u}=h.useContext(Rr)||{},c=xe(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),C(i,{...o,ref:a,onClick:c,"aria-label":r,className:ee(e,t,!u&&"collapsed"),children:n||C("span",{className:`${t}-icon`})})});Qh.displayName="NavbarToggle";Qh.defaultProps=bI;var xI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",OI=typeof document<"u";const Vl=OI||xI?h.useLayoutEffect:h.useEffect;var _f=new WeakMap,sv=function(e,n){if(!(!e||!n)){var r=_f.get(n)||new Map;_f.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function PI(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=sv(t,e),r=h.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return Vl(function(){var o=sv(t,e);if(!o)return s(!1);var a=_f.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function AI(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var d;l=l||!0,c=(d={},d[a]=l,d)}var f=h.useMemo(function(){return Object.entries(c).reduce(function(p,m){var _=m[0],E=m[1];return(E==="up"||E===!0)&&(p=n(p,s(_))),(E==="down"||E===!0)&&(p=n(p,i(_))),p},"")},[JSON.stringify(c)]);return PI(f,u)}return o}var DI=AI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Hc(t){t===void 0&&(t=Bu());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Gl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function Xh(){var t=h.useRef(!0),e=h.useRef(function(){return t.current});return h.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function MI(t){var e=h.useRef(t);return e.current=t,e}function yw(t){var e=MI(t);h.useEffect(function(){return function(){return e.current()}},[])}function ww(t){var e=h.useRef(null);return h.useEffect(function(){e.current=t}),e.current}const LI="data-rr-ui-",UI="rrUi";function Es(t){return`${LI}${t}`}function FI(t){return`${UI}${t}`}function $I(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const ov=Es("modal-open");class BI{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return $I(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(bn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(ov,""),bn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(ov),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Jh=BI,Ew=h.createContext(ju?window:void 0);Ew.Provider;function Zh(){return h.useContext(Ew)}const Vc=(t,e)=>ju?t==null?(e||Bu()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function jI(t,e){const n=Zh(),[r,i]=h.useState(()=>Vc(t,n==null?void 0:n.document));if(!r){const s=Vc(t);s&&i(s)}return h.useEffect(()=>{e&&r&&e(r)},[e,r]),h.useEffect(()=>{const s=Vc(t);s!==r&&i(s)},[t,r]),r}function zI({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=h.useRef(null),o=h.useRef(e),a=xe(n);h.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=ws(s,t.ref),u=h.cloneElement(t,{ref:l});return e?u:i||!o.current&&r?null:u}function WI({in:t,onTransition:e}){const n=h.useRef(null),r=h.useRef(!0),i=xe(e);return Vl(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),Vl(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function HI({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=h.useState(!e);e&&s&&o(!1);const a=WI({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,d=>{throw u.in||o(!0),d})}}),l=ws(a,t.ref);return s&&!e?null:h.cloneElement(t,{ref:l})}function av(t,e,n){return t?C(t,Object.assign({},n)):e?C(HI,Object.assign({},n,{transition:e})):C(zI,Object.assign({},n))}const VI=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function GI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Gc;function KI(t){return Gc||(Gc=new Jh({ownerDocument:t==null?void 0:t.document})),Gc}function qI(t){const e=Zh(),n=t||KI(e),r=h.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:h.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:h.useCallback(i=>{r.current.backdrop=i},[])})}const Cw=h.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:_=!0,enforceFocus:E=!0,restoreFocus:g=!0,restoreFocusOptions:v,renderDialog:w,renderBackdrop:S=re=>C("div",Object.assign({},re)),manager:I,container:R,onShow:y,onHide:T=()=>{},onExit:N,onExited:k,onExiting:b,onEnter:O,onEntering:L,onEntered:j}=t,B=GI(t,VI);const A=jI(R),D=qI(I),P=Xh(),F=ww(n),[M,z]=h.useState(!n),G=h.useRef(null);h.useImperativeHandle(e,()=>D,[D]),ju&&!F&&n&&(G.current=Hc()),n&&M&&z(!1);const X=xe(()=>{if(D.add(),Pt.current=or(document,"keydown",ce),Se.current=or(document,"focus",()=>setTimeout(Y),!0),y&&y(),_){const re=Hc(document);D.dialog&&re&&!Gl(D.dialog,re)&&(G.current=re,D.dialog.focus())}}),ne=xe(()=>{if(D.remove(),Pt.current==null||Pt.current(),Se.current==null||Se.current(),g){var re;(re=G.current)==null||re.focus==null||re.focus(v),G.current=null}});h.useEffect(()=>{!n||!A||X()},[n,A,X]),h.useEffect(()=>{M&&ne()},[M,ne]),yw(()=>{ne()});const Y=xe(()=>{if(!E||!P()||!D.isTopModal())return;const re=Hc();D.dialog&&re&&!Gl(D.dialog,re)&&D.dialog.focus()}),fe=xe(re=>{re.target===re.currentTarget&&(u==null||u(re),a===!0&&T())}),ce=xe(re=>{l&&re.keyCode===27&&D.isTopModal()&&(c==null||c(re),re.defaultPrevented||T())}),Se=h.useRef(),Pt=h.useRef(),Ze=(...re)=>{z(!0),k==null||k(...re)};if(!A)return null;const Me=Object.assign({role:r,ref:D.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},B,{style:s,className:i,tabIndex:-1});let Wt=w?w(Me):C("div",Object.assign({},Me,{children:h.cloneElement(o,{role:"document"})}));Wt=av(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:b,onExited:Ze,onEnter:O,onEntering:L,onEntered:j,children:Wt});let ot=null;return a&&(ot=S({ref:D.setBackdropRef,onClick:fe}),ot=av(p,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ot})),C(ut,{children:$i.createPortal(H(ut,{children:[ot,Wt]}),A)})});Cw.displayName="Modal";const YI=Object.assign(Cw,{Manager:Jh}),QI={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},XI={[qt]:"show",[En]:"show"},ep=h.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=h.useCallback((o,a)=>{Yh(o),r.onEnter==null||r.onEnter(o,a)},[r]);return C(Wu,{ref:i,addEndListener:zu,...r,onEnter:s,childRef:e.ref,children:(o,a)=>h.cloneElement(e,{...a,className:ee("fade",t,e.props.className,XI[o],n[o])})})});ep.defaultProps=QI;ep.displayName="Fade";const JI=ep,ZI=st("offcanvas-body"),eR={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},tR={[qt]:"show",[En]:"show"},tp=h.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=ae(t,"offcanvas"),C(Wu,{ref:i,addEndListener:zu,...r,childRef:n.ref,children:(s,o)=>h.cloneElement(n,{...o,className:ee(e,n.props.className,(s===qt||s===jo)&&`${t}-toggling`,tR[s])})})));tp.defaultProps=eR;tp.displayName="OffcanvasToggling";const nR=h.createContext({onHide(){}}),Sw=nR,rR={"aria-label":Ye.string,onClick:Ye.func,variant:Ye.oneOf(["white"])},iR={"aria-label":"Close"},Hu=h.forwardRef(({className:t,variant:e,...n},r)=>C("button",{ref:r,type:"button",className:ee("btn-close",e&&`btn-close-${e}`,t),...n}));Hu.displayName="CloseButton";Hu.propTypes=rR;Hu.defaultProps=iR;const sR=Hu,oR={closeLabel:"Close",closeButton:!1},Tw=h.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=h.useContext(Sw),l=xe(()=>{a==null||a.onHide(),r==null||r()});return H("div",{ref:o,...s,children:[i,n&&C(sR,{"aria-label":t,variant:e,onClick:l})]})});Tw.defaultProps=oR;const aR=Tw,lR={closeLabel:"Close",closeButton:!1},np=h.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ae(t,"offcanvas-header"),C(aR,{ref:r,...n,className:ee(e,t)})));np.displayName="OffcanvasHeader";np.defaultProps=lR;const uR=np,rp=t=>h.forwardRef((e,n)=>C("div",{...e,ref:n,className:ee(e.className,t)})),cR=rp("h5"),dR=st("offcanvas-title",{Component:cR});function fR(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function hR(t,e){t.classList?t.classList.add(e):fR(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var pR=Function.prototype.bind.call(Function.prototype.call,[].slice);function wn(t,e){return pR(t.querySelectorAll(e))}function lv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function mR(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=lv(t.className,e):t.setAttribute("class",lv(t.className&&t.className.baseVal||"",e))}const Ei={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class kw extends Jh{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,bn(n,{[e]:`${parseFloat(bn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],bn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(hR(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wn(n,Ei.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),wn(n,Ei.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),wn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();mR(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wn(n,Ei.FIXED_CONTENT).forEach(s=>this.restore(r,s)),wn(n,Ei.STICKY_CONTENT).forEach(s=>this.restore(i,s)),wn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Kc;function gR(t){return Kc||(Kc=new kw(t)),Kc}const vR=kw,_R={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function yR(t){return C(tp,{...t})}function wR(t){return C(JI,{...t})}const ip=h.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:u,onEscapeKeyDown:c,onShow:d,onHide:f,container:p,autoFocus:m,enforceFocus:_,restoreFocus:E,restoreFocusOptions:g,onEntered:v,onExit:w,onExiting:S,onEnter:I,onEntering:R,onExited:y,backdropClassName:T,manager:N,renderStaticNode:k,...b},O)=>{const L=h.useRef();t=ae(t,"offcanvas");const{onToggle:j}=h.useContext(Rr)||{},[B,A]=h.useState(!1),D=DI(s||"xs","up");h.useEffect(()=>{A(s?o&&!D:o)},[o,s,D]);const P=xe(()=>{j==null||j(),f==null||f()}),F=h.useMemo(()=>({onHide:P}),[P]);function M(){return N||(u?(L.current||(L.current=new vR({handleContainerOverflow:!1})),L.current):gR())}const z=(Y,...fe)=>{Y&&(Y.style.visibility="visible"),I==null||I(Y,...fe)},G=(Y,...fe)=>{Y&&(Y.style.visibility=""),y==null||y(...fe)},X=h.useCallback(Y=>C("div",{...Y,className:ee(`${t}-backdrop`,T)}),[T,t]),ne=Y=>C("div",{...Y,...b,className:ee(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return H(ut,{children:[!B&&(s||k)&&ne({}),C(Sw.Provider,{value:F,children:C(YI,{show:B,ref:O,backdrop:a,container:p,keyboard:l,autoFocus:m,enforceFocus:_&&!u,restoreFocus:E,restoreFocusOptions:g,onEscapeKeyDown:c,onShow:d,onHide:P,onEnter:z,onEntering:R,onEntered:v,onExit:w,onExiting:S,onExited:G,manager:M(),transition:yR,backdropTransition:wR,renderBackdrop:X,renderDialog:ne})})]})});ip.displayName="Offcanvas";ip.defaultProps=_R;const ER=Object.assign(ip,{Body:ZI,Header:uR,Title:dR}),Nw=h.forwardRef((t,e)=>{const n=h.useContext(Rr);return C(ER,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});Nw.displayName="NavbarOffcanvas";const CR=st("navbar-text",{Component:"span"}),SR={expand:!0,variant:"light",collapseOnSelect:!1},sp=h.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:d,onSelect:f,collapseOnSelect:p,...m}=$u(t,{expanded:"onToggle"}),_=ae(n,"navbar"),E=h.useCallback((...w)=>{f==null||f(...w),p&&c&&(d==null||d(!1))},[f,p,c,d]);m.role===void 0&&u!=="nav"&&(m.role="navigation");let g=`${_}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const v=h.useMemo(()=>({onToggle:()=>d==null?void 0:d(!c),bsPrefix:_,expanded:!!c,expand:r}),[_,c,r,d]);return C(Rr.Provider,{value:v,children:C(ni.Provider,{value:E,children:C(u,{ref:e,...m,className:ee(l,_,r&&g,i&&`${_}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});sp.defaultProps=SR;sp.displayName="Navbar";const Ka=Object.assign(sp,{Brand:cw,Collapse:vw,Offcanvas:Nw,Text:CR,Toggle:Qh});function Iw(){var t=h.useReducer(function(n){return!n},!1),e=t[1];return e}function TR(t,e,n,r){r===void 0&&(r=!1);var i=xe(n);h.useEffect(function(){var s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),function(){return s.removeEventListener(e,i,r)}},[t])}const kR=h.createContext(null),Vu=kR;function NR(){return h.useState(null)}var uv=Object.prototype.hasOwnProperty;function cv(t,e,n){for(n of t.keys())if(co(n,e))return n}function co(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&co(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=cv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=cv(e,i),!i)||!co(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(uv.call(t,n)&&++r&&!uv.call(e,n)||!(n in e)||!co(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function IR(t){var e=Xh();return[t[0],h.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Ct="top",Bt="bottom",jt="right",St="left",op="auto",fa=[Ct,Bt,jt,St],os="start",zo="end",RR="clippingParents",Rw="viewport",Hs="popper",bR="reference",dv=fa.reduce(function(t,e){return t.concat([e+"-"+os,e+"-"+zo])},[]),bw=[].concat(fa,[op]).reduce(function(t,e){return t.concat([e,e+"-"+os,e+"-"+zo])},[]),xR="beforeRead",OR="read",PR="afterRead",AR="beforeMain",DR="main",MR="afterMain",LR="beforeWrite",UR="write",FR="afterWrite",$R=[xR,OR,PR,AR,DR,MR,LR,UR,FR];function un(t){return t.split("-")[0]}function zt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ri(t){var e=zt(t).Element;return t instanceof e||t instanceof Element}function cn(t){var e=zt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ap(t){if(typeof ShadowRoot>"u")return!1;var e=zt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Kr=Math.max,Kl=Math.min,as=Math.round;function yf(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xw(){return!/^((?!chrome|android).)*safari/i.test(yf())}function ls(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&cn(t)&&(i=t.offsetWidth>0&&as(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&as(r.height)/t.offsetHeight||1);var o=ri(t)?zt(t):window,a=o.visualViewport,l=!xw()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function lp(t){var e=ls(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ow(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ap(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Er(t){return t?(t.nodeName||"").toLowerCase():null}function Ln(t){return zt(t).getComputedStyle(t)}function BR(t){return["table","td","th"].indexOf(Er(t))>=0}function br(t){return((ri(t)?t.ownerDocument:t.document)||window.document).documentElement}function Gu(t){return Er(t)==="html"?t:t.assignedSlot||t.parentNode||(ap(t)?t.host:null)||br(t)}function fv(t){return!cn(t)||Ln(t).position==="fixed"?null:t.offsetParent}function jR(t){var e=/firefox/i.test(yf()),n=/Trident/i.test(yf());if(n&&cn(t)){var r=Ln(t);if(r.position==="fixed")return null}var i=Gu(t);for(ap(i)&&(i=i.host);cn(i)&&["html","body"].indexOf(Er(i))<0;){var s=Ln(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function ha(t){for(var e=zt(t),n=fv(t);n&&BR(n)&&Ln(n).position==="static";)n=fv(n);return n&&(Er(n)==="html"||Er(n)==="body"&&Ln(n).position==="static")?e:n||jR(t)||e}function up(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fo(t,e,n){return Kr(t,Kl(e,n))}function zR(t,e,n){var r=fo(t,e,n);return r>n?n:r}function Pw(){return{top:0,right:0,bottom:0,left:0}}function Aw(t){return Object.assign({},Pw(),t)}function Dw(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var WR=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Aw(typeof e!="number"?e:Dw(e,fa))};function HR(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=un(n.placement),l=up(a),u=[St,jt].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=WR(i.padding,n),f=lp(s),p=l==="y"?Ct:St,m=l==="y"?Bt:jt,_=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],E=o[l]-n.rects.reference[l],g=ha(s),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,w=_/2-E/2,S=d[p],I=v-f[c]-d[m],R=v/2-f[c]/2+w,y=fo(S,R,I),T=l;n.modifiersData[r]=(e={},e[T]=y,e.centerOffset=y-R,e)}}function VR(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ow(e.elements.popper,i)&&(e.elements.arrow=i))}const GR={name:"arrow",enabled:!0,phase:"main",fn:HR,effect:VR,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function us(t){return t.split("-")[1]}var KR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qR(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:as(e*i)/i||0,y:as(n*i)/i||0}}function hv(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,_=m===void 0?0:m,E=typeof c=="function"?c({x:p,y:_}):{x:p,y:_};p=E.x,_=E.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),w=St,S=Ct,I=window;if(u){var R=ha(n),y="clientHeight",T="clientWidth";if(R===zt(n)&&(R=br(n),Ln(R).position!=="static"&&a==="absolute"&&(y="scrollHeight",T="scrollWidth")),R=R,i===Ct||(i===St||i===jt)&&s===zo){S=Bt;var N=d&&R===I&&I.visualViewport?I.visualViewport.height:R[y];_-=N-r.height,_*=l?1:-1}if(i===St||(i===Ct||i===Bt)&&s===zo){w=jt;var k=d&&R===I&&I.visualViewport?I.visualViewport.width:R[T];p-=k-r.width,p*=l?1:-1}}var b=Object.assign({position:a},u&&KR),O=c===!0?qR({x:p,y:_}):{x:p,y:_};if(p=O.x,_=O.y,l){var L;return Object.assign({},b,(L={},L[S]=v?"0":"",L[w]=g?"0":"",L.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",L))}return Object.assign({},b,(e={},e[S]=v?_+"px":"",e[w]=g?p+"px":"",e.transform="",e))}function YR(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:un(e.placement),variation:us(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hv(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hv(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const QR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YR,data:{}};var qa={passive:!0};function XR(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=zt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,qa)}),a&&l.addEventListener("resize",n.update,qa),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,qa)}),a&&l.removeEventListener("resize",n.update,qa)}}const JR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XR,data:{}};var ZR={left:"right",right:"left",bottom:"top",top:"bottom"};function pl(t){return t.replace(/left|right|bottom|top/g,function(e){return ZR[e]})}var eb={start:"end",end:"start"};function pv(t){return t.replace(/start|end/g,function(e){return eb[e]})}function cp(t){var e=zt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dp(t){return ls(br(t)).left+cp(t).scrollLeft}function tb(t,e){var n=zt(t),r=br(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=xw();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+dp(t),y:l}}function nb(t){var e,n=br(t),r=cp(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Kr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Kr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+dp(t),l=-r.scrollTop;return Ln(i||n).direction==="rtl"&&(a+=Kr(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function fp(t){var e=Ln(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Mw(t){return["html","body","#document"].indexOf(Er(t))>=0?t.ownerDocument.body:cn(t)&&fp(t)?t:Mw(Gu(t))}function ho(t,e){var n;e===void 0&&(e=[]);var r=Mw(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=zt(r),o=i?[s].concat(s.visualViewport||[],fp(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ho(Gu(o)))}function wf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rb(t,e){var n=ls(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function mv(t,e,n){return e===Rw?wf(tb(t,n)):ri(e)?rb(e,n):wf(nb(br(t)))}function ib(t){var e=ho(Gu(t)),n=["absolute","fixed"].indexOf(Ln(t).position)>=0,r=n&&cn(t)?ha(t):t;return ri(r)?e.filter(function(i){return ri(i)&&Ow(i,r)&&Er(i)!=="body"}):[]}function sb(t,e,n,r){var i=e==="clippingParents"?ib(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=mv(t,u,r);return l.top=Kr(c.top,l.top),l.right=Kl(c.right,l.right),l.bottom=Kl(c.bottom,l.bottom),l.left=Kr(c.left,l.left),l},mv(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Lw(t){var e=t.reference,n=t.element,r=t.placement,i=r?un(r):null,s=r?us(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ct:l={x:o,y:e.y-n.height};break;case Bt:l={x:o,y:e.y+e.height};break;case jt:l={x:e.x+e.width,y:a};break;case St:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?up(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case os:l[u]=l[u]-(e[c]/2-n[c]/2);break;case zo:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Wo(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?RR:a,u=n.rootBoundary,c=u===void 0?Rw:u,d=n.elementContext,f=d===void 0?Hs:d,p=n.altBoundary,m=p===void 0?!1:p,_=n.padding,E=_===void 0?0:_,g=Aw(typeof E!="number"?E:Dw(E,fa)),v=f===Hs?bR:Hs,w=t.rects.popper,S=t.elements[m?v:f],I=sb(ri(S)?S:S.contextElement||br(t.elements.popper),l,c,o),R=ls(t.elements.reference),y=Lw({reference:R,element:w,strategy:"absolute",placement:i}),T=wf(Object.assign({},w,y)),N=f===Hs?T:R,k={top:I.top-N.top+g.top,bottom:N.bottom-I.bottom+g.bottom,left:I.left-N.left+g.left,right:N.right-I.right+g.right},b=t.modifiersData.offset;if(f===Hs&&b){var O=b[i];Object.keys(k).forEach(function(L){var j=[jt,Bt].indexOf(L)>=0?1:-1,B=[Ct,Bt].indexOf(L)>=0?"y":"x";k[L]+=O[B]*j})}return k}function ob(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?bw:l,c=us(r),d=c?a?dv:dv.filter(function(m){return us(m)===c}):fa,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,_){return m[_]=Wo(t,{placement:_,boundary:i,rootBoundary:s,padding:o})[un(_)],m},{});return Object.keys(p).sort(function(m,_){return p[m]-p[_]})}function ab(t){if(un(t)===op)return[];var e=pl(t);return[pv(t),e,pv(e)]}function lb(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,_=n.allowedAutoPlacements,E=e.options.placement,g=un(E),v=g===E,w=l||(v||!m?[pl(E)]:ab(E)),S=[E].concat(w).reduce(function(ne,Y){return ne.concat(un(Y)===op?ob(e,{placement:Y,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:_}):Y)},[]),I=e.rects.reference,R=e.rects.popper,y=new Map,T=!0,N=S[0],k=0;k<S.length;k++){var b=S[k],O=un(b),L=us(b)===os,j=[Ct,Bt].indexOf(O)>=0,B=j?"width":"height",A=Wo(e,{placement:b,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),D=j?L?jt:St:L?Bt:Ct;I[B]>R[B]&&(D=pl(D));var P=pl(D),F=[];if(s&&F.push(A[O]<=0),a&&F.push(A[D]<=0,A[P]<=0),F.every(function(ne){return ne})){N=b,T=!1;break}y.set(b,F)}if(T)for(var M=m?3:1,z=function(Y){var fe=S.find(function(ce){var Se=y.get(ce);if(Se)return Se.slice(0,Y).every(function(Pt){return Pt})});if(fe)return N=fe,"break"},G=M;G>0;G--){var X=z(G);if(X==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const ub={name:"flip",enabled:!0,phase:"main",fn:lb,requiresIfExists:["offset"],data:{_skip:!1}};function gv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function vv(t){return[Ct,jt,Bt,St].some(function(e){return t[e]>=0})}function cb(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Wo(e,{elementContext:"reference"}),a=Wo(e,{altBoundary:!0}),l=gv(o,r),u=gv(a,i,s),c=vv(l),d=vv(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const db={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cb};function fb(t,e,n){var r=un(t),i=[St,Ct].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[St,jt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function hb(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=bw.reduce(function(c,d){return c[d]=fb(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const pb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hb};function mb(t){var e=t.state,n=t.name;e.modifiersData[n]=Lw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const gb={name:"popperOffsets",enabled:!0,phase:"read",fn:mb,data:{}};function vb(t){return t==="x"?"y":"x"}function _b(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,_=m===void 0?0:m,E=Wo(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=un(e.placement),v=us(e.placement),w=!v,S=up(g),I=vb(S),R=e.modifiersData.popperOffsets,y=e.rects.reference,T=e.rects.popper,N=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,k=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),b=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(R){if(s){var L,j=S==="y"?Ct:St,B=S==="y"?Bt:jt,A=S==="y"?"height":"width",D=R[S],P=D+E[j],F=D-E[B],M=p?-T[A]/2:0,z=v===os?y[A]:T[A],G=v===os?-T[A]:-y[A],X=e.elements.arrow,ne=p&&X?lp(X):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pw(),fe=Y[j],ce=Y[B],Se=fo(0,y[A],ne[A]),Pt=w?y[A]/2-M-Se-fe-k.mainAxis:z-Se-fe-k.mainAxis,Ze=w?-y[A]/2+M+Se+ce+k.mainAxis:G+Se+ce+k.mainAxis,Me=e.elements.arrow&&ha(e.elements.arrow),Wt=Me?S==="y"?Me.clientTop||0:Me.clientLeft||0:0,ot=(L=b==null?void 0:b[S])!=null?L:0,re=D+Pt-ot-Wt,xs=D+Ze-ot,gi=fo(p?Kl(P,re):P,D,p?Kr(F,xs):F);R[S]=gi,O[S]=gi-D}if(a){var ka,fc=S==="x"?Ct:St,hc=S==="x"?Bt:jt,gn=R[I],vi=I==="y"?"height":"width",Os=gn+E[fc],Or=gn-E[hc],_i=[Ct,St].indexOf(g)!==-1,Na=(ka=b==null?void 0:b[I])!=null?ka:0,Ia=_i?Os:gn-y[vi]-T[vi]-Na+k.altAxis,Ra=_i?gn+y[vi]+T[vi]-Na-k.altAxis:Or,Ps=p&&_i?zR(Ia,gn,Ra):fo(p?Ia:Os,gn,p?Ra:Or);R[I]=Ps,O[I]=Ps-gn}e.modifiersData[r]=O}}const yb={name:"preventOverflow",enabled:!0,phase:"main",fn:_b,requiresIfExists:["offset"]};function wb(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Eb(t){return t===zt(t)||!cn(t)?cp(t):wb(t)}function Cb(t){var e=t.getBoundingClientRect(),n=as(e.width)/t.offsetWidth||1,r=as(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Sb(t,e,n){n===void 0&&(n=!1);var r=cn(e),i=cn(e)&&Cb(e),s=br(e),o=ls(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Er(e)!=="body"||fp(s))&&(a=Eb(e)),cn(e)?(l=ls(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=dp(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Tb(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function kb(t){var e=Tb(t);return $R.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Nb(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ib(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var _v={placement:"bottom",modifiers:[],strategy:"absolute"};function yv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rb(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?_v:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},_v,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;_(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:ri(a)?ho(a):a.contextElement?ho(a.contextElement):[],popper:ho(l)};var w=kb(Ib([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var g=c.elements,v=g.reference,w=g.popper;if(yv(v,w)){c.rects={reference:Sb(v,ha(w),c.options.strategy==="fixed"),popper:lp(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var I=c.orderedModifiers[S],R=I.fn,y=I.options,T=y===void 0?{}:y,N=I.name;typeof R=="function"&&(c=R({state:c,options:T,name:N,instance:p})||c)}}}},update:Nb(function(){return new Promise(function(E){p.forceUpdate(),E(c)})}),destroy:function(){_(),f=!0}};if(!yv(a,l))return p;p.setOptions(u).then(function(E){!f&&u.onFirstUpdate&&u.onFirstUpdate(E)});function m(){c.orderedModifiers.forEach(function(E){var g=E.name,v=E.options,w=v===void 0?{}:v,S=E.effect;if(typeof S=="function"){var I=S({state:c,name:g,instance:p,options:w}),R=function(){};d.push(I||R)}})}function _(){d.forEach(function(E){return E()}),d=[]}return p}}const bb=Rb({defaultModifiers:[db,gb,QR,JR,pb,ub,yb,GR]}),xb=["enabled","placement","strategy","modifiers"];function Ob(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Pb={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Ab={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},Db=[];function Mb(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=Db}=n,a=Ob(n,xb);const l=h.useRef(o),u=h.useRef(),c=h.useCallback(()=>{var E;(E=u.current)==null||E.update()},[]),d=h.useCallback(()=>{var E;(E=u.current)==null||E.forceUpdate()},[]),[f,p]=IR(h.useState({placement:i,update:c,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),m=h.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:E})=>{const g={},v={};Object.keys(E.elements).forEach(w=>{g[w]=E.styles[w],v[w]=E.attributes[w]}),p({state:E,styles:g,attributes:v,update:c,forceUpdate:d,placement:E.placement})}}),[c,d,p]),_=h.useMemo(()=>(co(l.current,o)||(l.current=o),l.current),[o]);return h.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:s,modifiers:[..._,m,Pb]})},[s,i,m,r,_]),h.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=bb(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[..._,Ab,m]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,p(E=>Object.assign({},E,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}const wv=()=>{};function Lb(t){return t.button===0}function Ub(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const qc=t=>t&&("current"in t?t.current:t),Ev={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Fb(t,e=wv,{disabled:n,clickTrigger:r="click"}={}){const i=h.useRef(!1),s=h.useRef(!1),o=h.useCallback(u=>{const c=qc(t);i.current=!c||Ub(u)||!Lb(u)||!!Gl(c,u.target)||s.current,s.current=!1},[t]),a=xe(u=>{const c=qc(t);c&&Gl(c,u.target)&&(s.current=!0)}),l=xe(u=>{i.current||e(u)});h.useEffect(()=>{if(n||t==null)return;const u=Bu(qc(t));let c=(u.defaultView||window).event,d=null;Ev[r]&&(d=or(u,Ev[r],a,!0));const f=or(u,r,o,!0),p=or(u,r,_=>{if(_===c){c=void 0;return}l(_)});let m=[];return"ontouchstart"in u.documentElement&&(m=[].slice.call(u.body.children).map(_=>or(_,"mousemove",wv))),()=>{d==null||d(),f(),p(),m.forEach(_=>_())}},[t,n,r,o,a,l])}function $b(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function Bb(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function jb({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var u,c,d,f,p;const m=$b(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:Bb(Object.assign({},m,{eventListeners:{enabled:e,options:(u=m.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:o?Object.assign({padding:o},(c=m.preventOverflow)==null?void 0:c.options):(d=m.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=m.offset)==null?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!a,options:Object.assign({},(p=m.arrow)==null?void 0:p.options,{element:a})}),flip:Object.assign({enabled:!!r},m.flip)}))})}const zb=["children"];function Wb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Hb=()=>{};function Uw(t={}){const e=h.useContext(Vu),[n,r]=NR(),i=h.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:d=!0,usePopper:f=!!e}=t,p=(e==null?void 0:e.show)==null?!!t.show:e.show;p&&!i.current&&(i.current=!0);const m=R=>{e==null||e.toggle(!1,R)},{placement:_,setMenu:E,menuElement:g,toggleElement:v}=e||{},w=Mb(v,g,jb({placement:u||_||"bottom-start",enabled:f,enableEvents:d??p,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:c})),S=Object.assign({ref:E||Hb,"aria-labelledby":v==null?void 0:v.id},w.attributes.popper,{style:w.styles.popper}),I={show:p,placement:_,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return Fb(g,m,{clickTrigger:a,disabled:!p}),[S,I]}const Vb={usePopper:!0};function hp(t){let{children:e}=t,n=Wb(t,zb);const[r,i]=Uw(n);return C(ut,{children:e(r,i)})}hp.displayName="DropdownMenu";hp.defaultProps=Vb;const Fw={prefix:String(Math.round(Math.random()*1e10)),current:0},Gb=x.createContext(Fw);let Kb=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function qb(t){let e=h.useContext(Gb);return e===Fw&&!Kb&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),h.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}const $w=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Cv=()=>{};function Bw(){const t=qb(),{show:e=!1,toggle:n=Cv,setToggle:r,menuElement:i}=h.useContext(Vu)||{},s=h.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||Cv,onClick:s,"aria-expanded":!!e};return i&&$w(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function jw({children:t}){const[e,n]=Bw();return C(ut,{children:t(e,n)})}jw.displayName="DropdownToggle";const zw=h.createContext(null);zw.displayName="NavContext";const pp=zw,Yb=["as","disabled"];function Qb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xb(t){return!t||t.trim()==="#"}function mp({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&Xb(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const gp=h.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Qb(t,Yb);const[s,{tagName:o}]=mp(Object.assign({tagName:n,disabled:r},i));return C(o,Object.assign({},i,s,{ref:e}))});gp.displayName="Button";const Jb=["eventKey","disabled","onClick","active","as"];function Zb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ww({key:t,href:e,active:n,disabled:r,onClick:i}){const s=h.useContext(ni),o=h.useContext(pp),{activeKey:a}=o||{},l=Bo(t,e),u=n==null&&t!=null?Bo(a)===l:n;return[{onClick:xe(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":u,[Es("dropdown-item")]:""},{isActive:u}]}const Hw=h.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=gp}=t,a=Zb(t,Jb);const[l]=Ww({key:n,href:a.href,disabled:r,onClick:i,active:s});return C(o,Object.assign({},a,{ref:e},l))});Hw.displayName="DropdownItem";function Sv(){const t=Iw(),e=h.useRef(null),n=h.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function pa({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Es("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=Zh(),[u,c]=uw(e,t,r),[d,f]=Sv(),p=d.current,[m,_]=Sv(),E=m.current,g=ww(u),v=h.useRef(null),w=h.useRef(!1),S=h.useContext(ni),I=h.useCallback((b,O,L=O==null?void 0:O.type)=>{c(b,{originalEvent:O,source:L})},[c]),R=xe((b,O)=>{n==null||n(b,O),I(!1,O,"select"),O.isPropagationStopped()||S==null||S(b,O)}),y=h.useMemo(()=>({toggle:I,placement:o,show:u,menuElement:p,toggleElement:E,setMenu:f,setToggle:_}),[I,o,u,p,E,f,_]);p&&g&&!u&&(w.current=p.contains(p.ownerDocument.activeElement));const T=xe(()=>{E&&E.focus&&E.focus()}),N=xe(()=>{const b=v.current;let O=s;if(O==null&&(O=d.current&&$w(d.current)?"keyboard":!1),O===!1||O==="keyboard"&&!/^key.+$/.test(b))return;const L=wn(d.current,i)[0];L&&L.focus&&L.focus()});h.useEffect(()=>{u?N():w.current&&(w.current=!1,T())},[u,w,T,N]),h.useEffect(()=>{v.current=null});const k=(b,O)=>{if(!d.current)return null;const L=wn(d.current,i);let j=L.indexOf(b)+O;return j=Math.max(0,Math.min(j,L.length)),L[j]};return TR(h.useCallback(()=>l.document,[l]),"keydown",b=>{var O,L;const{key:j}=b,B=b.target,A=(O=d.current)==null?void 0:O.contains(B),D=(L=m.current)==null?void 0:L.contains(B);if(/input|textarea/i.test(B.tagName)&&(j===" "||j!=="Escape"&&A||j==="Escape"&&B.type==="search")||!A&&!D||j==="Tab"&&(!d.current||!u))return;v.current=b.type;const F={originalEvent:b,source:b.type};switch(j){case"ArrowUp":{const M=k(B,-1);M&&M.focus&&M.focus(),b.preventDefault();return}case"ArrowDown":if(b.preventDefault(),!u)c(!0,F);else{const M=k(B,1);M&&M.focus&&M.focus()}return;case"Tab":pw(B.ownerDocument,"keyup",M=>{var z;(M.key==="Tab"&&!M.target||!((z=d.current)!=null&&z.contains(M.target)))&&c(!1,F)},{once:!0});break;case"Escape":j==="Escape"&&(b.preventDefault(),b.stopPropagation()),c(!1,F);break}}),C(ni.Provider,{value:R,children:C(Vu.Provider,{value:y,children:a})})}pa.displayName="Dropdown";pa.Menu=hp;pa.Toggle=jw;pa.Item=Hw;const Vw=h.createContext({});Vw.displayName="DropdownContext";const Gw=Vw,ex=["onKeyDown"];function tx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nx(t){return!t||t.trim()==="#"}const Kw=h.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=tx(t,ex);const[i]=mp(Object.assign({tagName:"a"},r)),s=xe(o=>{i.onKeyDown(o),n==null||n(o)});return nx(r.href)||r.role==="button"?C("a",Object.assign({ref:e},r,i,{onKeyDown:s})):C("a",Object.assign({ref:e},r,{onKeyDown:n}))});Kw.displayName="Anchor";const ql=Kw,qw=h.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=ql,...a},l)=>{const u=ae(t,"dropdown-item"),[c,d]=Ww({key:n,href:a.href,disabled:r,onClick:i,active:s});return C(o,{...a,...c,ref:l,className:ee(e,u,d.isActive&&"active",r&&"disabled")})});qw.displayName="DropdownItem";const rx=qw,Yw=h.createContext(null);Yw.displayName="InputGroupContext";const Qw=Yw;function Xw(t,e){return t}const ix={flip:!0};function Jw(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let d=t?o:s;return e==="up"?d=t?i:r:e==="end"?d=t?c:u:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const vp=h.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:u,...c},d)=>{let f=!1;const p=h.useContext(Rr),m=ae(t,"dropdown-menu"),{align:_,drop:E,isRTL:g}=h.useContext(Gw);n=n||_;const v=h.useContext(Qw),w=[];if(n)if(typeof n=="object"){const b=Object.keys(n);if(b.length){const O=b[0],L=n[O];f=L==="start",w.push(`${m}-${O}-${L}`)}}else n==="end"&&(f=!0);const S=Jw(f,E,g),[I,{hasShown:R,popper:y,show:T,toggle:N}]=Uw({flip:i,rootCloseEvent:r,show:s,usePopper:!p&&w.length===0,offset:[0,2],popperConfig:l,placement:S});if(I.ref=ws(Xw(d),I.ref),Vl(()=>{T&&(y==null||y.update())},[T]),!R&&!o&&!v)return null;typeof a!="string"&&(I.show=T,I.close=()=>N==null?void 0:N(!1),I.align=n);let k=c.style;return y!=null&&y.placement&&(k={...c.style,...I.style},c["x-placement"]=y.placement),C(a,{...c,...I,style:k,...(w.length||p)&&{"data-bs-popper":"static"},className:ee(e,m,T&&"show",f&&`${m}-end`,u&&`${m}-${u}`,...w)})});vp.displayName="DropdownMenu";vp.defaultProps=ix;const sx=vp,ox={variant:"primary",active:!1,disabled:!1},Le=h.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=ae(e,"btn"),[u,{tagName:c}]=mp({tagName:t,...o});return C(c,{...u,...o,ref:a,className:ee(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});Le.displayName="Button";Le.defaultProps=ox;const Zw=h.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Le,...s},o)=>{const a=ae(t,"dropdown-toggle"),l=h.useContext(Vu);r!==void 0&&(s.bsPrefix=r);const[u]=Bw();return u.ref=ws(u.ref,Xw(o)),C(i,{className:ee(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...s})});Zw.displayName="DropdownToggle";const ax=Zw,lx=st("dropdown-header",{defaultProps:{role:"heading"}}),ux=st("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),cx=st("dropdown-item-text",{Component:"span"}),dx={navbar:!1,align:"start",autoClose:!0,drop:"down"},_p=h.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:d,autoClose:f,...p}=$u(t,{show:"onToggle"}),m=h.useContext(Qw),_=ae(n,"dropdown"),E=aw(),g=y=>f===!1?y==="click":f==="inside"?y!=="rootClose":f==="outside"?y!=="select":!0,v=xe((y,T)=>{T.originalEvent.currentTarget===document&&(T.source!=="keydown"||T.originalEvent.key==="Escape")&&(T.source="rootClose"),g(T.source)&&(l==null||l(y,T))}),S=Jw(o==="end",r,E),I=h.useMemo(()=>({align:o,drop:r,isRTL:E}),[o,r,E]),R={down:_,"down-centered":`${_}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return C(Gw.Provider,{value:I,children:C(pa,{placement:S,show:i,onSelect:a,onToggle:v,focusFirstItemOnShow:u,itemSelector:`.${_}-item:not(.disabled):not(:disabled)`,children:m?p.children:C(c,{...p,ref:e,className:ee(s,i&&"show",R[r])})})})});_p.displayName="Dropdown";_p.defaultProps=dx;const Br=Object.assign(_p,{Toggle:ax,Menu:sx,Item:rx,ItemText:cx,Divider:ux,Header:lx}),fx=h.createContext(null),eE=fx,hx=["as","active","eventKey"];function px(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tE({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=h.useContext(ni),a=h.useContext(pp),l=h.useContext(eE);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);c[Es("event-key")]=t,c.id=d||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=xe(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[c,{isActive:u}]}const nE=h.forwardRef((t,e)=>{let{as:n=gp,active:r,eventKey:i}=t,s=px(t,hx);const[o,a]=tE(Object.assign({key:Bo(i,s.href),active:r},s));return o[Es("active")]=a.isActive,C(n,Object.assign({},s,o,{ref:e}))});nE.displayName="NavItem";const mx=nE,gx={disabled:!1},Ku=h.forwardRef(({bsPrefix:t,className:e,as:n=ql,active:r,eventKey:i,...s},o)=>{t=ae(t,"nav-link");const[a,l]=tE({key:Bo(i,s.href),active:r,...s});return C(n,{...s,...a,ref:o,className:ee(e,t,s.disabled&&"disabled",l.isActive&&"active")})});Ku.displayName="NavLink";Ku.defaultProps=gx;const rE=h.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:u,menuVariant:c,...d},f)=>{const p=ae(void 0,"nav-item");return H(Br,{ref:f,...d,className:ee(i,p),children:[C(Br.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:Ku,children:e}),C(Br.Menu,{role:o,renderOnMount:u,rootCloseEvent:s,variant:c,children:n})]})});rE.displayName="NavDropdown";const Tv=Object.assign(rE,{Item:Br.Item,ItemText:Br.ItemText,Divider:Br.Divider,Header:Br.Header});var Ef={},vx={get exports(){return Ef},set exports(t){Ef=t}},Yl={},_x={get exports(){return Yl},set exports(t){Yl=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,c,d){var f=u||"<<anonymous>>",p=d||l;if(a[l]==null)return o?new Error("Required "+c+" `"+p+"` was not specified "+("in `"+f+"`.")):null;for(var m=arguments.length,_=Array(m>6?m-6:0),E=6;E<m;E++)_[E-6]=arguments[E];return r.apply(void 0,[a,l,f,c,p].concat(_))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(_x,Yl);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=Yl,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=null;return a.forEach(function(m){if(p==null){var _=m.apply(void 0,d);_!=null&&(p=_)}}),p}return(0,r.default)(u)}t.exports=e.default})(vx,Ef);const yx=["as","onSelect","activeKey","role","onKeyDown"];function wx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const kv=()=>{},Nv=Es("event-key"),iE=h.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=wx(t,yx);const l=Iw(),u=h.useRef(!1),c=h.useContext(ni),d=h.useContext(eE);let f,p;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,p=d.getControllerId);const m=h.useRef(null),_=w=>{const S=m.current;if(!S)return null;const I=wn(S,`[${Nv}]:not([aria-disabled=true])`),R=S.querySelector("[aria-selected=true]");if(!R||R!==document.activeElement)return null;const y=I.indexOf(R);if(y===-1)return null;let T=y+w;return T>=I.length&&(T=0),T<0&&(T=I.length-1),I[T]},E=(w,S)=>{w!=null&&(r==null||r(w,S),c==null||c(w,S))},g=w=>{if(o==null||o(w),!d)return;let S;switch(w.key){case"ArrowLeft":case"ArrowUp":S=_(-1);break;case"ArrowRight":case"ArrowDown":S=_(1);break;default:return}S&&(w.preventDefault(),E(S.dataset[FI("EventKey")]||null,w),u.current=!0,l())};h.useEffect(()=>{if(m.current&&u.current){const w=m.current.querySelector(`[${Nv}][aria-selected=true]`);w==null||w.focus()}u.current=!1});const v=ws(e,m);return C(ni.Provider,{value:E,children:C(pp.Provider,{value:{role:s,activeKey:Bo(i),getControlledId:f||kv,getControllerId:p||kv},children:C(n,Object.assign({},a,{onKeyDown:g,ref:v,role:s}))})})});iE.displayName="Nav";const Ex=Object.assign(iE,{Item:mx}),sE=h.createContext(null);sE.displayName="CardHeaderContext";const oE=sE,Cx=st("nav-item"),Sx={justify:!1,fill:!1},yp=h.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:u,activeKey:c,...d}=$u(t,{activeKey:"onSelect"}),f=ae(r,"nav");let p,m,_=!1;const E=h.useContext(Rr),g=h.useContext(oE);return E?(p=E.bsPrefix,_=a??!0):g&&({cardHeaderBsPrefix:m}=g),C(Ex,{as:n,ref:e,activeKey:c,className:ee(u,{[f]:!_,[`${p}-nav`]:_,[`${p}-nav-scroll`]:_&&l,[`${m}-${i}`]:!!m,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});yp.displayName="Nav";yp.defaultProps=Sx;Object.assign(yp,{Item:Cx,Link:Ku});var aE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iv=x.createContext&&x.createContext(aE),mr=globalThis&&globalThis.__assign||function(){return mr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mr.apply(this,arguments)},Tx=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function lE(t){return t&&t.map(function(e,n){return x.createElement(e.tag,mr({key:n},e.attr),lE(e.child))})}function xr(t){return function(e){return x.createElement(kx,mr({attr:mr({},t.attr)},e),lE(t.child))}}function kx(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Tx(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),x.createElement("svg",mr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:mr(mr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&x.createElement("title",null,s),t.children)};return Iv!==void 0?x.createElement(Iv.Consumer,null,function(n){return e(n)}):e(aE)}function Rv(t){return xr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"}}]})(t)}function uE(t){return xr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"}}]})(t)}function wp(t){return xr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(t)}function cE(t){return xr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw Cs(e)},Cs=function(t){return new Error("Firebase Database ("+dE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hE=function(t){const e=fE(t);return Ep.encodeByteArray(e,!0)},Ql=function(t){return hE(t).replace(/\./g,"")},Xl=function(t){try{return Ep.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){return pE(void 0,t)}function pE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Rx(n)||(t[n]=pE(t[n],e[n]));return t}function Rx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=()=>bx().__FIREBASE_DEFAULTS__,Ox=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Px=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xl(t[1]);return e&&JSON.parse(e)},qu=()=>{try{return xx()||Ox()||Px()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>{var e,n;return(n=(e=qu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gE=t=>{const e=mE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ax=()=>{var t;return(t=qu())===null||t===void 0?void 0:t.config},vE=t=>{var e;return(e=qu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ql(JSON.stringify(n)),Ql(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Dx(){var t;const e=(t=qu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lx(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wE(){return dE.NODE_ADMIN===!0}function Ux(){try{return typeof indexedDB=="object"}catch{return!1}}function Fx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="FirebaseError";class Wn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$x,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Bx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wn(i,a,r)}}function Bx(t,e){return t.replace(jx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){return JSON.parse(t)}function We(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ho(Xl(s[0])||""),n=Ho(Xl(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},zx=function(t){const e=EE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Wx=function(t){const e=EE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Cf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Zl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bv(s)&&bv(o)){if(!Zl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Vx(t,e){const n=new Gx(t,e);return n.subscribe.bind(n)}class Gx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yc),i.error===void 0&&(i.error=Yc),i.complete===void 0&&(i.complete=Yc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yc(){}function Sp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Yu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xx(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qx(t){return t===Mr?void 0:t}function Xx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const Zx={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},eO=me.INFO,tO={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},nO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=eO,this._logHandler=nO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const rO=(t,e)=>e.some(n=>t instanceof n);let xv,Ov;function iO(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sO(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CE=new WeakMap,Sf=new WeakMap,SE=new WeakMap,Qc=new WeakMap,kp=new WeakMap;function oO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CE.set(n,t)}).catch(()=>{}),kp.set(e,t),e}function aO(t){if(Sf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}let Tf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lO(t){Tf=t(Tf)}function uO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xc(this),e,...n);return SE.set(r,e.sort?e.sort():[e]),gr(r)}:sO().includes(t)?function(...e){return t.apply(Xc(this),e),gr(CE.get(this))}:function(...e){return gr(t.apply(Xc(this),e))}}function cO(t){return typeof t=="function"?uO(t):(t instanceof IDBTransaction&&aO(t),rO(t,iO())?new Proxy(t,Tf):t)}function gr(t){if(t instanceof IDBRequest)return oO(t);if(Qc.has(t))return Qc.get(t);const e=cO(t);return e!==t&&(Qc.set(t,e),kp.set(e,t)),e}const Xc=t=>kp.get(t);function dO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gr(o.result),l.oldVersion,l.newVersion,gr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const fO=["get","getKey","getAll","getAllKeys","count"],hO=["put","add","delete","clear"],Jc=new Map;function Pv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jc.get(e))return Jc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Jc.set(e,s),s}lO(t=>({...t,get:(e,n,r)=>Pv(e,n)||t.get(e,n,r),has:(e,n)=>!!Pv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",Av="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Tp("@firebase/app"),gO="@firebase/app-compat",vO="@firebase/analytics-compat",_O="@firebase/analytics",yO="@firebase/app-check-compat",wO="@firebase/app-check",EO="@firebase/auth",CO="@firebase/auth-compat",SO="@firebase/database",TO="@firebase/database-compat",kO="@firebase/functions",NO="@firebase/functions-compat",IO="@firebase/installations",RO="@firebase/installations-compat",bO="@firebase/messaging",xO="@firebase/messaging-compat",OO="@firebase/performance",PO="@firebase/performance-compat",AO="@firebase/remote-config",DO="@firebase/remote-config-compat",MO="@firebase/storage",LO="@firebase/storage-compat",UO="@firebase/firestore",FO="@firebase/firestore-compat",$O="firebase",BO="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]",jO={[kf]:"fire-core",[gO]:"fire-core-compat",[_O]:"fire-analytics",[vO]:"fire-analytics-compat",[wO]:"fire-app-check",[yO]:"fire-app-check-compat",[EO]:"fire-auth",[CO]:"fire-auth-compat",[SO]:"fire-rtdb",[TO]:"fire-rtdb-compat",[kO]:"fire-fn",[NO]:"fire-fn-compat",[IO]:"fire-iid",[RO]:"fire-iid-compat",[bO]:"fire-fcm",[xO]:"fire-fcm-compat",[OO]:"fire-perf",[PO]:"fire-perf-compat",[AO]:"fire-rc",[DO]:"fire-rc-compat",[MO]:"fire-gcs",[LO]:"fire-gcs-compat",[UO]:"fire-fst",[FO]:"fire-fst-compat","fire-js":"fire-js",[$O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,If=new Map;function zO(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function si(t){const e=t.name;if(If.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,t);for(const n of eu.values())zO(n,t);return!0}function Xu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vr=new ma("app","Firebase",WO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=BO;function TE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=Ax()),!n)throw vr.create("no-options");const s=eu.get(i);if(s){if(Zl(n,s.options)&&Zl(r,s.config))return s;throw vr.create("duplicate-app",{appName:i})}const o=new Jx(i);for(const l of If.values())o.addComponent(l);const a=new HO(n,r,o);return eu.set(i,a),a}function Np(t=Nf){const e=eu.get(t);if(!e&&t===Nf)return TE();if(!e)throw vr.create("no-app",{appName:t});return e}function dn(t,e,n){var r;let i=(r=jO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}si(new Cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="firebase-heartbeat-database",GO=1,Vo="firebase-heartbeat-store";let Zc=null;function kE(){return Zc||(Zc=dO(VO,GO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vo)}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),Zc}async function KO(t){try{return(await kE()).transaction(Vo).objectStore(Vo).get(NE(t))}catch(e){if(e instanceof Wn)ii.warn(e.message);else{const n=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function Dv(t,e){try{const r=(await kE()).transaction(Vo,"readwrite");return await r.objectStore(Vo).put(e,NE(t)),r.done}catch(n){if(n instanceof Wn)ii.warn(n.message);else{const r=vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(r.message)}}}function NE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=1024,YO=30*24*60*60*1e3;class QO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=YO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Mv(),{heartbeatsToSend:n,unsentEntries:r}=XO(this._heartbeatsCache.heartbeats),i=Ql(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Mv(){return new Date().toISOString().substring(0,10)}function XO(t,e=qO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Lv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ux()?Fx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Lv(t){return Ql(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){si(new Cr("platform-logger",e=>new pO(e),"PRIVATE")),si(new Cr("heartbeat",e=>new QO(e),"PRIVATE")),dn(kf,Av,t),dn(kf,Av,"esm2017"),dn("fire-js","")}ZO("");const Uv="@firebase/database",Fv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE="";function eP(t){IE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ho(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tP(e)}}catch{}return new nP},jr=RE("localStorage"),Rf=RE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Tp("@firebase/database"),rP=function(){let t=1;return function(){return t++}}(),bE=function(t){const e=qx(t),n=new Hx;n.update(e);const r=n.digest();return Ep.encodeByteArray(r)},ga=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ga.apply(null,r):typeof r=="object"?e+=We(r):e+=r,e+=" "}return e};let qr=null,$v=!0;const iP=function(t,e){$(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ki.logLevel=me.VERBOSE,qr=Ki.log.bind(Ki),e&&Rf.set("logging_enabled",!0)):typeof t=="function"?qr=t:(qr=null,Rf.remove("logging_enabled"))},Ke=function(...t){if($v===!0&&($v=!1,qr===null&&Rf.get("logging_enabled")===!0&&iP(!0)),qr){const e=ga.apply(null,t);qr(e)}},va=function(t){return function(...e){Ke(t,...e)}},bf=function(...t){const e="FIREBASE INTERNAL ERROR: "+ga(...t);Ki.error(e)},Un=function(...t){const e=`FIREBASE FATAL ERROR: ${ga(...t)}`;throw Ki.error(e),new Error(e)},Tt=function(...t){const e="FIREBASE WARNING: "+ga(...t);Ki.warn(e)},sP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ip=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},oP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ds="[MIN_NAME]",oi="[MAX_NAME]",pi=function(t,e){if(t===e)return 0;if(t===ds||e===oi)return-1;if(e===ds||t===oi)return 1;{const n=Bv(t),r=Bv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},aP=function(t,e){return t===e?0:t<e?-1:1},Vs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+We(e))},Rp=function(t){if(typeof t!="object"||t===null)return We(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=We(e[r]),n+=":",n+=Rp(t[e[r]]);return n+="}",n},xE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const OE=function(t){$(!Ip(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},lP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const dP=new RegExp("^-?(0*)\\d{1,10}$"),fP=-2147483648,hP=2147483647,Bv=function(t){if(dP.test(t)){const e=Number(t);if(e>=fP&&e<=hP)return e}return null},ks=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Tt("Exception was thrown by user callback.",n),e},Math.floor(0))}},pP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},po=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class qi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="5",PE="v",AE="s",DE="r",ME="f",LE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UE="ls",FE="p",xf="ac",$E="websocket",BE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zE(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===$E)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vP(t)&&(n.ns=t.namespace);const i=[];return Je(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Ix(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed={},td={};function xp(t){const e=t.toString();return ed[e]||(ed[e]=new _P),ed[e]}function yP(t,e){const n=t.toString();return td[n]||(td[n]=e()),td[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ks(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="start",EP="close",CP="pLPCommand",SP="pRTLPCB",WE="id",HE="pw",VE="ser",TP="cb",kP="seg",NP="ts",IP="d",RP="dframe",GE=1870,KE=30,bP=GE-KE,xP=25e3,OP=3e4;class Bi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=va(e),this.stats_=xp(n),this.urlFn=l=>(this.appCheckToken&&(l[xf]=this.appCheckToken),zE(n,BE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(OP)),oP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Op((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jv)this.id=a,this.password=l;else if(o===EP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[jv]="t",r[VE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[TP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[PE]=bp,this.transportSessionId&&(r[AE]=this.transportSessionId),this.lastSessionId&&(r[UE]=this.lastSessionId),this.applicationId&&(r[FE]=this.applicationId),this.appCheckToken&&(r[xf]=this.appCheckToken),typeof location<"u"&&location.hostname&&LE.test(location.hostname)&&(r[DE]=ME);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bi.forceAllow_=!0}static forceDisallow(){Bi.forceDisallow_=!0}static isAvailable(){return Bi.forceAllow_?!0:!Bi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lP()&&!uP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hE(n),i=xE(r,bP);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[RP]="t",r[WE]=e,r[HE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=We(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Op{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rP(),window[CP+this.uniqueCallbackIdentifier]=e,window[SP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Op.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ke("frame writing exception"),a.stack&&Ke(a.stack),Ke(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[WE]=this.myID,e[HE]=this.myPW,e[VE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+KE+r.length<=GE;){const o=this.pendingSegs.shift();r=r+"&"+kP+i+"="+o.seg+"&"+NP+i+"="+o.ts+"&"+IP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(xP)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=16384,AP=45e3;let tu=null;typeof MozWebSocket<"u"?tu=MozWebSocket:typeof WebSocket<"u"&&(tu=WebSocket);class Yt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=va(this.connId),this.stats_=xp(n),this.connURL=Yt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[PE]=bp,typeof location<"u"&&location.hostname&&LE.test(location.hostname)&&(o[DE]=ME),n&&(o[AE]=n),r&&(o[UE]=r),i&&(o[xf]=i),s&&(o[FE]=s),zE(e,$E,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jr.set("previous_websocket_failure",!0);try{let r;wE(),this.mySock=new tu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&tu!==null&&!Yt.forceDisallow_}static previouslyFailed(){return jr.isInMemoryStorage||jr.get("previous_websocket_failure")===!0}markConnectionHealthy(){jr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ho(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=xE(n,PP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Bi,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Yt&&Yt.isAvailable();let r=n&&!Yt.previouslyFailed();if(e.webSocketOnly&&(n||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const i=this.transports_=[];for(const s of Go.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Go.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Go.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=6e4,MP=5e3,LP=10*1024,UP=100*1024,nd="t",zv="d",FP="s",Wv="r",$P="e",Hv="o",Vv="a",Gv="n",Kv="p",BP="h";class jP{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=va("c:"+this.id+":"),this.transportManager_=new Go(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=po(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>UP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(nd in e){const n=e[nd];n===Vv?this.upgradeIfSecondaryHealthy_():n===Wv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Hv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vs("t",e),r=Vs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vs("t",e),r=Vs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vs(nd,e);if(zv in e){const r=e[zv];if(n===BP){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Gv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===FP?this.onConnectionShutdown_(r):n===Wv?this.onReset_(r):n===$P?bf("Server Error: "+r):n===Hv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bp!==r&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),po(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):po(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(MP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends YE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nu}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=32,Yv=768;class pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function de(){return new pe("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Sr(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function Pp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ko(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function QE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Oe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function oe(t){return t.pieceNum_>=t.pieces_.length}function vt(t,e){const n=se(t),r=se(e);if(n===null)return e;if(n===r)return vt(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function WP(t,e){const n=Ko(t,0),r=Ko(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=pi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Ap(t,e){if(Sr(t)!==Sr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Lt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Sr(t)>Sr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class HP{constructor(e,n){this.errorPrefix_=n,this.parts_=Ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qu(this.parts_[r]);XE(this)}}function VP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qu(e),XE(t)}function GP(t){const e=t.parts_.pop();t.byteLength_-=Qu(e),t.parts_.length>0&&(t.byteLength_-=1)}function XE(t){if(t.byteLength_>Yv)throw new Error(t.errorPrefix_+"has a key path longer than "+Yv+" bytes ("+t.byteLength_+").");if(t.parts_.length>qv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qv+") or object contains a cycle "+Lr(t))}function Lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends YE{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Dp}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=1e3,KP=60*5*1e3,Qv=30*1e3,qP=1.3,YP=3e4,QP="server_kill",Xv=3;class xn extends qE{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xn.nextPersistentConnectionId_++,this.log_=va("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gs,this.maxReconnectDelay_=KP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!wE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Dp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&nu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(We(s)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Yu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;xn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&mn(e,"w")){const r=cs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Wx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=zx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bf("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YP&&(this.reconnectDelay_=Gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){$(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new jP(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Tt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(QP)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Tt(d),l())}}}interrupt(e){Ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cf(this.interruptReasons_)&&(this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Rp(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ke("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xv&&(this.reconnectDelay_=Qv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ke("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+IE.replace(/\./g,"-")]=1,Cp()?e["framework.cordova"]=1:yE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nu.getInstance().currentlyOnline();return Cf(this.interruptReasons_)&&e}}xn.nextPersistentConnectionId_=0;xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(ds,e),i=new ie(ds,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;class JE extends Ju{static get __EMPTY_NODE(){return Ya}static set __EMPTY_NODE(e){Ya=e}compare(e,n){return pi(e.name,n.name)}isDefinedOn(e){throw Cs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(oi,Ya)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,Ya)}toString(){return".key"}}const Yi=new JE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??_t.EMPTY_NODE,this.right=s??_t.EMPTY_NODE}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return _t.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return _t.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class XP{copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _t{constructor(e,n=_t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new _t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new _t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qa(this.root_,null,this.comparator_,!0,e)}}_t.EMPTY_NODE=new XP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){return pi(t.name,e.name)}function Mp(t,e){return pi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of;function ZP(t){Of=t}const ZE=function(t){return typeof t=="number"?"number:"+OE(t):"string:"+t},e1=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else $(t===Of||t.isEmpty(),"priority of unexpected type.");$(t===Of||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv;class Be{constructor(e,n=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),e1(this.priorityNode_)}static set __childrenNodeConstructor(e){Jv=e}static get __childrenNodeConstructor(){return Jv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Be(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return oe(e)?this:se(e)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Sr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ZE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=OE(this.value_):e+=this.value_,this.lazyHash_=bE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Be.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Be.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Be.VALUE_TYPE_ORDER.indexOf(n),s=Be.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t1,n1;function eA(t){t1=t}function tA(t){n1=t}class nA extends Ju{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?pi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(oi,new Be("[PRIORITY-POST]",n1))}makePost(e,n){const r=t1(e);return new ie(n,new Be("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new nA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=Math.log(2);class iA{constructor(e){const n=s=>parseInt(Math.log(s)/rA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ru=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new ze(f,d.node,ze.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),_=i(p+1,u);return d=t[p],f=n?n(d):d,new ze(f,d.node,ze.BLACK,m,_)}},s=function(l){let u=null,c=null,d=t.length;const f=function(m,_){const E=d-m,g=d;d-=m;const v=i(E+1,g),w=t[E],S=n?n(w):w;p(new ze(S,w.node,_,null,v))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const _=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));_?f(E,ze.BLACK):(f(E,ze.BLACK),f(E,ze.RED))}return c},o=new iA(t.length),a=s(o);return new _t(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;const Ci={};class kn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(Ci&&Pe,"ChildrenNode.ts has not been loaded"),rd=rd||new kn({".priority":Ci},{".priority":Pe}),rd}get(e){const n=cs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof _t?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){$(e!==Yi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ru(r,e.getCompare()):a=Ci;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new kn(c,u)}addToIndexes(e,n){const r=Jl(this.indexes_,(i,s)=>{const o=cs(this.indexSet_,s);if($(o,"Missing index implementation for "+s),i===Ci)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ie.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),ru(a,o.getCompare())}else return Ci;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ie(e.name,a))),l.insert(e,e.node)}});return new kn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Jl(this.indexes_,i=>{if(i===Ci)return i;{const s=n.get(e.name);return s?i.remove(new ie(e.name,s)):i}});return new kn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&e1(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ks||(Ks=new Q(new _t(Mp),null,kn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ks}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ks:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ks:this.priorityNode_;return new Q(i,o,s)}}updateChild(e,n){const r=se(e);if(r===null)return n;{$(se(e)!==".priority"||Sr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Pe,(o,a)=>{n[o]=a.val(e),r++,s&&Q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ZE(this.getPriority().val())+":"),this.forEachChild(Pe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":bE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_a?-1:0}withIndex(e){if(e===Yi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Yi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pe),i=n.getIterator(Pe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Yi?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class sA extends Q{constructor(){super(new _t(Mp),Q.EMPTY_NODE,kn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const _a=new sA;Object.defineProperties(ie,{MIN:{value:new ie(ds,Q.EMPTY_NODE)},MAX:{value:new ie(oi,_a)}});JE.__EMPTY_NODE=Q.EMPTY_NODE;Be.__childrenNodeConstructor=Q;ZP(_a);tA(_a);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=!0;function qe(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Be(n,qe(e))}if(!(t instanceof Array)&&oA){const n=[];let r=!1;if(Je(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ie(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const s=ru(n,JP,o=>o.name,Mp);if(r){const o=ru(n,Pe.getCompare());return new Q(s,qe(e),new kn({".priority":o},{".priority":Pe}))}else return new Q(s,qe(e),kn.Default)}else{let n=Q.EMPTY_NODE;return Je(t,(r,i)=>{if(mn(t,r)&&r.substring(0,1)!=="."){const s=qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(qe(e))}}eA(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends Ju{constructor(e){super(),this.indexPath_=e,$(!oe(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?pi(e.name,n.name):s}makePost(e,n){const r=qe(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,_a);return new ie(oi,e)}toString(){return Ko(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends Ju{compare(e,n){const r=e.node.compareTo(n.node);return r===0?pi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=qe(e);return new ie(n,r)}toString(){return".value"}}const uA=new lA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){return{type:"value",snapshotNode:t}}function fs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function qo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Yo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function cA(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(qo(n,a)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(fs(n,r)):o.trackChildChange(Yo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Pe,(i,s)=>{n.hasChild(i)||r.trackChildChange(qo(i,s))}),n.isLeafNode()||n.forEachChild(Pe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Yo(i,s,o))}else r.trackChildChange(fs(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.indexedFilter_=new Lp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qo.getStartPost_(e),this.endPost_=Qo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ie(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return n.forEachChild(Pe,(o,a)=>{s.matches(new ie(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ie(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;$(a.numChildren()===this.limit_,"");const l=new ie(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(c&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Yo(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(qo(n,d));const _=a.updateImmediateChild(n,Q.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(fs(f.name,f.node)),_.updateImmediateChild(f.name,f.node)):_}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(qo(u.name,u.node)),s.trackChildChange(fs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ds}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const e=new Up;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fA(t){return t.loadsAllData()?new Lp(t.getIndex()):t.hasLimit()?new dA(t):new Qo(t)}function Zv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pe?n="$priority":t.index_===uA?n="$value":t.index_===Yi?n="$key":($(t.index_ instanceof aA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=We(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=We(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+We(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=We(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+We(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function e_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends qE{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=va("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=iu.getListenId_(e,r),a={};this.listens_[o]=a;const l=Zv(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),cs(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=iu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Zv(e._queryParams),r=e._path.toString(),i=new Yu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ss(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ho(a.responseText)}catch{Tt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Tt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(){return{value:null,children:new Map}}function i1(t,e,n){if(oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=se(e);t.children.has(r)||t.children.set(r,su());const i=t.children.get(r);e=_e(e),i1(i,e,n)}}function Pf(t,e,n){t.value!==null?n(e,t.value):pA(t,(r,i)=>{const s=new pe(e.toString()+"/"+r);Pf(i,s,n)})}function pA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=10*1e3,gA=30*1e3,vA=5*60*1e3;class _A{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mA(e);const r=t_+(gA-t_)*Math.random();po(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Je(e,(i,s)=>{s>0&&mn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),po(this.reportStats_.bind(this),Math.floor(Math.random()*2*vA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xt||(Xt={}));function Fp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $p(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Xt.ACK_USER_WRITE,this.source=Fp()}operationForChild(e){if(oe(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new ou(de(),n,this.revert)}}else return $(se(this.path)===e,"operationForChild called for unrelated child."),new ou(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.source=e,this.path=n,this.type=Xt.LISTEN_COMPLETE}operationForChild(e){return oe(this.path)?new Xo(this.source,de()):new Xo(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Xt.OVERWRITE}operationForChild(e){return oe(this.path)?new ai(this.source,de(),this.snap.getImmediateChild(e)):new ai(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Xt.MERGE}operationForChild(e){if(oe(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new ai(this.source,de(),n.value):new hs(this.source,de(),n)}else return $(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hs(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wA(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(cA(o.childName,o.snapshotNode))}),qs(t,i,"child_removed",e,r,n),qs(t,i,"child_added",e,r,n),qs(t,i,"child_moved",s,r,n),qs(t,i,"child_changed",e,r,n),qs(t,i,"value",e,r,n),i}function qs(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>CA(t,a,l)),o.forEach(a=>{const l=EA(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function EA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CA(t,e,n){if(e.childName==null||n.childName==null)throw Cs("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e){return{eventCache:t,serverCache:e}}function mo(t,e,n,r){return Zu(new li(e,n,r),t.serverCache)}function s1(t,e,n,r){return Zu(t.eventCache,new li(e,n,r))}function Af(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id;const SA=()=>(id||(id=new _t(aP)),id);class ve{constructor(e,n=SA()){this.value=e,this.children=n}static fromObject(e){let n=new ve(null);return Je(e,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(oe(e))return null;{const r=se(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return s!=null?{path:Oe(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(oe(e))return this;{const n=se(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new ve(null)}}set(e,n){if(oe(e))return new ve(n,this.children);{const r=se(e),s=(this.children.get(r)||new ve(null)).set(_e(e),n),o=this.children.insert(r,s);return new ve(this.value,o)}}remove(e){if(oe(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=se(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ve(null):new ve(this.value,s)}else return this}}get(e){if(oe(e))return this.value;{const n=se(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(oe(e))return n;{const r=se(e),s=(this.children.get(r)||new ve(null)).setTree(_e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ve(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(oe(e))return null;{const s=se(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Oe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(oe(e))return this;{this.value&&r(n,this.value);const i=se(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Oe(n,i),r):new ve(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new ve(null))}}function go(t,e,n){if(oe(e))return new en(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=vt(i,e);return s=s.updateChild(o,n),new en(t.writeTree_.set(i,s))}else{const i=new ve(n),s=t.writeTree_.setTree(e,i);return new en(s)}}}function Df(t,e,n){let r=t;return Je(n,(i,s)=>{r=go(r,Oe(e,i),s)}),r}function n_(t,e){if(oe(e))return en.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new en(n)}}function Mf(t,e){return mi(t,e)!=null}function mi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(vt(n.path,e)):null}function r_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pe,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function _r(t,e){if(oe(e))return t;{const n=mi(t,e);return n!=null?new en(new ve(n)):new en(t.writeTree_.subtree(e))}}function Lf(t){return t.writeTree_.isEmpty()}function ps(t,e){return o1(de(),t.writeTree_,e)}function o1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=o1(Oe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Oe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){return c1(e,t)}function TA(t,e,n,r,i){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=go(t.visibleWrites,e,n)),t.lastWriteId=r}function kA(t,e,n,r){$(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Df(t.visibleWrites,e,n),t.lastWriteId=r}function NA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function IA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&RA(a,r.path)?i=!1:Lt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return bA(t),!0;if(r.snap)t.visibleWrites=n_(t.visibleWrites,r.path);else{const a=r.children;Je(a,l=>{t.visibleWrites=n_(t.visibleWrites,Oe(r.path,l))})}return!0}else return!1}function RA(t,e){if(t.snap)return Lt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Lt(Oe(t.path,n),e))return!0;return!1}function bA(t){t.visibleWrites=a1(t.allWrites,xA,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function xA(t){return t.visible}function a1(t,e,n){let r=en.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Lt(n,o)?(a=vt(n,o),r=go(r,a,s.snap)):Lt(o,n)&&(a=vt(o,n),r=go(r,de(),s.snap.getChild(a)));else if(s.children){if(Lt(n,o))a=vt(n,o),r=Df(r,a,s.children);else if(Lt(o,n))if(a=vt(o,n),oe(a))r=Df(r,de(),s.children);else{const l=cs(s.children,se(a));if(l){const u=l.getChild(_e(a));r=go(r,de(),u)}}}else throw Cs("WriteRecord should have .snap or .children")}}return r}function l1(t,e,n,r,i){if(!r&&!i){const s=mi(t.visibleWrites,e);if(s!=null)return s;{const o=_r(t.visibleWrites,e);if(Lf(o))return n;if(n==null&&!Mf(o,de()))return null;{const a=n||Q.EMPTY_NODE;return ps(o,a)}}}else{const s=_r(t.visibleWrites,e);if(!i&&Lf(s))return n;if(!i&&n==null&&!Mf(s,de()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Lt(u.path,e)||Lt(e,u.path))},a=a1(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return ps(a,l)}}}function OA(t,e,n){let r=Q.EMPTY_NODE;const i=mi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Pe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=_r(t.visibleWrites,e);return n.forEachChild(Pe,(o,a)=>{const l=ps(_r(s,new pe(o)),a);r=r.updateImmediateChild(o,l)}),r_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=_r(t.visibleWrites,e);return r_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function PA(t,e,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Oe(e,n);if(Mf(t.visibleWrites,s))return null;{const o=_r(t.visibleWrites,s);return Lf(o)?i.getChild(n):ps(o,i.getChild(n))}}function AA(t,e,n,r){const i=Oe(e,n),s=mi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=_r(t.visibleWrites,i);return ps(o,r.getNode().getImmediateChild(n))}else return null}function DA(t,e){return mi(t.visibleWrites,e)}function MA(t,e,n,r,i,s,o){let a;const l=_r(t.visibleWrites,e),u=mi(l,de());if(u!=null)a=u;else if(n!=null)a=ps(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function LA(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function au(t,e,n,r){return l1(t.writeTree,t.treePath,e,n,r)}function zp(t,e){return OA(t.writeTree,t.treePath,e)}function i_(t,e,n,r){return PA(t.writeTree,t.treePath,e,n,r)}function lu(t,e){return DA(t.writeTree,Oe(t.treePath,e))}function UA(t,e,n,r,i,s){return MA(t.writeTree,t.treePath,e,n,r,i,s)}function Wp(t,e,n){return AA(t.writeTree,t.treePath,e,n)}function u1(t,e){return c1(Oe(t.treePath,e),t.writeTree)}function c1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Yo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,qo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,fs(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Yo(r,e.snapshotNode,i.oldSnap));else throw Cs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const d1=new $A;class Hp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new li(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ui(this.viewCache_),s=UA(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){return{filter:t}}function jA(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function zA(t,e,n,r,i){const s=new FA;let o,a;if(n.type===Xt.OVERWRITE){const u=n;u.source.fromUser?o=Uf(t,e,u.path,u.snap,r,i,s):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!oe(u.path),o=uu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Xt.MERGE){const u=n;u.source.fromUser?o=HA(t,e,u.path,u.children,r,i,s):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Ff(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Xt.ACK_USER_WRITE){const u=n;u.revert?o=KA(t,e,u.path,r,i,s):o=VA(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Xt.LISTEN_COMPLETE)o=GA(t,e,n.path,r,s);else throw Cs("Unknown operation type: "+n.type);const l=s.getChanges();return WA(e,o,l),{viewCache:o,changes:l}}function WA(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Af(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(r1(Af(e)))}}function f1(t,e,n,r,i,s){const o=e.eventCache;if(lu(r,n)!=null)return e;{let a,l;if(oe(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ui(e),c=u instanceof Q?u:Q.EMPTY_NODE,d=zp(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=au(r,ui(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=se(n);if(u===".priority"){$(Sr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=i_(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=_e(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=i_(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Wp(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return mo(e,a,o.isFullyInitialized()||oe(n),t.filter.filtersNodes())}}function uu(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(oe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=se(n);if(!l.isCompleteForPath(n)&&Sr(n)>1)return e;const m=_e(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),p,E,m,d1,null)}const d=s1(e,u,l.isFullyInitialized()||oe(n),c.filtersNodes()),f=new Hp(i,d,s);return f1(t,d,n,i,f,a)}function Uf(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Hp(i,e,s);if(oe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=mo(e,u,!0,t.filter.filtersNodes());else{const d=se(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=mo(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=_e(n),p=a.getNode().getImmediateChild(d);let m;if(oe(f))m=r;else{const _=c.getCompleteChild(d);_!=null?Pp(f)===".priority"&&_.getChild(QE(f)).isEmpty()?m=_:m=_.updateChild(f,r):m=Q.EMPTY_NODE}if(p.equals(m))l=e;else{const _=t.filter.updateChild(a.getNode(),d,m,f,c,o);l=mo(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function s_(t,e){return t.eventCache.isCompleteForChild(e)}function HA(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Oe(n,l);s_(e,se(c))&&(a=Uf(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Oe(n,l);s_(e,se(c))||(a=Uf(t,a,c,u,i,s,o))}),a}function o_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ff(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;oe(n)?u=r:u=new ve(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=o_(t,p,f);l=uu(t,l,new pe(d),m,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),_=o_(t,m,f);l=uu(t,l,new pe(d),_,i,s,o,a)}}),l}function VA(t,e,n,r,i,s,o){if(lu(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(oe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return uu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(oe(n)){let u=new ve(null);return l.getNode().forEachChild(Yi,(c,d)=>{u=u.set(new pe(c),d)}),Ff(t,e,n,u,i,s,a,o)}else return e}else{let u=new ve(null);return r.foreach((c,d)=>{const f=Oe(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Ff(t,e,n,u,i,s,a,o)}}function GA(t,e,n,r,i){const s=e.serverCache,o=s1(e,s.getNode(),s.isFullyInitialized()||oe(n),s.isFiltered());return f1(t,o,n,r,d1,i)}function KA(t,e,n,r,i,s){let o;if(lu(r,n)!=null)return e;{const a=new Hp(r,e,i),l=e.eventCache.getNode();let u;if(oe(n)||se(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=au(r,ui(e));else{const d=e.serverCache.getNode();$(d instanceof Q,"serverChildren would be complete if leaf node"),c=zp(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=se(n);let d=Wp(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,_e(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Q.EMPTY_NODE,_e(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=au(r,ui(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||lu(r,de())!=null,mo(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Lp(r.getIndex()),s=fA(r);this.processor_=BA(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),c=new li(l,o.isFullyInitialized(),i.filtersNodes()),d=new li(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zu(d,c),this.eventGenerator_=new yA(this.query_)}get query(){return this.query_}}function YA(t){return t.viewCache_.serverCache.getNode()}function QA(t,e){const n=ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!oe(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function a_(t){return t.eventRegistrations_.length===0}function XA(t,e){t.eventRegistrations_.push(e)}function l_(t,e,n){const r=[];if(n){$(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function u_(t,e,n,r){e.type===Xt.MERGE&&e.source.queryId!==null&&($(ui(t.viewCache_),"We should always have a full cache before handling merges"),$(Af(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=zA(t.processor_,i,e,n,r);return jA(t.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,h1(t,s.changes,s.viewCache.eventCache.getNode(),null)}function JA(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(s,o)=>{r.push(fs(s,o))}),n.isFullyInitialized()&&r.push(r1(n.getNode())),h1(t,r,n.getNode(),e)}function h1(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return wA(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu;class ZA{constructor(){this.views=new Map}}function eD(t){$(!cu,"__referenceConstructor has already been defined"),cu=t}function tD(){return $(cu,"Reference.ts has not been loaded"),cu}function nD(t){return t.views.size===0}function Vp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return $(s!=null,"SyncTree gave us an op for an invalid query."),u_(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(u_(o,e,n,r));return s}}function rD(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=au(n,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=zp(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const u=Zu(new li(a,l,!1),new li(r,i,!1));return new qA(e,u)}return o}function iD(t,e,n,r,i,s){const o=rD(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),XA(o,n),JA(o,n)}function sD(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Tr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(l_(u,n,r)),a_(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(l_(l,n,r)),a_(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Tr(t)&&s.push(new(tD())(e._repo,e._path)),{removed:s,events:o}}function p1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Qi(t,e){let n=null;for(const r of t.views.values())n=n||QA(r,e);return n}function m1(t,e){if(e._queryParams.loadsAllData())return ec(t);{const r=e._queryIdentifier;return t.views.get(r)}}function g1(t,e){return m1(t,e)!=null}function Tr(t){return ec(t)!=null}function ec(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;function oD(t){$(!du,"__referenceConstructor has already been defined"),du=t}function aD(){return $(du,"Reference.ts has not been loaded"),du}let lD=1;class c_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=LA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uD(t,e,n,r,i){return TA(t.pendingWriteTree_,e,n,r,i),i?Ns(t,new ai(Fp(),e,n)):[]}function cD(t,e,n,r){kA(t.pendingWriteTree_,e,n,r);const i=ve.fromObject(n);return Ns(t,new hs(Fp(),e,i))}function zr(t,e,n=!1){const r=NA(t.pendingWriteTree_,e);if(IA(t.pendingWriteTree_,e)){let s=new ve(null);return r.snap!=null?s=s.set(de(),!0):Je(r.children,o=>{s=s.set(new pe(o),!0)}),Ns(t,new ou(r.path,s,n))}else return[]}function tc(t,e,n){return Ns(t,new ai($p(),e,n))}function dD(t,e,n){const r=ve.fromObject(n);return Ns(t,new hs($p(),e,r))}function fD(t,e){return Ns(t,new Xo($p(),e))}function hD(t,e,n){const r=Gp(t,n);if(r){const i=Kp(r),s=i.path,o=i.queryId,a=vt(s,e),l=new Xo(Bp(o),a);return qp(t,s,l)}else return[]}function $f(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||g1(o,e))){const l=sD(o,e,n,r);nD(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>Tr(p));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=gD(f);for(let m=0;m<p.length;++m){const _=p[m],E=_.query,g=w1(t,_);t.listenProvider_.startListening(vo(E),fu(t,E),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(vo(e),null):u.forEach(f=>{const p=t.queryToTagMap.get(nc(f));t.listenProvider_.stopListening(vo(f),p)}))}vD(t,u)}return a}function pD(t,e,n,r){const i=Gp(t,r);if(i!=null){const s=Kp(i),o=s.path,a=s.queryId,l=vt(o,e),u=new ai(Bp(a),l,n);return qp(t,o,u)}else return[]}function mD(t,e,n,r){const i=Gp(t,r);if(i){const s=Kp(i),o=s.path,a=s.queryId,l=vt(o,e),u=ve.fromObject(n),c=new hs(Bp(a),l,u);return qp(t,o,c)}else return[]}function d_(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const m=vt(f,i);s=s||Qi(p,m),o=o||Tr(p)});let a=t.syncPointTree_.get(i);a?(o=o||Tr(a),s=s||Qi(a,de())):(a=new ZA,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const _=Qi(m,de());_&&(s=s.updateImmediateChild(p,_))}));const u=g1(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=nc(e);$(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=_D();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const c=jp(t.pendingWriteTree_,i);let d=iD(a,e,n,c,s,l);if(!u&&!o&&!r){const f=m1(a,e);d=d.concat(yD(t,e,f))}return d}function v1(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=vt(o,e),u=Qi(a,l);if(u)return u});return l1(i,e,s,n,!0)}function Ns(t,e){return _1(e,t.syncPointTree_,null,jp(t.pendingWriteTree_,de()))}function _1(t,e,n,r){if(oe(t.path))return y1(t,e,n,r);{const i=e.get(de());n==null&&i!=null&&(n=Qi(i,de()));let s=[];const o=se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=u1(r,o);s=s.concat(_1(a,l,u,c))}return i&&(s=s.concat(Vp(i,t,r,n))),s}}function y1(t,e,n,r){const i=e.get(de());n==null&&i!=null&&(n=Qi(i,de()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=u1(r,o),c=t.operationForChild(o);c&&(s=s.concat(y1(c,a,l,u)))}),i&&(s=s.concat(Vp(i,t,r,n))),s}function w1(t,e){const n=e.query,r=fu(t,n);return{hashFn:()=>(YA(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?hD(t,n._path,r):fD(t,n._path);{const s=cP(i,n);return $f(t,n,null,s)}}}}function fu(t,e){const n=nc(e);return t.queryToTagMap.get(n)}function nc(t){return t._path.toString()+"$"+t._queryIdentifier}function Gp(t,e){return t.tagToQueryMap.get(e)}function Kp(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function qp(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const i=jp(t.pendingWriteTree_,e);return Vp(r,n,i,null)}function gD(t){return t.fold((e,n,r)=>{if(n&&Tr(n))return[ec(n)];{let i=[];return n&&(i=p1(n)),Je(r,(s,o)=>{i=i.concat(o)}),i}})}function vo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(aD())(t._repo,t._path):t}function vD(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=nc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function _D(){return lD++}function yD(t,e,n){const r=e._path,i=fu(t,e),s=w1(t,n),o=t.listenProvider_.startListening(vo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)$(!Tr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!oe(u)&&c&&Tr(c))return[ec(c).query];{let f=[];return c&&(f=f.concat(p1(c).map(p=>p.query))),Je(d,(p,m)=>{f=f.concat(m)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(vo(c),fu(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Yp(n)}node(){return this.node_}}class Qp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Oe(this.path_,e);return new Qp(this.syncTree_,n)}node(){return v1(this.syncTree_,this.path_)}}const wD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},f_=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return ED(t[".sv"],e,n);if(typeof t[".sv"]=="object")return CD(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},ED=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},CD=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},E1=function(t,e,n,r){return Xp(e,new Qp(n,t),r)},SD=function(t,e,n){return Xp(t,new Yp(e),n)};function Xp(t,e,n){const r=t.getPriority().val(),i=f_(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=f_(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Be(a,qe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Be(i))),o.forEachChild(Pe,(a,l)=>{const u=Xp(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Zp(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=se(n);for(;i!==null;){const s=cs(r.node.children,i)||{children:{},childCount:0};r=new Jp(i,r,s),n=_e(n),i=se(n)}return r}function Is(t){return t.node.value}function C1(t,e){t.node.value=e,Bf(t)}function S1(t){return t.node.childCount>0}function TD(t){return Is(t)===void 0&&!S1(t)}function rc(t,e){Je(t.node.children,(n,r)=>{e(new Jp(n,t,r))})}function T1(t,e,n,r){n&&!r&&e(t),rc(t,i=>{T1(i,e,!0,r)}),n&&r&&e(t)}function kD(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ya(t){return new pe(t.parent===null?t.name:ya(t.parent)+"/"+t.name)}function Bf(t){t.parent!==null&&ND(t.parent,t.name,t)}function ND(t,e,n){const r=TD(n),i=mn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Bf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Bf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/[\[\].#$\/\u0000-\u001F\u007F]/,RD=/[\[\].#$\u0000-\u001F\u007F]/,sd=10*1024*1024,em=function(t){return typeof t=="string"&&t.length!==0&&!ID.test(t)},k1=function(t){return typeof t=="string"&&t.length!==0&&!RD.test(t)},bD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),k1(t)},xD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ip(t)||t&&typeof t=="object"&&mn(t,".sv")},tm=function(t,e,n){const r=n instanceof pe?new HP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Lr(r)+" with contents = "+e.toString());if(Ip(e))throw new Error(t+"contains "+e.toString()+" "+Lr(r));if(typeof e=="string"&&e.length>sd/3&&Qu(e)>sd)throw new Error(t+"contains a string greater than "+sd+" utf8 bytes "+Lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Je(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!em(o)))throw new Error(t+" contains an invalid key ("+o+") "+Lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);VP(r,o),tm(t,a,r),GP(r)}),i&&s)throw new Error(t+' contains ".value" child '+Lr(r)+" in addition to actual children.")}},OD=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Ko(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!em(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(WP);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Lt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},PD=function(t,e,n,r){if(r&&e===void 0)return;const i=Sp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Je(e,(o,a)=>{const l=new pe(o);if(tm(i,a,Oe(n,l)),Pp(l)===".priority"&&!xD(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),OD(i,s)},N1=function(t,e,n,r){if(!(r&&n===void 0)&&!k1(n))throw new Error(Sp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AD=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),N1(t,e,n,r)},DD=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!em(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!bD(n))throw new Error(Sp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Ap(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function I1(t,e,n){nm(t,n),R1(t,r=>Ap(r,e))}function Fn(t,e,n){nm(t,n),R1(t,r=>Lt(r,e)||Lt(e,r))}function R1(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(LD(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function LD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();qr&&Ke("event: "+n.toString()),ks(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="repo_interrupt",FD=25;class $D{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=su(),this.transactionQueueTree_=new Jp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BD(t,e,n){if(t.stats_=xp(t.repoInfo_),t.forceRestClient_||pP())t.server_=new iu(t.repoInfo_,(r,i,s,o)=>{h_(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>p_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xn(t.repoInfo_,e,(r,i,s,o)=>{h_(t,r,i,s,o)},r=>{p_(t,r)},r=>{zD(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=yP(t.repoInfo_,()=>new _A(t.stats_,t.server_)),t.infoData_=new hA,t.infoSyncTree_=new c_({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=tc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),im(t,"connected",!1),t.serverSyncTree_=new c_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Fn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function jD(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rm(t){return wD({timestamp:jD(t)})}function h_(t,e,n,r,i){t.dataUpdateCount++;const s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Jl(n,u=>qe(u));o=mD(t.serverSyncTree_,s,l,i)}else{const l=qe(n);o=pD(t.serverSyncTree_,s,l,i)}else if(r){const l=Jl(n,u=>qe(u));o=dD(t.serverSyncTree_,s,l)}else{const l=qe(n);o=tc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Jo(t,s)),Fn(t.eventQueue_,a,o)}function p_(t,e){im(t,"connected",e),e===!1&&HD(t)}function zD(t,e){Je(e,(n,r)=>{im(t,n,r)})}function im(t,e,n){const r=new pe("/.info/"+e),i=qe(n);t.infoData_.updateSnapshot(r,i);const s=tc(t.infoSyncTree_,r,i);Fn(t.eventQueue_,r,s)}function b1(t){return t.nextWriteId_++}function WD(t,e,n,r){sm(t,"update",{path:e.toString(),value:n});let i=!0;const s=rm(t),o={};if(Je(n,(a,l)=>{i=!1,o[a]=E1(Oe(e,a),qe(l),t.serverSyncTree_,s)}),i)Ke("update() called with empty data.  Don't do anything."),g_(t,r,"ok",void 0);else{const a=b1(t),l=cD(t.serverSyncTree_,e,o,a);nm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||Tt("update at "+e+" failed: "+u);const f=zr(t.serverSyncTree_,a,!d),p=f.length>0?Jo(t,e):e;Fn(t.eventQueue_,p,f),g_(t,r,u,c)}),Je(n,u=>{const c=D1(t,Oe(e,u));Jo(t,c)}),Fn(t.eventQueue_,e,[])}}function HD(t){sm(t,"onDisconnectEvents");const e=rm(t),n=su();Pf(t.onDisconnect_,de(),(i,s)=>{const o=E1(i,s,t.serverSyncTree_,e);i1(n,i,o)});let r=[];Pf(n,de(),(i,s)=>{r=r.concat(tc(t.serverSyncTree_,i,s));const o=D1(t,i);Jo(t,o)}),t.onDisconnect_=su(),Fn(t.eventQueue_,de(),r)}function VD(t,e,n){let r;se(e._path)===".info"?r=d_(t.infoSyncTree_,e,n):r=d_(t.serverSyncTree_,e,n),I1(t.eventQueue_,e._path,r)}function m_(t,e,n){let r;se(e._path)===".info"?r=$f(t.infoSyncTree_,e,n):r=$f(t.serverSyncTree_,e,n),I1(t.eventQueue_,e._path,r)}function GD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(UD)}function sm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function g_(t,e,n,r){e&&ks(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function x1(t,e,n){return v1(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function om(t,e=t.transactionQueueTree_){if(e||ic(t,e),Is(e)){const n=P1(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&KD(t,ya(e),n)}else S1(e)&&rc(e,n=>{om(t,n)})}function KD(t,e,n){const r=n.map(u=>u.currentWriteId),i=x1(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=vt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{sm(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(zr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ic(t,Zp(t.transactionQueueTree_,e)),om(t,t.transactionQueueTree_),Fn(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)ks(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Tt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Jo(t,e)}},o)}function Jo(t,e){const n=O1(t,e),r=ya(n),i=P1(t,n);return qD(t,i,r),r}function qD(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=vt(n,l.path);let c=!1,d;if($(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(zr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=FD)c=!0,d="maxretry",i=i.concat(zr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=x1(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){tm("transaction failed: Data returned ",p,l.path);let m=qe(p);typeof p=="object"&&p!=null&&mn(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,g=rm(t),v=SD(m,f,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=b1(t),o.splice(o.indexOf(E),1),i=i.concat(uD(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(zr(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(zr(t.serverSyncTree_,l.currentWriteId,!0))}Fn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ic(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ks(r[a]);om(t,t.transactionQueueTree_)}function O1(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&Is(r)===void 0;)r=Zp(r,n),e=_e(e),n=se(e);return r}function P1(t,e){const n=[];return A1(t,e,n),n.sort((r,i)=>r.order-i.order),n}function A1(t,e,n){const r=Is(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);rc(e,i=>{A1(t,i,n)})}function ic(t,e){const n=Is(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,C1(e,n.length>0?n:void 0)}rc(e,r=>{ic(t,r)})}function D1(t,e){const n=ya(O1(t,e)),r=Zp(t.transactionQueueTree_,e);return kD(r,i=>{od(t,i)}),od(t,r),T1(r,i=>{od(t,i)}),n}function od(t,e){const n=Is(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):($(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?C1(e,void 0):n.length=s+1,Fn(t.eventQueue_,ya(e),i);for(let o=0;o<r.length;o++)ks(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function QD(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tt(`Invalid query segment '${n}' in query '${t}'`)}return e}const v_=function(t,e){const n=XD(t),r=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jE(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pe(n.pathString)}},XD=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=YD(t.substring(c,d)));const f=QD(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class L1{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return oe(this._path)?null:Pp(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const e=e_(this._queryParams),n=Rp(e);return n==="{}"?"default":n}get _queryObject(){return e_(this._queryParams)}isEqual(e){if(e=ht(e),!(e instanceof am))return!1;const n=this._repo===e._repo,r=Ap(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zP(this._path)}}class Hn extends am{constructor(e,n){super(e,n,new Up,!1)}get parent(){const e=QE(this._path);return e===null?null:new Hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Zo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pe(e),r=hu(this.ref,e);return new Zo(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Zo(i,hu(this.ref,r),Pe)))}hasChild(e){const n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function U1(t,e){return t=ht(t),t._checkNotDeleted("ref"),e!==void 0?hu(t._root,e):t._root}function hu(t,e){return t=ht(t),se(t._path)===null?AD("child","path",e,!1):N1("child","path",e,!1),new Hn(t._repo,Oe(t._path,e))}function ZD(t,e){PD("update",e,t._path,!1);const n=new Yu;return WD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class lm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new M1("value",this,new Zo(e.snapshotNode,new Hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new L1(this,e,n):null}matches(e){return e instanceof lm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class um{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new L1(this,e,n):null}createEvent(e,n){$(e.childName!=null,"Child events should have a childName.");const r=hu(new Hn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new M1(e.type,this,new Zo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof um?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function e2(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{m_(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new JD(n,s||void 0),a=e==="value"?new lm(o):new um(e,o);return VD(t._repo,t,a),()=>m_(t._repo,t,a)}function t2(t,e,n,r){return e2(t,"value",e,n,r)}eD(Hn);oD(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="FIREBASE_DATABASE_EMULATOR_HOST",jf={};let r2=!1;function i2(t,e,n,r){t.repoInfo_=new jE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function s2(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=v_(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[n2]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=v_(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new qi(qi.OWNER):new gP(t.name,t.options,e);DD("Invalid Firebase Database URL",o),oe(o.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const d=a2(a,t,c,new mP(t.name,n));return new l2(d,t)}function o2(t,e){const n=jf[e];(!n||n[t.key]!==t)&&Un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),GD(t),delete n[t.key]}function a2(t,e,n,r){let i=jf[e.name];i||(i={},jf[e.name]=i);let s=i[t.toURLString()];return s&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $D(t,r2,n,r),i[t.toURLString()]=s,s}class l2{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(o2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Un("Cannot call "+e+" on a deleted database.")}}function u2(t=Np(),e){const n=Xu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=gE("database");r&&c2(n,...r)}return n}function c2(t,e,n,r={}){t=ht(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new qi(qi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:_E(r.mockUserToken,t.app.options.projectId);s=new qi(o)}i2(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){eP(Ts),si(new Cr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return s2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dn(Uv,Fv,t),dn(Uv,Fv,"esm2017")}xn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};d2();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebasestorage.googleapis.com",$1="storageBucket",f2=2*60*1e3,h2=10*60*1e3,p2=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re extends Wn{constructor(e,n,r=0){super(ad(e),`Firebase Storage: ${n} (${ad(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Re.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ad(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ce;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ce||(Ce={}));function ad(t){return"storage/"+t}function cm(){const t="An unknown error occurred, please check the error payload for server response.";return new Re(Ce.UNKNOWN,t)}function m2(t){return new Re(Ce.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function g2(t){return new Re(Ce.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function v2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(Ce.UNAUTHENTICATED,t)}function _2(){return new Re(Ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y2(t){return new Re(Ce.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function B1(){return new Re(Ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j1(){return new Re(Ce.CANCELED,"User canceled the upload/download.")}function w2(t){return new Re(Ce.INVALID_URL,"Invalid URL '"+t+"'.")}function E2(t){return new Re(Ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function C2(){return new Re(Ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$1+"' property when initializing the app?")}function z1(){return new Re(Ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S2(){return new Re(Ce.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function T2(){return new Re(Ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function k2(t){return new Re(Ce.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zf(t){return new Re(Ce.INVALID_ARGUMENT,t)}function W1(){return new Re(Ce.APP_DELETED,"The Firebase app was deleted.")}function N2(t){return new Re(Ce.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _o(t,e){return new Re(Ce.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ys(t){throw new Re(Ce.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=It.makeFromUrl(e,n)}catch{return new It(e,"")}if(r.path==="")return r;throw E2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},_=n===F1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${_}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<w.length;S++){const I=w[S],R=I.regex.exec(e);if(R){const y=R[I.indices.bucket];let T=R[I.indices.path];T||(T=""),r=new It(y,T),I.postModify(r);break}}if(r==null)throw w2(e);return r}}class I2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...g){if(u){f();return}if(E){f(),c.call(null,E,...g);return}if(l()||o){f(),c.call(null,E,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let m=!1;function _(E){m||(m=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function b2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){return t!==void 0}function O2(t){return typeof t=="function"}function P2(t){return typeof t=="object"&&!Array.isArray(t)}function sc(t){return typeof t=="string"||t instanceof String}function __(t){return dm()&&t instanceof Blob}function dm(){return typeof Blob<"u"&&!Dx()}function y_(t,e,n,r){if(r<e)throw zf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function H1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yr||(Yr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Xa(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Yr.NO_ERROR,l=s.getStatus();if(!a||V1(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Yr.ABORT;r(!1,new Xa(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Xa(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());x2(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=cm();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?W1():j1();o(l)}else{const l=B1();o(l)}};this.canceled_?n(!1,new Xa(!1,null,!0)):this.backoffId_=R2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xa{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function D2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function F2(t,e,n,r,i,s,o=!0){const a=H1(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return L2(u,e),D2(u,n),M2(u,s),U2(u,r),new A2(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function B2(...t){const e=$2();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(dm())return new Blob(t);throw new Re(Ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){if(typeof atob>"u")throw k2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ld{constructor(e,n){this.data=e,this.contentType=n||null}}function W2(t,e){switch(t){case on.RAW:return new ld(G1(e));case on.BASE64:case on.BASE64URL:return new ld(K1(t,e));case on.DATA_URL:return new ld(V2(e),G2(e))}throw cm()}function G1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function H2(t){let e;try{e=decodeURIComponent(t)}catch{throw _o(on.DATA_URL,"Malformed data URL.")}return G1(e)}function K1(t,e){switch(t){case on.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _o(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case on.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _o(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=z2(e)}catch(i){throw i.message.includes("polyfill")?i:_o(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class q1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _o(on.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=K2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function V2(t){const e=new q1(t);return e.base64?K1(on.BASE64,e.rest):H2(e.rest)}function G2(t){return new q1(t).contentType}function K2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){let r=0,i="";__(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(__(this.data_)){const r=this.data_,i=j2(r,e,n);return i===null?null:new Zn(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zn(r,!0)}}static getBlob(...e){if(dm()){const n=e.map(r=>r instanceof Zn?r.data_:r);return new Zn(B2.apply(null,n))}else{const n=e.map(o=>sc(o)?W2(on.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Zn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){let e;try{e=JSON.parse(t)}catch{return null}return P2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y2(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Q1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){return e}class at{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Q2}}let Ja=null;function X2(t){return!sc(t)||t.length<2?t:Q1(t)}function X1(){if(Ja)return Ja;const t=[];t.push(new at("bucket")),t.push(new at("generation")),t.push(new at("metageneration")),t.push(new at("name","fullPath",!0));function e(s,o){return X2(o)}const n=new at("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new at("size");return i.xform=r,t.push(i),t.push(new at("timeCreated")),t.push(new at("updated")),t.push(new at("md5Hash",null,!0)),t.push(new at("cacheControl",null,!0)),t.push(new at("contentDisposition",null,!0)),t.push(new at("contentEncoding",null,!0)),t.push(new at("contentLanguage",null,!0)),t.push(new at("contentType",null,!0)),t.push(new at("metadata","customMetadata",!0)),Ja=t,Ja}function J2(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new It(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Z2(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return J2(r,t),r}function J1(t,e,n){const r=Y1(e);return r===null?null:Z2(t,r,n)}function eM(t,e,n,r){const i=Y1(e);if(i===null||!sc(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),p=wa(f,n,r),m=H1({alt:"media",token:u});return p+m})[0]}function Z1(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Rs{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){if(!t)throw cm()}function fm(t,e){function n(r,i){const s=J1(t,i,e);return On(s!==null),s}return n}function tM(t,e){function n(r,i){const s=J1(t,i,e);return On(s!==null),eM(s,i,t.host,t._protocol)}return n}function Ea(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_2():i=v2():n.getStatus()===402?i=g2(t.bucket):n.getStatus()===403?i=y2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function eC(t){const e=Ea(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=m2(t.path)),s.serverResponse=i.serverResponse,s}return n}function nM(t,e,n){const r=e.fullServerUrl(),i=wa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Rs(i,s,fm(t,n),o);return a.errorHandler=eC(e),a}function rM(t,e,n){const r=e.fullServerUrl(),i=wa(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Rs(i,s,tM(t,n),o);return a.errorHandler=eC(e),a}function iM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tC(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=iM(null,e)),r}function sM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let S=0;S<2;S++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=tC(e,r,i),c=Z1(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Zn.getBlob(d,r,f);if(p===null)throw z1();const m={name:u.fullPath},_=wa(s,t.host,t._protocol),E="POST",g=t.maxUploadRetryTime,v=new Rs(_,E,fm(t,n),g);return v.urlParams=m,v.headers=o,v.body=p.uploadData(),v.errorHandler=Ea(e),v}class pu{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function hm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{On(!1)}return On(!!n&&(e||["active"]).indexOf(n)!==-1),n}function oM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=tC(e,r,i),a={name:o.fullPath},l=wa(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=Z1(o,n),f=t.maxUploadRetryTime;function p(_){hm(_);let E;try{E=_.getResponseHeader("X-Goog-Upload-URL")}catch{On(!1)}return On(sc(E)),E}const m=new Rs(l,u,p,f);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=Ea(e),m}function aM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=hm(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{On(!1)}d||On(!1);const f=Number(d);return On(!isNaN(f)),new pu(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Rs(n,o,s,a);return l.headers=i,l.errorHandler=Ea(e),l}const w_=256*1024;function lM(t,e,n,r,i,s,o,a){const l=new pu(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw S2();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(d,f);if(_===null)throw z1();function E(S,I){const R=hm(S,["active","final"]),y=l.current+c,T=r.size();let N;return R==="final"?N=fm(e,s)(S,I):N=null,new pu(y,T,R==="final",N)}const g="POST",v=e.maxUploadRetryTime,w=new Rs(n,g,E,v);return w.headers=m,w.body=_.uploadData(),w.progressCallback=a||null,w.errorHandler=Ea(t),w}const pt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ud(t){switch(t){case"running":case"pausing":case"canceling":return pt.RUNNING;case"paused":return pt.PAUSED;case"success":return pt.SUCCESS;case"canceled":return pt.CANCELED;case"error":return pt.ERROR;default:return pt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r){if(O2(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class cM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ys("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ys("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ys("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ys("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ys("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dM extends cM{initXhr(){this.xhr_.responseType="text"}}function Ni(){return new dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=X1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ce.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(V1(i.status,[]))if(s)i=B1();else{this.sleepTime=Math.max(this.sleepTime*2,p2),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ce.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=oM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ni,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=aM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ni,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=w_*this._chunkMultiplier,n=new pu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=lM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ni,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){w_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=nM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ni,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=sM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ni,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=j1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ud(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new uM(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ud(this._state)){case pt.SUCCESS:Si(this._resolve.bind(null,this.snapshot))();break;case pt.CANCELED:case pt.ERROR:const n=this._reject;Si(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ud(this._state)){case pt.RUNNING:case pt.PAUSED:e.next&&Si(e.next.bind(e,this.snapshot))();break;case pt.SUCCESS:e.complete&&Si(e.complete.bind(e))();break;case pt.CANCELED:case pt.ERROR:e.error&&Si(e.error.bind(e,this._error))();break;default:e.error&&Si(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this._service=e,n instanceof It?this._location=n:this._location=It.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ci(e,n)}get root(){const e=new It(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q1(this._location.path)}get storage(){return this._service}get parent(){const e=q2(this._location.path);if(e===null)return null;const n=new It(this._location.bucket,e);return new ci(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N2(e)}}function hM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new fM(t,new Zn(e),n)}function pM(t){t._throwIfRoot("getDownloadURL");const e=rM(t.storage,t._location,X1());return t.storage.makeRequestWithTokens(e,Ni).then(n=>{if(n===null)throw T2();return n})}function mM(t,e){const n=Y2(t._location.path,e),r=new It(t._location.bucket,n);return new ci(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){return/^[A-Za-z]+:\/\//.test(t)}function vM(t,e){return new ci(t,e)}function nC(t,e){if(t instanceof pm){const n=t;if(n._bucket==null)throw C2();const r=new ci(n,n._bucket);return e!=null?nC(r,e):r}else return e!==void 0?mM(t,e):t}function _M(t,e){if(e&&gM(e)){if(t instanceof pm)return vM(t,e);throw zf("To use ref(service, url), the first argument must be a Storage instance.")}else return nC(t,e)}function E_(t,e){const n=e==null?void 0:e[$1];return n==null?null:It.makeFromBucketSpec(n,t)}function yM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_E(i,t.app.options.projectId))}class pm{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=F1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f2,this._maxUploadRetryTime=h2,this._requests=new Set,i!=null?this._bucket=It.makeFromBucketSpec(i,this._host):this._bucket=E_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=It.makeFromBucketSpec(this._url,e):this._bucket=E_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){y_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){y_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ci(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new I2(W1());{const o=F2(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const C_="@firebase/storage",S_="0.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="storage";function wM(t,e,n){return t=ht(t),hM(t,e,n)}function EM(t){return t=ht(t),pM(t)}function CM(t,e){return t=ht(t),_M(t,e)}function SM(t=Np(),e){t=ht(t);const r=Xu(t,rC).getImmediate({identifier:e}),i=gE("storage");return i&&TM(r,...i),r}function TM(t,e,n,r={}){yM(t,e,n,r)}function kM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new pm(n,r,i,e,Ts)}function NM(){si(new Cr(rC,kM,"PUBLIC").setMultipleInstances(!0)),dn(C_,S_,""),dn(C_,S_,"esm2017")}NM();function mm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IM=iC,sC=new ma("auth","Firebase",iC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Tp("@firebase/auth");function ml(t,...e){T_.logLevel<=me.ERROR&&T_.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw gm(t,...e)}function fn(t,...e){return gm(t,...e)}function oC(t,e,n){const r=Object.assign(Object.assign({},IM()),{[e]:n});return new ma("auth","Firebase",r).create(e,{appName:t.name})}function RM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),oC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sC.create(t,...e)}function Z(t,e,...n){if(!t)throw gm(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ml(e),new Error(e)}function $n(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function In(t){$n(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?($n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e){const n=Xu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zl(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function xM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(In);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OM(){return N_()==="http:"||N_()==="https:"}function N_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OM()||Mx()||"connection"in navigator)?navigator.onLine:!0}function AM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this.shortDelay=e,this.longDelay=n,$n(n>e,"Short delay should be less than long delay!"),this.isMobile=Cp()||yE()}get(){return PM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t,e){$n(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Ca(3e4,6e4);function LM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oc(t,e,n,r,i={}){return lC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ss(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),aC.fetch()(uC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function lC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DM),e);try{const i=new FM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Za(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Za(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Za(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Za(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oC(t,c,u);pn(t,c)}}catch(i){if(i instanceof Wn)throw i;pn(t,"network-request-failed")}}async function UM(t,e,n,r,i={}){const s=await oc(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vm(t.config,i):`${t.config.apiScheme}://${i}`}class FM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fn(this.auth,"network-request-failed")),MM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Za(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){return oc(t,"POST","/v1/accounts:delete",e)}async function BM(t,e){return oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jM(t,e=!1){const n=ht(t),r=await n.getIdToken(e),i=_m(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yo(cd(i.auth_time)),issuedAtTime:yo(cd(i.iat)),expirationTime:yo(cd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cd(t){return Number(t)*1e3}function _m(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ml("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xl(n);return i?JSON.parse(i):(ml("Failed to decode base64 JWT payload"),null)}catch(i){return ml("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zM(t){const e=_m(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wn&&WM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ea(t,BM(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KM(s.providerUserInfo):[],a=GM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function VM(t){const e=ht(t);await mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KM(t){return t.map(e=>{var{providerId:n}=e,r=mm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){const n=await lC(t,{},async()=>{const r=Ss({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await qM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ta;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ea(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jM(this,e)}reload(){return VM(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ea(this,$M(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:S,isAnonymous:I,providerData:R,stsTokenManager:y}=n;Z(w&&y,e,"internal-error");const T=ta.fromJSON(this.name,y);Z(typeof w=="string",e,"internal-error"),Kn(d,e.name),Kn(f,e.name),Z(typeof S=="boolean",e,"internal-error"),Z(typeof I=="boolean",e,"internal-error"),Kn(p,e.name),Kn(m,e.name),Kn(_,e.name),Kn(E,e.name),Kn(g,e.name),Kn(v,e.name);const N=new Qr({uid:w,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:T,createdAt:g,lastLoginAt:v});return R&&Array.isArray(R)&&(N.providerData=R.map(k=>Object.assign({},k))),E&&(N._redirectEventId=E),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new ta;i.updateFromServerResponse(n);const s=new Qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dC.type="NONE";const I_=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t,e,n){return`firebase:${t}:${e}:${n}`}class Xi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gl(this.userKey,i.apiKey,s),this.fullPersistenceKey=gl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xi(In(I_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||In(I_);const o=gl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Qr._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Xi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Xi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gC(e))return"Blackberry";if(vC(e))return"Webos";if(ym(e))return"Safari";if((e.includes("chrome/")||hC(e))&&!e.includes("edge/"))return"Chrome";if(mC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fC(t=it()){return/firefox\//i.test(t)}function ym(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hC(t=it()){return/crios\//i.test(t)}function pC(t=it()){return/iemobile/i.test(t)}function mC(t=it()){return/android/i.test(t)}function gC(t=it()){return/blackberry/i.test(t)}function vC(t=it()){return/webos/i.test(t)}function ac(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YM(t=it()){var e;return ac(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QM(){return Lx()&&document.documentMode===10}function _C(t=it()){return ac(t)||mC(t)||vC(t)||gC(t)||/windows phone/i.test(t)||pC(t)}function XM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e=[]){let n;switch(t){case"Browser":n=R_(it());break;case"Worker":n=`${R_(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new JM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ht(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&In(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Xi.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function lc(t){return ht(t)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vx(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eL(t,e,n){const r=lc(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=wC(e),{host:o,port:a}=tL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nL()}function wC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tL(t){const e=wC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:x_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:x_(o)}}}function x_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,e){return UM(t,"POST","/v1/accounts:signInWithIdp",LM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="http://localhost";class di extends EC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=mm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new di(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ji(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ji(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ji(e,n)}buildRequest(){const e={requestUri:rL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ss(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends wm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Sa{constructor(){super("facebook.com")}static credential(e){return di._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return di._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cn.credential(n,r)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com";Cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Sa{constructor(){super("github.com")}static credential(e){return di._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Sa{constructor(){super("twitter.com")}static credential(e,n){return di._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Qr._fromIdTokenResponse(e,r,i),o=O_(r);return new ms({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=O_(r);return new ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function O_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Wn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gu(e,n,r,i)}}function CC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gu._fromErrorAndOperation(t,s,e,r):s})}async function iL(t,e,n=!1){const r=await ea(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ea(t,CC(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=_m(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),ms._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e,n=!1){const r="signIn",i=await CC(t,r,e),s=await ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function aL(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function lL(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function uL(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}const vu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vu,"1"),this.storage.removeItem(vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){const t=it();return ym(t)||ac(t)}const dL=1e3,fL=10;class TC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cL()&&XM(),this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TC.type="LOCAL";const hL=TC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kC.type="SESSION";const NC=kC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await pL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Em("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function gL(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function vL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _L(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yL(){return IC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebaseLocalStorageDb",wL=1,_u="firebaseLocalStorage",bC="fbase_key";class Ta{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cc(t,e){return t.transaction([_u],e?"readwrite":"readonly").objectStore(_u)}function EL(){const t=indexedDB.deleteDatabase(RC);return new Ta(t).toPromise()}function Hf(){const t=indexedDB.open(RC,wL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_u,{keyPath:bC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_u)?e(r):(r.close(),await EL(),e(await Hf()))})})}async function P_(t,e,n){const r=cc(t,!0).put({[bC]:e,value:n});return new Ta(r).toPromise()}async function CL(t,e){const n=cc(t,!1).get(e),r=await new Ta(n).toPromise();return r===void 0?null:r.value}function A_(t,e){const n=cc(t,!0).delete(e);return new Ta(n).toPromise()}const SL=800,TL=3;class xC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uc._getInstance(yL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vL(),!this.activeServiceWorker)return;this.sender=new mL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_L()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hf();return await P_(e,vu,"1"),await A_(e,vu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cc(i,!1).getAll();return new Ta(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xC.type="LOCAL";const kL=xC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function IL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",NL().appendChild(r)})}function RL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ca(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){return e?In(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends EC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bL(t){return oL(t.auth,new Cm(t),t.bypassAuthState)}function xL(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),sL(n,new Cm(t),t.bypassAuthState)}async function OL(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),iL(n,new Cm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bL;case"linkViaPopup":case"linkViaRedirect":return OL;case"reauthViaPopup":case"reauthViaRedirect":return xL;default:pn(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new Ca(2e3,1e4);async function AL(t,e,n){const r=lc(t);RM(t,e,wm);const i=OC(r,n);return new Wr(r,"signInViaPopup",e,i).executeNotNull()}class Wr extends PC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,PL.get())};e()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="pendingRedirect",vl=new Map;class ML extends PC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vl.get(this.auth._key());if(!e){try{const r=await LL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vl.set(this.auth._key(),e)}return this.bypassAuthState||vl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LL(t,e){const n=$L(e),r=FL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UL(t,e){vl.set(t._key(),e)}function FL(t){return In(t._redirectPersistence)}function $L(t){return gl(DL,t.config.apiKey,t.name)}async function BL(t,e,n=!1){const r=lc(t),i=OC(r,e),o=await new ML(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=10*60*1e3;class zL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jL&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e={}){return oc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GL=/^https?/;async function KL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HL(t);for(const n of e)try{if(qL(n))return}catch{}pn(t,"unauthorized-domain")}function qL(t){const e=Wf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GL.test(n))return!1;if(VL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=new Ca(3e4,6e4);function M_(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QL(t){return new Promise((e,n)=>{var r,i,s;function o(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),n(fn(t,"network-request-failed"))},timeout:YL.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hn().gapi)===null||s===void 0)&&s.load)o();else{const a=RL("iframefcb");return hn()[a]=()=>{gapi.load?o():n(fn(t,"network-request-failed"))},IL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw _l=null,e})}let _l=null;function XL(t){return _l=_l||QL(t),_l}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=new Ca(5e3,15e3),ZL="__/auth/iframe",eU="emulator/auth/iframe",tU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rU(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vm(e,eU):`https://${t.config.authDomain}/${ZL}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},i=nU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ss(r).slice(1)}`}async function iU(t){const e=await XL(t),n=hn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:rU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fn(t,"network-request-failed"),a=hn().setTimeout(()=>{s(o)},JL.get());function l(){hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oU=500,aU=600,lU="_blank",uU="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cU(t,e,n,r=oU,i=aU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sU),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=hC(u)?lU:n),fC(u)&&(e=e||uU,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(YM(u)&&a!=="_self")return dU(e||"",a),new L_(null);const d=window.open(e||"",a,c);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new L_(d)}function dU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="__/auth/handler",hU="emulator/auth/handler";function U_(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:i};if(e instanceof wm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Cf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Sa){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${pU(t)}?${Ss(a).slice(1)}`}function pU({config:t}){return t.emulator?vm(t,hU):`https://${t.authDomain}/${fU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class mU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NC,this._completeRedirectFn=BL,this._overrideRedirectResult=UL}async _openPopup(e,n,r,i){var s;$n((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=U_(e,n,r,Wf(),i);return cU(e,o,Em())}async _openRedirect(e,n,r,i){return await this._originValidation(e),gL(U_(e,n,r,Wf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($n(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iU(e),r=new zL(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dd,{type:dd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dd];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _C()||ym()||ac()}}const gU=mU;var F_="@firebase/auth",$_="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function yU(t){si(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Z(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Z(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yC(t)},c=new ZM(a,l,u);return xM(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),si(new Cr("auth-internal",e=>{const n=lc(e.getProvider("auth").getImmediate());return(r=>new vU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(F_,$_,_U(t)),dn(F_,$_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=5*60,EU=vE("authIdTokenMaxAge")||wU;let B_=null;const CU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EU)return;const i=n==null?void 0:n.token;B_!==i&&(B_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DC(t=Np()){const e=Xu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bM(t,{popupRedirectResolver:gU,persistence:[kL,hL,NC]}),r=vE("authTokenSyncURL");if(r){const s=CU(r);lL(n,s,()=>s(n.currentUser)),aL(n,o=>s(o))}const i=mE("auth");return i&&eL(n,`http://${i}`),n}yU("Browser");var SU="firebase",TU="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn(SU,TU,"app");const kU={apiKey:"AIzaSyCXfdPxRt8Qvi3AZsXu1lxl9VJXuRlga_8",authDomain:"outfitoftheday-c3adf.firebaseapp.com",databaseURL:"https://outfitoftheday-c3adf-default-rtdb.firebaseio.com",projectId:"outfitoftheday-c3adf",storageBucket:"outfitoftheday-c3adf.appspot.com",messagingSenderId:"160151796856",appId:"1:160151796856:web:510e79243373c60cd0c18d"},dc=TE(kU),MC=u2(dc),NU=SM(dc),bs=t=>{const[e,n]=h.useState(),[r,i]=h.useState(null);return h.useEffect(()=>t2(U1(MC,t),s=>{n(s.val())},s=>{i(s)}),[t]),[e,r]},j_=t=>{const e=Date.now(),n=(t==null?void 0:t.message)||`Updated: ${new Date(e).toLocaleString()}`;return{timestamp:e,error:t,message:n}},IU=t=>{const[e,n]=h.useState();return[h.useCallback(i=>{const s=CM(NU,t),o=wM(s,i);o.on("state_changed",a=>{const l=Math.round(a.bytesTransferred/a.totalBytes*100);console.log(l)},a=>{console.log(a)},()=>{EM(o.snapshot.ref).then(a=>{n(a)})})},[t]),e]},na=t=>{const[e,n]=h.useState();return[h.useCallback(i=>{ZD(U1(MC,t),i).then(()=>n(j_())).catch(s=>n(j_(s)))},[t]),e]},RU=()=>{const[t,e]=h.useState();return h.useEffect(()=>uL(DC(dc),e),[]),[t]},bU=()=>{AL(DC(dc),new Cn)},xU=()=>{const[t]=RU(),[e,n]=na("/users/"),[r,i]=na("/closet/"),[s,o,a]=bs("/users/");return h.useEffect(()=>{t&&!o&&!a&&(e({[t.uid]:{displayName:t.displayName,email:t.email,profilePic:t.photoURL}}),r({[t.uid]:{id:t.uid,tops:[],bottoms:[],shoes:[],dresses:[],jackets:[],favorites:{}}}))},[o,a,t,e,r]),[t,o,a]},Vn=()=>({uid:"33VC4ni86kMMYI1PiJtHuEAHCCj2",displayName:"Amy",email:"amy@test.com",profilePic:"https://cdn-icons-png.flaticon.com/512/1946/1946429.png"}),Ti=()=>{const t=Vn(),e=da();return t?C(Ka,{className:"navbar",children:H(J,{className:"navbar-container",children:[C(J,{children:C(Ka.Brand,{className:"navbar-brand",onClick:()=>e("/"),children:"Outfit Of The Day"})}),C(Ka.Toggle,{"aria-controls":"responsive-navbar-nav"}),H(Ka.Collapse,{id:"responsive-navbar-nav",className:"header-dropdown",children:[C(Rv,{size:24}),C(Tv,{id:"collasible-nav-dropdown",align:"end",children:H(Tv.Item,{onClick:()=>e("/add"),children:[C(Rv,{size:24})," Add Item"]})})]})]})}):C("h5",{className:"text-muted",children:"Loading user profile..."})};function OU(t){return xr({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(t)}function PU(t){return xr({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}}]})(t)}function AU(t){return xr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10.551v-.678A4.005 4.005 0 0 0 16 6c0-2.206-1.794-4-4-4S8 3.794 8 6h2c0-1.103.897-2 2-2s2 .897 2 2-.897 2-2 2a1 1 0 0 0-1 1v1.551l-8.665 7.702A1.001 1.001 0 0 0 3 20h18a1.001 1.001 0 0 0 .664-1.748L13 10.551zM5.63 18 12 12.338 18.37 18H5.63z"}}]})(t)}const ki=()=>{const t=da(),e=qh(),n=28,[r,i]=h.useState("home");return h.useEffect(()=>{e.pathname==="/favorites"?i("favorites"):e.pathname==="/closet"?i("closet"):e.pathname==="/"&&i("home")},[e]),H("div",{className:"bottom-container",children:[C("div",{className:r==="favorites"?"favorites-btn-container active-container":"favorites-btn-container",onClick:()=>t("/favorites"),children:H("div",{className:"info-container",children:[r==="favorites"?C(wp,{size:n}):C(cE,{size:n}),C("br",{}),"Favorites"]})}),C("div",{className:r==="home"?"home-btn-container active-container":"home-btn-container",onClick:()=>t("/"),children:H("div",{className:"info-container",children:[r==="home"?C(OU,{size:n}):C(PU,{size:n}),C("br",{}),"Home"]})}),C("div",{className:r==="closet"?"closet-btn-container active-container":"closet-btn-container",onClick:()=>t("/closet"),children:H("div",{className:"info-container",children:[C(AU,{size:n}),C("br",{}),"Closet"]})})]})},DU={bg:"primary",pill:!1},Sm=h.forwardRef(({bsPrefix:t,bg:e,pill:n,text:r,className:i,as:s="span",...o},a)=>{const l=ae(t,"badge");return C(s,{ref:a,...o,className:ee(i,l,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});Sm.displayName="Badge";Sm.defaultProps=DU;const MU=Sm,LC=h.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ae(t,"card-img");return C(r,{ref:s,className:ee(n?`${o}-${n}`:o,e),...i})});LC.displayName="CardImg";const UC=h.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ae(t,"card-header"),o=h.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return C(oE.Provider,{value:o,children:C(n,{ref:i,...r,className:ee(e,s)})})});UC.displayName="CardHeader";const LU=rp("h5"),UU=rp("h6"),FC=st("card-body"),FU=st("card-title",{Component:LU}),$U=st("card-subtitle",{Component:UU}),BU=st("card-link",{Component:"a"}),jU=st("card-text",{Component:"p"}),zU=st("card-footer"),WU=st("card-img-overlay"),HU={body:!1},Tm=h.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},u)=>{const c=ae(t,"card");return C(a,{ref:u,...l,className:ee(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?C(FC,{children:o}):o})});Tm.displayName="Card";Tm.defaultProps=HU;const Qt=Object.assign(Tm,{Img:LC,Title:FU,Subtitle:$U,Body:FC,Link:BU,Text:jU,Header:UC,Footer:zU,ImgOverlay:WU});function VU(t,e){var n=h.useRef(!0);h.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}var Vf=Math.pow(2,31)-1;function $C(t,e,n){var r=n-Date.now();t.current=r<=Vf?setTimeout(e,r):setTimeout(function(){return $C(t,e,n)},Vf)}function GU(){var t=Xh(),e=h.useRef();return yw(function(){return clearTimeout(e.current)}),h.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,s){s===void 0&&(s=0),t()&&(n(),s<=Vf?e.current=setTimeout(i,s):$C(e,i,Date.now()+s))}return{set:r,clear:n}},[])}const KU=st("carousel-caption"),BC=h.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=ee(n,ae(e,"carousel-item"));return C(t,{ref:i,...r,className:s})});BC.displayName="CarouselItem";const qU=BC;function z_(t,e){let n=0;return h.Children.map(t,r=>h.isValidElement(r)?e(r,n++):r)}function YU(t,e){let n=0;h.Children.forEach(t,r=>{h.isValidElement(r)&&e(r,n++)})}function QU(t,e){return h.Children.toArray(t).some(n=>h.isValidElement(n)&&n.type===e)}const XU=40,JU={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:C("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:C("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function ZU(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const km=h.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,slide:i,fade:s,controls:o,indicators:a,indicatorLabels:l,activeIndex:u,onSelect:c,onSlide:d,onSlid:f,interval:p,keyboard:m,onKeyDown:_,pause:E,onMouseOver:g,onMouseOut:v,wrap:w,touch:S,onTouchStart:I,onTouchMove:R,onTouchEnd:y,prevIcon:T,prevLabel:N,nextIcon:k,nextLabel:b,variant:O,className:L,children:j,...B}=$u(t,{activeIndex:"onSelect"}),A=ae(r,"carousel"),D=aw(),P=h.useRef(null),[F,M]=h.useState("next"),[z,G]=h.useState(!1),[X,ne]=h.useState(!1),[Y,fe]=h.useState(u||0);h.useEffect(()=>{!X&&u!==Y&&(P.current?M(P.current):M((u||0)>Y?"next":"prev"),i&&ne(!0),fe(u||0))},[u,X,Y,i]),h.useEffect(()=>{P.current&&(P.current=null)});let ce=0,Se;YU(j,(te,ge)=>{++ce,ge===u&&(Se=te.props.interval)});const Pt=_w(Se),Ze=h.useCallback(te=>{if(X)return;let ge=Y-1;if(ge<0){if(!w)return;ge=ce-1}P.current="prev",c==null||c(ge,te)},[X,Y,c,w,ce]),Me=xe(te=>{if(X)return;let ge=Y+1;if(ge>=ce){if(!w)return;ge=0}P.current="next",c==null||c(ge,te)}),Wt=h.useRef();h.useImperativeHandle(e,()=>({element:Wt.current,prev:Ze,next:Me}));const ot=xe(()=>{!document.hidden&&ZU(Wt.current)&&(D?Ze():Me())}),re=F==="next"?"start":"end";VU(()=>{i||(d==null||d(Y,re),f==null||f(Y,re))},[Y]);const xs=`${A}-item-${F}`,gi=`${A}-item-${re}`,ka=h.useCallback(te=>{Yh(te),d==null||d(Y,re)},[d,Y,re]),fc=h.useCallback(()=>{ne(!1),f==null||f(Y,re)},[f,Y,re]),hc=h.useCallback(te=>{if(m&&!/input|textarea/i.test(te.target.tagName))switch(te.key){case"ArrowLeft":te.preventDefault(),D?Me(te):Ze(te);return;case"ArrowRight":te.preventDefault(),D?Ze(te):Me(te);return}_==null||_(te)},[m,_,Ze,Me,D]),gn=h.useCallback(te=>{E==="hover"&&G(!0),g==null||g(te)},[E,g]),vi=h.useCallback(te=>{G(!1),v==null||v(te)},[v]),Os=h.useRef(0),Or=h.useRef(0),_i=GU(),Na=h.useCallback(te=>{Os.current=te.touches[0].clientX,Or.current=0,E==="hover"&&G(!0),I==null||I(te)},[E,I]),Ia=h.useCallback(te=>{te.touches&&te.touches.length>1?Or.current=0:Or.current=te.touches[0].clientX-Os.current,R==null||R(te)},[R]),Ra=h.useCallback(te=>{if(S){const ge=Or.current;Math.abs(ge)>XU&&(ge>0?Ze(te):Me(te))}E==="hover"&&_i.set(()=>{G(!1)},p||void 0),y==null||y(te)},[S,E,Ze,Me,_i,p,y]),Ps=p!=null&&!z&&!X,pc=h.useRef();h.useEffect(()=>{var te,ge;if(!Ps)return;const vn=D?Ze:Me;return pc.current=window.setInterval(document.visibilityState?ot:vn,(te=(ge=Pt.current)!=null?ge:p)!=null?te:void 0),()=>{pc.current!==null&&clearInterval(pc.current)}},[Ps,Ze,Me,Pt,p,ot,D]);const Um=h.useMemo(()=>a&&Array.from({length:ce},(te,ge)=>vn=>{c==null||c(ge,vn)}),[a,ce,c]);return H(n,{ref:Wt,...B,onKeyDown:hc,onMouseOver:gn,onMouseOut:vi,onTouchStart:Na,onTouchMove:Ia,onTouchEnd:Ra,className:ee(L,A,i&&"slide",s&&`${A}-fade`,O&&`${A}-${O}`),children:[a&&C("div",{className:`${A}-indicators`,children:z_(j,(te,ge)=>C("button",{type:"button","data-bs-target":"","aria-label":l!=null&&l.length?l[ge]:`Slide ${ge+1}`,className:ge===Y?"active":void 0,onClick:Um?Um[ge]:void 0,"aria-current":ge===Y},ge))}),C("div",{className:`${A}-inner`,children:z_(j,(te,ge)=>{const vn=ge===Y;return i?C(Wu,{in:vn,onEnter:vn?ka:void 0,onEntered:vn?fc:void 0,addEndListener:zu,children:(As,SS)=>h.cloneElement(te,{...SS,className:ee(te.props.className,vn&&As!=="entered"&&xs,(As==="entered"||As==="exiting")&&"active",(As==="entering"||As==="exiting")&&gi)})}):h.cloneElement(te,{className:ee(te.props.className,vn&&"active")})})}),o&&H(ut,{children:[(w||u!==0)&&H(ql,{className:`${A}-control-prev`,onClick:Ze,children:[T,N&&C("span",{className:"visually-hidden",children:N})]}),(w||u!==ce-1)&&H(ql,{className:`${A}-control-next`,onClick:Me,children:[k,b&&C("span",{className:"visually-hidden",children:b})]})]})]})});km.displayName="Carousel";km.defaultProps=JU;const W_=Object.assign(km,{Caption:KU,Item:qU});function eF({as:t,bsPrefix:e,className:n,...r}){e=ae(e,"col");const i=sw(),s=ow(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,d,f;typeof u=="object"&&u!=null?{span:c,offset:d,order:f}=u:c=u;const p=l!==s?`-${l}`:"";c&&o.push(c===!0?`${e}${p}`:`${e}${p}-${c}`),f!=null&&a.push(`order${p}-${f}`),d!=null&&a.push(`offset${p}-${d}`)}),[{...r,className:ee(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const jC=h.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=eF(t);return C(i,{...r,ref:e,className:ee(n,!o.length&&s)})});jC.displayName="Col";const Nm=jC,tF={type:Ye.string,tooltip:Ye.bool,as:Ye.elementType},Im=h.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>C(t,{...i,ref:s,className:ee(e,`${n}-${r?"tooltip":"feedback"}`)}));Im.displayName="Feedback";Im.propTypes=tF;const zC=Im,nF=h.createContext({}),Bn=nF,WC=h.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=h.useContext(Bn);return e=ae(e,"form-check-input"),C(o,{...a,ref:l,type:r,id:t||u,className:ee(n,e,i&&"is-valid",s&&"is-invalid")})});WC.displayName="FormCheckInput";const HC=WC,VC=h.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=h.useContext(Bn);return t=ae(t,"form-check-label"),C("label",{...r,ref:i,htmlFor:n||s,className:ee(e,t)})});VC.displayName="FormCheckLabel";const Gf=VC,GC=h.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:d,style:f,title:p="",type:m="checkbox",label:_,children:E,as:g="input",...v},w)=>{e=ae(e,"form-check"),n=ae(n,"form-switch");const{controlId:S}=h.useContext(Bn),I=h.useMemo(()=>({controlId:t||S}),[S,t]),R=!E&&_!=null&&_!==!1||QU(E,Gf),y=C(HC,{...v,type:m==="switch"?"checkbox":m,ref:w,isValid:o,isInvalid:a,disabled:s,as:g});return C(Bn.Provider,{value:I,children:C("div",{style:f,className:ee(d,R&&e,r&&`${e}-inline`,i&&`${e}-reverse`,m==="switch"&&n),children:E||H(ut,{children:[y,R&&C(Gf,{title:p,children:_}),u&&C(zC,{type:c,tooltip:l,children:u})]})})})});GC.displayName="FormCheck";const yu=Object.assign(GC,{Input:HC,Label:Gf}),KC=h.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...d},f)=>{const{controlId:p}=h.useContext(Bn);t=ae(t,"form-control");let m;return l?m={[`${t}-plaintext`]:!0}:m={[t]:!0,[`${t}-${n}`]:n},C(c,{...d,type:e,size:r,ref:f,readOnly:u,id:i||p,className:ee(s,m,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});KC.displayName="FormControl";const rF=Object.assign(KC,{Feedback:zC}),iF=st("form-floating"),Rm=h.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=h.useMemo(()=>({controlId:t}),[t]);return C(Bn.Provider,{value:i,children:C(e,{...n,ref:r})})});Rm.displayName="FormGroup";const sF={column:!1,visuallyHidden:!1},bm=h.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=h.useContext(Bn);e=ae(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=ee(i,e,r&&"visually-hidden",n&&u);return s=s||l,n?C(Nm,{ref:a,as:"label",className:c,htmlFor:s,...o}):C(t,{ref:a,className:c,htmlFor:s,...o})});bm.displayName="FormLabel";bm.defaultProps=sF;const qC=h.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=h.useContext(Bn);return t=ae(t,"form-range"),C("input",{...r,type:"range",ref:i,className:ee(e,t),id:n||s})});qC.displayName="FormRange";const YC=h.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=h.useContext(Bn);return t=ae(t,"form-select"),C("select",{...a,size:n,ref:l,className:ee(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});YC.displayName="FormSelect";const QC=h.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ae(t,"form-text"),C(n,{...i,ref:s,className:ee(e,t,r&&"text-muted")})));QC.displayName="FormText";const XC=h.forwardRef((t,e)=>C(yu,{...t,ref:e,type:"switch"}));XC.displayName="Switch";const oF=Object.assign(XC,{Input:yu.Input,Label:yu.Label}),JC=h.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ae(t,"form-floating"),H(Rm,{ref:o,className:ee(e,t),controlId:r,...s,children:[n,C("label",{htmlFor:r,children:i})]})));JC.displayName="FloatingLabel";const aF={_ref:Ye.any,validated:Ye.bool,as:Ye.elementType},xm=h.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>C(n,{...r,ref:i,className:ee(t,e&&"was-validated")}));xm.displayName="Form";xm.propTypes=aF;const ZC=Object.assign(xm,{Group:Rm,Control:rF,Floating:iF,Check:yu,Switch:oF,Label:bm,Text:QC,Range:qC,Select:YC,FloatingLabel:JC});Ye.string,Ye.bool,Ye.bool,Ye.bool,Ye.bool;const lF={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},Om=h.forwardRef(({bsPrefix:t,className:e,fluid:n,rounded:r,roundedCircle:i,thumbnail:s,...o},a)=>(t=ae(t,"img"),C("img",{ref:a,...o,className:ee(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));Om.displayName="Image";Om.defaultProps=lF;const eS=Om,tS=h.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ae(t,"row"),o=sw(),a=ow(),l=`${s}-cols`,u=[];return o.forEach(c=>{const d=r[c];delete r[c];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const p=c!==a?`-${c}`:"";f!=null&&u.push(`${l}${p}-${f}`)}),C(n,{ref:i,...r,className:ee(e,s,...u)})});tS.displayName="Row";const nS=tS,uF=()=>{const t=Vn(),e=da();return h.useEffect(()=>{t&&e("/")},[t,e]),C(J,{className:"login-container",children:C(J,{className:"login-info-container",children:H(J,{children:[C("h1",{className:"login-title","data-cy":"login-title",children:"Outfit Of The Day"}),C("p",{className:"login-info",children:"OutfitOfTheDay is an app that allows you to catalog your closet and decide on an outfit for the day each morning. It will also keep track of your favorite outfits, which will be recommended more frequently."}),C(()=>C("button",{className:"ml-5 p-2 w-75 btn login-button",onClick:bU,children:"SIGN IN"}),{})]})})})},cF=({data:t,bottoms:e})=>C(J,{children:C(nS,{xs:2,md:4,className:"g-4",children:Object.entries(t).map(([n,r])=>C(Nm,{children:H(Qt,{className:"card-container",children:[C(Qt.Img,{variant:"top",src:r.url,className:e?"card-image-bottoms":"card-image"}),C("div",{className:"card-text-container",children:r.weather.map(i=>C(MU,{bg:"secondary",className:"card-weather",pill:!0,children:i},i))})]})},n))})}),dF=()=>{const t=Vn(),[e]=bs("/closet"),[n,r]=h.useState("Tops"),[i,s]=h.useState(null),o=l=>{l==="Tops"?(r("Tops"),s(e[t.uid].tops)):l==="Jackets"?(r("Jackets"),s(e[t.uid].jackets)):l==="Dresses"?(r("Dresses"),s(e[t.uid].dresses)):l==="Bottoms"?(r("Bottoms"),s(e[t.uid].bottoms)):l==="Shoes"&&(r("Shoes"),s(e[t.uid].shoes))},a=["Cold","Warm","Rainy","Sunny"];return t?e?H(J,{className:"p-10 mt-3",children:[C("h3",{className:"closet-title",children:"My Closet"}),C("hr",{}),H(ZC.Select,{onChange:l=>o(l.target.value),children:[C("option",{value:"Tops",children:"Tops"}),C("option",{value:"Jackets",children:"Jackets"}),C("option",{value:"Dresses",children:"Dresses"}),C("option",{value:"Bottoms",children:"Bottoms"}),C("option",{value:"Shoes",children:"Shoes"})]}),C("div",{className:"card-text-container-header",children:a.map((l,u)=>C(Le,{className:"filter-weather-button",children:l},u))}),C("h5",{className:"text-muted mt-3",children:n}),C(cF,{data:i||e[t.uid].tops,bottoms:n==="Bottoms"})]}):C("h5",{className:"text-muted",children:"Loading user closet..."}):C("h5",{className:"text-muted",children:"Loading user profile..."})},fF=({data:t})=>{const[e]=na("/");bs("/closet");const n=Vn(),r=i=>{e({["/closet/"+n.uid+"/favorites/"+i]:null})};return C(J,{children:C(nS,{xs:2,md:4,className:"g-1",children:Object.entries(t).map(([i,s])=>C(Nm,{children:H(Qt,{className:"favorites-card-container",children:[H(J,{className:"favorites-card-clothes",children:[H(J,{className:"favorites-top-shoes-container",children:[C(J,{className:"favorites-top-container",children:C(Qt.Img,{variant:"top",src:s.tops.url,className:"favorites-card-image"})}),C(J,{className:"favorites-shoes-container",children:C(Qt.Img,{variant:"top",src:s.shoes.url,className:"favorites-card-image-shoes"})})]}),C(J,{className:"favorites-bottom-container",children:C(Qt.Img,{variant:"top",src:s.bottoms.url,className:"favorites-card-image-bottom"})})]}),C(J,{className:"favorites-card-heart",children:C(wp,{onClick:()=>r(i),size:15})})]})},i))})})},hF=()=>{const t=Vn(),[e]=bs("/closet");return t?e?H(J,{className:"p-10 mt-3",children:[C("h3",{className:"closet-title",children:"My Favorites"}),C("hr",{}),C(fF,{data:e[t.uid].favorites})]}):C("h5",{className:"text-muted",children:"Loading user closet..."}):C("h5",{className:"text-muted",children:"Loading user profile..."})};let el;const pF=new Uint8Array(16);function mF(){if(!el&&(el=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!el))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return el(pF)}const Ve=[];for(let t=0;t<256;++t)Ve.push((t+256).toString(16).slice(1));function gF(t,e=0){return(Ve[t[e+0]]+Ve[t[e+1]]+Ve[t[e+2]]+Ve[t[e+3]]+"-"+Ve[t[e+4]]+Ve[t[e+5]]+"-"+Ve[t[e+6]]+Ve[t[e+7]]+"-"+Ve[t[e+8]]+Ve[t[e+9]]+"-"+Ve[t[e+10]]+Ve[t[e+11]]+Ve[t[e+12]]+Ve[t[e+13]]+Ve[t[e+14]]+Ve[t[e+15]]).toLowerCase()}const vF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H_={randomUUID:vF};function Kf(t,e,n){if(H_.randomUUID&&!e&&!t)return H_.randomUUID();t=t||{};const r=t.random||(t.rng||mF)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return gF(r)}const fd=({data:t,handleSelect:e,index:n})=>C(J,{className:"carousel-container",children:C(W_,{interval:null,indicators:!1,activeIndex:n,onSelect:e,children:Object.entries(t).map(([r,i])=>C(W_.Item,{children:C("img",{src:i.url,alt:"Slide"})},r))})}),rS=()=>{let t=41.881832,e=-87.623177;return"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(n){t=n.coords.latitude,e=n.coords.longitude}),`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current_weather=true&temperature_unit=fahrenheit&hourly=temperature_2m`};var iS={},Pm={},Am={};Object.defineProperty(Am,"__esModule",{value:!0});var _F=function(t){var e,n;(function(){var y=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,T=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame;y&&T?(e=function(k){var b={value:null};function O(){b.value=y(O),k()}return O(),b},n=function(k){T(k.value)}):(e=setInterval,n=clearInterval)})();var r=500,i=.08,s=2*Math.PI,o=2/Math.sqrt(2);function a(y,T,N,k){y.beginPath(),y.arc(T,N,k,0,s,!1),y.fill()}function l(y,T,N,k,b){y.beginPath(),y.moveTo(T,N),y.lineTo(k,b),y.stroke()}function u(y,T,N,k,b,O,L,j){var B=Math.cos(T*s),A=Math.sin(T*s);j-=L,a(y,N-A*b,k+B*O+j*.5,L+(1-B*.5)*j)}function c(y,T,N,k,b,O,L,j){var B;for(B=5;B--;)u(y,T+B/5,N,k,b,O,L,j)}function d(y,T,N,k,b,O,L){T/=3e4;var j=b*.21,B=b*.12,A=b*.24,D=b*.28;y.fillStyle=L,c(y,T,N,k,j,B,A,D),y.globalCompositeOperation="destination-out",c(y,T,N,k,j,B,A-O,D-O),y.globalCompositeOperation="source-over"}function f(y,T,N,k,b,O,L){T/=12e4;var j=b*.25-O*.5,B=b*.32+O*.5,A=b*.5-O*.5,D,P,F,M;for(y.strokeStyle=L,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",y.beginPath(),y.arc(N,k,j,0,s,!1),y.stroke(),D=8;D--;)P=(T+D/8)*s,F=Math.cos(P),M=Math.sin(P),l(y,N+F*B,k+M*B,N+F*A,k+M*A)}function p(y,T,N,k,b,O,L){T/=15e3;var j=b*.29-O*.5,B=b*.05,A=Math.cos(T*s),D=A*s/-16;y.strokeStyle=L,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",N+=A*B,y.beginPath(),y.arc(N,k,j,D+s/8,D+s*7/8,!1),y.arc(N+Math.cos(D)*j*o,k+Math.sin(D)*j*o,j,D+s*5/8,D+s*3/8,!0),y.closePath(),y.stroke()}function m(y,T,N,k,b,O,L){T/=1350;var j=b*.16,B=s*11/12,A=s*7/12,D,P,F,M;for(y.fillStyle=L,D=4;D--;)P=(T+D/4)%1,F=N+(D-1.5)/1.5*(D===1||D===2?-1:1)*j,M=k+P*P*b,y.beginPath(),y.moveTo(F,M-O*1.5),y.arc(F,M,O*.75,B,A,!1),y.fill()}function _(y,T,N,k,b,O,L){T/=750;var j=b*.1875,B,A,D,P;for(y.strokeStyle=L,y.lineWidth=O*.5,y.lineCap="round",y.lineJoin="round",B=4;B--;)A=(T+B/4)%1,D=Math.floor(N+(B-1.5)/1.5*(B===1||B===2?-1:1)*j)+.5,P=k+A*b,l(y,D,P-O*1.5,D,P+O*1.5)}function E(y,T,N,k,b,O,L){T/=3e3;var j=b*.16,B=O*.75,A=T*s*.7,D=Math.cos(A)*B,P=Math.sin(A)*B,F=A+s/3,M=Math.cos(F)*B,z=Math.sin(F)*B,G=A+s*2/3,X=Math.cos(G)*B,ne=Math.sin(G)*B,Y,fe,ce,Se;for(y.strokeStyle=L,y.lineWidth=O*.5,y.lineCap="round",y.lineJoin="round",Y=4;Y--;)fe=(T+Y/4)%1,ce=N+Math.sin((fe+Y/4)*s)*j,Se=k+fe*b,l(y,ce-D,Se-P,ce+D,Se+P),l(y,ce-M,Se-z,ce+M,Se+z),l(y,ce-X,Se-ne,ce+X,Se+ne)}function g(y,T,N,k,b,O,L){T/=3e4;var j=b*.21,B=b*.06,A=b*.21,D=b*.28;y.fillStyle=L,c(y,T,N,k,j,B,A,D),y.globalCompositeOperation="destination-out",c(y,T,N,k,j,B,A-O,D-O),y.globalCompositeOperation="source-over"}var v=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],w=[{start:.36,end:.11},{start:.56,end:.16}];function S(y,T,N,k,b,O,L){var j=b/8,B=j/3,A=2*B,D=T%1*s,P=Math.cos(D),F=Math.sin(D);y.fillStyle=L,y.strokeStyle=L,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",y.beginPath(),y.arc(N,k,j,D,D+Math.PI,!1),y.arc(N-B*P,k-B*F,A,D+Math.PI,D,!1),y.arc(N+A*P,k+A*F,B,D+Math.PI,D,!0),y.globalCompositeOperation="destination-out",y.fill(),y.globalCompositeOperation="source-over",y.stroke()}function I(y,T,N,k,b,O,L,j,B){T/=2500;var A=v[L],D=(T+L-w[L].start)%j,P=(T+L-w[L].end)%j,F=(T+L)%j,M,z,G,X;if(y.strokeStyle=B,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",D<1){if(y.beginPath(),D*=A.length/2-1,M=Math.floor(D),D-=M,M*=2,M+=2,y.moveTo(N+(A[M-2]*(1-D)+A[M]*D)*b,k+(A[M-1]*(1-D)+A[M+1]*D)*b),P<1){for(P*=A.length/2-1,z=Math.floor(P),P-=z,z*=2,z+=2,X=M;X!==z;X+=2)y.lineTo(N+A[X]*b,k+A[X+1]*b);y.lineTo(N+(A[z-2]*(1-P)+A[z]*P)*b,k+(A[z-1]*(1-P)+A[z+1]*P)*b)}else for(X=M;X!==A.length;X+=2)y.lineTo(N+A[X]*b,k+A[X+1]*b);y.stroke()}else if(P<1){for(y.beginPath(),P*=A.length/2-1,z=Math.floor(P),P-=z,z*=2,z+=2,y.moveTo(N+A[0]*b,k+A[1]*b),X=2;X!==z;X+=2)y.lineTo(N+A[X]*b,k+A[X+1]*b);y.lineTo(N+(A[z-2]*(1-P)+A[z]*P)*b,k+(A[z-1]*(1-P)+A[z+1]*P)*b),y.stroke()}F<1&&(F*=A.length/2-1,G=Math.floor(F),F-=G,G*=2,G+=2,S(y,T,N+(A[G-2]*(1-F)+A[G]*F)*b,k+(A[G-1]*(1-F)+A[G+1]*F)*b,b,O,B))}var R=function(T){this.list=[],this.interval=null,this.color=T&&T.color?T.color:"black",this.resizeClear=!!(T&&T.resizeClear)};return R.CLEAR_DAY=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);f(y,T,k*.5,b*.5,O,O*i,N)},R.CLEAR_NIGHT=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);p(y,T,k*.5,b*.5,O,O*i,N)},R.PARTLY_CLOUDY_DAY=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);f(y,T,k*.625,b*.375,O*.75,O*i,N),d(y,T,k*.375,b*.625,O*.75,O*i,N)},R.PARTLY_CLOUDY_NIGHT=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);p(y,T,k*.667,b*.375,O*.75,O*i,N),d(y,T,k*.375,b*.625,O*.75,O*i,N)},R.CLOUDY=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);d(y,T,k*.5,b*.5,O,O*i,N)},R.RAIN=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);m(y,T,k*.5,b*.37,O*.9,O*i,N),d(y,T,k*.5,b*.37,O*.9,O*i,N)},R.SLEET=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);_(y,T,k*.5,b*.37,O*.9,O*i,N),d(y,T,k*.5,b*.37,O*.9,O*i,N)},R.SNOW=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);E(y,T,k*.5,b*.37,O*.9,O*i,N),d(y,T,k*.5,b*.37,O*.9,O*i,N)},R.WIND=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b);I(y,T,k*.5,b*.5,O,O*i,0,2,N),I(y,T,k*.5,b*.5,O,O*i,1,2,N)},R.FOG=function(y,T,N){var k=y.canvas.width,b=y.canvas.height,O=Math.min(k,b),L=O*i;g(y,T,k*.5,b*.32,O*.75,L,N),T/=5e3;var j=Math.cos(T*s)*O*.02,B=Math.cos((T+.25)*s)*O*.02,A=Math.cos((T+.5)*s)*O*.02,D=Math.cos((T+.75)*s)*O*.02,P=b*.936,F=Math.floor(P-L*.5)+.5,M=Math.floor(P-L*2.5)+.5;y.strokeStyle=N,y.lineWidth=L,y.lineCap="round",y.lineJoin="round",l(y,j+k*.2+L*.5,F,B+k*.8-L*.5,F),l(y,A+k*.2+L*.5,M,D+k*.8-L*.5,M)},R.prototype={_determineDrawingFunction:function(T){return typeof T=="string"&&(T=R[T.toUpperCase().replace(/-/g,"_")]||null),T},add:function(T,N){var k;typeof T=="string"&&(T=document.getElementById(T)),T!==null&&(N=this._determineDrawingFunction(N),typeof N=="function"&&(k={element:T,context:T.getContext("2d"),drawing:N},this.list.push(k),this.draw(k,r)))},set:function(T,N){var k;for(typeof T=="string"&&(T=document.getElementById(T)),k=this.list.length;k--;)if(this.list[k].element===T){this.list[k].drawing=this._determineDrawingFunction(N),this.draw(this.list[k],r);return}this.add(T,N)},remove:function(T){var N;for(typeof T=="string"&&(T=document.getElementById(T)),N=this.list.length;N--;)if(this.list[N].element===T){this.list.splice(N,1);return}},draw:function(T,N){var k=T.context.canvas;this.resizeClear?k.width=k.width:T.context.clearRect(0,0,k.width,k.height),T.drawing(T.context,N,this.color)},play:function(){var T=this;this.pause(),this.interval=e(function(){var N=Date.now(),k;for(k=T.list.length;k--;)T.draw(T.list[k],N)},1e3/60)},pause:function(){this.interval&&(n(this.interval),this.interval=null)}},R}(typeof wo<"u"?wo:typeof self<"u"?self:window);Am.default=_F;Object.defineProperty(Pm,"__esModule",{value:!0});var qf=h,yF=Dm(qf),wF=Ye,tl=Dm(wF),EF=Am,sS=Dm(EF);function Dm(t){return t&&t.__esModule?t:{default:t}}function CF(t,e,n,r){n.add(r,sS.default[t]),e&&n.play()}var Mm=function(e){var n=e.icon,r=e.color,i=e.size,s=e.animate,o=(0,qf.useRef)(null);return(0,qf.useEffect)(function(){var a=new sS.default({color:r,resizeClear:!0}),l=o.current;return CF(n,s,a,l),function(){a.remove(l)}},[n,r,s,i]),yF.default.createElement("canvas",{ref:o,width:i,height:i})};Mm.defaultProps={animate:!0,size:64,color:"black"};Mm.propTypes={icon:tl.default.oneOf(["CLEAR_DAY","CLEAR_NIGHT","PARTLY_CLOUDY_DAY","PARTLY_CLOUDY_NIGHT","CLOUDY","RAIN","SLEET","SNOW","WIND","FOG"]).isRequired,animate:tl.default.bool,size:tl.default.number,color:tl.default.string};Pm.default=Mm;Object.defineProperty(iS,"__esModule",{value:!0});var SF=Pm,TF=kF(SF);function kF(t){return t&&t.__esModule?t:{default:t}}var NF=iS.default=TF.default;function IF(t){let e=t.weather,n={};return e>=80?n={icon:"CLEAR_DAY",color:"yellow",size:12,animate:!0}:e>=60?n={icon:"PARTLY_CLOUDY_DAY",color:"grey",size:12,animate:!0}:e>=40?n={icon:"CLOUDY",color:"grey",size:12,animate:!0}:e>=20?n={icon:"RAIN",color:"blue",size:12,animate:!0}:n={icon:"SNOW",color:"white",size:10,animate:!0},H(J,{className:"weather-header-container",children:[C(NF,{icon:n.icon,color:n.color,size:t.size,animate:t.animate}),H("div",{style:{fontFamily:"Arial",fontSize:"18px"},children:[e,"°"]})]})}var Lm={},oS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=h;t.DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t.IconContext=e.createContext&&e.createContext(t.DefaultContext)})(oS);var ra=wo&&wo.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(Lm,"__esModule",{value:!0});var wu=h,hd=oS;function aS(t){return t&&t.map(function(e,n){return wu.createElement(e.tag,ra({key:n},e.attr),aS(e.child))})}function RF(t){return function(e){return wu.createElement(lS,ra({attr:ra({},t.attr)},e),aS(t.child))}}Lm.GenIcon=RF;function lS(t){var e=function(n){var r=t.size||n.size||"1em",i;return n.className&&(i=n.className),t.className&&(i=(i+" "||"")+t.className),wu.createElement("svg",ra({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,t.attr,t,{className:i,style:ra({color:t.color||n.color},n.style,t.style),height:r,width:r}),t.children)};return hd.IconContext!==void 0?wu.createElement(hd.IconContext.Consumer,null,function(n){return e(n)}):e(hd.DefaultContext)}Lm.IconBase=lS;const bF=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,s]=h.useState(0);h.useEffect(()=>{fetch(rS()).then(k=>k.json()).then(k=>{e(k.current_weather.temperature),r(k.current_weather.windspeed),s(k.current_weather.weatherCode)}).catch(k=>console.error(k))},[]);const o=Vn(),[a]=bs("/closet"),[l]=na("/");h.useState(!1),h.useState(!1);const[u,c]=h.useState(!1),[d,f]=h.useState(!1),[p,m]=h.useState(0),[_,E]=h.useState(0),[g,v]=h.useState(0);h.useEffect(()=>{a&&w()},[a]),h.useEffect(()=>{w()},[p,_,g]);const w=()=>{if(a){const k={tops:Object.values(a[o.uid].tops)[p],bottoms:Object.values(a[o.uid].bottoms)[_],shoes:Object.values(a[o.uid].shoes)[g]};let b=!1;Object.entries(a[o.uid].favorites).map(([O,L])=>{k.bottoms.url===L.bottoms.url&&k.shoes.url===L.shoes.url&&k.tops.url===L.tops.url&&(f(O),b=!0)}),c(b)}},S=k=>{m(k)},I=k=>{E(k)},R=k=>{v(k)},y=()=>{if(u)l({["/closet/"+o.uid+"/favorites/"+d]:null}),c(!1);else{const k=Kf(),b={tops:Object.values(a[o.uid].tops)[p],bottoms:Object.values(a[o.uid].bottoms)[_],shoes:Object.values(a[o.uid].shoes)[g]};l({["/closet/"+o.uid+"/favorites/"+k]:b})}};if(!o)return C("h5",{className:"text-muted",children:"Loading user profile..."});if(!a)return C("h5",{className:"text-muted",children:"Loading user closet..."});var T=new Date().getHours(),N="Morning";return 12<=T&&T<17?N="Afternoon":17<=T&&(N="Evening"),H(J,{children:[H(J,{className:"home-header-container",children:[H("span",{children:["Good ",N," ",o.displayName.split(" ")[0],"!"]})," ",C("br",{}),"Let's choose your outfit. ",C("br",{}),"Here's what we suggest!"]}),C("div",{className:"weather-header-container",children:C(IF,{weather:t})}),H(J,{className:"home-clothes-container",children:[C(J,{className:"home-clothes-top",children:C(fd,{data:a[o.uid].tops,handleSelect:S,index:p})}),C(J,{className:"home-clothes-bottoms",children:C(fd,{data:a[o.uid].bottoms,handleSelect:I,index:_})}),C(J,{className:"home-clothes-shoes",children:C(fd,{data:a[o.uid].shoes,handleSelect:R,index:g})})]}),C(J,{className:"home-button-container",children:H(Le,{className:"home-btn-fav",onClick:()=>{y()},children:[u?H(ut,{children:[C(wp,{size:20}),"  Favorited"]}):H(ut,{children:[C(cE,{size:20}),"  Favorite this look"]})," "]})})]})};function uS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=uS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function K(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=uS(e))&&(r&&(r+=" "),r+=n);return r}var V=function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},V.apply(this,arguments)};function q(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var cS=x.forwardRef(function(t,e){var n=t.breakpoint,r=t.fluid,i=t.children,s=t.className,o=t.tag,a=q(t,["breakpoint","fluid","children","className","tag"]),l=K("".concat(r?"container-fluid":"container".concat(n?"-"+n:"")),s);return x.createElement(o,V({className:l},a,{ref:e}),i)});cS.defaultProps={tag:"div"};var dS=x.forwardRef(function(t,e){var n=t.center,r=t.children,i=t.className,s=t.end,o=t.lg,a=t.md,l=t.offsetLg,u=t.offsetMd,c=t.offsetSm,d=t.order,f=t.size,p=t.sm,m=t.start,_=t.tag,E=t.xl,g=t.xxl,v=t.xs,w=q(t,["center","children","className","end","lg","md","offsetLg","offsetMd","offsetSm","order","size","sm","start","tag","xl","xxl","xs"]),S=K(f&&"col-".concat(f),v&&"col-xs-".concat(v),p&&"col-sm-".concat(p),a&&"col-md-".concat(a),o&&"col-lg-".concat(o),E&&"col-xl-".concat(E),g&&"col-xxl-".concat(g),f||v||p||a||o||E||g?"":"col",d&&"order-".concat(d),m&&"align-self-start",n&&"align-self-center",s&&"align-self-end",c&&"offset-sm-".concat(c),u&&"offset-md-".concat(u),l&&"offset-lg-".concat(l),i);return x.createElement(_,V({className:S,ref:e},w),r)});dS.defaultProps={tag:"div"};var xF=x.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.pill,s=t.light,o=t.dot,a=t.tag,l=t.children,u=t.notification,c=q(t,["className","color","pill","light","dot","tag","children","notification"]),d=K("badge",s?r&&"badge-".concat(r):r&&"bg-".concat(r),o&&"badge-dot",i&&"rounded-pill",u&&"badge-notification",n);return x.createElement(a,V({className:d,ref:e},c),l)});xF.defaultProps={tag:"span",color:"primary"};var OF=function(t){var e=q(t,[]),n=h.useState(!1),r=n[0],i=n[1],s=K("ripple-wave",r&&"active");return h.useEffect(function(){var o=setTimeout(function(){i(!0)},50);return function(){clearTimeout(o)}},[]),x.createElement("div",V({className:s},e))},fS=x.forwardRef(function(t,e){var n=t.className,r=t.rippleTag,i=t.rippleCentered,s=t.rippleDuration,o=t.rippleUnbound,a=t.rippleRadius,l=t.rippleColor,u=t.children,c=t.onMouseDown,d=q(t,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onMouseDown"]),f=function(){for(var N=[],k=0;k<arguments.length;k++)N[k]=arguments[k];var b=x.useRef();return x.useEffect(function(){N.forEach(function(O){O&&(typeof O=="function"?O(b.current):O.current=b.current)})},[N]),b}(e,h.useRef(null)),p=[0,0,0],m=["primary","secondary","success","danger","warning","info","light","dark"],_=h.useState([]),E=_[0],g=_[1],v=h.useState(!1),w=v[0],S=v[1],I=K("ripple","ripple-surface",o&&"ripple-surface-unbound",w&&"ripple-surface-".concat(l),n),R=function(){if(m.find(function(b){return b===(l==null?void 0:l.toLowerCase())}))return S(!0);var N=y(l).join(","),k="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(N));return"radial-gradient(circle, ".concat(k,")")},y=function(N){return N.toLowerCase()==="transparent"?p:N[0]==="#"?function(k){return k.length<7&&(k="#".concat(k[1]).concat(k[1]).concat(k[2]).concat(k[2]).concat(k[3]).concat(k[3])),[parseInt(k.substr(1,2),16),parseInt(k.substr(3,2),16),parseInt(k.substr(5,2),16)]}(N):(N.indexOf("rgb")===-1&&(N=function(k){var b=document.body.appendChild(document.createElement("fictum")),O="rgb(1, 2, 3)";return b.style.color=O,b.style.color!==O?p:(b.style.color=k,b.style.color===O||b.style.color===""?p:(k=getComputedStyle(b).color,document.body.removeChild(b),k))}(N)),N.indexOf("rgb")===0?function(k){return(k=k.match(/[.\d]+/g).map(function(b){return+Number(b)})).length=3,k}(N):p)},T=function(N){var k,b=(k=f.current)===null||k===void 0?void 0:k.getBoundingClientRect(),O=N.clientX-b.left,L=N.clientY-b.top,j=b.height,B=b.width,A={delay:s&&.5*s,duration:s&&s-.5*s},D=function(M){var z=M.offsetX,G=M.offsetY,X=M.height,ne=M.width,Y=G<=X/2,fe=z<=ne/2,ce=function(xs,gi){return Math.sqrt(Math.pow(xs,2)+Math.pow(gi,2))},Se=G===X/2&&z===ne/2,Pt=Y===!0&&fe===!1,Ze=Y===!0&&fe===!0,Me=Y===!1&&fe===!0,Wt=Y===!1&&fe===!1,ot={topLeft:ce(z,G),topRight:ce(ne-z,G),bottomLeft:ce(z,X-G),bottomRight:ce(ne-z,X-G)},re=0;return Se||Wt?re=ot.topLeft:Me?re=ot.topRight:Ze?re=ot.bottomRight:Pt&&(re=ot.bottomLeft),2*re}({offsetX:i?j/2:O,offsetY:i?B/2:L,height:j,width:B}),P=a||D/2,F={left:"".concat(i?B/2-P:O-P,"px"),top:"".concat(i?j/2-P:L-P,"px"),height:"".concat(a?2*a:D,"px"),width:"".concat(a?2*a:D,"px"),transitionDelay:"0s, ".concat(A.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(A.duration,"ms")};return w?F:V(V({},F),{backgroundImage:"".concat(R())})};return h.useEffect(function(){var N=setTimeout(function(){E.length>0&&g(E.splice(1,E.length-1))},s);return function(){clearTimeout(N)}},[s,E]),x.createElement(r,V({className:I,onMouseDown:function(N){return function(k){var b=T(k),O=E.concat(b);g(O),c&&c(k)}(N)},ref:f},d),u,E.map(function(N,k){return x.createElement(OF,{key:k,style:N})}))});fS.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var PF=x.forwardRef(function(t,e){var n,r=t.className,i=t.color,s=t.outline,o=t.children,a=t.rounded,l=t.disabled,u=t.floating,c=t.size,d=t.href,f=t.block,p=t.active,m=t.toggle,_=t.noRipple,E=t.tag,g=q(t,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),v=h.useState(p||!1),w=v[0],S=v[1],I=i&&["light","link"].includes(i)||s?"dark":"light";n=i!=="none"?s?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"";var R=K(i!=="none"&&"btn",n,a&&"btn-rounded",u&&"btn-floating",c&&"btn-".concat(c),"".concat((d||E!=="button")&&l?"disabled":""),f&&"btn-block",w&&"active",r);return d&&E!=="a"&&(E="a"),["hr","img","input"].includes(E)||_?x.createElement(E,V({className:R,onClick:m?function(){S(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},g),o):x.createElement(fS,V({rippleTag:E,rippleColor:I,className:R,onClick:m?function(){S(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},g),o)});PF.defaultProps={tag:"button",role:"button",color:"primary"};var AF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.shadow,s=t.toolbar,o=t.size,a=t.vertical,l=t.tag,u=q(t,["className","children","shadow","toolbar","size","vertical","tag"]),c=K(s?"btn-toolbar":a?"btn-group-vertical":"btn-group",i&&"shadow-".concat(i),o&&"btn-group-".concat(o),n);return x.createElement(l,V({className:c,ref:e},u),r)});AF.defaultProps={tag:"div",role:"group"};var DF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.color,o=t.grow,a=t.size,l=q(t,["className","children","tag","color","grow","size"]),u=K("".concat(o?"spinner-grow":"spinner-border"),s&&"text-".concat(s),"".concat(a?o?"spinner-grow-"+a:"spinner-border-"+a:""),n);return x.createElement(i,V({className:u,ref:e},l),r)});DF.defaultProps={tag:"div"};var hS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=t.shadow,l=t.alignment,u=q(t,["className","children","border","background","tag","shadow","alignment"]),c=K("card",i&&"border border-".concat(i),s&&"bg-".concat(s),a&&"shadow-".concat(a),l&&"text-".concat(l),n);return x.createElement(o,V({className:c,ref:e},u),r)});hS.defaultProps={tag:"div"};var MF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=q(t,["className","children","border","background","tag"]),l=K("card-header",i&&"border-".concat(i),s&&"bg-".concat(s),n);return x.createElement(o,V({className:l},a,{ref:e}),r)});MF.defaultProps={tag:"div"};var LF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-subtitle",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});LF.defaultProps={tag:"p"};var pS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-title",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});pS.defaultProps={tag:"h5"};var mS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-text",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});mS.defaultProps={tag:"p"};var gS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-body",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});gS.defaultProps={tag:"div"};var UF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=q(t,["className","children","border","background","tag"]),l=K("card-footer",i&&"border-".concat(i),s&&"bg-".concat(s),n);return x.createElement(o,V({className:l},a,{ref:e}),r)});UF.defaultProps={tag:"div"};var FF=function(t){var e=t.className,n=t.children,r=t.overlay,i=t.position,s=t.fluid,o=q(t,["className","children","overlay","position","fluid"]),a=K(i&&"card-img-".concat(i),s&&"img-fluid",r&&"card-img",e);return x.createElement("img",V({className:a},o),n)},$F=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-img-overlay",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});$F.defaultProps={tag:"div"};var BF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-group",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});BF.defaultProps={tag:"div"};var jF=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.horizontal,s=t.horizontalSize,o=t.light,a=t.numbered,l=t.children,u=t.small,c=q(t,["className","tag","horizontal","horizontalSize","light","numbered","children","small"]),d=K("list-group",i&&(s?"list-group-horizontal-".concat(s):"list-group-horizontal"),o&&"list-group-light",a&&"list-group-numbered",u&&"list-group-small",n);return x.createElement(r,V({className:d,ref:e},c),l)});jF.defaultProps={tag:"ul"};var zF=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.active,s=t.disabled,o=t.action,a=t.color,l=t.children,u=t.noBorders,c=q(t,["className","tag","active","disabled","action","color","children","noBorders"]),d=r==="button",f=K("list-group-item",i&&"active",s&&!d&&"disabled",o&&"list-group-item-action",a&&"list-group-item-".concat(a),u&&"border-0",n);return x.createElement(r,V({className:f,disabled:d&&s,ref:e},c),l)});zF.defaultProps={tag:"li"};var vS=x.forwardRef(function(t,e){var n=t.around,r=t.between,i=t.bottom,s=t.center,o=t.children,a=t.className,l=t.evenly,u=t.end,c=t.middle,d=t.start,f=t.tag,p=t.top,m=q(t,["around","between","bottom","center","children","className","evenly","end","middle","start","tag","top"]),_=K("row",n&&"justify-content-around",r&&"justify-content-between",i&&"align-self-end",s&&"justify-content-center",l&&"justifty-content-evenly",u&&"justify-content-end",c&&"align-self-center",d&&"justify-content-start",p&&"align-self-start",a);return x.createElement(f,V({className:_},m,{ref:e}),o)});vS.defaultProps={tag:"div"};var WF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.variant,o=t.color,a=t.blockquote,l=t.note,u=t.noteColor,c=t.listUnStyled,d=t.listInLine,f=q(t,["className","children","tag","variant","color","blockquote","note","noteColor","listUnStyled","listInLine"]),p=K(s&&s,a&&"blockquote",l&&"note",o&&"text-".concat(o),u&&"note-".concat(u),c&&"list-unstyled",d&&"list-inline",n);return a&&(i="blockquote"),(c||d)&&(i="ul"),x.createElement(i,V({className:p,ref:e},f),r)});WF.defaultProps={tag:"p"};x.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.uppercase,s=t.bold,o=t.children,a=q(t,["className","color","uppercase","bold","children"]),l=K("breadcrumb",s&&"font-weight-bold",r&&"text-".concat(r),i&&"text-uppercase",n);return x.createElement("nav",{"aria-label":"breadcrumb"},x.createElement("ol",V({className:l,ref:e},a),o))});var HF=x.forwardRef(function(t,e){var n=t.className,r=t.active,i=t.current,s=t.children,o=q(t,["className","active","current","children"]),a=K("breadcrumb-item",r&&"active",n);return x.createElement("li",V({className:a,ref:e,"aria-current":r&&i},o),s)});HF.defaultProps={current:"page"};var VF=x.forwardRef(function(t,e){var n,r=t.className,i=t.children,s=t.light,o=t.dark,a=t.scrolling,l=t.fixed,u=t.sticky,c=t.scrollingNavbarOffset,d=t.color,f=t.transparent,p=t.expand,m=t.tag,_=t.bgColor,E=q(t,["className","children","light","dark","scrolling","fixed","sticky","scrollingNavbarOffset","color","transparent","expand","tag","bgColor"]),g=h.useState(!1),v=g[0],w=g[1],S=K(((n={"navbar-light":s,"navbar-dark":o,"scrolling-navbar":a||c,"top-nav-collapse":v})["text-".concat(d)]=d&&f?v:d,n),l&&"fixed-".concat(l),u&&"sticky-top","navbar",p&&function(R){if(R!==!1)return"navbar-expand-".concat(R)}(p),_&&"bg-".concat(_),r),I=h.useCallback(function(){c&&window.pageYOffset>c?w(!0):w(!1)},[c]);return h.useEffect(function(){return(a||c)&&window.addEventListener("scroll",I),function(){window.removeEventListener("scroll",I)}},[I,a,c]),x.createElement(m,V({className:S,role:"navigation"},E,{ref:e}),i)});VF.defaultProps={tag:"nav"};var GF=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.disabled,s=t.active,o=t.tag,a=q(t,["children","className","disabled","active","tag"]),l=K("nav-link",i?"disabled":s?"active":"",r);return x.createElement(o,V({"data-test":"nav-link",className:l,style:{cursor:"pointer"},ref:e},a),n)});GF.defaultProps={tag:"a",active:!1,className:"",disabled:!1};var KF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("navbar-brand",n);return x.createElement(i,V({className:o,ref:e},s),r)});KF.defaultProps={tag:"a"};var qF=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.text,o=t.tag,a=q(t,["children","className","active","text","tag"]),l=K("nav-item",i&&"active",s&&"navbar-text",r);return x.createElement(o,V({},a,{className:l,ref:e}),n)});qF.defaultProps={tag:"li"};var YF=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.right,s=t.fullWidth,o=t.left,a=t.tag,l=q(t,["children","className","right","fullWidth","left","tag"]),u=K("navbar-nav",s&&"w-100",i&&"ms-auto",o&&"me-auto",r);return x.createElement(a,V({className:u,ref:e},l),n)});YF.defaultProps={tag:"ul",fullWidth:!0};var QF=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=q(t,["children","className","tag"]),o=K("navbar-toggler",r);return x.createElement(i,V({},s,{className:o,ref:e}),n)});QF.defaultProps={tag:"button"};x.forwardRef(function(t,e){var n=t.children,r=t.bgColor,i=t.color,s=t.className,o=q(t,["children","bgColor","color","className"]),a=K(r&&"bg-".concat(r),i&&"text-".concat(i),s);return x.createElement("footer",V({className:a},o,{ref:e}),n)});x.forwardRef(function(t,e){var n=t.children,r=t.size,i=t.circle,s=t.center,o=t.end,a=t.start,l=t.className,u=q(t,["children","size","circle","center","end","start","className"]),c=K("pagination",s&&"justify-content-center",i&&"pagination-circle",o&&"justify-content-end",r&&"pagination-".concat(r),a&&"justify-content-start",l);return x.createElement("ul",V({className:c},u,{ref:e}),n)});var XF=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=q(t,["children","className","tag"]),o=K("page-link",r);return x.createElement(i,V({className:o},s,{ref:e}),n)});XF.defaultProps={tag:"a"};x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.disabled,o=q(t,["children","className","active","disabled"]),a=K("page-item",i&&"active",s&&"disabled",r);return x.createElement("li",V({className:a},o,{ref:e}),n)});var _S=x.forwardRef(function(t,e){var n,r=t.animated,i=t.children,s=t.className,o=t.style,a=t.tag,l=t.valuenow,u=t.valuemax,c=t.striped,d=t.bgColor,f=t.valuemin,p=t.width,m=q(t,["animated","children","className","style","tag","valuenow","valuemax","striped","bgColor","valuemin","width"]),_=K("progress-bar",d&&"bg-".concat(d),c&&"progress-bar-striped",r&&"progress-bar-animated",s),E=V({width:"".concat(p,"%")},o);return x.createElement(a,V({className:_,style:E,ref:e,role:"progressbar"},m,{"aria-valuenow":(n=Number(p))!==null&&n!==void 0?n:l,"aria-valuemin":Number(f),"aria-valuemax":Number(u)}),i)});_S.defaultProps={tag:"div"};var JF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.height,o=t.style,a=q(t,["className","children","tag","height","style"]),l=K("progress",n),u=V({height:"".concat(s,"px")},o);return x.createElement(i,V({className:l,ref:e,style:u},a),x.Children.map(r,function(c){return x.isValidElement(c)&&c.type===_S?c:void console.error("Progress component only allows ProgressBar as child")}))});JF.defaultProps={tag:"div"};var ZF=x.forwardRef(function(t,e){var n,r,i=t.className,s=t.size,o=t.contrast,a=t.value,l=t.defaultValue,u=t.id,c=t.labelClass,d=t.wrapperClass,f=t.wrapperStyle,p=t.wrapperTag,m=t.label,_=t.onChange,E=t.children,g=t.labelRef,v=t.labelStyle,w=t.type,S=t.onBlur,I=t.readonly,R=q(t,["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","type","onBlur","readonly"]),y=h.useState(a||l),T=y[0],N=y[1],k=h.useState(0),b=k[0],O=k[1],L=h.useState(!1),j=L[0],B=L[1],A=h.useRef(null);h.useImperativeHandle(e,function(){return A.current});var D=h.useRef(null),P=g||D,F=K("form-outline",o&&"form-white",d),M=K("form-control",j&&"active",w==="date"&&"active",s&&"form-control-".concat(s),i),z=K("form-label",c);h.useEffect(function(){A.current&&(A.current.value.length>0?B(!0):B(!1))},[(n=A.current)===null||n===void 0?void 0:n.value]),h.useEffect(function(){a!==void 0&&(a.toString().length>0?B(!0):B(!1))},[a]),h.useEffect(function(){l!==void 0&&(l.toString().length>0?B(!0):B(!1))},[l]);var G=h.useCallback(function(){var ne;!((ne=P.current)===null||ne===void 0)&&ne.clientWidth&&O(.8*P.current.clientWidth+8)},[P]);h.useEffect(function(){G()},[(r=P.current)===null||r===void 0?void 0:r.clientWidth,G]);var X=h.useCallback(function(ne){A.current&&(T!==void 0&&T.toString().length>0||a!==void 0&&a.toString().length>0||A.current.value.length>0?B(!0):B(!1),S&&S(ne))},[T,a,S]);return x.createElement(p,{className:F,style:f},x.createElement("input",V({type:w,readOnly:I,className:M,onBlur:X,onChange:function(ne){N(ne.target.value),_==null||_(ne)},onFocus:G,value:a,defaultValue:l,id:u,ref:A},R)),m&&x.createElement("label",{className:z,style:v,htmlFor:u,ref:P},m),x.createElement("div",{className:"form-notch"},x.createElement("div",{className:"form-notch-leading"}),x.createElement("div",{className:"form-notch-middle",style:{width:b}}),x.createElement("div",{className:"form-notch-trailing"})),E)});ZF.defaultProps={wrapperTag:"div",readonly:!1};var yS=function(t){var e=t.className,n=t.children,r=t.show,i=t.id,s=t.navbar,o=t.tag,a=t.collapseRef,l=t.style,u=q(t,["className","children","show","id","navbar","tag","collapseRef","style"]),c=h.useState(!1),d=c[0],f=c[1],p=h.useState(void 0),m=p[0],_=p[1],E=h.useState(!1),g=E[0],v=E[1],w=K(g?"collapsing":"collapse",!g&&d&&"show",s&&"navbar-collapse",e),S=h.useRef(null),I=a??S,R=h.useCallback(function(){d&&_(void 0)},[d]);return h.useEffect(function(){var y;m===void 0&&d&&_((y=I==null?void 0:I.current)===null||y===void 0?void 0:y.scrollHeight)},[m,d,I]),h.useEffect(function(){f(r),d&&v(!0);var y=setTimeout(function(){v(!1)},350);return function(){clearTimeout(y)}},[r,d]),h.useEffect(function(){var y;_(d?(y=I==null?void 0:I.current)===null||y===void 0?void 0:y.scrollHeight:0)},[d,I]),h.useEffect(function(){return window.addEventListener("resize",R),function(){window.removeEventListener("resize",R)}},[R]),x.createElement(o,V({style:V({height:m},l),id:i,className:w},u,{ref:I}),n)};yS.defaultProps={tag:"div"};h.createContext(null);function wS(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}wS(`.dropdown-menu .active {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
`);wS(`.dropdown-menu [data-active='true'] a.dropdown-item,\r
.dropdown-menu .dropdown-item:focus,\r
.dropdown-menu li:focus .dropdown-item :not(.disabled) {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
\r
.dropdown-menu li:focus {\r
  outline: none;\r
}\r
\r
.dropdown-menu.dropdown-menu-dark [data-active='true'] a.dropdown-item,\r
.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,\r
.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item {\r
  color: #fff;\r
  background-color: #1266f1;\r
}\r
\r
.btn-group.dropstart > .dropdown-menu {\r
  right: 0 !important;\r
}\r
`);var e3=x.forwardRef(function(t,e){var n=t.className,r=t.centered,i=t.children,s=t.size,o=t.scrollable,a=t.tag,l=q(t,["className","centered","children","size","scrollable","tag"]),u=K("modal-dialog",o&&"modal-dialog-scrollable",r&&"modal-dialog-centered",s&&"modal-".concat(s),n);return x.createElement(a,V({className:u},l,{ref:e}),i)});e3.defaultProps={tag:"div"};var t3=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-content",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});t3.defaultProps={tag:"div"};var n3=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-header",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});n3.defaultProps={tag:"div"};var r3=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-title",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});r3.defaultProps={tag:"h5"};var i3=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-body",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});i3.defaultProps={tag:"div"};var s3=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-footer",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});s3.defaultProps={tag:"div"};x.createContext({activeElement:null,setTargets:null});var o3=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.noBorder,s=t.textBefore,o=t.textAfter,a=t.noWrap,l=t.tag,u=t.textTag,c=t.textClass,d=t.size,f=t.textProps,p=q(t,["className","children","noBorder","textBefore","textAfter","noWrap","tag","textTag","textClass","size","textProps"]),m=K("input-group",a&&"flex-nowrap",d&&"input-group-".concat(d),n),_=K("input-group-text",i&&"border-0",c),E=function(g){return x.createElement(x.Fragment,null,g&&Array.isArray(g)?g.map(function(v,w){return x.createElement(u,V({key:w,className:_},f),v)}):x.createElement(u,V({className:_},f),g))};return x.createElement(l,V({className:m,ref:e},p),s&&E(s),r,o&&E(o))});o3.defaultProps={tag:"div",textTag:"span"};var a3=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.isValidated,s=t.onReset,o=t.onSubmit,a=q(t,["className","children","isValidated","onReset","onSubmit"]),l=h.useState(i),u=l[0],c=l[1],d=K("needs-validation",u&&"was-validated",n);return x.createElement("form",V({className:d,onSubmit:function(f){f.preventDefault(),c(!0),o&&o(f)},onReset:function(f){f.preventDefault(),c(!1),s&&s(f)},ref:e},a),r)});a3.defaultProps={noValidate:!0};x.forwardRef(function(t,e){var n=t.className,r=t.fill,i=t.pills,s=t.justify,o=t.children,a=q(t,["className","fill","pills","justify","children"]),l=K("nav",i?"nav-pills":"nav-tabs",r&&"nav-fill",s&&"nav-justified",n);return x.createElement("ul",V({className:l,ref:e},a),o)});x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.style,s=q(t,["className","children","style"]),o=K("nav-item",n);return x.createElement("li",V({className:o,style:V({cursor:"pointer"},i),role:"presentation",ref:e},s),r)});x.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.active,s=t.onShow,o=t.onHide,a=t.children,l=q(t,["className","color","active","onShow","onHide","children"]),u=K("nav-link",i&&"active",r&&"bg-".concat(r),n);return h.useEffect(function(){i?s==null||s():o==null||o()},[i]),x.createElement("a",V({className:u,ref:e},l),a)});var l3=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.children,s=q(t,["className","tag","children"]),o=K("tab-content",n);return x.createElement(r,V({className:o,ref:e},s),i)});l3.defaultProps={tag:"div"};var u3=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.show,s=t.children,o=q(t,["className","tag","show","children"]),a=h.useState(!1),l=a[0],u=a[1],c=K("tab-pane","fade",l&&"show",i&&"active",n);return h.useEffect(function(){var d;return i?d=setTimeout(function(){u(!0)},100):u(!1),function(){clearTimeout(d)}},[i]),x.createElement(r,V({className:c,role:"tabpanel",ref:e},o),s)});u3.defaultProps={tag:"div"};h.createContext({active:0});var ES=x.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),c3=x.forwardRef(function(t,e){var n=t.alwaysOpen,r=t.borderless,i=t.className,s=t.flush,o=t.initialActive,a=t.tag,l=t.children,u=t.onChange,c=q(t,["alwaysOpen","borderless","className","flush","initialActive","tag","children","onChange"]),d=K("accordion",s&&"accordion-flush",r&&"accordion-borderless",i),f=h.useState(o),p=f[0],m=f[1];return h.useEffect(function(){p&&u&&u(p)},[u,p]),x.createElement(a,V({className:d,ref:e},c),x.createElement(ES.Provider,{value:{activeItem:p,setActiveItem:m,alwaysOpen:n,initialActive:o}},l))});c3.defaultProps={tag:"div",initialActive:0};var d3=x.forwardRef(function(t,e){var n=t.className,r=t.bodyClassName,i=t.bodyStyle,s=t.headerClassName,o=t.collapseId,a=t.headerTitle,l=t.headerStyle,u=t.btnClassName,c=t.tag,d=t.children,f=q(t,["className","bodyClassName","bodyStyle","headerClassName","collapseId","headerTitle","headerStyle","btnClassName","tag","children"]),p=h.useContext(ES),m=p.activeItem,_=p.setActiveItem,E=p.alwaysOpen,g=p.initialActive,v=h.useState(g),w=v[0],S=v[1],I=K("accordion-item",n),R=K("accordion-header",s),y=K("accordion-body",r),T=K("accordion-button",E?o!==w&&"collapsed":o!==m&&"collapsed",u);return x.createElement(c,V({className:I,ref:e},f),x.createElement("h2",{className:R,style:l},x.createElement("button",{onClick:function(){return N=o,void(E?S(N!==w?N:0):_(N!==m?N:0));var N},className:T,type:"button"},a)),x.createElement(yS,{id:o.toString(),show:E?w===o:m===o},x.createElement("div",{className:y,style:i},d)))});d3.defaultProps={tag:"div"};const f3=()=>{const[t]=xU();return t?C("div",{className:"view-profile",children:C(cS,{children:C(vS,{className:"justify-content-center",children:C(dS,{md:"9",lg:"7",xl:"5",className:"mt-5",children:C(hS,{style:{width:"595px",borderRadius:"15px",alignContent:"center",padding:"5px"},children:C(gS,{className:"p-4",children:H("div",{className:"d-flex text-black",children:[C("div",{className:"flex-shrink-0",children:C(FF,{style:{width:"180px",borderRadius:"10px"},src:t.photoURL,alt:"Generic placeholder image",fluid:!0})}),H("div",{className:"flex-grow-1 ms-3",children:[C(pS,{children:t.displayName}),C(mS,{children:t.email}),H("div",{className:"d-flex justify-content-start rounded-3 p-2 mb-2",style:{backgroundColor:"#efefef"},children:[H("div",{children:[C("p",{className:"small text-muted mb-1",children:"Favorites"}),C("p",{className:"mb-0",children:"4"})]}),H("div",{className:"px-3",children:[C("p",{className:"small text-muted mb-1",children:"Closet"}),C("p",{className:"mb-0",children:"22"})]}),H("div",{children:[C("p",{className:"small text-muted mb-1",children:"Followers"}),C("p",{className:"mb-0",children:"8"})]})]}),C("div",{className:"d-flex pt-1"})]})]})})})})})})}):C("h5",{className:"text-muted",children:"Loading user profile..."})},CS=({input:t,step:e})=>{const n=da(),r=Vn(),[i]=na("/"),[s,o]=h.useState(!1),[a,l]=h.useState(!1),[u,c]=h.useState(null),[d,f]=h.useState([]),[p,m]=IU("/files/"+r.uid+"/"+Kf()),[_]=bs("/closet");h.useEffect(()=>{m&&v()},[m]);const E=()=>new Promise(S=>setTimeout(S,1e3)),g=async()=>{const I=await(await fetch(t)).blob();return new File([I],"image.jpg",{type:I.type})},v=()=>{const S=_[r.uid],I=S[u],R=Kf(),y={id:R,available:!0,weather:d,url:m},T=I?{...I,[R]:y}:{[R]:y};u==="tops"?S.tops=T:u==="jackets"?S.jackets=T:u==="dresses"?S.dresses=T:u==="bottoms"?S.bottoms=T:u==="shoes"&&(S.shoes=T),i({["/closet/"+r.uid]:S}),s?(o(!1),e(0)):(l(!1),e(0),n("/"))},w=async S=>{if(d.length===0||!u)return;S?o(!0):l(!0);const I=await g();I&&(p(I),await E())};return r?H(J,{className:"mt-2",children:[H(J,{children:[C("h5",{className:"link-upload-tag",children:"Category:"}),H(J,{className:"link-upload-category-container",children:[C(Le,{className:u==="tops"?"link-upload-button-active":"",onClick:()=>c("tops"),children:"Top"}),C(Le,{className:u==="jackets"?"link-upload-button-active":"",onClick:()=>c("jackets"),children:"Jacket"}),C(Le,{className:u==="bottoms"?"link-upload-button-active":"",onClick:()=>c("bottoms"),children:"Bottom"}),C(Le,{className:u==="shoes"?"link-upload-button-active":"",onClick:()=>c("shoes"),children:"Shoes"}),C(Le,{className:u==="dresses"?"link-upload-button-active":"",onClick:()=>c("dresses"),children:"Dress"})]})]}),H(J,{className:"mt-2",children:[C("h5",{className:"link-upload-tag",children:"I'll wear this when it's:"}),H(J,{className:"link-upload-weather-container",children:[C(Le,{className:d.includes("cold")?"link-upload-button-active":"",onClick:()=>{d.includes("cold")?f(d.filter(S=>S!=="cold")):f([...d,"cold"])},children:"Cold"}),C(Le,{className:d.includes("warm")?"link-upload-button-active":"",onClick:()=>{d.includes("warm")?f(d.filter(S=>S!=="warm")):f([...d,"warm"])},children:"Warm"}),C(Le,{className:d.includes("rainy")?"link-upload-button-active":"",onClick:()=>{d.includes("rainy")?f(d.filter(S=>S!=="rainy")):f([...d,"rainy"])},children:"Rainy"}),C(Le,{className:d.includes("sunny")?"link-upload-button-active":"",onClick:()=>{d.includes("sunny")?f(d.filter(S=>S!=="sunny")):f([...d,"sunny"])},children:"Sunny"})]})]}),H(J,{className:"mt-5 link-upload-buttons-container",children:[C(Le,{onClick:()=>w(!0),disabled:a||s,children:s?"Uploading...":"Add another Item"}),C(Le,{onClick:()=>w(!1),disabled:a||s,children:a?"Uploading...":"I'm done!"})]})]}):C("h5",{className:"text-muted",children:"Loading user profile..."})};function h3(t){return xr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}]})(t)}var Yf={},p3={get exports(){return Yf},set exports(t){Yf=t}};(function(t,e){(function(r,i){t.exports=i(h)})(wo,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var u in o)s.d(l,u,function(c){return o[c]}.bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var g in E)E.hasOwnProperty(g)&&(_[g]=E[g])},f(p,m)};return function(p,m){f(p,m);function _(){this.constructor=p}p.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),l=function(){return l=Object.assign||function(f){for(var p,m=1,_=arguments.length;m<_;m++){p=arguments[m];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(f[E]=p[E])}return f},l.apply(this,arguments)},u=function(f,p){var m={};for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&p.indexOf(_)<0&&(m[_]=f[_]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,_=Object.getOwnPropertySymbols(f);E<_.length;E++)p.indexOf(_[E])<0&&Object.prototype.propertyIsEnumerable.call(f,_[E])&&(m[_[E]]=f[_[E]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(_,E){m.call(navigator,p,_,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(f){a(p,f);function p(m){var _=f.call(this,m)||this;return _.canvas=null,_.ctx=null,_.requestUserMediaId=0,_.unmounted=!1,_.state={hasUserMedia:!1},_}return p.prototype.componentDidMount=function(){var m=this,_=m.state,E=m.props;if(this.unmounted=!1,!c()){E.onUserMediaError("getUserMedia not supported");return}_.hasUserMedia||this.requestUserMedia(),E.children&&typeof E.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var _=this.props;if(!c()){_.onUserMediaError("getUserMedia not supported");return}var E=JSON.stringify(m.audioConstraints)!==JSON.stringify(_.audioConstraints),g=JSON.stringify(m.videoConstraints)!==JSON.stringify(_.videoConstraints),v=m.minScreenshotWidth!==_.minScreenshotWidth,w=m.minScreenshotHeight!==_.minScreenshotHeight;(g||v||w)&&(this.canvas=null,this.ctx=null),(E||g)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(_){m.removeTrack(_),_.stop()}),m.getAudioTracks().map(function(_){m.removeTrack(_),_.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var _=this,E=_.state,g=_.props;if(!E.hasUserMedia)return null;var v=this.getCanvas(m);return v&&v.toDataURL(g.screenshotFormat,g.screenshotQuality)},p.prototype.getCanvas=function(m){var _=this,E=_.state,g=_.props;if(!this.video||!E.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=v/w;v=g.minScreenshotWidth||this.video.clientWidth,w=v/S,g.minScreenshotHeight&&w<g.minScreenshotHeight&&(w=g.minScreenshotHeight,v=w*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||v,this.canvas.height=(m==null?void 0:m.height)||w,this.ctx=this.canvas.getContext("2d")}var I=this,R=I.ctx,y=I.canvas;return R&&y&&(g.mirrored&&(R.translate(y.width,0),R.scale(-1,1)),R.imageSmoothingEnabled=g.imageSmoothing,R.drawImage(this.video,0,0,(m==null?void 0:m.width)||y.width,(m==null?void 0:m.height)||y.height),g.mirrored&&(R.scale(-1,1),R.translate(-y.width,0))),y},p.prototype.requestUserMedia=function(){var m=this,_=this.props,E=function(w,S){var I={video:typeof S<"u"?S:!0};_.audio&&(I.audio=typeof w<"u"?w:!0),m.requestUserMediaId++;var R=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(I).then(function(y){m.unmounted||R!==m.requestUserMediaId?p.stopMediaStream(y):m.handleUserMedia(null,y)}).catch(function(y){m.handleUserMedia(y)})};if("mediaDevices"in navigator)E(_.audioConstraints,_.videoConstraints);else{var g=function(w){return{optional:[{sourceId:w}]}},v=function(w){var S=w.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(w){var S=null,I=null;w.forEach(function(T){T.kind==="audio"?S=T.id:T.kind==="video"&&(I=T.id)});var R=v(_.audioConstraints);R&&(S=R);var y=v(_.videoConstraints);y&&(I=y),E(g(S),g(I))})}},p.prototype.handleUserMedia=function(m,_){var E=this.props;if(m||!_){this.setState({hasUserMedia:!1}),E.onUserMediaError(m);return}this.stream=_;try{this.video&&(this.video.srcObject=_),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(_)})}E.onUserMedia(_)},p.prototype.render=function(){var m=this,_=this,E=_.state,g=_.props,v=g.audio;g.forceScreenshotSourceSize,g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var w=g.mirrored,S=g.style,I=S===void 0?{}:S,R=g.children,y=u(g,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=w?l(l({},I),{transform:(I.transform||"")+" scaleX(-1)"}):I,N={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,src:E.src,muted:!v,playsInline:!0,ref:function(k){m.video=k},style:T},y)),R&&R(N))},p.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=d},react:function(r,i){r.exports=n}}).default})})(p3);const m3=Qf(Yf),g3=({setImgBytes:t})=>{const e={facingMode:"environment"},n=x.useRef(null),r=x.useCallback(()=>{const i=n.current.getScreenshot();t(i)},[n]);return H(J,{className:"webcam-container",children:[C(J,{children:C(m3,{className:"webcam",audio:!1,ref:n,screenshotFormat:"image/jpeg",videoConstraints:e})}),C(J,{className:"mt-2",children:C(h3,{size:34,onClick:r})})]})},v3=({step:t})=>{const[e,n]=h.useState(null);return H(J,{className:"mt-3",children:[C(J,{className:"mb-2",children:C(uE,{size:24,onClick:()=>t(0)})}),!e&&C(g3,{setImgBytes:n}),e&&H(J,{children:[C(eS,{className:"add-image-camera",src:e,alt:"camera"}),C(CS,{input:e,step:t})]})]})},_3=({step:t})=>{const[e,n]=h.useState(null),[r,i]=h.useState(!0);return H(J,{className:"mt-3",children:[C(J,{className:"mb-2",children:C(uE,{size:24,onClick:()=>t(0)})}),H(J,{className:"mb-3",children:[C("h4",{className:"add-title",children:"Add via file upload"}),C(J,{className:"link-upload-form",children:C(ZC.Control,{type:"file",size:"sm",accept:"image/*",onChange:s=>n(URL.createObjectURL(s.target.files[0]))})})]}),e&&r&&C(J,{className:"add-image-container",children:C(eS,{className:"add-image",src:e,onError:()=>i(!1)})}),e&&!r&&C("h4",{className:"text-center text-muted",children:"Invalid Image"}),e&&r&&C(CS,{input:e,step:t})]})},y3=()=>{const[t,e]=h.useState(null),[n,r]=h.useState(0),i=()=>{e("camera"),r(1)},s=()=>{e("device"),r(1)};if(n===0)return H(J,{className:"upload-container",children:[H("h4",{className:"add-title",children:["Let's add ",C("br",{})," your clothes"]}),C("p",{className:"add-subtitle",children:"You can do this by taking photos of each piece, or adding a link to where you bought them from online"}),H(J,{className:"add-button-container",children:[C(Le,{className:"add-button",onClick:i,children:"Use Camera"}),C(Le,{className:"add-button",onClick:s,children:"Use File Upload"})]})]});if(n===1&&t==="device")return C(_3,{step:r});if(n===1&&t==="camera")return C(v3,{step:r})},w3=new Map([[0,"Sunny"],[1,"Clear"],[2,"Cloudy"],[3,"Cloudy"],[45,"Foggy"],[48,"Foggy"],[51,"Rainy"],[53,"Rainy"],[55,"Rainy"],[56,"Rainy"],[57,"Rainy"],[61,"Rainy"],[63,"Rainy"],[65,"Rainy"],[66,"Rainy"],[67,"Rainy"],[71,"Snowy"],[73,"Snowy"],[75,"Snowy"],[77,"Snowy"],[80,"Rainy"],[81,"Rainy"],[82,"Rainy"],[85,"Snowy"],[86,"Snowy"],[95,"Rainy"],[96,"Rainy"],[99,"Rainy"]]),E3=new Map([[0,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-01-512.png"],[1,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-01-512.png"],[2,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[3,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[45,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[48,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[51,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[53,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[55,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[56,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[57,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[61,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[63,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[65,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[66,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[67,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[71,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[73,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[75,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-512.png"],[77,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-512.png"],[80,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[81,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[82,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[85,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-512.png"],[86,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-512.png"],[95,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-512.png"],[96,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-512.png"],[99,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-512.png"]]),C3=({setStep:t})=>{const e=Vn(),[n,r]=h.useState([]),[i,s]=h.useState(30),[o,a]=h.useState(1);if(h.useEffect(()=>{fetch(rS()).then(c=>c.json()).then(c=>{s(c.current_weather.temperature),r(c.current_weather.windspeed),a(c.current_weather.weathercode)}).catch(c=>console.error(c))},[]),!e)return C("h5",{className:"text-muted",children:"Loading user profile..."});var l=new Date().getHours(),u="Morning";return 12<=l&&l<17?u="Afternoon":17<=l&&(u="Evening"),H(J,{className:"weather-container",children:[H(Qt.Text,{className:"card-weather-greeting",children:["Good ",u," ",e.displayName.split(" ")[0],"! ",C("br",{})]}),H(Qt,{className:"card-container",children:[C(Qt.Img,{variant:"top",src:E3.get(o),className:"card-image"}),H(Qt.Text,{className:"card-weather-text",children:[i,"F and it's ",w3.get(o)," outside."]})]}),C(Qt.Text,{className:"card-outfit-text",children:"Next, Let's choose your outfit!"}),C(J,{className:"home-button-container",children:C(Le,{className:"home-btn",onClick:()=>t(1),children:"See my suggested outfits"})})]})},S3=()=>{const t=Vn(),[e,n]=h.useState(0);return C(KN,{children:H(GN,{children:[C(Dr,{path:"/login",element:C(uF,{})}),C(Dr,{path:"/add",element:t?H(ut,{children:[C(Ti,{}),C(y3,{}),C(ki,{})]}):C(zs,{replace:!0,to:"/login"})}),C(Dr,{path:"/",element:t?e===0?H(ut,{children:[C(Ti,{}),C(C3,{setStep:n}),C(ki,{})]}):H(ut,{children:[C(Ti,{}),C(bF,{}),C(ki,{})]}):C(zs,{replace:!0,to:"/login"})}),C(Dr,{path:"/favorites",element:t?H(ut,{children:[C(Ti,{}),C(hF,{}),C(ki,{})]}):C(zs,{replace:!0,to:"/login"})}),C(Dr,{path:"/view-profile",element:t?H(ut,{children:[C(Ti,{}),C(f3,{}),C(ki,{})]}):C(zs,{replace:!0,to:"/login"})}),C(Dr,{path:"/closet",element:t?H(ut,{children:[C(Ti,{}),C(dF,{}),C(ki,{})]}):C(zs,{replace:!0,to:"/login"})})]})})};const T3=md.createRoot(document.getElementById("root"));T3.render(C(x.StrictMode,{children:C(S3,{})}));
