function kS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xo={},TS={get exports(){return xo},set exports(t){xo=t}},Nc={},m={},IS={get exports(){return m},set exports(t){m=t}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),bS=Symbol.for("react.portal"),RS=Symbol.for("react.fragment"),xS=Symbol.for("react.strict_mode"),OS=Symbol.for("react.profiler"),PS=Symbol.for("react.provider"),AS=Symbol.for("react.context"),DS=Symbol.for("react.forward_ref"),MS=Symbol.for("react.suspense"),LS=Symbol.for("react.memo"),US=Symbol.for("react.lazy"),Hm=Symbol.iterator;function FS(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var Xy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jy=Object.assign,Zy={};function Is(t,e,n){this.props=t,this.context=e,this.refs=Zy,this.updater=n||Xy}Is.prototype.isReactComponent={};Is.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Is.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e_(){}e_.prototype=Is.prototype;function eh(t,e,n){this.props=t,this.context=e,this.refs=Zy,this.updater=n||Xy}var th=eh.prototype=new e_;th.constructor=eh;Jy(th,Is.prototype);th.isPureReactComponent=!0;var Vm=Array.isArray,t_=Object.prototype.hasOwnProperty,nh={current:null},n_={key:!0,ref:!0,__self:!0,__source:!0};function r_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)t_.call(e,r)&&!n_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:da,type:t,key:s,ref:o,props:i,_owner:nh.current}}function $S(t,e){return{$$typeof:da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rh(t){return typeof t=="object"&&t!==null&&t.$$typeof===da}function BS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gm=/\/+/g;function vu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BS(""+t.key):e.toString(36)}function al(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case da:case bS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vu(o,0):r,Vm(i)?(n="",t!=null&&(n=t.replace(Gm,"$&/")+"/"),al(i,e,n,"",function(c){return c})):i!=null&&(rh(i)&&(i=$S(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+vu(s,a);o+=al(s,e,n,l,i)}else if(l=FS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+vu(s,a++),o+=al(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Da(t,e,n){if(t==null)return t;var r=[],i=0;return al(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},ll={transition:null},zS={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ll,ReactCurrentOwner:nh};ae.Children={map:Da,forEach:function(t,e,n){Da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Da(t,function(){e++}),e},toArray:function(t){return Da(t,function(e){return e})||[]},only:function(t){if(!rh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Is;ae.Fragment=RS;ae.Profiler=OS;ae.PureComponent=eh;ae.StrictMode=xS;ae.Suspense=MS;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zS;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)t_.call(e,l)&&!n_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:da,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:AS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PS,_context:t},t.Consumer=t};ae.createElement=r_;ae.createFactory=function(t){var e=r_.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:DS,render:t}};ae.isValidElement=rh;ae.lazy=function(t){return{$$typeof:US,_payload:{_status:-1,_result:t},_init:jS}};ae.memo=function(t,e){return{$$typeof:LS,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=ll.transition;ll.transition={};try{t()}finally{ll.transition=e}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(t,e){return ht.current.useCallback(t,e)};ae.useContext=function(t){return ht.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};ae.useEffect=function(t,e){return ht.current.useEffect(t,e)};ae.useId=function(){return ht.current.useId()};ae.useImperativeHandle=function(t,e,n){return ht.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return ht.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return ht.current.useReducer(t,e,n)};ae.useRef=function(t){return ht.current.useRef(t)};ae.useState=function(t){return ht.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return ht.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return ht.current.useTransition()};ae.version="18.2.0";(function(t){t.exports=ae})(IS);const T=Zf(m),gd=kS({__proto__:null,default:T},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=m,HS=Symbol.for("react.element"),VS=Symbol.for("react.fragment"),GS=Object.prototype.hasOwnProperty,KS=WS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qS={key:!0,ref:!0,__self:!0,__source:!0};function i_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GS.call(e,r)&&!qS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HS,type:t,key:s,ref:o,props:i,_owner:KS.current}}Nc.Fragment=VS;Nc.jsx=i_;Nc.jsxs=i_;(function(t){t.exports=Nc})(TS);const Ge=xo.Fragment,_=xo.jsx,A=xo.jsxs;var vd={},kl={},YS={get exports(){return kl},set exports(t){kl=t}},At={},yd={},QS={get exports(){return yd},set exports(t){yd=t}},s_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var L=O.length;O.push(F);e:for(;0<L;){var Y=L-1>>>1,W=O[Y];if(0<i(W,F))O[Y]=F,O[L]=W,L=Y;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],L=O.pop();if(L!==F){O[0]=L;e:for(var Y=0,W=O.length,ce=W>>>1;Y<ce;){var re=2*(Y+1)-1,q=O[re],fe=re+1,ge=O[fe];if(0>i(q,L))fe<W&&0>i(ge,q)?(O[Y]=ge,O[fe]=L,Y=fe):(O[Y]=q,O[re]=L,Y=re);else if(fe<W&&0>i(ge,L))O[Y]=ge,O[fe]=L,Y=fe;else break e}}return F}function i(O,F){var L=O.sortIndex-F.sortIndex;return L!==0?L:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,h=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=O)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function C(O){if(y=!1,w(O),!h)if(n(l)!==null)h=!0,V(k);else{var F=n(c);F!==null&&G(C,F.startTime-O)}}function k(O,F){h=!1,y&&(y=!1,g(I),I=-1),p=!0;var L=f;try{for(w(F),d=n(l);d!==null&&(!(d.expirationTime>F)||O&&!R());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var W=Y(d.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),w(F)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var re=n(c);re!==null&&G(C,re.startTime-F),ce=!1}return ce}finally{d=null,f=L,p=!1}}var S=!1,N=null,I=-1,x=5,b=-1;function R(){return!(t.unstable_now()-b<x)}function U(){if(N!==null){var O=t.unstable_now();b=O;var F=!0;try{F=N(!0,O)}finally{F?z():(S=!1,N=null)}}else S=!1}var z;if(typeof v=="function")z=function(){v(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=U,z=function(){Z.postMessage(null)}}else z=function(){E(U,0)};function V(O){N=O,S||(S=!0,z())}function G(O,F){I=E(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,V(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var L=f;f=F;try{return O()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=f;f=O;try{return F()}finally{f=L}},t.unstable_scheduleCallback=function(O,F,L){var Y=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Y+L:Y):L=Y,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=L+W,O={id:u++,callback:F,priorityLevel:O,startTime:L,expirationTime:W,sortIndex:-1},L>Y?(O.sortIndex=L,e(c,O),n(l)===null&&O===n(c)&&(y?(g(I),I=-1):y=!0,G(C,L-Y))):(O.sortIndex=W,e(l,O),h||p||(h=!0,V(k))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var F=f;return function(){var L=f;f=F;try{return O.apply(this,arguments)}finally{f=L}}}})(s_);(function(t){t.exports=s_})(QS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_=m,Pt=yd;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a_=new Set,Oo={};function Si(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(Oo[t]=e,t=0;t<e.length;t++)a_.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=Object.prototype.hasOwnProperty,XS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Km={},qm={};function JS(t){return _d.call(qm,t)?!0:_d.call(Km,t)?!1:XS.test(t)?qm[t]=!0:(Km[t]=!0,!1)}function ZS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ek(t,e,n,r){if(e===null||typeof e>"u"||ZS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ih=/[\-:]([a-z])/g;function sh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ih,sh);tt[e]=new pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ih,sh);tt[e]=new pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ih,sh);tt[e]=new pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new pt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function oh(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ek(e,n,i,r)&&(n=null),r||i===null?JS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=o_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),ah=Symbol.for("react.strict_mode"),wd=Symbol.for("react.profiler"),l_=Symbol.for("react.provider"),c_=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),Ed=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),u_=Symbol.for("react.offscreen"),Ym=Symbol.iterator;function Hs(t){return t===null||typeof t!="object"?null:(t=Ym&&t[Ym]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,yu;function oo(t){if(yu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yu=e&&e[1]||""}return`
`+yu+t}var _u=!1;function wu(t,e){if(!t||_u)return"";_u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oo(t):""}function tk(t){switch(t.tag){case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return t=wu(t.type,!1),t;case 11:return t=wu(t.type.render,!1),t;case 1:return t=wu(t.type,!0),t;default:return""}}function Sd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case Li:return"Portal";case wd:return"Profiler";case ah:return"StrictMode";case Ed:return"Suspense";case Cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c_:return(t.displayName||"Context")+".Consumer";case l_:return(t._context.displayName||"Context")+".Provider";case lh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ch:return e=t.displayName||null,e!==null?e:Sd(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Sd(t(e))}catch{}}return null}function nk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sd(e);case 8:return e===ah?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rk(t){var e=d_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=rk(t))}function f_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kd(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h_(t,e){e=e.checked,e!=null&&oh(t,"checked",e,!1)}function Nd(t,e){h_(t,e);var n=Ir(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Td(t,e.type,n):e.hasOwnProperty("defaultValue")&&Td(t,e.type,Ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Td(t,e,n){(e!=="number"||Nl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ao=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ir(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Id(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(ao(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ir(n)}}function p_(t,e){var n=Ir(e.value),r=Ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ua,g_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ua.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Po(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ik=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(t){ik.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fo[e]=fo[t]})});function v_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fo.hasOwnProperty(t)&&fo[t]?(""+e).trim():e+"px"}function y_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sk=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(t,e){if(e){if(sk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=null;function uh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pd=null,Ji=null,Zi=null;function eg(t){if(t=pa(t)){if(typeof Pd!="function")throw Error(P(280));var e=t.stateNode;e&&(e=xc(e),Pd(t.stateNode,t.type,e))}}function __(t){Ji?Zi?Zi.push(t):Zi=[t]:Ji=t}function w_(){if(Ji){var t=Ji,e=Zi;if(Zi=Ji=null,eg(t),e)for(t=0;t<e.length;t++)eg(e[t])}}function E_(t,e){return t(e)}function C_(){}var Eu=!1;function S_(t,e,n){if(Eu)return t(e,n);Eu=!0;try{return E_(t,e,n)}finally{Eu=!1,(Ji!==null||Zi!==null)&&(C_(),w_())}}function Ao(t,e){var n=t.stateNode;if(n===null)return null;var r=xc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Ad=!1;if(Un)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Ad=!1}function ok(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ho=!1,Tl=null,Il=!1,Dd=null,ak={onError:function(t){ho=!0,Tl=t}};function lk(t,e,n,r,i,s,o,a,l){ho=!1,Tl=null,ok.apply(ak,arguments)}function ck(t,e,n,r,i,s,o,a,l){if(lk.apply(this,arguments),ho){if(ho){var c=Tl;ho=!1,Tl=null}else throw Error(P(198));Il||(Il=!0,Dd=c)}}function ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tg(t){if(ki(t)!==t)throw Error(P(188))}function uk(t){var e=t.alternate;if(!e){if(e=ki(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return tg(i),t;if(s===r)return tg(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function N_(t){return t=uk(t),t!==null?T_(t):null}function T_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T_(t);if(e!==null)return e;t=t.sibling}return null}var I_=Pt.unstable_scheduleCallback,ng=Pt.unstable_cancelCallback,dk=Pt.unstable_shouldYield,fk=Pt.unstable_requestPaint,Me=Pt.unstable_now,hk=Pt.unstable_getCurrentPriorityLevel,dh=Pt.unstable_ImmediatePriority,b_=Pt.unstable_UserBlockingPriority,bl=Pt.unstable_NormalPriority,pk=Pt.unstable_LowPriority,R_=Pt.unstable_IdlePriority,Tc=null,fn=null;function mk(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Tc,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:yk,gk=Math.log,vk=Math.LN2;function yk(t){return t>>>=0,t===0?32:31-(gk(t)/vk|0)|0}var Fa=64,$a=4194304;function lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=lo(a):(s&=o,s!==0&&(r=lo(s)))}else o=n&~i,o!==0?r=lo(o):s!==0&&(r=lo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function _k(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_k(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Md(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function x_(){var t=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),t}function Cu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function Ek(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var he=0;function O_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P_,hh,A_,D_,M_,Ld=!1,Ba=[],mr=null,gr=null,vr=null,Do=new Map,Mo=new Map,sr=[],Ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rg(t,e){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Do.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(e.pointerId)}}function Gs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pa(e),e!==null&&hh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sk(t,e,n,r,i){switch(e){case"focusin":return mr=Gs(mr,t,e,n,r,i),!0;case"dragenter":return gr=Gs(gr,t,e,n,r,i),!0;case"mouseover":return vr=Gs(vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Do.set(s,Gs(Do.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mo.set(s,Gs(Mo.get(s)||null,t,e,n,r,i)),!0}return!1}function L_(t){var e=qr(t.target);if(e!==null){var n=ki(e);if(n!==null){if(e=n.tag,e===13){if(e=k_(n),e!==null){t.blockedOn=e,M_(t.priority,function(){A_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ud(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Od=r,n.target.dispatchEvent(r),Od=null}else return e=pa(n),e!==null&&hh(e),t.blockedOn=n,!1;e.shift()}return!0}function ig(t,e,n){cl(t)&&n.delete(e)}function kk(){Ld=!1,mr!==null&&cl(mr)&&(mr=null),gr!==null&&cl(gr)&&(gr=null),vr!==null&&cl(vr)&&(vr=null),Do.forEach(ig),Mo.forEach(ig)}function Ks(t,e){t.blockedOn===e&&(t.blockedOn=null,Ld||(Ld=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,kk)))}function Lo(t){function e(i){return Ks(i,t)}if(0<Ba.length){Ks(Ba[0],t);for(var n=1;n<Ba.length;n++){var r=Ba[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mr!==null&&Ks(mr,t),gr!==null&&Ks(gr,t),vr!==null&&Ks(vr,t),Do.forEach(e),Mo.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)L_(n),n.blockedOn===null&&sr.shift()}var es=Gn.ReactCurrentBatchConfig,xl=!0;function Nk(t,e,n,r){var i=he,s=es.transition;es.transition=null;try{he=1,ph(t,e,n,r)}finally{he=i,es.transition=s}}function Tk(t,e,n,r){var i=he,s=es.transition;es.transition=null;try{he=4,ph(t,e,n,r)}finally{he=i,es.transition=s}}function ph(t,e,n,r){if(xl){var i=Ud(t,e,n,r);if(i===null)Pu(t,e,r,Ol,n),rg(t,r);else if(Sk(i,t,e,n,r))r.stopPropagation();else if(rg(t,r),e&4&&-1<Ck.indexOf(t)){for(;i!==null;){var s=pa(i);if(s!==null&&P_(s),s=Ud(t,e,n,r),s===null&&Pu(t,e,r,Ol,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pu(t,e,r,null,n)}}var Ol=null;function Ud(t,e,n,r){if(Ol=null,t=uh(r),t=qr(t),t!==null)if(e=ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ol=t,null}function U_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hk()){case dh:return 1;case b_:return 4;case bl:case pk:return 16;case R_:return 536870912;default:return 16}default:return 16}}var dr=null,mh=null,ul=null;function F_(){if(ul)return ul;var t,e=mh,n=e.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ul=i.slice(t,1<r?1-r:void 0)}function dl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ja(){return!0}function sg(){return!1}function Dt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ja:sg,this.isPropagationStopped=sg,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),e}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gh=Dt(bs),ha=xe({},bs,{view:0,detail:0}),Ik=Dt(ha),Su,ku,qs,Ic=xe({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qs&&(qs&&t.type==="mousemove"?(Su=t.screenX-qs.screenX,ku=t.screenY-qs.screenY):ku=Su=0,qs=t),Su)},movementY:function(t){return"movementY"in t?t.movementY:ku}}),og=Dt(Ic),bk=xe({},Ic,{dataTransfer:0}),Rk=Dt(bk),xk=xe({},ha,{relatedTarget:0}),Nu=Dt(xk),Ok=xe({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=Dt(Ok),Ak=xe({},bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dk=Dt(Ak),Mk=xe({},bs,{data:0}),ag=Dt(Mk),Lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fk[t])?!!e[t]:!1}function vh(){return $k}var Bk=xe({},ha,{key:function(t){if(t.key){var e=Lk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(t){return t.type==="keypress"?dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jk=Dt(Bk),zk=xe({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lg=Dt(zk),Wk=xe({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),Hk=Dt(Wk),Vk=xe({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gk=Dt(Vk),Kk=xe({},Ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qk=Dt(Kk),Yk=[9,13,27,32],yh=Un&&"CompositionEvent"in window,po=null;Un&&"documentMode"in document&&(po=document.documentMode);var Qk=Un&&"TextEvent"in window&&!po,$_=Un&&(!yh||po&&8<po&&11>=po),cg=String.fromCharCode(32),ug=!1;function B_(t,e){switch(t){case"keyup":return Yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function Xk(t,e){switch(t){case"compositionend":return j_(e);case"keypress":return e.which!==32?null:(ug=!0,cg);case"textInput":return t=e.data,t===cg&&ug?null:t;default:return null}}function Jk(t,e){if(Fi)return t==="compositionend"||!yh&&B_(t,e)?(t=F_(),ul=mh=dr=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $_&&e.locale!=="ko"?null:e.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zk[t.type]:e==="textarea"}function z_(t,e,n,r){__(r),e=Pl(e,"onChange"),0<e.length&&(n=new gh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mo=null,Uo=null;function eN(t){Z_(t,0)}function bc(t){var e=ji(t);if(f_(e))return t}function tN(t,e){if(t==="change")return e}var W_=!1;if(Un){var Tu;if(Un){var Iu="oninput"in document;if(!Iu){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Iu=typeof fg.oninput=="function"}Tu=Iu}else Tu=!1;W_=Tu&&(!document.documentMode||9<document.documentMode)}function hg(){mo&&(mo.detachEvent("onpropertychange",H_),Uo=mo=null)}function H_(t){if(t.propertyName==="value"&&bc(Uo)){var e=[];z_(e,Uo,t,uh(t)),S_(eN,e)}}function nN(t,e,n){t==="focusin"?(hg(),mo=e,Uo=n,mo.attachEvent("onpropertychange",H_)):t==="focusout"&&hg()}function rN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bc(Uo)}function iN(t,e){if(t==="click")return bc(e)}function sN(t,e){if(t==="input"||t==="change")return bc(e)}function oN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:oN;function Fo(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_d.call(e,i)||!sn(t[i],e[i]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,e){var n=pg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pg(n)}}function V_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G_(){for(var t=window,e=Nl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nl(t.document)}return e}function _h(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aN(t){var e=G_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V_(n.ownerDocument.documentElement,n)){if(r!==null&&_h(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=mg(n,s);var o=mg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lN=Un&&"documentMode"in document&&11>=document.documentMode,$i=null,Fd=null,go=null,$d=!1;function gg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$d||$i==null||$i!==Nl(r)||(r=$i,"selectionStart"in r&&_h(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),go&&Fo(go,r)||(go=r,r=Pl(Fd,"onSelect"),0<r.length&&(e=new gh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},bu={},K_={};Un&&(K_=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Rc(t){if(bu[t])return bu[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in K_)return bu[t]=e[n];return t}var q_=Rc("animationend"),Y_=Rc("animationiteration"),Q_=Rc("animationstart"),X_=Rc("transitionend"),J_=new Map,vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){J_.set(t,e),Si(e,[t])}for(var Ru=0;Ru<vg.length;Ru++){var xu=vg[Ru],cN=xu.toLowerCase(),uN=xu[0].toUpperCase()+xu.slice(1);Ar(cN,"on"+uN)}Ar(q_,"onAnimationEnd");Ar(Y_,"onAnimationIteration");Ar(Q_,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(X_,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dN=new Set("cancel close invalid load scroll toggle".split(" ").concat(co));function yg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ck(r,e,void 0,t),t.currentTarget=null}function Z_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;yg(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;yg(i,a,c),s=l}}}if(Il)throw t=Dd,Il=!1,Dd=null,t}function Ee(t,e){var n=e[Hd];n===void 0&&(n=e[Hd]=new Set);var r=t+"__bubble";n.has(r)||(e0(e,t,2,!1),n.add(r))}function Ou(t,e,n){var r=0;e&&(r|=4),e0(n,t,r,e)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function $o(t){if(!t[Wa]){t[Wa]=!0,a_.forEach(function(n){n!=="selectionchange"&&(dN.has(n)||Ou(n,!1,t),Ou(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wa]||(e[Wa]=!0,Ou("selectionchange",!1,e))}}function e0(t,e,n,r){switch(U_(e)){case 1:var i=Nk;break;case 4:i=Tk;break;default:i=ph}n=i.bind(null,e,n,t),i=void 0,!Ad||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}S_(function(){var c=s,u=uh(n),d=[];e:{var f=J_.get(t);if(f!==void 0){var p=gh,h=t;switch(t){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":p=jk;break;case"focusin":h="focus",p=Nu;break;case"focusout":h="blur",p=Nu;break;case"beforeblur":case"afterblur":p=Nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Rk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Hk;break;case q_:case Y_:case Q_:p=Pk;break;case X_:p=Gk;break;case"scroll":p=Ik;break;case"wheel":p=qk;break;case"copy":case"cut":case"paste":p=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lg}var y=(e&4)!==0,E=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,g!==null&&(C=Ao(v,g),C!=null&&y.push(Bo(v,C,w)))),E)break;v=v.return}0<y.length&&(f=new p(f,h,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Od&&(h=n.relatedTarget||n.fromElement)&&(qr(h)||h[Fn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=c,h=h?qr(h):null,h!==null&&(E=ki(h),h!==E||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=c),p!==h)){if(y=og,C="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=lg,C="onPointerLeave",g="onPointerEnter",v="pointer"),E=p==null?f:ji(p),w=h==null?f:ji(h),f=new y(C,v+"leave",p,n,u),f.target=E,f.relatedTarget=w,C=null,qr(u)===c&&(y=new y(g,v+"enter",h,n,u),y.target=w,y.relatedTarget=E,C=y),E=C,p&&h)t:{for(y=p,g=h,v=0,w=y;w;w=xi(w))v++;for(w=0,C=g;C;C=xi(C))w++;for(;0<v-w;)y=xi(y),v--;for(;0<w-v;)g=xi(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=xi(y),g=xi(g)}y=null}else y=null;p!==null&&_g(d,f,p,y,!1),h!==null&&E!==null&&_g(d,E,h,y,!0)}}e:{if(f=c?ji(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=tN;else if(dg(f))if(W_)k=sN;else{k=rN;var S=nN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=iN);if(k&&(k=k(t,c))){z_(d,k,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Td(f,"number",f.value)}switch(S=c?ji(c):window,t){case"focusin":(dg(S)||S.contentEditable==="true")&&($i=S,Fd=c,go=null);break;case"focusout":go=Fd=$i=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,gg(d,n,u);break;case"selectionchange":if(lN)break;case"keydown":case"keyup":gg(d,n,u)}var N;if(yh)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Fi?B_(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&($_&&n.locale!=="ko"&&(Fi||I!=="onCompositionStart"?I==="onCompositionEnd"&&Fi&&(N=F_()):(dr=u,mh="value"in dr?dr.value:dr.textContent,Fi=!0)),S=Pl(c,I),0<S.length&&(I=new ag(I,t,null,n,u),d.push({event:I,listeners:S}),N?I.data=N:(N=j_(n),N!==null&&(I.data=N)))),(N=Qk?Xk(t,n):Jk(t,n))&&(c=Pl(c,"onBeforeInput"),0<c.length&&(u=new ag("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=N))}Z_(d,e)})}function Bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ao(t,n),s!=null&&r.unshift(Bo(t,s,i)),s=Ao(t,e),s!=null&&r.push(Bo(t,s,i))),t=t.return}return r}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _g(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ao(n,s),l!=null&&o.unshift(Bo(n,l,a))):i||(l=Ao(n,s),l!=null&&o.push(Bo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fN=/\r\n?/g,hN=/\u0000|\uFFFD/g;function wg(t){return(typeof t=="string"?t:""+t).replace(fN,`
`).replace(hN,"")}function Ha(t,e,n){if(e=wg(e),wg(t)!==e&&n)throw Error(P(425))}function Al(){}var Bd=null,jd=null;function zd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wd=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,Eg=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof Eg<"u"?function(t){return Eg.resolve(null).then(t).catch(gN)}:Wd;function gN(t){setTimeout(function(){throw t})}function Au(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lo(e)}function yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),un="__reactFiber$"+Rs,jo="__reactProps$"+Rs,Fn="__reactContainer$"+Rs,Hd="__reactEvents$"+Rs,vN="__reactListeners$"+Rs,yN="__reactHandles$"+Rs;function qr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cg(t);t!==null;){if(n=t[un])return n;t=Cg(t)}return e}t=n,n=t.parentNode}return null}function pa(t){return t=t[un]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function xc(t){return t[jo]||null}var Vd=[],zi=-1;function Dr(t){return{current:t}}function Se(t){0>zi||(t.current=Vd[zi],Vd[zi]=null,zi--)}function we(t,e){zi++,Vd[zi]=t.current,t.current=e}var br={},at=Dr(br),Et=Dr(!1),li=br;function us(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function Dl(){Se(Et),Se(at)}function Sg(t,e,n){if(at.current!==br)throw Error(P(168));we(at,e),we(Et,n)}function t0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,nk(t)||"Unknown",i));return xe({},n,r)}function Ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,li=at.current,we(at,t),we(Et,Et.current),!0}function kg(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=t0(t,e,li),r.__reactInternalMemoizedMergedChildContext=t,Se(Et),Se(at),we(at,t)):Se(Et),we(Et,n)}var kn=null,Oc=!1,Du=!1;function n0(t){kn===null?kn=[t]:kn.push(t)}function _N(t){Oc=!0,n0(t)}function Mr(){if(!Du&&kn!==null){Du=!0;var t=0,e=he;try{var n=kn;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kn=null,Oc=!1}catch(i){throw kn!==null&&(kn=kn.slice(t+1)),I_(dh,Mr),i}finally{he=e,Du=!1}}return null}var Wi=[],Hi=0,Ll=null,Ul=0,Lt=[],Ut=0,ci=null,bn=1,Rn="";function Hr(t,e){Wi[Hi++]=Ul,Wi[Hi++]=Ll,Ll=t,Ul=e}function r0(t,e,n){Lt[Ut++]=bn,Lt[Ut++]=Rn,Lt[Ut++]=ci,ci=t;var r=bn;t=Rn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var s=32-tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bn=1<<32-tn(e)+i|n<<i|r,Rn=s+t}else bn=1<<s|n<<i|r,Rn=t}function wh(t){t.return!==null&&(Hr(t,1),r0(t,1,0))}function Eh(t){for(;t===Ll;)Ll=Wi[--Hi],Wi[Hi]=null,Ul=Wi[--Hi],Wi[Hi]=null;for(;t===ci;)ci=Lt[--Ut],Lt[Ut]=null,Rn=Lt[--Ut],Lt[Ut]=null,bn=Lt[--Ut],Lt[Ut]=null}var Ot=null,Rt=null,Ne=!1,Xt=null;function i0(t,e){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ng(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Rt=yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ci!==null?{id:bn,overflow:Rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,Rt=null,!0):!1;default:return!1}}function Gd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kd(t){if(Ne){var e=Rt;if(e){var n=e;if(!Ng(t,e)){if(Gd(t))throw Error(P(418));e=yr(n.nextSibling);var r=Ot;e&&Ng(t,e)?i0(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Ot=t)}}else{if(Gd(t))throw Error(P(418));t.flags=t.flags&-4097|2,Ne=!1,Ot=t}}}function Tg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Va(t){if(t!==Ot)return!1;if(!Ne)return Tg(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zd(t.type,t.memoizedProps)),e&&(e=Rt)){if(Gd(t))throw s0(),Error(P(418));for(;e;)i0(t,e),e=yr(e.nextSibling)}if(Tg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=Ot?yr(t.stateNode.nextSibling):null;return!0}function s0(){for(var t=Rt;t;)t=yr(t.nextSibling)}function ds(){Rt=Ot=null,Ne=!1}function Ch(t){Xt===null?Xt=[t]:Xt.push(t)}var wN=Gn.ReactCurrentBatchConfig;function Yt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fl=Dr(null),$l=null,Vi=null,Sh=null;function kh(){Sh=Vi=$l=null}function Nh(t){var e=Fl.current;Se(Fl),t._currentValue=e}function qd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ts(t,e){$l=t,Sh=Vi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(Sh!==t)if(t={context:t,memoizedValue:e,next:null},Vi===null){if($l===null)throw Error(P(308));Vi=t,$l.dependencies={lanes:0,firstContext:t}}else Vi=Vi.next=t;return e}var Yr=null;function Th(t){Yr===null?Yr=[t]:Yr.push(t)}function o0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Th(e)):(n.next=i.next,i.next=n),e.interleaved=n,$n(t,r)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function Ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function An(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$n(t,n)}return i=r.interleaved,i===null?(e.next=e,Th(r)):(e.next=i.next,i.next=e),r.interleaved=e,$n(t,n)}function fl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fh(t,n)}}function Ig(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bl(t,e,n,r){var i=t.updateQueue;rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,y=a;switch(f=e,p=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=xe({},d,f);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);di|=o,t.lanes=o,t.memoizedState=d}}function bg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var l0=new o_.Component().refs;function Yd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pc={isMounted:function(t){return(t=t._reactInternals)?ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Er(t),s=An(r,i);s.payload=e,n!=null&&(s.callback=n),e=_r(t,s,i),e!==null&&(nn(e,t,i,r),fl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),i=Er(t),s=An(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_r(t,s,i),e!==null&&(nn(e,t,i,r),fl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=Er(t),i=An(n,r);i.tag=2,e!=null&&(i.callback=e),e=_r(t,i,r),e!==null&&(nn(e,t,r,n),fl(e,t,r))}};function Rg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fo(n,r)||!Fo(i,s):!0}function c0(t,e,n){var r=!1,i=br,s=e.contextType;return typeof s=="object"&&s!==null?s=jt(s):(i=Ct(e)?li:at.current,r=e.contextTypes,s=(r=r!=null)?us(t,i):br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pc.enqueueReplaceState(e,e.state,null)}function Qd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=l0,Ih(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jt(s):(s=Ct(e)?li:at.current,i.context=us(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pc.enqueueReplaceState(i,i.state,null),Bl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ys(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===l0&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Ga(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Og(t){var e=t._init;return e(t._payload)}function u0(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Cr(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,C){return v===null||v.tag!==6?(v=ju(w,g.mode,C),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,C){var k=w.type;return k===Ui?u(g,v,w.props.children,C,w.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&Og(k)===v.type)?(C=i(v,w.props),C.ref=Ys(g,v,w),C.return=g,C):(C=yl(w.type,w.key,w.props,null,g.mode,C),C.ref=Ys(g,v,w),C.return=g,C)}function c(g,v,w,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=zu(w,g.mode,C),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function u(g,v,w,C,k){return v===null||v.tag!==7?(v=ni(w,g.mode,C,k),v.return=g,v):(v=i(v,w),v.return=g,v)}function d(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ju(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ma:return w=yl(v.type,v.key,v.props,null,g.mode,w),w.ref=Ys(g,null,v),w.return=g,w;case Li:return v=zu(v,g.mode,w),v.return=g,v;case nr:var C=v._init;return d(g,C(v._payload),w)}if(ao(v)||Hs(v))return v=ni(v,g.mode,w,null),v.return=g,v;Ga(g,v)}return null}function f(g,v,w,C){var k=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(g,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ma:return w.key===k?l(g,v,w,C):null;case Li:return w.key===k?c(g,v,w,C):null;case nr:return k=w._init,f(g,v,k(w._payload),C)}if(ao(w)||Hs(w))return k!==null?null:u(g,v,w,C,null);Ga(g,w)}return null}function p(g,v,w,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(w)||null,a(v,g,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ma:return g=g.get(C.key===null?w:C.key)||null,l(v,g,C,k);case Li:return g=g.get(C.key===null?w:C.key)||null,c(v,g,C,k);case nr:var S=C._init;return p(g,v,w,S(C._payload),k)}if(ao(C)||Hs(C))return g=g.get(w)||null,u(v,g,C,k,null);Ga(v,C)}return null}function h(g,v,w,C){for(var k=null,S=null,N=v,I=v=0,x=null;N!==null&&I<w.length;I++){N.index>I?(x=N,N=null):x=N.sibling;var b=f(g,N,w[I],C);if(b===null){N===null&&(N=x);break}t&&N&&b.alternate===null&&e(g,N),v=s(b,v,I),S===null?k=b:S.sibling=b,S=b,N=x}if(I===w.length)return n(g,N),Ne&&Hr(g,I),k;if(N===null){for(;I<w.length;I++)N=d(g,w[I],C),N!==null&&(v=s(N,v,I),S===null?k=N:S.sibling=N,S=N);return Ne&&Hr(g,I),k}for(N=r(g,N);I<w.length;I++)x=p(N,g,I,w[I],C),x!==null&&(t&&x.alternate!==null&&N.delete(x.key===null?I:x.key),v=s(x,v,I),S===null?k=x:S.sibling=x,S=x);return t&&N.forEach(function(R){return e(g,R)}),Ne&&Hr(g,I),k}function y(g,v,w,C){var k=Hs(w);if(typeof k!="function")throw Error(P(150));if(w=k.call(w),w==null)throw Error(P(151));for(var S=k=null,N=v,I=v=0,x=null,b=w.next();N!==null&&!b.done;I++,b=w.next()){N.index>I?(x=N,N=null):x=N.sibling;var R=f(g,N,b.value,C);if(R===null){N===null&&(N=x);break}t&&N&&R.alternate===null&&e(g,N),v=s(R,v,I),S===null?k=R:S.sibling=R,S=R,N=x}if(b.done)return n(g,N),Ne&&Hr(g,I),k;if(N===null){for(;!b.done;I++,b=w.next())b=d(g,b.value,C),b!==null&&(v=s(b,v,I),S===null?k=b:S.sibling=b,S=b);return Ne&&Hr(g,I),k}for(N=r(g,N);!b.done;I++,b=w.next())b=p(N,g,I,b.value,C),b!==null&&(t&&b.alternate!==null&&N.delete(b.key===null?I:b.key),v=s(b,v,I),S===null?k=b:S.sibling=b,S=b);return t&&N.forEach(function(U){return e(g,U)}),Ne&&Hr(g,I),k}function E(g,v,w,C){if(typeof w=="object"&&w!==null&&w.type===Ui&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ma:e:{for(var k=w.key,S=v;S!==null;){if(S.key===k){if(k=w.type,k===Ui){if(S.tag===7){n(g,S.sibling),v=i(S,w.props.children),v.return=g,g=v;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nr&&Og(k)===S.type){n(g,S.sibling),v=i(S,w.props),v.ref=Ys(g,S,w),v.return=g,g=v;break e}n(g,S);break}else e(g,S);S=S.sibling}w.type===Ui?(v=ni(w.props.children,g.mode,C,w.key),v.return=g,g=v):(C=yl(w.type,w.key,w.props,null,g.mode,C),C.ref=Ys(g,v,w),C.return=g,g=C)}return o(g);case Li:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=zu(w,g.mode,C),v.return=g,g=v}return o(g);case nr:return S=w._init,E(g,v,S(w._payload),C)}if(ao(w))return h(g,v,w,C);if(Hs(w))return y(g,v,w,C);Ga(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=ju(w,g.mode,C),v.return=g,g=v),o(g)):n(g,v)}return E}var fs=u0(!0),d0=u0(!1),ma={},hn=Dr(ma),zo=Dr(ma),Wo=Dr(ma);function Qr(t){if(t===ma)throw Error(P(174));return t}function bh(t,e){switch(we(Wo,e),we(zo,t),we(hn,ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bd(e,t)}Se(hn),we(hn,e)}function hs(){Se(hn),Se(zo),Se(Wo)}function f0(t){Qr(Wo.current);var e=Qr(hn.current),n=bd(e,t.type);e!==n&&(we(zo,t),we(hn,n))}function Rh(t){zo.current===t&&(Se(hn),Se(zo))}var be=Dr(0);function jl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mu=[];function xh(){for(var t=0;t<Mu.length;t++)Mu[t]._workInProgressVersionPrimary=null;Mu.length=0}var hl=Gn.ReactCurrentDispatcher,Lu=Gn.ReactCurrentBatchConfig,ui=0,Re=null,Fe=null,He=null,zl=!1,vo=!1,Ho=0,EN=0;function rt(){throw Error(P(321))}function Oh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function Ph(t,e,n,r,i,s){if(ui=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hl.current=t===null||t.memoizedState===null?NN:TN,t=n(r,i),vo){s=0;do{if(vo=!1,Ho=0,25<=s)throw Error(P(301));s+=1,He=Fe=null,e.updateQueue=null,hl.current=IN,t=n(r,i)}while(vo)}if(hl.current=Wl,e=Fe!==null&&Fe.next!==null,ui=0,He=Fe=Re=null,zl=!1,e)throw Error(P(300));return t}function Ah(){var t=Ho!==0;return Ho=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Re.memoizedState=He=t:He=He.next=t,He}function zt(){if(Fe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=He===null?Re.memoizedState:He.next;if(e!==null)He=e,Fe=t;else{if(t===null)throw Error(P(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},He===null?Re.memoizedState=He=t:He=He.next=t}return He}function Vo(t,e){return typeof e=="function"?e(t):e}function Uu(t){var e=zt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Fe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ui&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Re.lanes|=u,di|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,sn(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,di|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fu(t){var e=zt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sn(s,e.memoizedState)||(yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function h0(){}function p0(t,e){var n=Re,r=zt(),i=e(),s=!sn(r.memoizedState,i);if(s&&(r.memoizedState=i,yt=!0),r=r.queue,Dh(v0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Go(9,g0.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(P(349));ui&30||m0(n,e,i)}return i}function m0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function g0(t,e,n,r){e.value=n,e.getSnapshot=r,y0(e)&&_0(t)}function v0(t,e,n){return n(function(){y0(e)&&_0(t)})}function y0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function _0(t){var e=$n(t,1);e!==null&&nn(e,t,1,-1)}function Pg(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},e.queue=t,t=t.dispatch=kN.bind(null,Re,t),[e.memoizedState,t]}function Go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w0(){return zt().memoizedState}function pl(t,e,n,r){var i=cn();Re.flags|=t,i.memoizedState=Go(1|e,n,void 0,r===void 0?null:r)}function Ac(t,e,n,r){var i=zt();r=r===void 0?null:r;var s=void 0;if(Fe!==null){var o=Fe.memoizedState;if(s=o.destroy,r!==null&&Oh(r,o.deps)){i.memoizedState=Go(e,n,s,r);return}}Re.flags|=t,i.memoizedState=Go(1|e,n,s,r)}function Ag(t,e){return pl(8390656,8,t,e)}function Dh(t,e){return Ac(2048,8,t,e)}function E0(t,e){return Ac(4,2,t,e)}function C0(t,e){return Ac(4,4,t,e)}function S0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k0(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4,4,S0.bind(null,e,t),n)}function Mh(){}function N0(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T0(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function I0(t,e,n){return ui&21?(sn(n,e)||(n=x_(),Re.lanes|=n,di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=n)}function CN(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=Lu.transition;Lu.transition={};try{t(!1),e()}finally{he=n,Lu.transition=r}}function b0(){return zt().memoizedState}function SN(t,e,n){var r=Er(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},R0(t))x0(e,n);else if(n=o0(t,e,n,r),n!==null){var i=ft();nn(n,t,r,i),O0(n,e,r)}}function kN(t,e,n){var r=Er(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(R0(t))x0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sn(a,o)){var l=e.interleaved;l===null?(i.next=i,Th(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=o0(t,e,i,r),n!==null&&(i=ft(),nn(n,t,r,i),O0(n,e,r))}}function R0(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function x0(t,e){vo=zl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function O0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fh(t,n)}}var Wl={readContext:jt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},NN={readContext:jt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:Ag,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pl(4194308,4,S0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pl(4194308,4,t,e)},useInsertionEffect:function(t,e){return pl(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SN.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:Pg,useDebugValue:Mh,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=Pg(!1),e=t[0];return t=CN.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=cn();if(Ne){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),qe===null)throw Error(P(349));ui&30||m0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ag(v0.bind(null,r,s,t),[t]),r.flags|=2048,Go(9,g0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cn(),e=qe.identifierPrefix;if(Ne){var n=Rn,r=bn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ho++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TN={readContext:jt,useCallback:N0,useContext:jt,useEffect:Dh,useImperativeHandle:k0,useInsertionEffect:E0,useLayoutEffect:C0,useMemo:T0,useReducer:Uu,useRef:w0,useState:function(){return Uu(Vo)},useDebugValue:Mh,useDeferredValue:function(t){var e=zt();return I0(e,Fe.memoizedState,t)},useTransition:function(){var t=Uu(Vo)[0],e=zt().memoizedState;return[t,e]},useMutableSource:h0,useSyncExternalStore:p0,useId:b0,unstable_isNewReconciler:!1},IN={readContext:jt,useCallback:N0,useContext:jt,useEffect:Dh,useImperativeHandle:k0,useInsertionEffect:E0,useLayoutEffect:C0,useMemo:T0,useReducer:Fu,useRef:w0,useState:function(){return Fu(Vo)},useDebugValue:Mh,useDeferredValue:function(t){var e=zt();return Fe===null?e.memoizedState=t:I0(e,Fe.memoizedState,t)},useTransition:function(){var t=Fu(Vo)[0],e=zt().memoizedState;return[t,e]},useMutableSource:h0,useSyncExternalStore:p0,useId:b0,unstable_isNewReconciler:!1};function ps(t,e){try{var n="",r=e;do n+=tk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $u(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bN=typeof WeakMap=="function"?WeakMap:Map;function P0(t,e,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vl||(Vl=!0,lf=r),Xd(t,e)},n}function A0(t,e,n){n=An(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xd(t,e),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zN.bind(null,t,e,n),e.then(t,t))}function Mg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=An(-1,1),e.tag=2,_r(n,e,1))),n.lanes|=1),t)}var RN=Gn.ReactCurrentOwner,yt=!1;function dt(t,e,n,r){e.child=t===null?d0(e,null,n,r):fs(e,t.child,n,r)}function Ug(t,e,n,r,i){n=n.render;var s=e.ref;return ts(e,i),r=Ph(t,e,n,r,s,i),n=Ah(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(Ne&&n&&wh(e),e.flags|=1,dt(t,e,r,i),e.child)}function Fg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,D0(t,e,s,r,i)):(t=yl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(o,r)&&t.ref===e.ref)return Bn(t,e,i)}return e.flags|=1,t=Cr(s,r),t.ref=e.ref,t.return=e,e.child=t}function D0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fo(s,r)&&t.ref===e.ref)if(yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,Bn(t,e,i)}return Jd(t,e,n,r,i)}function M0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ki,bt),bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Ki,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Ki,bt),bt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(Ki,bt),bt|=r;return dt(t,e,i,n),e.child}function L0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jd(t,e,n,r,i){var s=Ct(n)?li:at.current;return s=us(e,s),ts(e,i),n=Ph(t,e,n,r,s,i),r=Ah(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(Ne&&r&&wh(e),e.flags|=1,dt(t,e,n,i),e.child)}function $g(t,e,n,r,i){if(Ct(n)){var s=!0;Ml(e)}else s=!1;if(ts(e,i),e.stateNode===null)ml(t,e),c0(e,n,r),Qd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=Ct(n)?li:at.current,c=us(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xg(e,o,r,c),rr=!1;var f=e.memoizedState;o.state=f,Bl(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Et.current||rr?(typeof u=="function"&&(Yd(e,n,u,r),l=e.memoizedState),(a=rr||Rg(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,a0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yt(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=Ct(n)?li:at.current,l=us(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&xg(e,o,r,l),rr=!1,f=e.memoizedState,o.state=f,Bl(e,r,o,i);var h=e.memoizedState;a!==d||f!==h||Et.current||rr?(typeof p=="function"&&(Yd(e,n,p,r),h=e.memoizedState),(c=rr||Rg(e,n,c,r,f,h,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zd(t,e,n,r,s,i)}function Zd(t,e,n,r,i,s){L0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kg(e,n,!1),Bn(t,e,s);r=e.stateNode,RN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fs(e,t.child,null,s),e.child=fs(e,null,a,s)):dt(t,e,a,s),e.memoizedState=r.state,i&&kg(e,n,!0),e.child}function U0(t){var e=t.stateNode;e.pendingContext?Sg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sg(t,e.context,!1),bh(t,e.containerInfo)}function Bg(t,e,n,r,i){return ds(),Ch(i),e.flags|=256,dt(t,e,n,r),e.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(t){return{baseLanes:t,cachePool:null,transitions:null}}function F0(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(be,i&1),t===null)return Kd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lc(o,r,0,null),t=ni(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tf(n),e.memoizedState=ef,t):Lh(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cr(a,s):(s=ni(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ef,r}return s=t.child,t=s.sibling,r=Cr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lh(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ka(t,e,n,r){return r!==null&&Ch(r),fs(e,t.child,null,n),t=Lh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$u(Error(P(422))),Ka(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),s=ni(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fs(e,t.child,null,o),e.child.memoizedState=tf(o),e.memoizedState=ef,s);if(!(e.mode&1))return Ka(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=$u(s,r,void 0),Ka(t,e,o,r)}if(a=(o&t.childLanes)!==0,yt||a){if(r=qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$n(t,i),nn(r,t,i,-1))}return zh(),r=$u(Error(P(421))),Ka(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rt=yr(i.nextSibling),Ot=e,Ne=!0,Xt=null,t!==null&&(Lt[Ut++]=bn,Lt[Ut++]=Rn,Lt[Ut++]=ci,bn=t.id,Rn=t.overflow,ci=e),e=Lh(e,r.children),e.flags|=4096,e)}function jg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qd(t.return,e,n)}function Bu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,n,e);else if(t.tag===19)jg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bu(e,!0,n,null,s);break;case"together":Bu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ON(t,e,n){switch(e.tag){case 3:U0(e),ds();break;case 5:f0(e);break;case 1:Ct(e.type)&&Ml(e);break;case 4:bh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(Fl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?F0(t,e,n):(we(be,be.current&1),t=Bn(t,e,n),t!==null?t.sibling:null);we(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,M0(t,e,n)}return Bn(t,e,n)}var B0,nf,j0,z0;B0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nf=function(){};j0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qr(hn.current);var s=null;switch(n){case"input":i=kd(t,i),r=kd(t,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=Id(t,i),r=Id(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Al)}Rd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};z0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qs(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PN(t,e,n){var r=e.pendingProps;switch(Eh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return Ct(e.type)&&Dl(),it(e),null;case 3:return r=e.stateNode,hs(),Se(Et),Se(at),xh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(df(Xt),Xt=null))),nf(t,e),it(e),null;case 5:Rh(e);var i=Qr(Wo.current);if(n=e.type,t!==null&&e.stateNode!=null)j0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return it(e),null}if(t=Qr(hn.current),Va(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[un]=e,r[jo]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<co.length;i++)Ee(co[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Qm(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":Jm(r,s),Ee("invalid",r)}Rd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),i=["children",""+a]):Oo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":La(r),Xm(r,s,!0);break;case"textarea":La(r),Zm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Al)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[un]=e,t[jo]=r,B0(t,e,!1,!1),e.stateNode=t;e:{switch(o=xd(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<co.length;i++)Ee(co[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":Qm(t,r),i=kd(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":Jm(t,r),i=Id(t,r),Ee("invalid",t);break;default:i=r}Rd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?y_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Po(t,l):typeof l=="number"&&Po(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&oh(t,s,l,o))}switch(n){case"input":La(t),Xm(t,r,!1);break;case"textarea":La(t),Zm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ir(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)z0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Qr(Wo.current),Qr(hn.current),Va(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(s=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:Ha(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return it(e),null;case 13:if(Se(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Rt!==null&&e.mode&1&&!(e.flags&128))s0(),ds(),e.flags|=98560,s=!1;else if(s=Va(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[un]=e}else ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),s=!1}else Xt!==null&&(df(Xt),Xt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?$e===0&&($e=3):zh())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return hs(),nf(t,e),t===null&&$o(e.stateNode.containerInfo),it(e),null;case 10:return Nh(e.type._context),it(e),null;case 17:return Ct(e.type)&&Dl(),it(e),null;case 19:if(Se(be),s=e.memoizedState,s===null)return it(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qs(s,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jl(t),o!==null){for(e.flags|=128,Qs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>ms&&(e.flags|=128,r=!0,Qs(s,!1),e.lanes=4194304)}else{if(!r)if(t=jl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return it(e),null}else 2*Me()-s.renderingStartTime>ms&&n!==1073741824&&(e.flags|=128,r=!0,Qs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=be.current,we(be,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return jh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bt&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function AN(t,e){switch(Eh(e),e.tag){case 1:return Ct(e.type)&&Dl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hs(),Se(Et),Se(at),xh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rh(e),null;case 13:if(Se(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(be),null;case 4:return hs(),null;case 10:return Nh(e.type._context),null;case 22:case 23:return jh(),null;case 24:return null;default:return null}}var qa=!1,st=!1,DN=typeof WeakSet=="function"?WeakSet:Set,$=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function rf(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var zg=!1;function MN(t,e){if(Bd=xl,t=G_(),_h(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jd={focusedElem:t,selectionRange:n},xl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,E=h.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Yt(e.type,y),E);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(C){Pe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return h=zg,zg=!1,h}function yo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rf(e,n,s)}i=i.next}while(i!==r)}}function Dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function W0(t){var e=t.alternate;e!==null&&(t.alternate=null,W0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[jo],delete e[Hd],delete e[vN],delete e[yN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function H0(t){return t.tag===5||t.tag===3||t.tag===4}function Wg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Al));else if(r!==4&&(t=t.child,t!==null))for(of(t,e,n),t=t.sibling;t!==null;)of(t,e,n),t=t.sibling}function af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(af(t,e,n),t=t.sibling;t!==null;)af(t,e,n),t=t.sibling}var Xe=null,Qt=!1;function er(t,e,n){for(n=n.child;n!==null;)V0(t,e,n),n=n.sibling}function V0(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Tc,n)}catch{}switch(n.tag){case 5:st||Gi(n,e);case 6:var r=Xe,i=Qt;Xe=null,er(t,e,n),Xe=r,Qt=i,Xe!==null&&(Qt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Qt?(t=Xe,n=n.stateNode,t.nodeType===8?Au(t.parentNode,n):t.nodeType===1&&Au(t,n),Lo(t)):Au(Xe,n.stateNode));break;case 4:r=Xe,i=Qt,Xe=n.stateNode.containerInfo,Qt=!0,er(t,e,n),Xe=r,Qt=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rf(n,e,o),i=i.next}while(i!==r)}er(t,e,n);break;case 1:if(!st&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,er(t,e,n),st=r):er(t,e,n);break;default:er(t,e,n)}}function Hg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DN),e.forEach(function(r){var i=HN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,Qt=!1;break e;case 3:Xe=a.stateNode.containerInfo,Qt=!0;break e;case 4:Xe=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(Xe===null)throw Error(P(160));V0(s,o,i),Xe=null,Qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Pe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G0(e,t),e=e.sibling}function G0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),ln(t),r&4){try{yo(3,t,t.return),Dc(3,t)}catch(y){Pe(t,t.return,y)}try{yo(5,t,t.return)}catch(y){Pe(t,t.return,y)}}break;case 1:qt(e,t),ln(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(qt(e,t),ln(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var i=t.stateNode;try{Po(i,"")}catch(y){Pe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&h_(i,s),xd(a,o);var c=xd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?y_(i,d):u==="dangerouslySetInnerHTML"?g_(i,d):u==="children"?Po(i,d):oh(i,u,d,c)}switch(a){case"input":Nd(i,s);break;case"textarea":p_(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Xi(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Xi(i,!!s.multiple,s.defaultValue,!0):Xi(i,!!s.multiple,s.multiple?[]:"",!1))}i[jo]=s}catch(y){Pe(t,t.return,y)}}break;case 6:if(qt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Pe(t,t.return,y)}}break;case 3:if(qt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(e.containerInfo)}catch(y){Pe(t,t.return,y)}break;case 4:qt(e,t),ln(t);break;case 13:qt(e,t),ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($h=Me())),r&4&&Hg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(st=(c=st)||u,qt(e,t),st=c):qt(e,t),ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($=t,u=t.child;u!==null;){for(d=$=u;$!==null;){switch(f=$,p=f.child,f.tag){case 0:case 11:case 14:case 15:yo(4,f,f.return);break;case 1:Gi(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(y){Pe(r,n,y)}}break;case 5:Gi(f,f.return);break;case 22:if(f.memoizedState!==null){Gg(d);continue}}p!==null?(p.return=f,$=p):Gg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=v_("display",o))}catch(y){Pe(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Pe(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qt(e,t),ln(t),r&4&&Hg(t);break;case 21:break;default:qt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(H0(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Po(i,""),r.flags&=-33);var s=Wg(t);af(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wg(t);of(t,a,o);break;default:throw Error(P(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LN(t,e,n){$=t,K0(t)}function K0(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||st;a=qa;var c=st;if(qa=o,(st=l)&&!c)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Kg(i):l!==null?(l.return=o,$=l):Kg(i);for(;s!==null;)$=s,K0(s),s=s.sibling;$=i,qa=a,st=c}Vg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):Vg(t)}}function Vg(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Dc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Lo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}st||e.flags&512&&sf(e)}catch(f){Pe(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Gg(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Kg(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dc(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pe(e,i,l)}}var s=e.return;try{sf(e)}catch(l){Pe(e,s,l)}break;case 5:var o=e.return;try{sf(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var UN=Math.ceil,Hl=Gn.ReactCurrentDispatcher,Uh=Gn.ReactCurrentOwner,Bt=Gn.ReactCurrentBatchConfig,ue=0,qe=null,Le=null,et=0,bt=0,Ki=Dr(0),$e=0,Ko=null,di=0,Mc=0,Fh=0,_o=null,vt=null,$h=0,ms=1/0,Sn=null,Vl=!1,lf=null,wr=null,Ya=!1,fr=null,Gl=0,wo=0,cf=null,gl=-1,vl=0;function ft(){return ue&6?Me():gl!==-1?gl:gl=Me()}function Er(t){return t.mode&1?ue&2&&et!==0?et&-et:wN.transition!==null?(vl===0&&(vl=x_()),vl):(t=he,t!==0||(t=window.event,t=t===void 0?16:U_(t.type)),t):1}function nn(t,e,n,r){if(50<wo)throw wo=0,cf=null,Error(P(185));fa(t,n,r),(!(ue&2)||t!==qe)&&(t===qe&&(!(ue&2)&&(Mc|=n),$e===4&&or(t,et)),St(t,r),n===1&&ue===0&&!(e.mode&1)&&(ms=Me()+500,Oc&&Mr()))}function St(t,e){var n=t.callbackNode;wk(t,e);var r=Rl(t,t===qe?et:0);if(r===0)n!==null&&ng(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ng(n),e===1)t.tag===0?_N(qg.bind(null,t)):n0(qg.bind(null,t)),mN(function(){!(ue&6)&&Mr()}),n=null;else{switch(O_(r)){case 1:n=dh;break;case 4:n=b_;break;case 16:n=bl;break;case 536870912:n=R_;break;default:n=bl}n=tw(n,q0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function q0(t,e){if(gl=-1,vl=0,ue&6)throw Error(P(327));var n=t.callbackNode;if(ns()&&t.callbackNode!==n)return null;var r=Rl(t,t===qe?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kl(t,r);else{e=r;var i=ue;ue|=2;var s=Q0();(qe!==t||et!==e)&&(Sn=null,ms=Me()+500,ti(t,e));do try{BN();break}catch(a){Y0(t,a)}while(1);kh(),Hl.current=s,ue=i,Le!==null?e=0:(qe=null,et=0,e=$e)}if(e!==0){if(e===2&&(i=Md(t),i!==0&&(r=i,e=uf(t,i))),e===1)throw n=Ko,ti(t,0),or(t,r),St(t,Me()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!FN(i)&&(e=Kl(t,r),e===2&&(s=Md(t),s!==0&&(r=s,e=uf(t,s))),e===1))throw n=Ko,ti(t,0),or(t,r),St(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:Vr(t,vt,Sn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=$h+500-Me(),10<e)){if(Rl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wd(Vr.bind(null,t,vt,Sn),e);break}Vr(t,vt,Sn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UN(r/1960))-r,10<r){t.timeoutHandle=Wd(Vr.bind(null,t,vt,Sn),r);break}Vr(t,vt,Sn);break;case 5:Vr(t,vt,Sn);break;default:throw Error(P(329))}}}return St(t,Me()),t.callbackNode===n?q0.bind(null,t):null}function uf(t,e){var n=_o;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=Kl(t,e),t!==2&&(e=vt,vt=n,e!==null&&df(e)),t}function df(t){vt===null?vt=t:vt.push.apply(vt,t)}function FN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Fh,e&=~Mc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function qg(t){if(ue&6)throw Error(P(327));ns();var e=Rl(t,0);if(!(e&1))return St(t,Me()),null;var n=Kl(t,e);if(t.tag!==0&&n===2){var r=Md(t);r!==0&&(e=r,n=uf(t,r))}if(n===1)throw n=Ko,ti(t,0),or(t,e),St(t,Me()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,vt,Sn),St(t,Me()),null}function Bh(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(ms=Me()+500,Oc&&Mr())}}function fi(t){fr!==null&&fr.tag===0&&!(ue&6)&&ns();var e=ue;ue|=1;var n=Bt.transition,r=he;try{if(Bt.transition=null,he=1,t)return t()}finally{he=r,Bt.transition=n,ue=e,!(ue&6)&&Mr()}}function jh(){bt=Ki.current,Se(Ki)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pN(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Eh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dl();break;case 3:hs(),Se(Et),Se(at),xh();break;case 5:Rh(r);break;case 4:hs();break;case 13:Se(be);break;case 19:Se(be);break;case 10:Nh(r.type._context);break;case 22:case 23:jh()}n=n.return}if(qe=t,Le=t=Cr(t.current,null),et=bt=e,$e=0,Ko=null,Fh=Mc=di=0,vt=_o=null,Yr!==null){for(e=0;e<Yr.length;e++)if(n=Yr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yr=null}return t}function Y0(t,e){do{var n=Le;try{if(kh(),hl.current=Wl,zl){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zl=!1}if(ui=0,He=Fe=Re=null,vo=!1,Ho=0,Uh.current=null,n===null||n.return===null){$e=1,Ko=e,Le=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Mg(o);if(p!==null){p.flags&=-257,Lg(p,o,a,s,e),p.mode&1&&Dg(s,c,e),e=p,l=c;var h=e.updateQueue;if(h===null){var y=new Set;y.add(l),e.updateQueue=y}else h.add(l);break e}else{if(!(e&1)){Dg(s,c,e),zh();break e}l=Error(P(426))}}else if(Ne&&a.mode&1){var E=Mg(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Lg(E,o,a,s,e),Ch(ps(l,a));break e}}s=l=ps(l,a),$e!==4&&($e=2),_o===null?_o=[s]:_o.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=P0(s,l,e);Ig(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wr===null||!wr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=A0(s,a,e);Ig(s,C);break e}}s=s.return}while(s!==null)}J0(n)}catch(k){e=k,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function Q0(){var t=Hl.current;return Hl.current=Wl,t===null?Wl:t}function zh(){($e===0||$e===3||$e===2)&&($e=4),qe===null||!(di&268435455)&&!(Mc&268435455)||or(qe,et)}function Kl(t,e){var n=ue;ue|=2;var r=Q0();(qe!==t||et!==e)&&(Sn=null,ti(t,e));do try{$N();break}catch(i){Y0(t,i)}while(1);if(kh(),ue=n,Hl.current=r,Le!==null)throw Error(P(261));return qe=null,et=0,$e}function $N(){for(;Le!==null;)X0(Le)}function BN(){for(;Le!==null&&!dk();)X0(Le)}function X0(t){var e=ew(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?J0(t):Le=e,Uh.current=null}function J0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AN(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Le=null;return}}else if(n=PN(n,e,bt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);$e===0&&($e=5)}function Vr(t,e,n){var r=he,i=Bt.transition;try{Bt.transition=null,he=1,jN(t,e,n,r)}finally{Bt.transition=i,he=r}return null}function jN(t,e,n,r){do ns();while(fr!==null);if(ue&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ek(t,s),t===qe&&(Le=qe=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ya||(Ya=!0,tw(bl,function(){return ns(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bt.transition,Bt.transition=null;var o=he;he=1;var a=ue;ue|=4,Uh.current=null,MN(t,n),G0(n,t),aN(jd),xl=!!Bd,jd=Bd=null,t.current=n,LN(n),fk(),ue=a,he=o,Bt.transition=s}else t.current=n;if(Ya&&(Ya=!1,fr=t,Gl=i),s=t.pendingLanes,s===0&&(wr=null),mk(n.stateNode),St(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,t=lf,lf=null,t;return Gl&1&&t.tag!==0&&ns(),s=t.pendingLanes,s&1?t===cf?wo++:(wo=0,cf=t):wo=0,Mr(),null}function ns(){if(fr!==null){var t=O_(Gl),e=Bt.transition,n=he;try{if(Bt.transition=null,he=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,Gl=0,ue&6)throw Error(P(331));var i=ue;for(ue|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:yo(8,u,s)}var d=u.child;if(d!==null)d.return=u,$=d;else for(;$!==null;){u=$;var f=u.sibling,p=u.return;if(W0(u),u===c){$=null;break}if(f!==null){f.return=p,$=f;break}$=p}}}var h=s.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,$=g;break e}$=s.return}}var v=t.current;for($=v;$!==null;){o=$;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$=w;else e:for(o=v;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(k){Pe(a,a.return,k)}if(a===o){$=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,$=C;break e}$=a.return}}if(ue=i,Mr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Tc,t)}catch{}r=!0}return r}finally{he=n,Bt.transition=e}}return!1}function Yg(t,e,n){e=ps(n,e),e=P0(t,e,1),t=_r(t,e,1),e=ft(),t!==null&&(fa(t,1,e),St(t,e))}function Pe(t,e,n){if(t.tag===3)Yg(t,t,n);else for(;e!==null;){if(e.tag===3){Yg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){t=ps(n,t),t=A0(e,t,1),e=_r(e,t,1),t=ft(),e!==null&&(fa(e,1,t),St(e,t));break}}e=e.return}}function zN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(et&n)===n&&($e===4||$e===3&&(et&130023424)===et&&500>Me()-$h?ti(t,0):Fh|=n),St(t,e)}function Z0(t,e){e===0&&(t.mode&1?(e=$a,$a<<=1,!($a&130023424)&&($a=4194304)):e=1);var n=ft();t=$n(t,e),t!==null&&(fa(t,e,n),St(t,n))}function WN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z0(t,n)}function HN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Z0(t,n)}var ew;ew=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yt=!1,ON(t,e,n);yt=!!(t.flags&131072)}else yt=!1,Ne&&e.flags&1048576&&r0(e,Ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ml(t,e),t=e.pendingProps;var i=us(e,at.current);ts(e,n),i=Ph(null,e,r,t,i,n);var s=Ah();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(s=!0,Ml(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ih(e),i.updater=Pc,e.stateNode=i,i._reactInternals=e,Qd(e,r,t,n),e=Zd(null,e,r,!0,s,n)):(e.tag=0,Ne&&s&&wh(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ml(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GN(r),t=Yt(r,t),i){case 0:e=Jd(null,e,r,t,n);break e;case 1:e=$g(null,e,r,t,n);break e;case 11:e=Ug(null,e,r,t,n);break e;case 14:e=Fg(null,e,r,Yt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Jd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),$g(t,e,r,i,n);case 3:e:{if(U0(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,a0(t,e),Bl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ps(Error(P(423)),e),e=Bg(t,e,r,n,i);break e}else if(r!==i){i=ps(Error(P(424)),e),e=Bg(t,e,r,n,i);break e}else for(Rt=yr(e.stateNode.containerInfo.firstChild),Ot=e,Ne=!0,Xt=null,n=d0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===i){e=Bn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return f0(e),t===null&&Kd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,zd(r,i)?o=null:s!==null&&zd(r,s)&&(e.flags|=32),L0(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&Kd(e),null;case 13:return F0(t,e,n);case 4:return bh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fs(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Ug(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(Fl,r._currentValue),r._currentValue=o,s!==null)if(sn(s.value,o)){if(s.children===i.children&&!Et.current){e=Bn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=An(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ts(e,n),i=jt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Yt(r,e.pendingProps),i=Yt(r.type,i),Fg(t,e,r,i,n);case 15:return D0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),ml(t,e),e.tag=1,Ct(r)?(t=!0,Ml(e)):t=!1,ts(e,n),c0(e,r,i),Qd(e,r,i,n),Zd(null,e,r,!0,t,n);case 19:return $0(t,e,n);case 22:return M0(t,e,n)}throw Error(P(156,e.tag))};function tw(t,e){return I_(t,e)}function VN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,e,n,r){return new VN(t,e,n,r)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GN(t){if(typeof t=="function")return Wh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lh)return 11;if(t===ch)return 14}return 2}function Cr(t,e){var n=t.alternate;return n===null?(n=Ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ui:return ni(n.children,i,s,e);case ah:o=8,i|=8;break;case wd:return t=Ft(12,n,e,i|2),t.elementType=wd,t.lanes=s,t;case Ed:return t=Ft(13,n,e,i),t.elementType=Ed,t.lanes=s,t;case Cd:return t=Ft(19,n,e,i),t.elementType=Cd,t.lanes=s,t;case u_:return Lc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l_:o=10;break e;case c_:o=9;break e;case lh:o=11;break e;case ch:o=14;break e;case nr:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Ft(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ni(t,e,n,r){return t=Ft(7,t,r,e),t.lanes=n,t}function Lc(t,e,n,r){return t=Ft(22,t,r,e),t.elementType=u_,t.lanes=n,t.stateNode={isHidden:!1},t}function ju(t,e,n){return t=Ft(6,t,null,e),t.lanes=n,t}function zu(t,e,n){return e=Ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cu(0),this.expirationTimes=Cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hh(t,e,n,r,i,s,o,a,l){return t=new KN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ft(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(s),t}function qN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nw(t){if(!t)return br;t=t._reactInternals;e:{if(ki(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ct(n))return t0(t,n,e)}return e}function rw(t,e,n,r,i,s,o,a,l){return t=Hh(n,r,!0,t,i,s,o,a,l),t.context=nw(null),n=t.current,r=ft(),i=Er(n),s=An(r,i),s.callback=e??null,_r(n,s,i),t.current.lanes=i,fa(t,i,r),St(t,r),t}function Uc(t,e,n,r){var i=e.current,s=ft(),o=Er(i);return n=nw(n),e.context===null?e.context=n:e.pendingContext=n,e=An(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_r(i,e,o),t!==null&&(nn(t,i,o,s),fl(t,i,o)),o}function ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vh(t,e){Qg(t,e),(t=t.alternate)&&Qg(t,e)}function YN(){return null}var iw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gh(t){this._internalRoot=t}Fc.prototype.render=Gh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Uc(t,e,null,null)};Fc.prototype.unmount=Gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fi(function(){Uc(null,t,null,null)}),e[Fn]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=D_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&L_(t)}};function Kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xg(){}function QN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ql(o);s.call(c)}}var o=rw(e,r,t,0,null,!1,!1,"",Xg);return t._reactRootContainer=o,t[Fn]=o.current,$o(t.nodeType===8?t.parentNode:t),fi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ql(l);a.call(c)}}var l=Hh(t,0,!1,null,null,!1,!1,"",Xg);return t._reactRootContainer=l,t[Fn]=l.current,$o(t.nodeType===8?t.parentNode:t),fi(function(){Uc(e,l,n,r)}),l}function Bc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ql(o);a.call(l)}}Uc(e,o,t,i)}else o=QN(n,e,t,i,r);return ql(o)}P_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lo(e.pendingLanes);n!==0&&(fh(e,n|1),St(e,Me()),!(ue&6)&&(ms=Me()+500,Mr()))}break;case 13:fi(function(){var r=$n(t,1);if(r!==null){var i=ft();nn(r,t,1,i)}}),Vh(t,1)}};hh=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=ft();nn(e,t,134217728,n)}Vh(t,134217728)}};A_=function(t){if(t.tag===13){var e=Er(t),n=$n(t,e);if(n!==null){var r=ft();nn(n,t,e,r)}Vh(t,e)}};D_=function(){return he};M_=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};Pd=function(t,e,n){switch(e){case"input":if(Nd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xc(r);if(!i)throw Error(P(90));f_(r),Nd(r,i)}}}break;case"textarea":p_(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};E_=Bh;C_=fi;var XN={usingClientEntryPoint:!1,Events:[pa,ji,xc,__,w_,Bh]},Xs={findFiberByHostInstance:qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JN={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N_(t),t===null?null:t.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||YN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{Tc=Qa.inject(JN),fn=Qa}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XN;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(e))throw Error(P(200));return qN(t,e,null,n)};At.createRoot=function(t,e){if(!Kh(t))throw Error(P(299));var n=!1,r="",i=iw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hh(t,1,!1,null,null,n,!1,r,i),t[Fn]=e.current,$o(t.nodeType===8?t.parentNode:t),new Gh(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=N_(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return fi(t)};At.hydrate=function(t,e,n){if(!$c(e))throw Error(P(200));return Bc(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!Kh(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=iw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rw(e,null,t,1,n??null,i,!1,s,o),t[Fn]=e.current,$o(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fc(e)};At.render=function(t,e,n){if(!$c(e))throw Error(P(200));return Bc(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!$c(t))throw Error(P(40));return t._reactRootContainer?(fi(function(){Bc(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};At.unstable_batchedUpdates=Bh;At.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$c(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Bc(t,e,n,!1,r)};At.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=At})(YS);const qi=Zf(kl);var Jg=kl;vd.createRoot=Jg.createRoot,vd.hydrateRoot=Jg.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}var hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hr||(hr={}));const Zg="popstate";function ZN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ff("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sw(i)}return tT(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eT(){return Math.random().toString(36).substr(2,8)}function ev(t,e){return{usr:t.state,key:t.key,idx:e}}function ff(t,e,n,r){return n===void 0&&(n=null),qo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xs(e):e,{state:n,key:e&&e.key||r||eT()})}function sw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(qo({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=hr.Pop;let E=u(),g=E==null?null:E-c;c=E,l&&l({action:a,location:y.location,delta:g})}function f(E,g){a=hr.Push;let v=ff(y.location,E,g);n&&n(v,E),c=u()+1;let w=ev(v,c),C=y.createHref(v);try{o.pushState(w,"",C)}catch{i.location.assign(C)}s&&l&&l({action:a,location:y.location,delta:1})}function p(E,g){a=hr.Replace;let v=ff(y.location,E,g);n&&n(v,E),c=u();let w=ev(v,c),C=y.createHref(v);o.replaceState(w,"",C),s&&l&&l({action:a,location:y.location,delta:0})}function h(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof E=="string"?E:sw(E);return Be(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zg,d),l=E,()=>{i.removeEventListener(Zg,d),l=null}},createHref(E){return e(i,E)},createURL:h,encodeLocation(E){let g=h(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(E){return o.go(E)}};return y}var tv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(tv||(tv={}));function nT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?xs(e):e,i=lw(r.pathname||"/",n);if(i==null)return null;let s=ow(t);rT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=fT(s[a],mT(i));return o}function ow(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ri([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ow(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:uT(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of aw(s.path))i(s,o,l)}),e}function aw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iT=/^:\w+$/,sT=3,oT=2,aT=1,lT=10,cT=-2,nv=t=>t==="*";function uT(t,e){let n=t.split("/"),r=n.length;return n.some(nv)&&(r+=cT),e&&(r+=oT),n.filter(i=>!nv(i)).reduce((i,s)=>i+(iT.test(s)?sT:s===""?aT:lT),r)}function dT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fT(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=hT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:ri([i,u.pathname]),pathnameBase:ET(ri([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=ri([i,u.pathnameBase]))}return s}function hT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=gT(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function pT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mT(t){try{return decodeURI(t)}catch(e){return qh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gT(t,e){try{return decodeURIComponent(t)}catch(n){return qh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function lw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xs(t):t;return{pathname:n?n.startsWith("/")?n:yT(n,e):e,search:CT(r),hash:ST(i)}}function yT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _T(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xs(t):(i=qo({},t),Be(!i.pathname||!i.pathname.includes("?"),Wu("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),Wu("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),Wu("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=vT(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ri=t=>t.join("/").replace(/\/\/+/g,"/"),ET=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ST=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NT=["post","put","patch","delete"];[...NT];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(this,arguments)}function TT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const IT=typeof Object.is=="function"?Object.is:TT,{useState:bT,useEffect:RT,useLayoutEffect:xT,useDebugValue:OT}=gd;function PT(t,e,n){const r=e(),[{inst:i},s]=bT({inst:{value:r,getSnapshot:e}});return xT(()=>{i.value=r,i.getSnapshot=e,Hu(i)&&s({inst:i})},[t,r,e]),RT(()=>(Hu(i)&&s({inst:i}),t(()=>{Hu(i)&&s({inst:i})})),[t]),OT(r),r}function Hu(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!IT(n,r)}catch{return!0}}function AT(t,e,n){return e()}const DT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MT=!DT,LT=MT?AT:PT;"useSyncExternalStore"in gd&&(t=>t.useSyncExternalStore)(gd);const cw=m.createContext(null),Yh=m.createContext(null),Qh=m.createContext(null),jc=m.createContext(null),ga=m.createContext({outlet:null,matches:[]}),uw=m.createContext(null);function va(){return m.useContext(jc)!=null}function Xh(){return va()||Be(!1),m.useContext(jc).location}function Kn(){va()||Be(!1);let{basename:t,navigator:e}=m.useContext(Qh),{matches:n}=m.useContext(ga),{pathname:r}=Xh(),i=JSON.stringify(_T(n).map(a=>a.pathnameBase)),s=m.useRef(!1);return m.useEffect(()=>{s.current=!0}),m.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=wT(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:ri([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}function UT(t,e){va()||Be(!1);let{navigator:n}=m.useContext(Qh),r=m.useContext(Yh),{matches:i}=m.useContext(ga),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Xh(),c;if(e){var u;let y=typeof e=="string"?xs(e):e;a==="/"||(u=y.pathname)!=null&&u.startsWith(a)||Be(!1),c=y}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=nT(t,{pathname:f}),h=jT(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ri([a,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:ri([a,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r||void 0);return e&&h?m.createElement(jc.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hr.Pop}},h):h}function FT(){let t=VT(),e=kT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,s)}class $T extends m.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?m.createElement(ga.Provider,{value:this.props.routeContext},m.createElement(uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BT(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(cw);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ga.Provider,{value:e},r)}function jT(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Be(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||m.createElement(FT,null):null,u=e.concat(r.slice(0,a+1)),d=()=>m.createElement(BT,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?m.createElement($T,{location:n.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var rv;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(rv||(rv={}));var Yl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Yl||(Yl={}));function zT(t){let e=m.useContext(Yh);return e||Be(!1),e}function WT(t){let e=m.useContext(ga);return e||Be(!1),e}function HT(t){let e=WT(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function VT(){var t;let e=m.useContext(uw),n=zT(Yl.UseRouteError),r=HT(Yl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function jr(t){let{to:e,replace:n,state:r,relative:i}=t;va()||Be(!1);let s=m.useContext(Yh),o=Kn();return m.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function Cn(t){Be(!1)}function GT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hr.Pop,navigator:s,static:o=!1}=t;va()&&Be(!1);let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=xs(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=r,h=m.useMemo(()=>{let y=lw(c,a);return y==null?null:{pathname:y,search:u,hash:d,state:f,key:p}},[a,c,u,d,f,p]);return h==null?null:m.createElement(Qh.Provider,{value:l},m.createElement(jc.Provider,{children:n,value:{location:h,navigationType:i}}))}function KT(t){let{children:e,location:n}=t,r=m.useContext(cw),i=r&&!e?r.router.routes:pf(e);return UT(i,n)}var iv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(iv||(iv={}));new Promise(()=>{});function pf(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;if(r.type===m.Fragment){n.push.apply(n,pf(r.props.children,e));return}r.type!==Cn&&Be(!1),!r.props.index||!r.props.children||Be(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=pf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qT(t){let{basename:e,children:n,window:r}=t,i=m.useRef();i.current==null&&(i.current=ZN({window:r,v5Compat:!0}));let s=i.current,[o,a]=m.useState({action:s.action,location:s.location});return m.useLayoutEffect(()=>s.listen(a),[s]),m.createElement(GT,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var sv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(sv||(sv={}));var ov;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ov||(ov={}));var mf={},YT={get exports(){return mf},set exports(t){mf=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(YT);const K=mf,QT=["xxl","xl","lg","md","sm","xs"],XT="xs",zc=m.createContext({prefixes:{},breakpoints:QT,minBreakpoint:XT});function ne(t,e){const{prefixes:n}=m.useContext(zc);return t||n[e]||e}function dw(){const{breakpoints:t}=m.useContext(zc);return t}function fw(){const{minBreakpoint:t}=m.useContext(zc);return t}function Jh(){const{dir:t}=m.useContext(zc);return t==="rtl"}const JT={fluid:!1},M=m.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=ne(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return _(n,{ref:s,...i,className:K(r,e?`${o}${a}`:o)})});M.displayName="Container";M.defaultProps=JT;const ZT=m.createContext(null),Yo=(t,e=null)=>t!=null?String(t):e||null,hi=ZT;function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function hw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function av(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function eI(t){var e=tI(t,"string");return typeof e=="symbol"?e:String(e)}function tI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pw(t,e,n){var r=m.useRef(t!==void 0),i=m.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,m.useCallback(function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[c].concat(d)),o(c)},[n])]}function Wc(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[av(r)],a=s[r],l=hw(s,[av(r),r].map(eI)),c=e[r],u=pw(a,o,t[c]),d=u[0],f=u[1];return gf({},l,(i={},i[r]=d,i[c]=f,i))},t)}function vf(t,e){return vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vf(t,e)}function nI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vf(t,e)}var rI=/-(.)/g;function iI(t){return t.replace(rI,function(e,n){return n.toUpperCase()})}const sI=t=>t[0].toUpperCase()+iI(t).slice(1);function je(t,{displayName:e=sI(t),Component:n,defaultProps:r}={}){const i=m.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},c)=>{const u=ne(o,t);return _(a,{ref:c,className:K(s,u),...l})});return i.defaultProps=r,i.displayName=e,i}const mw=m.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ne(t,"navbar-brand");const s=n||(r.href?"a":"span");return _(s,{...r,ref:i,className:K(e,t)})});mw.displayName="NavbarBrand";const oI=mw;function ya(t){return t&&t.ownerDocument||document}function aI(t){var e=ya(t);return e&&e.defaultView||window}function lI(t,e){return aI(t).getComputedStyle(t,e)}var cI=/([A-Z])/g;function uI(t){return t.replace(cI,"-$1").toLowerCase()}var dI=/^ms-/;function Xa(t){return uI(t).replace(dI,"-ms-")}var fI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function hI(t){return!!(t&&fI.test(t))}function Dn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Xa(e))||lI(t).getPropertyValue(Xa(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Xa(i)):hI(i)?r+=i+"("+s+") ":n+=Xa(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var ot={},pI={get exports(){return ot},set exports(t){ot=t}},mI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gI=mI,vI=gI;function gw(){}function vw(){}vw.resetWarningCache=gw;var yI=function(){function t(r,i,s,o,a,l){if(l!==vI){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vw,resetWarningCache:gw};return n.PropTypes=n,n};pI.exports=yI();const lv={disabled:!1},yw=T.createContext(null);var _I=function(e){return e.scrollTop},uo="unmounted",ir="exited",Jt="entering",Tn="entered",Qo="exiting",qn=function(t){nI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ir,s.appearStatus=Jt):l=Tn:r.unmountOnExit||r.mountOnEnter?l=uo:l=ir,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===uo?{status:ir}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Jt&&o!==Tn&&(s=Jt):(o===Jt||o===Tn)&&(s=Qo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Jt){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:qi.findDOMNode(this);o&&_I(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ir&&this.setState({status:uo})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qi.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||lv.disabled){this.safeSetState({status:Tn},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Jt},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Tn},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:qi.findDOMNode(this);if(!s||lv.disabled){this.safeSetState({status:ir},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Qo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ir},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:qi.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===uo)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=hw(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return T.createElement(yw.Provider,{value:null},typeof o=="function"?o(i,a):T.cloneElement(T.Children.only(o),a))},e}(T.Component);qn.contextType=yw;qn.propTypes={};function Oi(){}qn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oi,onEntering:Oi,onEntered:Oi,onExit:Oi,onExiting:Oi,onExited:Oi};qn.UNMOUNTED=uo;qn.EXITED=ir;qn.ENTERING=Jt;qn.ENTERED=Tn;qn.EXITING=Qo;const Os=!!(typeof window<"u"&&window.document&&window.document.createElement);var yf=!1,_f=!1;try{var Vu={get passive(){return yf=!0},get once(){return _f=yf=!0}};Os&&(window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,!0))}catch{}function Zh(t,e,n,r){if(r&&typeof r!="boolean"&&!_f){var i=r.once,s=r.capture,o=n;!_f&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,yf?r:s)}t.addEventListener(e,n,r)}function wf(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function pr(t,e,n,r){return Zh(t,e,n,r),function(){wf(t,e,n,r)}}function wI(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function EI(t){var e=Dn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function CI(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||wI(t,"transitionend",!0)},e+n),s=pr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function _w(t,e,n,r){n==null&&(n=EI(t)||0);var i=CI(t,n,r),s=pr(t,"transitionend",e);return function(){i(),s()}}function cv(t,e){const n=Dn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Hc(t,e){const n=cv(t,"transitionDuration"),r=cv(t,"transitionDelay"),i=_w(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Js(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function ep(t){t.offsetHeight}var uv=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function SI(t,e){var n=uv(t),r=uv(e);return function(i){n&&n(i),r&&r(i)}}function Ni(t,e){return m.useMemo(function(){return SI(t,e)},[t,e])}function kI(t){return t&&"setState"in t?qi.findDOMNode(t):t??null}const Vc=T.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},u)=>{const d=m.useRef(null),f=Ni(d,l),p=S=>{f(kI(S))},h=S=>N=>{S&&d.current&&S(d.current,N)},y=m.useCallback(h(t),[t]),E=m.useCallback(h(e),[e]),g=m.useCallback(h(n),[n]),v=m.useCallback(h(r),[r]),w=m.useCallback(h(i),[i]),C=m.useCallback(h(s),[s]),k=m.useCallback(h(o),[o]);return _(qn,{ref:u,...c,onEnter:y,onEntered:g,onEntering:E,onExit:v,onExited:C,onExiting:w,addEndListener:k,nodeRef:d,children:typeof a=="function"?(S,N)=>a(S,{...N,ref:p}):T.cloneElement(a,{ref:p})})}),NI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ww(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=NI[t];return r+parseInt(Dn(e,i[0]),10)+parseInt(Dn(e,i[1]),10)}const TI={[ir]:"collapse",[Qo]:"collapsing",[Jt]:"collapsing",[Tn]:"collapse show"},II={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ww},Ew=T.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=ww,...c},u)=>{const d=typeof a=="function"?a():a,f=m.useMemo(()=>Js(g=>{g.style[d]="0"},t),[d,t]),p=m.useMemo(()=>Js(g=>{const v=`scroll${d[0].toUpperCase()}${d.slice(1)}`;g.style[d]=`${g[v]}px`},e),[d,e]),h=m.useMemo(()=>Js(g=>{g.style[d]=null},n),[d,n]),y=m.useMemo(()=>Js(g=>{g.style[d]=`${l(d,g)}px`,ep(g)},r),[r,l,d]),E=m.useMemo(()=>Js(g=>{g.style[d]=null},i),[d,i]);return _(Vc,{ref:u,addEndListener:Hc,...c,"aria-expanded":c.role?c.in:null,onEnter:f,onEntering:p,onEntered:h,onExit:y,onExiting:E,childRef:o.ref,children:(g,v)=>T.cloneElement(o,{...v,className:K(s,o.props.className,TI[g],d==="width"&&"collapse-horizontal")})})});Ew.defaultProps=II;const bI=Ew,Cw=m.createContext(null);Cw.displayName="NavbarContext";const Ti=Cw,Sw=m.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ne(e,"navbar-collapse");const i=m.useContext(Ti);return _(bI,{in:!!(i&&i.expanded),...n,children:_("div",{ref:r,className:e,children:t})})});Sw.displayName="NavbarCollapse";const RI=Sw;function kw(t){var e=m.useRef(t);return m.useEffect(function(){e.current=t},[t]),e}function Te(t){var e=kw(t);return m.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const xI={label:"Toggle navigation"},tp=m.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=ne(t,"navbar-toggler");const{onToggle:l,expanded:c}=m.useContext(Ti)||{},u=Te(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),_(i,{...o,ref:a,onClick:u,"aria-label":r,className:K(e,t,!c&&"collapsed"),children:n||_("span",{className:`${t}-icon`})})});tp.displayName="NavbarToggle";tp.defaultProps=xI;const OI=tp;var PI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",AI=typeof document<"u";const Ql=AI||PI?m.useLayoutEffect:m.useEffect;var Ef=new WeakMap,dv=function(e,n){if(!(!e||!n)){var r=Ef.get(n)||new Map;Ef.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function DI(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=dv(t,e),r=m.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return Ql(function(){var o=dv(t,e);if(!o)return s(!1);var a=Ef.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function MI(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),c=t[l];return typeof c=="number"?c=c-.2+"px":c="calc("+c+" - 0.2px)","(max-width: "+c+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,c){var u;if(typeof a=="object")u=a,c=l,l=!0;else{var d;l=l||!0,u=(d={},d[a]=l,d)}var f=m.useMemo(function(){return Object.entries(u).reduce(function(p,h){var y=h[0],E=h[1];return(E==="up"||E===!0)&&(p=n(p,s(y))),(E==="down"||E===!0)&&(p=n(p,i(y))),p},"")},[JSON.stringify(u)]);return DI(f,c)}return o}var LI=MI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Gu(t){t===void 0&&(t=ya());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Xl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function np(){var t=m.useRef(!0),e=m.useRef(function(){return t.current});return m.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function UI(t){var e=m.useRef(t);return e.current=t,e}function rp(t){var e=UI(t);m.useEffect(function(){return function(){return e.current()}},[])}function Nw(t){var e=m.useRef(null);return m.useEffect(function(){e.current=t}),e.current}const FI="data-rr-ui-",$I="rrUi";function Ps(t){return`${FI}${t}`}function BI(t){return`${$I}${t}`}function jI(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const fv=Ps("modal-open");class zI{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return jI(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Dn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(fv,""),Dn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(fv),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ip=zI,Tw=m.createContext(Os?window:void 0);Tw.Provider;function sp(){return m.useContext(Tw)}const Ku=(t,e)=>Os?t==null?(e||ya()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function WI(t,e){const n=sp(),[r,i]=m.useState(()=>Ku(t,n==null?void 0:n.document));if(!r){const s=Ku(t);s&&i(s)}return m.useEffect(()=>{e&&r&&e(r)},[e,r]),m.useEffect(()=>{const s=Ku(t);s!==r&&i(s)},[t,r]),r}function HI({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=m.useRef(null),o=m.useRef(e),a=Te(n);m.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=Ni(s,t.ref),c=m.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}function VI({in:t,onTransition:e}){const n=m.useRef(null),r=m.useRef(!0),i=Te(e);return Ql(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),Ql(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function GI({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=m.useState(!e);e&&s&&o(!1);const a=VI({in:!!e,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(u,d=>{throw c.in||o(!0),d})}}),l=Ni(a,t.ref);return s&&!e?null:m.cloneElement(t,{ref:l})}function hv(t,e,n){return t?_(t,Object.assign({},n)):e?_(GI,Object.assign({},n,{transition:e})):_(HI,Object.assign({},n))}const KI=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function qI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let qu;function YI(t){return qu||(qu=new ip({ownerDocument:t==null?void 0:t.document})),qu}function QI(t){const e=sp(),n=t||YI(e),r=m.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:m.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:m.useCallback(i=>{r.current.backdrop=i},[])})}const Iw=m.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:h,autoFocus:y=!0,enforceFocus:E=!0,restoreFocus:g=!0,restoreFocusOptions:v,renderDialog:w,renderBackdrop:C=te=>_("div",Object.assign({},te)),manager:k,container:S,onShow:N,onHide:I=()=>{},onExit:x,onExited:b,onExiting:R,onEnter:U,onEntering:z,onEntered:X}=t,Z=qI(t,KI);const V=WI(S),G=QI(k),O=np(),F=Nw(n),[L,Y]=m.useState(!n),W=m.useRef(null);m.useImperativeHandle(e,()=>G,[G]),Os&&!F&&n&&(W.current=Gu()),n&&L&&Y(!1);const ce=Te(()=>{if(G.add(),ct.current=pr(document,"keydown",ge),ze.current=pr(document,"focus",()=>setTimeout(q),!0),N&&N(),y){const te=Gu(document);G.dialog&&te&&!Xl(G.dialog,te)&&(W.current=te,G.dialog.focus())}}),re=Te(()=>{if(G.remove(),ct.current==null||ct.current(),ze.current==null||ze.current(),g){var te;(te=W.current)==null||te.focus==null||te.focus(v),W.current=null}});m.useEffect(()=>{!n||!V||ce()},[n,V,ce]),m.useEffect(()=>{L&&re()},[L,re]),rp(()=>{re()});const q=Te(()=>{if(!E||!O()||!G.isTopModal())return;const te=Gu();G.dialog&&te&&!Xl(G.dialog,te)&&G.dialog.focus()}),fe=Te(te=>{te.target===te.currentTarget&&(c==null||c(te),a===!0&&I())}),ge=Te(te=>{l&&te.keyCode===27&&G.isTopModal()&&(u==null||u(te),te.defaultPrevented||I())}),ze=m.useRef(),ct=m.useRef(),Ue=(...te)=>{Y(!0),b==null||b(...te)};if(!V)return null;const Ie=Object.assign({role:r,ref:G.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Z,{style:s,className:i,tabIndex:-1});let It=w?w(Ie):_("div",Object.assign({},Ie,{children:m.cloneElement(o,{role:"document"})}));It=hv(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:x,onExiting:R,onExited:Ue,onEnter:U,onEntering:z,onEntered:X,children:It});let Ye=null;return a&&(Ye=C({ref:G.setBackdropRef,onClick:fe}),Ye=hv(p,h,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ye})),_(Ge,{children:qi.createPortal(A(Ge,{children:[Ye,It]}),V)})});Iw.displayName="Modal";const bw=Object.assign(Iw,{Manager:ip}),XI={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},JI={[Jt]:"show",[Tn]:"show"},op=m.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=m.useCallback((o,a)=>{ep(o),r.onEnter==null||r.onEnter(o,a)},[r]);return _(Vc,{ref:i,addEndListener:Hc,...r,onEnter:s,childRef:e.ref,children:(o,a)=>m.cloneElement(e,{...a,className:K("fade",t,e.props.className,JI[o],n[o])})})});op.defaultProps=XI;op.displayName="Fade";const ap=op,ZI=je("offcanvas-body"),eb={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},tb={[Jt]:"show",[Tn]:"show"},lp=m.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=ne(t,"offcanvas"),_(Vc,{ref:i,addEndListener:Hc,...r,childRef:n.ref,children:(s,o)=>m.cloneElement(n,{...o,className:K(e,n.props.className,(s===Jt||s===Qo)&&`${t}-toggling`,tb[s])})})));lp.defaultProps=eb;lp.displayName="OffcanvasToggling";const nb=lp,cp=m.createContext({onHide(){}}),rb={"aria-label":ot.string,onClick:ot.func,variant:ot.oneOf(["white"])},ib={"aria-label":"Close"},Gc=m.forwardRef(({className:t,variant:e,...n},r)=>_("button",{ref:r,type:"button",className:K("btn-close",e&&`btn-close-${e}`,t),...n}));Gc.displayName="CloseButton";Gc.propTypes=rb;Gc.defaultProps=ib;const sb=Gc,ob={closeLabel:"Close",closeButton:!1},up=m.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=m.useContext(cp),l=Te(()=>{a==null||a.onHide(),r==null||r()});return A("div",{ref:o,...s,children:[i,n&&_(sb,{"aria-label":t,variant:e,onClick:l})]})});up.defaultProps=ob;const ab={closeLabel:"Close",closeButton:!1},dp=m.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ne(t,"offcanvas-header"),_(up,{ref:r,...n,className:K(e,t)})));dp.displayName="OffcanvasHeader";dp.defaultProps=ab;const lb=dp,Kc=t=>m.forwardRef((e,n)=>_("div",{...e,ref:n,className:K(e.className,t)})),cb=Kc("h5"),ub=je("offcanvas-title",{Component:cb});function db(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function fb(t,e){t.classList?t.classList.add(e):db(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var hb=Function.prototype.bind.call(Function.prototype.call,[].slice);function Nn(t,e){return hb(t.querySelectorAll(e))}function pv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pb(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=pv(t.className,e):t.setAttribute("class",pv(t.className&&t.className.baseVal||"",e))}const Pi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Rw extends ip{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Dn(n,{[e]:`${parseFloat(Dn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Dn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(fb(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Nn(n,Pi.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Nn(n,Pi.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Nn(n,Pi.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();pb(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Nn(n,Pi.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Nn(n,Pi.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Nn(n,Pi.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Yu;function xw(t){return Yu||(Yu=new Rw(t)),Yu}const mb={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function gb(t){return _(nb,{...t})}function vb(t){return _(ap,{...t})}const fp=m.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:c,onEscapeKeyDown:u,onShow:d,onHide:f,container:p,autoFocus:h,enforceFocus:y,restoreFocus:E,restoreFocusOptions:g,onEntered:v,onExit:w,onExiting:C,onEnter:k,onEntering:S,onExited:N,backdropClassName:I,manager:x,renderStaticNode:b,...R},U)=>{const z=m.useRef();t=ne(t,"offcanvas");const{onToggle:X}=m.useContext(Ti)||{},[Z,V]=m.useState(!1),G=LI(s||"xs","up");m.useEffect(()=>{V(s?o&&!G:o)},[o,s,G]);const O=Te(()=>{X==null||X(),f==null||f()}),F=m.useMemo(()=>({onHide:O}),[O]);function L(){return x||(c?(z.current||(z.current=new Rw({handleContainerOverflow:!1})),z.current):xw())}const Y=(q,...fe)=>{q&&(q.style.visibility="visible"),k==null||k(q,...fe)},W=(q,...fe)=>{q&&(q.style.visibility=""),N==null||N(...fe)},ce=m.useCallback(q=>_("div",{...q,className:K(`${t}-backdrop`,I)}),[I,t]),re=q=>_("div",{...q,...R,className:K(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return A(Ge,{children:[!Z&&(s||b)&&re({}),_(cp.Provider,{value:F,children:_(bw,{show:Z,ref:U,backdrop:a,container:p,keyboard:l,autoFocus:h,enforceFocus:y&&!c,restoreFocus:E,restoreFocusOptions:g,onEscapeKeyDown:u,onShow:d,onHide:O,onEnter:Y,onEntering:S,onEntered:v,onExit:w,onExiting:C,onExited:W,manager:L(),transition:gb,backdropTransition:vb,renderBackdrop:ce,renderDialog:re})})]})});fp.displayName="Offcanvas";fp.defaultProps=mb;const yb=Object.assign(fp,{Body:ZI,Header:lb,Title:ub}),Ow=m.forwardRef((t,e)=>{const n=m.useContext(Ti);return _(yb,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});Ow.displayName="NavbarOffcanvas";const _b=Ow,wb=je("navbar-text",{Component:"span"}),Eb={expand:!0,variant:"light",collapseOnSelect:!1},hp=m.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:u,onToggle:d,onSelect:f,collapseOnSelect:p,...h}=Wc(t,{expanded:"onToggle"}),y=ne(n,"navbar"),E=m.useCallback((...w)=>{f==null||f(...w),p&&u&&(d==null||d(!1))},[f,p,u,d]);h.role===void 0&&c!=="nav"&&(h.role="navigation");let g=`${y}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const v=m.useMemo(()=>({onToggle:()=>d==null?void 0:d(!u),bsPrefix:y,expanded:!!u,expand:r}),[y,u,r,d]);return _(Ti.Provider,{value:v,children:_(hi.Provider,{value:E,children:_(c,{ref:e,...h,className:K(l,y,r&&g,i&&`${y}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});hp.defaultProps=Eb;hp.displayName="Navbar";const Qu=Object.assign(hp,{Brand:oI,Collapse:RI,Offcanvas:_b,Text:wb,Toggle:OI});function Pw(){var t=m.useReducer(function(n){return!n},!1),e=t[1];return e}function Cb(t,e,n,r){r===void 0&&(r=!1);var i=Te(n);m.useEffect(function(){var s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),function(){return s.removeEventListener(e,i,r)}},[t])}const Sb=m.createContext(null),qc=Sb;function Aw(){return m.useState(null)}var mv=Object.prototype.hasOwnProperty;function gv(t,e,n){for(n of t.keys())if(Eo(n,e))return n}function Eo(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Eo(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=gv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=gv(e,i),!i)||!Eo(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(mv.call(t,n)&&++r&&!mv.call(e,n)||!(n in e)||!Eo(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function kb(t){var e=np();return[t[0],m.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var kt="top",Wt="bottom",Ht="right",Nt="left",pp="auto",_a=[kt,Wt,Ht,Nt],gs="start",Xo="end",Nb="clippingParents",Dw="viewport",Zs="popper",Tb="reference",vv=_a.reduce(function(t,e){return t.concat([e+"-"+gs,e+"-"+Xo])},[]),Mw=[].concat(_a,[pp]).reduce(function(t,e){return t.concat([e,e+"-"+gs,e+"-"+Xo])},[]),Ib="beforeRead",bb="read",Rb="afterRead",xb="beforeMain",Ob="main",Pb="afterMain",Ab="beforeWrite",Db="write",Mb="afterWrite",Lb=[Ib,bb,Rb,xb,Ob,Pb,Ab,Db,Mb];function pn(t){return t.split("-")[0]}function Vt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function pi(t){var e=Vt(t).Element;return t instanceof e||t instanceof Element}function mn(t){var e=Vt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function mp(t){if(typeof ShadowRoot>"u")return!1;var e=Vt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ii=Math.max,Jl=Math.min,vs=Math.round;function Cf(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Lw(){return!/^((?!chrome|android).)*safari/i.test(Cf())}function ys(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&mn(t)&&(i=t.offsetWidth>0&&vs(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&vs(r.height)/t.offsetHeight||1);var o=pi(t)?Vt(t):window,a=o.visualViewport,l=!Lw()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function gp(t){var e=ys(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Uw(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&mp(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rr(t){return t?(t.nodeName||"").toLowerCase():null}function jn(t){return Vt(t).getComputedStyle(t)}function Ub(t){return["table","td","th"].indexOf(Rr(t))>=0}function Lr(t){return((pi(t)?t.ownerDocument:t.document)||window.document).documentElement}function Yc(t){return Rr(t)==="html"?t:t.assignedSlot||t.parentNode||(mp(t)?t.host:null)||Lr(t)}function yv(t){return!mn(t)||jn(t).position==="fixed"?null:t.offsetParent}function Fb(t){var e=/firefox/i.test(Cf()),n=/Trident/i.test(Cf());if(n&&mn(t)){var r=jn(t);if(r.position==="fixed")return null}var i=Yc(t);for(mp(i)&&(i=i.host);mn(i)&&["html","body"].indexOf(Rr(i))<0;){var s=jn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function wa(t){for(var e=Vt(t),n=yv(t);n&&Ub(n)&&jn(n).position==="static";)n=yv(n);return n&&(Rr(n)==="html"||Rr(n)==="body"&&jn(n).position==="static")?e:n||Fb(t)||e}function vp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Co(t,e,n){return ii(t,Jl(e,n))}function $b(t,e,n){var r=Co(t,e,n);return r>n?n:r}function Fw(){return{top:0,right:0,bottom:0,left:0}}function $w(t){return Object.assign({},Fw(),t)}function Bw(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Bb=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$w(typeof e!="number"?e:Bw(e,_a))};function jb(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=pn(n.placement),l=vp(a),c=[Nt,Ht].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Bb(i.padding,n),f=gp(s),p=l==="y"?kt:Nt,h=l==="y"?Wt:Ht,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],E=o[l]-n.rects.reference[l],g=wa(s),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,w=y/2-E/2,C=d[p],k=v-f[u]-d[h],S=v/2-f[u]/2+w,N=Co(C,S,k),I=l;n.modifiersData[r]=(e={},e[I]=N,e.centerOffset=N-S,e)}}function zb(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Uw(e.elements.popper,i)&&(e.elements.arrow=i))}const Wb={name:"arrow",enabled:!0,phase:"main",fn:jb,effect:zb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _s(t){return t.split("-")[1]}var Hb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vb(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:vs(e*i)/i||0,y:vs(n*i)/i||0}}function _v(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,h=o.y,y=h===void 0?0:h,E=typeof u=="function"?u({x:p,y}):{x:p,y};p=E.x,y=E.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),w=Nt,C=kt,k=window;if(c){var S=wa(n),N="clientHeight",I="clientWidth";if(S===Vt(n)&&(S=Lr(n),jn(S).position!=="static"&&a==="absolute"&&(N="scrollHeight",I="scrollWidth")),S=S,i===kt||(i===Nt||i===Ht)&&s===Xo){C=Wt;var x=d&&S===k&&k.visualViewport?k.visualViewport.height:S[N];y-=x-r.height,y*=l?1:-1}if(i===Nt||(i===kt||i===Wt)&&s===Xo){w=Ht;var b=d&&S===k&&k.visualViewport?k.visualViewport.width:S[I];p-=b-r.width,p*=l?1:-1}}var R=Object.assign({position:a},c&&Hb),U=u===!0?Vb({x:p,y}):{x:p,y};if(p=U.x,y=U.y,l){var z;return Object.assign({},R,(z={},z[C]=v?"0":"",z[w]=g?"0":"",z.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",z))}return Object.assign({},R,(e={},e[C]=v?y+"px":"",e[w]=g?p+"px":"",e.transform="",e))}function Gb(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:pn(e.placement),variation:_s(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_v(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_v(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Kb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Gb,data:{}};var Ja={passive:!0};function qb(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Vt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ja)}),a&&l.addEventListener("resize",n.update,Ja),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ja)}),a&&l.removeEventListener("resize",n.update,Ja)}}const Yb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qb,data:{}};var Qb={left:"right",right:"left",bottom:"top",top:"bottom"};function _l(t){return t.replace(/left|right|bottom|top/g,function(e){return Qb[e]})}var Xb={start:"end",end:"start"};function wv(t){return t.replace(/start|end/g,function(e){return Xb[e]})}function yp(t){var e=Vt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _p(t){return ys(Lr(t)).left+yp(t).scrollLeft}function Jb(t,e){var n=Vt(t),r=Lr(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Lw();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+_p(t),y:l}}function Zb(t){var e,n=Lr(t),r=yp(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=ii(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ii(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+_p(t),l=-r.scrollTop;return jn(i||n).direction==="rtl"&&(a+=ii(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function wp(t){var e=jn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function jw(t){return["html","body","#document"].indexOf(Rr(t))>=0?t.ownerDocument.body:mn(t)&&wp(t)?t:jw(Yc(t))}function So(t,e){var n;e===void 0&&(e=[]);var r=jw(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Vt(r),o=i?[s].concat(s.visualViewport||[],wp(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(So(Yc(o)))}function Sf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function eR(t,e){var n=ys(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Ev(t,e,n){return e===Dw?Sf(Jb(t,n)):pi(e)?eR(e,n):Sf(Zb(Lr(t)))}function tR(t){var e=So(Yc(t)),n=["absolute","fixed"].indexOf(jn(t).position)>=0,r=n&&mn(t)?wa(t):t;return pi(r)?e.filter(function(i){return pi(i)&&Uw(i,r)&&Rr(i)!=="body"}):[]}function nR(t,e,n,r){var i=e==="clippingParents"?tR(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=Ev(t,c,r);return l.top=ii(u.top,l.top),l.right=Jl(u.right,l.right),l.bottom=Jl(u.bottom,l.bottom),l.left=ii(u.left,l.left),l},Ev(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zw(t){var e=t.reference,n=t.element,r=t.placement,i=r?pn(r):null,s=r?_s(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case kt:l={x:o,y:e.y-n.height};break;case Wt:l={x:o,y:e.y+e.height};break;case Ht:l={x:e.x+e.width,y:a};break;case Nt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?vp(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case gs:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Xo:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Jo(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Nb:a,c=n.rootBoundary,u=c===void 0?Dw:c,d=n.elementContext,f=d===void 0?Zs:d,p=n.altBoundary,h=p===void 0?!1:p,y=n.padding,E=y===void 0?0:y,g=$w(typeof E!="number"?E:Bw(E,_a)),v=f===Zs?Tb:Zs,w=t.rects.popper,C=t.elements[h?v:f],k=nR(pi(C)?C:C.contextElement||Lr(t.elements.popper),l,u,o),S=ys(t.elements.reference),N=zw({reference:S,element:w,strategy:"absolute",placement:i}),I=Sf(Object.assign({},w,N)),x=f===Zs?I:S,b={top:k.top-x.top+g.top,bottom:x.bottom-k.bottom+g.bottom,left:k.left-x.left+g.left,right:x.right-k.right+g.right},R=t.modifiersData.offset;if(f===Zs&&R){var U=R[i];Object.keys(b).forEach(function(z){var X=[Ht,Wt].indexOf(z)>=0?1:-1,Z=[kt,Wt].indexOf(z)>=0?"y":"x";b[z]+=U[Z]*X})}return b}function rR(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Mw:l,u=_s(r),d=u?a?vv:vv.filter(function(h){return _s(h)===u}):_a,f=d.filter(function(h){return c.indexOf(h)>=0});f.length===0&&(f=d);var p=f.reduce(function(h,y){return h[y]=Jo(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[pn(y)],h},{});return Object.keys(p).sort(function(h,y){return p[h]-p[y]})}function iR(t){if(pn(t)===pp)return[];var e=_l(t);return[wv(t),e,wv(e)]}function sR(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=p===void 0?!0:p,y=n.allowedAutoPlacements,E=e.options.placement,g=pn(E),v=g===E,w=l||(v||!h?[_l(E)]:iR(E)),C=[E].concat(w).reduce(function(re,q){return re.concat(pn(q)===pp?rR(e,{placement:q,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:y}):q)},[]),k=e.rects.reference,S=e.rects.popper,N=new Map,I=!0,x=C[0],b=0;b<C.length;b++){var R=C[b],U=pn(R),z=_s(R)===gs,X=[kt,Wt].indexOf(U)>=0,Z=X?"width":"height",V=Jo(e,{placement:R,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),G=X?z?Ht:Nt:z?Wt:kt;k[Z]>S[Z]&&(G=_l(G));var O=_l(G),F=[];if(s&&F.push(V[U]<=0),a&&F.push(V[G]<=0,V[O]<=0),F.every(function(re){return re})){x=R,I=!1;break}N.set(R,F)}if(I)for(var L=h?3:1,Y=function(q){var fe=C.find(function(ge){var ze=N.get(ge);if(ze)return ze.slice(0,q).every(function(ct){return ct})});if(fe)return x=fe,"break"},W=L;W>0;W--){var ce=Y(W);if(ce==="break")break}e.placement!==x&&(e.modifiersData[r]._skip=!0,e.placement=x,e.reset=!0)}}const oR={name:"flip",enabled:!0,phase:"main",fn:sR,requiresIfExists:["offset"],data:{_skip:!1}};function Cv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Sv(t){return[kt,Ht,Wt,Nt].some(function(e){return t[e]>=0})}function aR(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Jo(e,{elementContext:"reference"}),a=Jo(e,{altBoundary:!0}),l=Cv(o,r),c=Cv(a,i,s),u=Sv(l),d=Sv(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const lR={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:aR};function cR(t,e,n){var r=pn(t),i=[Nt,kt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Nt,Ht].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function uR(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Mw.reduce(function(u,d){return u[d]=cR(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const dR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uR};function fR(t){var e=t.state,n=t.name;e.modifiersData[n]=zw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const hR={name:"popperOffsets",enabled:!0,phase:"read",fn:fR,data:{}};function pR(t){return t==="x"?"y":"x"}function mR(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,h=n.tetherOffset,y=h===void 0?0:h,E=Jo(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=pn(e.placement),v=_s(e.placement),w=!v,C=vp(g),k=pR(C),S=e.modifiersData.popperOffsets,N=e.rects.reference,I=e.rects.popper,x=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,b=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(S){if(s){var z,X=C==="y"?kt:Nt,Z=C==="y"?Wt:Ht,V=C==="y"?"height":"width",G=S[C],O=G+E[X],F=G-E[Z],L=p?-I[V]/2:0,Y=v===gs?N[V]:I[V],W=v===gs?-I[V]:-N[V],ce=e.elements.arrow,re=p&&ce?gp(ce):{width:0,height:0},q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Fw(),fe=q[X],ge=q[Z],ze=Co(0,N[V],re[V]),ct=w?N[V]/2-L-ze-fe-b.mainAxis:Y-ze-fe-b.mainAxis,Ue=w?-N[V]/2+L+ze+ge+b.mainAxis:W+ze+ge+b.mainAxis,Ie=e.elements.arrow&&wa(e.elements.arrow),It=Ie?C==="y"?Ie.clientTop||0:Ie.clientLeft||0:0,Ye=(z=R==null?void 0:R[C])!=null?z:0,te=G+ct-Ye-It,Fr=G+Ue-Ye,Xn=Co(p?Jl(O,te):O,G,p?ii(F,Fr):F);S[C]=Xn,U[C]=Xn-G}if(a){var Ri,Bs=C==="x"?kt:Nt,js=C==="x"?Wt:Ht,Gt=S[k],Jn=k==="y"?"height":"width",$r=Gt+E[Bs],an=Gt-E[js],Zn=[kt,Nt].indexOf(g)!==-1,le=(Ri=R==null?void 0:R[k])!=null?Ri:0,Kt=Zn?$r:Gt-N[Jn]-I[Jn]-le+b.altAxis,Br=Zn?Gt+N[Jn]+I[Jn]-le-b.altAxis:an,zs=p&&Zn?$b(Kt,Gt,Br):Co(p?Kt:$r,Gt,p?Br:an);S[k]=zs,U[k]=zs-Gt}e.modifiersData[r]=U}}const gR={name:"preventOverflow",enabled:!0,phase:"main",fn:mR,requiresIfExists:["offset"]};function vR(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yR(t){return t===Vt(t)||!mn(t)?yp(t):vR(t)}function _R(t){var e=t.getBoundingClientRect(),n=vs(e.width)/t.offsetWidth||1,r=vs(e.height)/t.offsetHeight||1;return n!==1||r!==1}function wR(t,e,n){n===void 0&&(n=!1);var r=mn(e),i=mn(e)&&_R(e),s=Lr(e),o=ys(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Rr(e)!=="body"||wp(s))&&(a=yR(e)),mn(e)?(l=ys(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=_p(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ER(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function CR(t){var e=ER(t);return Lb.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function SR(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function kR(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var kv={placement:"bottom",modifiers:[],strategy:"absolute"};function Nv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function NR(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?kv:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},kv,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(g){var v=typeof g=="function"?g(u.options):g;y(),u.options=Object.assign({},s,u.options,v),u.scrollParents={reference:pi(a)?So(a):a.contextElement?So(a.contextElement):[],popper:So(l)};var w=CR(kR([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(C){return C.enabled}),h(),p.update()},forceUpdate:function(){if(!f){var g=u.elements,v=g.reference,w=g.popper;if(Nv(v,w)){u.rects={reference:wR(v,wa(w),u.options.strategy==="fixed"),popper:gp(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(b){return u.modifiersData[b.name]=Object.assign({},b.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var k=u.orderedModifiers[C],S=k.fn,N=k.options,I=N===void 0?{}:N,x=k.name;typeof S=="function"&&(u=S({state:u,options:I,name:x,instance:p})||u)}}}},update:SR(function(){return new Promise(function(E){p.forceUpdate(),E(u)})}),destroy:function(){y(),f=!0}};if(!Nv(a,l))return p;p.setOptions(c).then(function(E){!f&&c.onFirstUpdate&&c.onFirstUpdate(E)});function h(){u.orderedModifiers.forEach(function(E){var g=E.name,v=E.options,w=v===void 0?{}:v,C=E.effect;if(typeof C=="function"){var k=C({state:u,name:g,instance:p,options:w}),S=function(){};d.push(k||S)}})}function y(){d.forEach(function(E){return E()}),d=[]}return p}}const TR=NR({defaultModifiers:[lR,hR,Kb,Yb,dR,oR,gR,Wb]}),IR=["enabled","placement","strategy","modifiers"];function bR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const RR={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},xR={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},OR=[];function PR(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=OR}=n,a=bR(n,IR);const l=m.useRef(o),c=m.useRef(),u=m.useCallback(()=>{var E;(E=c.current)==null||E.update()},[]),d=m.useCallback(()=>{var E;(E=c.current)==null||E.forceUpdate()},[]),[f,p]=kb(m.useState({placement:i,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),h=m.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:E})=>{const g={},v={};Object.keys(E.elements).forEach(w=>{g[w]=E.styles[w],v[w]=E.attributes[w]}),p({state:E,styles:g,attributes:v,update:u,forceUpdate:d,placement:E.placement})}}),[u,d,p]),y=m.useMemo(()=>(Eo(l.current,o)||(l.current=o),l.current),[o]);return m.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...y,h,RR]})},[s,i,h,r,y]),m.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=TR(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...y,xR,h]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,p(E=>Object.assign({},E,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}const Tv=()=>{};function AR(t){return t.button===0}function DR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Xu=t=>t&&("current"in t?t.current:t),Iv={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function MR(t,e=Tv,{disabled:n,clickTrigger:r="click"}={}){const i=m.useRef(!1),s=m.useRef(!1),o=m.useCallback(c=>{const u=Xu(t);i.current=!u||DR(c)||!AR(c)||!!Xl(u,c.target)||s.current,s.current=!1},[t]),a=Te(c=>{const u=Xu(t);u&&Xl(u,c.target)&&(s.current=!0)}),l=Te(c=>{i.current||e(c)});m.useEffect(()=>{if(n||t==null)return;const c=ya(Xu(t));let u=(c.defaultView||window).event,d=null;Iv[r]&&(d=pr(c,Iv[r],a,!0));const f=pr(c,r,o,!0),p=pr(c,r,y=>{if(y===u){u=void 0;return}l(y)});let h=[];return"ontouchstart"in c.documentElement&&(h=[].slice.call(c.body.children).map(y=>pr(y,"mousemove",Tv))),()=>{d==null||d(),f(),p(),h.forEach(y=>y())}},[t,n,r,o,a,l])}function LR(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function UR(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function FR({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var c,u,d,f,p;const h=LR(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:UR(Object.assign({},h,{eventListeners:{enabled:e,options:(c=h.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},h.preventOverflow,{options:o?Object.assign({padding:o},(u=h.preventOverflow)==null?void 0:u.options):(d=h.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=h.offset)==null?void 0:f.options)},arrow:Object.assign({},h.arrow,{enabled:!!a,options:Object.assign({},(p=h.arrow)==null?void 0:p.options,{element:a})}),flip:Object.assign({enabled:!!r},h.flip)}))})}const $R=["children"];function BR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const jR=()=>{};function Ww(t={}){const e=m.useContext(qc),[n,r]=Aw(),i=m.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:c,popperConfig:u={},enableEventListeners:d=!0,usePopper:f=!!e}=t,p=(e==null?void 0:e.show)==null?!!t.show:e.show;p&&!i.current&&(i.current=!0);const h=S=>{e==null||e.toggle(!1,S)},{placement:y,setMenu:E,menuElement:g,toggleElement:v}=e||{},w=PR(v,g,FR({placement:c||y||"bottom-start",enabled:f,enableEvents:d??p,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:u})),C=Object.assign({ref:E||jR,"aria-labelledby":v==null?void 0:v.id},w.attributes.popper,{style:w.styles.popper}),k={show:p,placement:y,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return MR(g,h,{clickTrigger:a,disabled:!p}),[C,k]}const zR={usePopper:!0};function Ep(t){let{children:e}=t,n=BR(t,$R);const[r,i]=Ww(n);return _(Ge,{children:e(r,i)})}Ep.displayName="DropdownMenu";Ep.defaultProps=zR;const Hw={prefix:String(Math.round(Math.random()*1e10)),current:0},WR=T.createContext(Hw);let HR=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function VR(t){let e=m.useContext(WR);return e===Hw&&!HR&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),m.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}const Vw=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},bv=()=>{};function Gw(){const t=VR(),{show:e=!1,toggle:n=bv,setToggle:r,menuElement:i}=m.useContext(qc)||{},s=m.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||bv,onClick:s,"aria-expanded":!!e};return i&&Vw(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function Kw({children:t}){const[e,n]=Gw();return _(Ge,{children:t(e,n)})}Kw.displayName="DropdownToggle";const qw=m.createContext(null);qw.displayName="NavContext";const Cp=qw,GR=["as","disabled"];function KR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qR(t){return!t||t.trim()==="#"}function Sp({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const u=f=>{if((e||t==="a"&&qR(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),u(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:u,onKeyDown:d},c]}const kp=m.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=KR(t,GR);const[s,{tagName:o}]=Sp(Object.assign({tagName:n,disabled:r},i));return _(o,Object.assign({},i,s,{ref:e}))});kp.displayName="Button";const YR=["eventKey","disabled","onClick","active","as"];function QR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yw({key:t,href:e,active:n,disabled:r,onClick:i}){const s=m.useContext(hi),o=m.useContext(Cp),{activeKey:a}=o||{},l=Yo(t,e),c=n==null&&t!=null?Yo(a)===l:n;return[{onClick:Te(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":c,[Ps("dropdown-item")]:""},{isActive:c}]}const Qw=m.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=kp}=t,a=QR(t,YR);const[l]=Yw({key:n,href:a.href,disabled:r,onClick:i,active:s});return _(o,Object.assign({},a,{ref:e},l))});Qw.displayName="DropdownItem";function Rv(){const t=Pw(),e=m.useRef(null),n=m.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function Ea({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ps("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=sp(),[c,u]=pw(e,t,r),[d,f]=Rv(),p=d.current,[h,y]=Rv(),E=h.current,g=Nw(c),v=m.useRef(null),w=m.useRef(!1),C=m.useContext(hi),k=m.useCallback((R,U,z=U==null?void 0:U.type)=>{u(R,{originalEvent:U,source:z})},[u]),S=Te((R,U)=>{n==null||n(R,U),k(!1,U,"select"),U.isPropagationStopped()||C==null||C(R,U)}),N=m.useMemo(()=>({toggle:k,placement:o,show:c,menuElement:p,toggleElement:E,setMenu:f,setToggle:y}),[k,o,c,p,E,f,y]);p&&g&&!c&&(w.current=p.contains(p.ownerDocument.activeElement));const I=Te(()=>{E&&E.focus&&E.focus()}),x=Te(()=>{const R=v.current;let U=s;if(U==null&&(U=d.current&&Vw(d.current)?"keyboard":!1),U===!1||U==="keyboard"&&!/^key.+$/.test(R))return;const z=Nn(d.current,i)[0];z&&z.focus&&z.focus()});m.useEffect(()=>{c?x():w.current&&(w.current=!1,I())},[c,w,I,x]),m.useEffect(()=>{v.current=null});const b=(R,U)=>{if(!d.current)return null;const z=Nn(d.current,i);let X=z.indexOf(R)+U;return X=Math.max(0,Math.min(X,z.length)),z[X]};return Cb(m.useCallback(()=>l.document,[l]),"keydown",R=>{var U,z;const{key:X}=R,Z=R.target,V=(U=d.current)==null?void 0:U.contains(Z),G=(z=h.current)==null?void 0:z.contains(Z);if(/input|textarea/i.test(Z.tagName)&&(X===" "||X!=="Escape"&&V||X==="Escape"&&Z.type==="search")||!V&&!G||X==="Tab"&&(!d.current||!c))return;v.current=R.type;const F={originalEvent:R,source:R.type};switch(X){case"ArrowUp":{const L=b(Z,-1);L&&L.focus&&L.focus(),R.preventDefault();return}case"ArrowDown":if(R.preventDefault(),!c)u(!0,F);else{const L=b(Z,1);L&&L.focus&&L.focus()}return;case"Tab":Zh(Z.ownerDocument,"keyup",L=>{var Y;(L.key==="Tab"&&!L.target||!((Y=d.current)!=null&&Y.contains(L.target)))&&u(!1,F)},{once:!0});break;case"Escape":X==="Escape"&&(R.preventDefault(),R.stopPropagation()),u(!1,F);break}}),_(hi.Provider,{value:S,children:_(qc.Provider,{value:N,children:a})})}Ea.displayName="Dropdown";Ea.Menu=Ep;Ea.Toggle=Kw;Ea.Item=Qw;const Xw=m.createContext({});Xw.displayName="DropdownContext";const Jw=Xw,XR=["onKeyDown"];function JR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZR(t){return!t||t.trim()==="#"}const Zw=m.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=JR(t,XR);const[i]=Sp(Object.assign({tagName:"a"},r)),s=Te(o=>{i.onKeyDown(o),n==null||n(o)});return ZR(r.href)||r.role==="button"?_("a",Object.assign({ref:e},r,i,{onKeyDown:s})):_("a",Object.assign({ref:e},r,{onKeyDown:n}))});Zw.displayName="Anchor";const Zl=Zw,eE=m.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Zl,...a},l)=>{const c=ne(t,"dropdown-item"),[u,d]=Yw({key:n,href:a.href,disabled:r,onClick:i,active:s});return _(o,{...a,...u,ref:l,className:K(e,c,d.isActive&&"active",r&&"disabled")})});eE.displayName="DropdownItem";const ex=eE,tE=m.createContext(null);tE.displayName="InputGroupContext";const nE=tE;function rE(t,e){return t}const tx={flip:!0};function iE(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",c=n?"left-start":"right-start",u=n?"left-end":"right-end";let d=t?o:s;return e==="up"?d=t?i:r:e==="end"?d=t?u:c:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const Np=m.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:c,...u},d)=>{let f=!1;const p=m.useContext(Ti),h=ne(t,"dropdown-menu"),{align:y,drop:E,isRTL:g}=m.useContext(Jw);n=n||y;const v=m.useContext(nE),w=[];if(n)if(typeof n=="object"){const R=Object.keys(n);if(R.length){const U=R[0],z=n[U];f=z==="start",w.push(`${h}-${U}-${z}`)}}else n==="end"&&(f=!0);const C=iE(f,E,g),[k,{hasShown:S,popper:N,show:I,toggle:x}]=Ww({flip:i,rootCloseEvent:r,show:s,usePopper:!p&&w.length===0,offset:[0,2],popperConfig:l,placement:C});if(k.ref=Ni(rE(d),k.ref),Ql(()=>{I&&(N==null||N.update())},[I]),!S&&!o&&!v)return null;typeof a!="string"&&(k.show=I,k.close=()=>x==null?void 0:x(!1),k.align=n);let b=u.style;return N!=null&&N.placement&&(b={...u.style,...k.style},u["x-placement"]=N.placement),_(a,{...u,...k,style:b,...(w.length||p)&&{"data-bs-popper":"static"},className:K(e,h,I&&"show",f&&`${h}-end`,c&&`${h}-${c}`,...w)})});Np.displayName="DropdownMenu";Np.defaultProps=tx;const nx=Np,rx={variant:"primary",active:!1,disabled:!1},Ce=m.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=ne(e,"btn"),[c,{tagName:u}]=Sp({tagName:t,...o});return _(u,{...c,...o,ref:a,className:K(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});Ce.displayName="Button";Ce.defaultProps=rx;const sE=m.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Ce,...s},o)=>{const a=ne(t,"dropdown-toggle"),l=m.useContext(qc);r!==void 0&&(s.bsPrefix=r);const[c]=Gw();return c.ref=Ni(c.ref,rE(o)),_(i,{className:K(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...c,...s})});sE.displayName="DropdownToggle";const ix=sE,sx=je("dropdown-header",{defaultProps:{role:"heading"}}),ox=je("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),ax=je("dropdown-item-text",{Component:"span"}),lx={navbar:!1,align:"start",autoClose:!0,drop:"down"},Tp=m.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:c,as:u="div",navbar:d,autoClose:f,...p}=Wc(t,{show:"onToggle"}),h=m.useContext(nE),y=ne(n,"dropdown"),E=Jh(),g=N=>f===!1?N==="click":f==="inside"?N!=="rootClose":f==="outside"?N!=="select":!0,v=Te((N,I)=>{I.originalEvent.currentTarget===document&&(I.source!=="keydown"||I.originalEvent.key==="Escape")&&(I.source="rootClose"),g(I.source)&&(l==null||l(N,I))}),C=iE(o==="end",r,E),k=m.useMemo(()=>({align:o,drop:r,isRTL:E}),[o,r,E]),S={down:y,"down-centered":`${y}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return _(Jw.Provider,{value:k,children:_(Ea,{placement:C,show:i,onSelect:a,onToggle:v,focusFirstItemOnShow:c,itemSelector:`.${y}-item:not(.disabled):not(:disabled)`,children:h?p.children:_(u,{...p,ref:e,className:K(s,i&&"show",S[r])})})})});Tp.displayName="Dropdown";Tp.defaultProps=lx;const Xr=Object.assign(Tp,{Toggle:ix,Menu:nx,Item:ex,ItemText:ax,Divider:ox,Header:sx}),cx=m.createContext(null),oE=cx,ux=["as","active","eventKey"];function dx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aE({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=m.useContext(hi),a=m.useContext(Cp),l=m.useContext(oE);let c=n;const u={role:i};if(a){!i&&a.role==="tablist"&&(u.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);u[Ps("event-key")]=t,u.id=d||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=f)}return u.role==="tab"&&(u["aria-selected"]=c,c||(u.tabIndex=-1),s&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=Te(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[u,{isActive:c}]}const lE=m.forwardRef((t,e)=>{let{as:n=kp,active:r,eventKey:i}=t,s=dx(t,ux);const[o,a]=aE(Object.assign({key:Yo(i,s.href),active:r},s));return o[Ps("active")]=a.isActive,_(n,Object.assign({},s,o,{ref:e}))});lE.displayName="NavItem";const fx=lE,hx={disabled:!1},Ip=m.forwardRef(({bsPrefix:t,className:e,as:n=Zl,active:r,eventKey:i,...s},o)=>{t=ne(t,"nav-link");const[a,l]=aE({key:Yo(i,s.href),active:r,...s});return _(n,{...s,...a,ref:o,className:K(e,t,s.disabled&&"disabled",l.isActive&&"active")})});Ip.displayName="NavLink";Ip.defaultProps=hx;const cE=Ip,uE=m.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:c,menuVariant:u,...d},f)=>{const p=ne(void 0,"nav-item");return A(Xr,{ref:f,...d,className:K(i,p),children:[_(Xr.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:cE,children:e}),_(Xr.Menu,{role:o,renderOnMount:c,rootCloseEvent:s,variant:u,children:n})]})});uE.displayName="NavDropdown";const xv=Object.assign(uE,{Item:Xr.Item,ItemText:Xr.ItemText,Divider:Xr.Divider,Header:Xr.Header});var kf={},px={get exports(){return kf},set exports(t){kf=t}},ec={},mx={get exports(){return ec},set exports(t){ec=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,c,u,d){var f=c||"<<anonymous>>",p=d||l;if(a[l]==null)return o?new Error("Required "+u+" `"+p+"` was not specified "+("in `"+f+"`.")):null;for(var h=arguments.length,y=Array(h>6?h-6:0),E=6;E<h;E++)y[E-6]=arguments[E];return r.apply(void 0,[a,l,f,u,p].concat(y))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(mx,ec);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=ec,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function c(){for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=null;return a.forEach(function(h){if(p==null){var y=h.apply(void 0,d);y!=null&&(p=y)}}),p}return(0,r.default)(c)}t.exports=e.default})(px,kf);const gx=["as","onSelect","activeKey","role","onKeyDown"];function vx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Ov=()=>{},Pv=Ps("event-key"),dE=m.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=vx(t,gx);const l=Pw(),c=m.useRef(!1),u=m.useContext(hi),d=m.useContext(oE);let f,p;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,p=d.getControllerId);const h=m.useRef(null),y=w=>{const C=h.current;if(!C)return null;const k=Nn(C,`[${Pv}]:not([aria-disabled=true])`),S=C.querySelector("[aria-selected=true]");if(!S||S!==document.activeElement)return null;const N=k.indexOf(S);if(N===-1)return null;let I=N+w;return I>=k.length&&(I=0),I<0&&(I=k.length-1),k[I]},E=(w,C)=>{w!=null&&(r==null||r(w,C),u==null||u(w,C))},g=w=>{if(o==null||o(w),!d)return;let C;switch(w.key){case"ArrowLeft":case"ArrowUp":C=y(-1);break;case"ArrowRight":case"ArrowDown":C=y(1);break;default:return}C&&(w.preventDefault(),E(C.dataset[BI("EventKey")]||null,w),c.current=!0,l())};m.useEffect(()=>{if(h.current&&c.current){const w=h.current.querySelector(`[${Pv}][aria-selected=true]`);w==null||w.focus()}c.current=!1});const v=Ni(e,h);return _(hi.Provider,{value:E,children:_(Cp.Provider,{value:{role:s,activeKey:Yo(i),getControlledId:f||Ov,getControllerId:p||Ov},children:_(n,Object.assign({},a,{onKeyDown:g,ref:v,role:s}))})})});dE.displayName="Nav";const yx=Object.assign(dE,{Item:fx}),fE=m.createContext(null);fE.displayName="CardHeaderContext";const hE=fE,_x=je("nav-item"),wx={justify:!1,fill:!1},bp=m.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:c,activeKey:u,...d}=Wc(t,{activeKey:"onSelect"}),f=ne(r,"nav");let p,h,y=!1;const E=m.useContext(Ti),g=m.useContext(hE);return E?(p=E.bsPrefix,y=a??!0):g&&({cardHeaderBsPrefix:h}=g),_(yx,{as:n,ref:e,activeKey:u,className:K(c,{[f]:!y,[`${p}-nav`]:y,[`${p}-nav-scroll`]:y&&l,[`${h}-${i}`]:!!h,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});bp.displayName="Nav";bp.defaultProps=wx;Object.assign(bp,{Item:_x,Link:cE});var pE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Av=T.createContext&&T.createContext(pE),Sr=globalThis&&globalThis.__assign||function(){return Sr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Sr.apply(this,arguments)},Ex=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mE(t){return t&&t.map(function(e,n){return T.createElement(e.tag,Sr({key:n},e.attr),mE(e.child))})}function Mt(t){return function(e){return T.createElement(Cx,Sr({attr:Sr({},t.attr)},e),mE(t.child))}}function Cx(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Ex(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),T.createElement("svg",Sr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Sr(Sr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&T.createElement("title",null,s),t.children)};return Av!==void 0?T.createElement(Av.Consumer,null,function(n){return e(n)}):e(pE)}function Dv(t){return Mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"}}]})(t)}function Qc(t){return Mt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"}}]})(t)}function Rp(t){return Mt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(t)}function gE(t){return Mt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(t)}function Sx(t){return Mt({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw As(e)},As=function(t){return new Error("Firebase Database ("+vE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const h=c<<6&192|d;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_E=function(t){const e=yE(t);return xp.encodeByteArray(e,!0)},tc=function(t){return _E(t).replace(/\./g,"")},nc=function(t){try{return xp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){return wE(void 0,t)}function wE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Tx(n)||(t[n]=wE(t[n],e[n]));return t}function Tx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=()=>Ix().__FIREBASE_DEFAULTS__,Rx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nc(t[1]);return e&&JSON.parse(e)},Xc=()=>{try{return bx()||Rx()||xx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EE=t=>{var e,n;return(n=(e=Xc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CE=t=>{const e=EE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ox=()=>{var t;return(t=Xc())===null||t===void 0?void 0:t.config},SE=t=>{var e;return(e=Xc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[tc(JSON.stringify(n)),tc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Op(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Px(){var t;const e=(t=Xc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ax(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dx(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TE(){return vE.NODE_ADMIN===!0}function Mx(){try{return typeof indexedDB=="object"}catch{return!1}}function Lx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ux,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Fx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,a,r)}}function Fx(t,e){return t.replace($x,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $x=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){return JSON.parse(t)}function Ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Zo(nc(s[0])||""),n=Zo(nc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Bx=function(t){const e=IE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jx=function(t){const e=IE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ws(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Mv(s)&&Mv(o)){if(!ic(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Wx(t,e){const n=new Hx(t,e);return n.subscribe.bind(n)}class Hx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Vx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ju),i.error===void 0&&(i.error=Ju),i.complete===void 0&&(i.complete=Ju);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ju(){}function Pp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yx(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qx(t){return t===Gr?void 0:t}function Yx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const Xx={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Jx=me.INFO,Zx={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},eO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Zx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=Jx,this._logHandler=eO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const tO=(t,e)=>e.some(n=>t instanceof n);let Lv,Uv;function nO(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rO(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Tf=new WeakMap,RE=new WeakMap,Zu=new WeakMap,Dp=new WeakMap;function iO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(kr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bE.set(n,t)}).catch(()=>{}),Dp.set(e,t),e}function sO(t){if(Tf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tf.set(t,e)}let If={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oO(t){If=t(If)}function aO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ed(this),e,...n);return RE.set(r,e.sort?e.sort():[e]),kr(r)}:rO().includes(t)?function(...e){return t.apply(ed(this),e),kr(bE.get(this))}:function(...e){return kr(t.apply(ed(this),e))}}function lO(t){return typeof t=="function"?aO(t):(t instanceof IDBTransaction&&sO(t),tO(t,nO())?new Proxy(t,If):t)}function kr(t){if(t instanceof IDBRequest)return iO(t);if(Zu.has(t))return Zu.get(t);const e=lO(t);return e!==t&&(Zu.set(t,e),Dp.set(e,t)),e}const ed=t=>Dp.get(t);function cO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=kr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(kr(o.result),l.oldVersion,l.newVersion,kr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const uO=["get","getKey","getAll","getAllKeys","count"],dO=["put","add","delete","clear"],td=new Map;function Fv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return td.set(e,s),s}oO(t=>({...t,get:(e,n,r)=>Fv(e,n)||t.get(e,n,r),has:(e,n)=>!!Fv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bf="@firebase/app",$v="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Ap("@firebase/app"),pO="@firebase/app-compat",mO="@firebase/analytics-compat",gO="@firebase/analytics",vO="@firebase/app-check-compat",yO="@firebase/app-check",_O="@firebase/auth",wO="@firebase/auth-compat",EO="@firebase/database",CO="@firebase/database-compat",SO="@firebase/functions",kO="@firebase/functions-compat",NO="@firebase/installations",TO="@firebase/installations-compat",IO="@firebase/messaging",bO="@firebase/messaging-compat",RO="@firebase/performance",xO="@firebase/performance-compat",OO="@firebase/remote-config",PO="@firebase/remote-config-compat",AO="@firebase/storage",DO="@firebase/storage-compat",MO="@firebase/firestore",LO="@firebase/firestore-compat",UO="firebase",FO="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="[DEFAULT]",$O={[bf]:"fire-core",[pO]:"fire-core-compat",[gO]:"fire-analytics",[mO]:"fire-analytics-compat",[yO]:"fire-app-check",[vO]:"fire-app-check-compat",[_O]:"fire-auth",[wO]:"fire-auth-compat",[EO]:"fire-rtdb",[CO]:"fire-rtdb-compat",[SO]:"fire-fn",[kO]:"fire-fn-compat",[NO]:"fire-iid",[TO]:"fire-iid-compat",[IO]:"fire-fcm",[bO]:"fire-fcm-compat",[RO]:"fire-perf",[xO]:"fire-perf-compat",[OO]:"fire-rc",[PO]:"fire-rc-compat",[AO]:"fire-gcs",[DO]:"fire-gcs-compat",[MO]:"fire-fst",[LO]:"fire-fst-compat","fire-js":"fire-js",[UO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,xf=new Map;function BO(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if(xf.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,t);for(const n of sc.values())BO(n,t);return!0}function eu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nr=new Ca("app","Firebase",jO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=FO;function xE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nr.create("bad-app-name",{appName:String(i)});if(n||(n=Ox()),!n)throw Nr.create("no-options");const s=sc.get(i);if(s){if(ic(n,s.options)&&ic(r,s.config))return s;throw Nr.create("duplicate-app",{appName:i})}const o=new Qx(i);for(const l of xf.values())o.addComponent(l);const a=new zO(n,r,o);return sc.set(i,a),a}function Mp(t=Rf){const e=sc.get(t);if(!e&&t===Rf)return xE();if(!e)throw Nr.create("no-app",{appName:t});return e}function gn(t,e,n){var r;let i=(r=$O[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(a.join(" "));return}gi(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="firebase-heartbeat-database",HO=1,ea="firebase-heartbeat-store";let nd=null;function OE(){return nd||(nd=cO(WO,HO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ea)}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),nd}async function VO(t){try{return(await OE()).transaction(ea).objectStore(ea).get(PE(t))}catch(e){if(e instanceof Yn)mi.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function Bv(t,e){try{const r=(await OE()).transaction(ea,"readwrite");return await r.objectStore(ea).put(e,PE(t)),r.done}catch(n){if(n instanceof Yn)mi.warn(n.message);else{const r=Nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function PE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=1024,KO=30*24*60*60*1e3;class qO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=KO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jv(),{heartbeatsToSend:n,unsentEntries:r}=YO(this._heartbeatsCache.heartbeats),i=tc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function jv(){return new Date().toISOString().substring(0,10)}function YO(t,e=GO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mx()?Lx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zv(t){return tc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){gi(new xr("platform-logger",e=>new fO(e),"PRIVATE")),gi(new xr("heartbeat",e=>new qO(e),"PRIVATE")),gn(bf,$v,t),gn(bf,$v,"esm2017"),gn("fire-js","")}XO("");const Wv="@firebase/database",Hv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AE="";function JO(t){AE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ZO(e)}}catch{}return new eP},Jr=DE("localStorage"),Of=DE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Ap("@firebase/database"),tP=function(){let t=1;return function(){return t++}}(),ME=function(t){const e=Gx(t),n=new zx;n.update(e);const r=n.digest();return xp.encodeByteArray(r)},Sa=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Sa.apply(null,r):typeof r=="object"?e+=Ke(r):e+=r,e+=" "}return e};let si=null,Vv=!0;const nP=function(t,e){D(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(rs.logLevel=me.VERBOSE,si=rs.log.bind(rs),e&&Of.set("logging_enabled",!0)):typeof t=="function"?si=t:(si=null,Of.remove("logging_enabled"))},Je=function(...t){if(Vv===!0&&(Vv=!1,si===null&&Of.get("logging_enabled")===!0&&nP(!0)),si){const e=Sa.apply(null,t);si(e)}},ka=function(t){return function(...e){Je(t,...e)}},Pf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Sa(...t);rs.error(e)},zn=function(...t){const e=`FIREBASE FATAL ERROR: ${Sa(...t)}`;throw rs.error(e),new Error(e)},Tt=function(...t){const e="FIREBASE WARNING: "+Sa(...t);rs.warn(e)},rP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},iP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Es="[MIN_NAME]",vi="[MAX_NAME]",Ii=function(t,e){if(t===e)return 0;if(t===Es||e===vi)return-1;if(e===Es||t===vi)return 1;{const n=Gv(t),r=Gv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},sP=function(t,e){return t===e?0:t<e?-1:1},eo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},Up=function(t){if(typeof t!="object"||t===null)return Ke(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ke(e[r]),n+=":",n+=Up(t[e[r]]);return n+="}",n},LE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const UE=function(t){D(!Lp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},oP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const cP=new RegExp("^-?(0*)\\d{1,10}$"),uP=-2147483648,dP=2147483647,Gv=function(t){if(cP.test(t)){const e=Number(t);if(e>=uP&&e<=dP)return e}return null},Ls=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Tt("Exception was thrown by user callback.",n),e},Math.floor(0))}},fP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ko=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class is{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}is.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="5",FE="v",$E="s",BE="r",jE="f",zE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WE="ls",HE="p",Af="ac",VE="websocket",GE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function mP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qE(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===VE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===GE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);mP(t)&&(n.ns=t.namespace);const i=[];return nt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.counters_={}}incrementCounter(e,n=1){wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Nx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd={},id={};function $p(t){const e=t.toString();return rd[e]||(rd[e]=new gP),rd[e]}function vP(t,e){const n=t.toString();return id[n]||(id[n]=e()),id[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ls(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="start",_P="close",wP="pLPCommand",EP="pRTLPCB",YE="id",QE="pw",XE="ser",CP="cb",SP="seg",kP="ts",NP="d",TP="dframe",JE=1870,ZE=30,IP=JE-ZE,bP=25e3,RP=3e4;class Yi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ka(e),this.stats_=$p(n),this.urlFn=l=>(this.appCheckToken&&(l[Af]=this.appCheckToken),qE(n,GE,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RP)),iP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bp((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Kv)this.id=a,this.password=l;else if(o===_P)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Kv]="t",r[XE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[CP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[FE]=Fp,this.transportSessionId&&(r[$E]=this.transportSessionId),this.lastSessionId&&(r[WE]=this.lastSessionId),this.applicationId&&(r[HE]=this.applicationId),this.appCheckToken&&(r[Af]=this.appCheckToken),typeof location<"u"&&location.hostname&&zE.test(location.hostname)&&(r[BE]=jE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yi.forceAllow_=!0}static forceDisallow(){Yi.forceDisallow_=!0}static isAvailable(){return Yi.forceAllow_?!0:!Yi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oP()&&!aP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_E(n),i=LE(r,IP);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[TP]="t",r[YE]=e,r[QE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Bp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tP(),window[wP+this.uniqueCallbackIdentifier]=e,window[EP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Bp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Je("frame writing exception"),a.stack&&Je(a.stack),Je(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[YE]=this.myID,e[QE]=this.myPW,e[XE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ZE+r.length<=JE;){const o=this.pendingSegs.shift();r=r+"&"+SP+i+"="+o.seg+"&"+kP+i+"="+o.ts+"&"+NP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bP)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=16384,OP=45e3;let oc=null;typeof MozWebSocket<"u"?oc=MozWebSocket:typeof WebSocket<"u"&&(oc=WebSocket);class Zt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ka(this.connId),this.stats_=$p(n),this.connURL=Zt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[FE]=Fp,typeof location<"u"&&location.hostname&&zE.test(location.hostname)&&(o[BE]=jE),n&&(o[$E]=n),r&&(o[WE]=r),i&&(o[Af]=i),s&&(o[HE]=s),qE(e,VE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jr.set("previous_websocket_failure",!0);try{let r;TE(),this.mySock=new oc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&oc!==null&&!Zt.forceDisallow_}static previouslyFailed(){return Jr.isInMemoryStorage||Jr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Jr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=LE(n,xP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zt.responsesRequiredToBeHealthy=2;Zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Yi,Zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Zt&&Zt.isAvailable();let r=n&&!Zt.previouslyFailed();if(e.webSocketOnly&&(n||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zt];else{const i=this.transports_=[];for(const s of ta.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ta.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ta.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=6e4,AP=5e3,DP=10*1024,MP=100*1024,sd="t",qv="d",LP="s",Yv="r",UP="e",Qv="o",Xv="a",Jv="n",Zv="p",FP="h";class $P{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ka("c:"+this.id+":"),this.transportManager_=new ta(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ko(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>MP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>DP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sd in e){const n=e[sd];n===Xv?this.upgradeIfSecondaryHealthy_():n===Yv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Qv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=eo("t",e),r=eo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=eo("t",e),r=eo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=eo(sd,e);if(qv in e){const r=e[qv];if(n===FP){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Jv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===LP?this.onConnectionShutdown_(r):n===Yv?this.onReset_(r):n===UP?Pf("Server Error: "+r):n===Qv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fp!==r&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ko(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ko(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends tC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Op()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ac}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=32,ty=768;class pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function de(){return new pe("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Or(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function jp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function BP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function na(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Ae(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function oe(t){return t.pieceNum_>=t.pieces_.length}function _t(t,e){const n=se(t),r=se(e);if(n===null)return e;if(n===r)return _t(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function jP(t,e){const n=na(t,0),r=na(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ii(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function zp(t,e){if(Or(t)!==Or(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function $t(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Or(t)>Or(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class zP{constructor(e,n){this.errorPrefix_=n,this.parts_=na(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zc(this.parts_[r]);rC(this)}}function WP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zc(e),rC(t)}function HP(t){const e=t.parts_.pop();t.byteLength_-=Zc(e),t.parts_.length>0&&(t.byteLength_-=1)}function rC(t){if(t.byteLength_>ty)throw new Error(t.errorPrefix_+"has a key path longer than "+ty+" bytes ("+t.byteLength_+").");if(t.parts_.length>ey)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ey+") or object contains a cycle "+Kr(t))}function Kr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends tC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Wp}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=1e3,VP=60*5*1e3,ny=30*1e3,GP=1.3,KP=3e4,qP="server_kill",ry=3;class Mn extends eC{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Mn.nextPersistentConnectionId_++,this.log_=ka("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=to,this.maxReconnectDelay_=VP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!TE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ac.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ke(s)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Jc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Mn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&wn(e,"w")){const r=ws(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ny)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Bx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pf("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KP&&(this.reconnectDelay_=to),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Mn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new $P(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Tt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(qP)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Tt(d),l())}}}interrupt(e){Je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nf(this.interruptReasons_)&&(this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Up(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ry&&(this.reconnectDelay_=ny,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ry&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+AE.replace(/\./g,"-")]=1,Op()?e["framework.cordova"]=1:NE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ac.getInstance().currentlyOnline();return Nf(this.interruptReasons_)&&e}}Mn.nextPersistentConnectionId_=0;Mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(Es,e),i=new ie(Es,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za;class iC extends tu{static get __EMPTY_NODE(){return Za}static set __EMPTY_NODE(e){Za=e}compare(e,n){return Ii(e.name,n.name)}isDefinedOn(e){throw As("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(vi,Za)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,Za)}toString(){return".key"}}const ss=new iC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ve.RED,this.left=i??wt.EMPTY_NODE,this.right=s??wt.EMPTY_NODE}copy(e,n,r,i,s){return new Ve(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return wt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ve.RED=!0;Ve.BLACK=!1;class YP{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ve(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(e,n=wt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new wt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))}remove(e){return new wt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ve.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new el(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new el(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new el(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new el(this.root_,null,this.comparator_,!0,e)}}wt.EMPTY_NODE=new YP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){return Ii(t.name,e.name)}function Hp(t,e){return Ii(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df;function XP(t){Df=t}const sC=function(t){return typeof t=="number"?"number:"+UE(t):"string:"+t},oC=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wn(e,".sv"),"Priority must be a string or number.")}else D(t===Df||t.isEmpty(),"priority of unexpected type.");D(t===Df||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy;class We{constructor(e,n=We.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oC(this.priorityNode_)}static set __childrenNodeConstructor(e){iy=e}static get __childrenNodeConstructor(){return iy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new We(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return oe(e)?this:se(e)===".priority"?this.priorityNode_:We.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:We.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Or(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,We.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=UE(this.value_):e+=this.value_,this.lazyHash_=ME(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===We.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof We.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=We.VALUE_TYPE_ORDER.indexOf(n),s=We.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}We.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aC,lC;function JP(t){aC=t}function ZP(t){lC=t}class eA extends tu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ii(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(vi,new We("[PRIORITY-POST]",lC))}makePost(e,n){const r=aC(e);return new ie(n,new We("[PRIORITY-POST]",r))}toString(){return".priority"}}const De=new eA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=Math.log(2);class nA{constructor(e){const n=s=>parseInt(Math.log(s)/tA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lc=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Ve(f,d.node,Ve.BLACK,null,null);{const p=parseInt(u/2,10)+l,h=i(l,p),y=i(p+1,c);return d=t[p],f=n?n(d):d,new Ve(f,d.node,Ve.BLACK,h,y)}},s=function(l){let c=null,u=null,d=t.length;const f=function(h,y){const E=d-h,g=d;d-=h;const v=i(E+1,g),w=t[E],C=n?n(w):w;p(new Ve(C,w.node,y,null,v))},p=function(h){c?(c.left=h,c=h):(u=h,c=h)};for(let h=0;h<l.count;++h){const y=l.nextBitIsOne(),E=Math.pow(2,l.count-(h+1));y?f(E,Ve.BLACK):(f(E,Ve.BLACK),f(E,Ve.RED))}return u},o=new nA(t.length),a=s(o);return new wt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od;const Ai={};class xn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Ai&&De,"ChildrenNode.ts has not been loaded"),od=od||new xn({".priority":Ai},{".priority":De}),od}get(e){const n=ws(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wt?n:null}hasIndex(e){return wn(this.indexSet_,e.toString())}addIndex(e,n){D(e!==ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=lc(r,e.getCompare()):a=Ai;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new xn(u,c)}addToIndexes(e,n){const r=rc(this.indexes_,(i,s)=>{const o=ws(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Ai)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ie.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),lc(a,o.getCompare())}else return Ai;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ie(e.name,a))),l.insert(e,e.node)}});return new xn(r,this.indexSet_)}removeFromIndexes(e,n){const r=rc(this.indexes_,i=>{if(i===Ai)return i;{const s=n.get(e.name);return s?i.remove(new ie(e.name,s)):i}});return new xn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oC(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return no||(no=new Q(new wt(Hp),null,xn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||no}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?no:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?no:this.priorityNode_;return new Q(i,o,s)}}updateChild(e,n){const r=se(e);if(r===null)return n;{D(se(e)!==".priority"||Or(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(De,(o,a)=>{n[o]=a.val(e),r++,s&&Q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sC(this.getPriority().val())+":"),this.forEachChild(De,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ME(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Na?-1:0}withIndex(e){if(e===ss||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ss||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(De),i=n.getIterator(De);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ss?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rA extends Q{constructor(){super(new wt(Hp),Q.EMPTY_NODE,xn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Na=new rA;Object.defineProperties(ie,{MIN:{value:new ie(Es,Q.EMPTY_NODE)},MAX:{value:new ie(vi,Na)}});iC.__EMPTY_NODE=Q.EMPTY_NODE;We.__childrenNodeConstructor=Q;XP(Na);ZP(Na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=!0;function Ze(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new We(n,Ze(e))}if(!(t instanceof Array)&&iA){const n=[];let r=!1;if(nt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ze(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ie(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const s=lc(n,QP,o=>o.name,Hp);if(r){const o=lc(n,De.getCompare());return new Q(s,Ze(e),new xn({".priority":o},{".priority":De}))}else return new Q(s,Ze(e),xn.Default)}else{let n=Q.EMPTY_NODE;return nt(t,(r,i)=>{if(wn(t,r)&&r.substring(0,1)!=="."){const s=Ze(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ze(e))}}JP(Ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends tu{constructor(e){super(),this.indexPath_=e,D(!oe(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ii(e.name,n.name):s}makePost(e,n){const r=Ze(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Na);return new ie(vi,e)}toString(){return na(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends tu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ii(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=Ze(e);return new ie(n,r)}toString(){return".value"}}const aA=new oA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){return{type:"value",snapshotNode:t}}function Cs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ra(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ia(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lA(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ra(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Cs(n,r)):o.trackChildChange(ia(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(De,(i,s)=>{n.hasChild(i)||r.trackChildChange(ra(i,s))}),n.isLeafNode()||n.forEachChild(De,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ia(i,s,o))}else r.trackChildChange(Cs(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.indexedFilter_=new Vp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sa.getStartPost_(e),this.endPost_=sa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ie(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return n.forEachChild(De,(o,a)=>{s.matches(new ie(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ie(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ie(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(ia(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ra(n,d));const y=a.updateImmediateChild(n,Q.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Cs(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(ra(c.name,c.node)),s.trackChildChange(Cs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Es}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const e=new Gp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uA(t){return t.loadsAllData()?new Vp(t.getIndex()):t.hasLimit()?new cA(t):new sa(t)}function sy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===De?n="$priority":t.index_===aA?n="$value":t.index_===ss?n="$key":(D(t.index_ instanceof sA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ke(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function oy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==De&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends eC{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ka("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=cc.getListenId_(e,r),a={};this.listens_[o]=a;const l=sy(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ws(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=cc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sy(e._queryParams),r=e._path.toString(),i=new Jc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ds(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zo(a.responseText)}catch{Tt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Tt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(){return{value:null,children:new Map}}function uC(t,e,n){if(oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=se(e);t.children.has(r)||t.children.set(r,uc());const i=t.children.get(r);e=_e(e),uC(i,e,n)}}function Mf(t,e,n){t.value!==null?n(e,t.value):fA(t,(r,i)=>{const s=new pe(e.toString()+"/"+r);Mf(i,s,n)})}function fA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&nt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=10*1e3,pA=30*1e3,mA=5*60*1e3;class gA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new hA(e);const r=ay+(pA-ay)*Math.random();ko(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;nt(e,(i,s)=>{s>0&&wn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ko(this.reportStats_.bind(this),Math.floor(Math.random()*2*mA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(en||(en={}));function Kp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=Kp()}operationForChild(e){if(oe(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new dc(de(),n,this.revert)}}else return D(se(this.path)===e,"operationForChild called for unrelated child."),new dc(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.source=e,this.path=n,this.type=en.LISTEN_COMPLETE}operationForChild(e){return oe(this.path)?new oa(this.source,de()):new oa(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=en.OVERWRITE}operationForChild(e){return oe(this.path)?new yi(this.source,de(),this.snap.getImmediateChild(e)):new yi(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=en.MERGE}operationForChild(e){if(oe(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new yi(this.source,de(),n.value):new Ss(this.source,de(),n)}else return D(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ss(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yA(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(lA(o.childName,o.snapshotNode))}),ro(t,i,"child_removed",e,r,n),ro(t,i,"child_added",e,r,n),ro(t,i,"child_moved",s,r,n),ro(t,i,"child_changed",e,r,n),ro(t,i,"value",e,r,n),i}function ro(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>wA(t,a,l)),o.forEach(a=>{const l=_A(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function _A(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wA(t,e,n){if(e.childName==null||n.childName==null)throw As("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t,e){return{eventCache:t,serverCache:e}}function No(t,e,n,r){return nu(new _i(e,n,r),t.serverCache)}function dC(t,e,n,r){return nu(t.eventCache,new _i(e,n,r))}function Lf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad;const EA=()=>(ad||(ad=new wt(sP)),ad);class ye{constructor(e,n=EA()){this.value=e,this.children=n}static fromObject(e){let n=new ye(null);return nt(e,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(oe(e))return null;{const r=se(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return s!=null?{path:Ae(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(oe(e))return this;{const n=se(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new ye(null)}}set(e,n){if(oe(e))return new ye(n,this.children);{const r=se(e),s=(this.children.get(r)||new ye(null)).set(_e(e),n),o=this.children.insert(r,s);return new ye(this.value,o)}}remove(e){if(oe(e))return this.children.isEmpty()?new ye(null):new ye(null,this.children);{const n=se(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ye(null):new ye(this.value,s)}else return this}}get(e){if(oe(e))return this.value;{const n=se(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(oe(e))return n;{const r=se(e),s=(this.children.get(r)||new ye(null)).setTree(_e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ye(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(oe(e))return null;{const s=se(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Ae(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(oe(e))return this;{this.value&&r(n,this.value);const i=se(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Ae(n,i),r):new ye(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new ye(null))}}function To(t,e,n){if(oe(e))return new rn(new ye(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=_t(i,e);return s=s.updateChild(o,n),new rn(t.writeTree_.set(i,s))}else{const i=new ye(n),s=t.writeTree_.setTree(e,i);return new rn(s)}}}function Uf(t,e,n){let r=t;return nt(n,(i,s)=>{r=To(r,Ae(e,i),s)}),r}function ly(t,e){if(oe(e))return rn.empty();{const n=t.writeTree_.setTree(e,new ye(null));return new rn(n)}}function Ff(t,e){return bi(t,e)!=null}function bi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(_t(n.path,e)):null}function cy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(De,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function Tr(t,e){if(oe(e))return t;{const n=bi(t,e);return n!=null?new rn(new ye(n)):new rn(t.writeTree_.subtree(e))}}function $f(t){return t.writeTree_.isEmpty()}function ks(t,e){return fC(de(),t.writeTree_,e)}function fC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(D(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=fC(Ae(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ae(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){return gC(e,t)}function CA(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=To(t.visibleWrites,e,n)),t.lastWriteId=r}function SA(t,e,n,r){D(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Uf(t.visibleWrites,e,n),t.lastWriteId=r}function kA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function NA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&TA(a,r.path)?i=!1:$t(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return IA(t),!0;if(r.snap)t.visibleWrites=ly(t.visibleWrites,r.path);else{const a=r.children;nt(a,l=>{t.visibleWrites=ly(t.visibleWrites,Ae(r.path,l))})}return!0}else return!1}function TA(t,e){if(t.snap)return $t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$t(Ae(t.path,n),e))return!0;return!1}function IA(t){t.visibleWrites=hC(t.allWrites,bA,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bA(t){return t.visible}function hC(t,e,n){let r=rn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)$t(n,o)?(a=_t(n,o),r=To(r,a,s.snap)):$t(o,n)&&(a=_t(o,n),r=To(r,de(),s.snap.getChild(a)));else if(s.children){if($t(n,o))a=_t(n,o),r=Uf(r,a,s.children);else if($t(o,n))if(a=_t(o,n),oe(a))r=Uf(r,de(),s.children);else{const l=ws(s.children,se(a));if(l){const c=l.getChild(_e(a));r=To(r,de(),c)}}}else throw As("WriteRecord should have .snap or .children")}}return r}function pC(t,e,n,r,i){if(!r&&!i){const s=bi(t.visibleWrites,e);if(s!=null)return s;{const o=Tr(t.visibleWrites,e);if($f(o))return n;if(n==null&&!Ff(o,de()))return null;{const a=n||Q.EMPTY_NODE;return ks(o,a)}}}else{const s=Tr(t.visibleWrites,e);if(!i&&$f(s))return n;if(!i&&n==null&&!Ff(s,de()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&($t(c.path,e)||$t(e,c.path))},a=hC(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return ks(a,l)}}}function RA(t,e,n){let r=Q.EMPTY_NODE;const i=bi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(De,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Tr(t.visibleWrites,e);return n.forEachChild(De,(o,a)=>{const l=ks(Tr(s,new pe(o)),a);r=r.updateImmediateChild(o,l)}),cy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Tr(t.visibleWrites,e);return cy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function xA(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ae(e,n);if(Ff(t.visibleWrites,s))return null;{const o=Tr(t.visibleWrites,s);return $f(o)?i.getChild(n):ks(o,i.getChild(n))}}function OA(t,e,n,r){const i=Ae(e,n),s=bi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Tr(t.visibleWrites,i);return ks(o,r.getNode().getImmediateChild(n))}else return null}function PA(t,e){return bi(t.visibleWrites,e)}function AA(t,e,n,r,i,s,o){let a;const l=Tr(t.visibleWrites,e),c=bi(l,de());if(c!=null)a=c;else if(n!=null)a=ks(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function DA(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function fc(t,e,n,r){return pC(t.writeTree,t.treePath,e,n,r)}function Xp(t,e){return RA(t.writeTree,t.treePath,e)}function uy(t,e,n,r){return xA(t.writeTree,t.treePath,e,n,r)}function hc(t,e){return PA(t.writeTree,Ae(t.treePath,e))}function MA(t,e,n,r,i,s){return AA(t.writeTree,t.treePath,e,n,r,i,s)}function Jp(t,e,n){return OA(t.writeTree,t.treePath,e,n)}function mC(t,e){return gC(Ae(t.treePath,e),t.writeTree)}function gC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ia(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ra(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Cs(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ia(r,e.snapshotNode,i.oldSnap));else throw As("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const vC=new UA;class Zp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _i(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wi(this.viewCache_),s=MA(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){return{filter:t}}function $A(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function BA(t,e,n,r,i){const s=new LA;let o,a;if(n.type===en.OVERWRITE){const c=n;c.source.fromUser?o=Bf(t,e,c.path,c.snap,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!oe(c.path),o=pc(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===en.MERGE){const c=n;c.source.fromUser?o=zA(t,e,c.path,c.children,r,i,s):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=jf(t,e,c.path,c.children,r,i,a,s))}else if(n.type===en.ACK_USER_WRITE){const c=n;c.revert?o=VA(t,e,c.path,r,i,s):o=WA(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===en.LISTEN_COMPLETE)o=HA(t,e,n.path,r,s);else throw As("Unknown operation type: "+n.type);const l=s.getChanges();return jA(e,o,l),{viewCache:o,changes:l}}function jA(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Lf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(cC(Lf(e)))}}function yC(t,e,n,r,i,s){const o=e.eventCache;if(hc(r,n)!=null)return e;{let a,l;if(oe(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=wi(e),u=c instanceof Q?c:Q.EMPTY_NODE,d=Xp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=fc(r,wi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=se(n);if(c===".priority"){D(Or(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=uy(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=_e(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=uy(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Jp(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return No(e,a,o.isFullyInitialized()||oe(n),t.filter.filtersNodes())}}function pc(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(oe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=se(n);if(!l.isCompleteForPath(n)&&Or(n)>1)return e;const h=_e(n),E=l.getNode().getImmediateChild(p).updateChild(h,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,h,vC,null)}const d=dC(e,c,l.isFullyInitialized()||oe(n),u.filtersNodes()),f=new Zp(i,d,s);return yC(t,d,n,i,f,a)}function Bf(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new Zp(i,e,s);if(oe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=No(e,c,!0,t.filter.filtersNodes());else{const d=se(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=No(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=_e(n),p=a.getNode().getImmediateChild(d);let h;if(oe(f))h=r;else{const y=u.getCompleteChild(d);y!=null?jp(f)===".priority"&&y.getChild(nC(f)).isEmpty()?h=y:h=y.updateChild(f,r):h=Q.EMPTY_NODE}if(p.equals(h))l=e;else{const y=t.filter.updateChild(a.getNode(),d,h,f,u,o);l=No(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function dy(t,e){return t.eventCache.isCompleteForChild(e)}function zA(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Ae(n,l);dy(e,se(u))&&(a=Bf(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Ae(n,l);dy(e,se(u))||(a=Bf(t,a,u,c,i,s,o))}),a}function fy(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function jf(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;oe(n)?c=r:c=new ye(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),h=fy(t,p,f);l=pc(t,l,new pe(d),h,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const h=e.serverCache.getNode().getImmediateChild(d),y=fy(t,h,f);l=pc(t,l,new pe(d),y,i,s,o,a)}}),l}function WA(t,e,n,r,i,s,o){if(hc(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(oe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return pc(t,e,n,l.getNode().getChild(n),i,s,a,o);if(oe(n)){let c=new ye(null);return l.getNode().forEachChild(ss,(u,d)=>{c=c.set(new pe(u),d)}),jf(t,e,n,c,i,s,a,o)}else return e}else{let c=new ye(null);return r.foreach((u,d)=>{const f=Ae(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),jf(t,e,n,c,i,s,a,o)}}function HA(t,e,n,r,i){const s=e.serverCache,o=dC(e,s.getNode(),s.isFullyInitialized()||oe(n),s.isFiltered());return yC(t,o,n,r,vC,i)}function VA(t,e,n,r,i,s){let o;if(hc(r,n)!=null)return e;{const a=new Zp(r,e,i),l=e.eventCache.getNode();let c;if(oe(n)||se(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=fc(r,wi(e));else{const d=e.serverCache.getNode();D(d instanceof Q,"serverChildren would be complete if leaf node"),u=Xp(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=se(n);let d=Jp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,_e(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Q.EMPTY_NODE,_e(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=fc(r,wi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||hc(r,de())!=null,No(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Vp(r.getIndex()),s=uA(r);this.processor_=FA(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),u=new _i(l,o.isFullyInitialized(),i.filtersNodes()),d=new _i(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=nu(d,u),this.eventGenerator_=new vA(this.query_)}get query(){return this.query_}}function KA(t){return t.viewCache_.serverCache.getNode()}function qA(t,e){const n=wi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!oe(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function hy(t){return t.eventRegistrations_.length===0}function YA(t,e){t.eventRegistrations_.push(e)}function py(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function my(t,e,n,r){e.type===en.MERGE&&e.source.queryId!==null&&(D(wi(t.viewCache_),"We should always have a full cache before handling merges"),D(Lf(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=BA(t.processor_,i,e,n,r);return $A(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,_C(t,s.changes,s.viewCache.eventCache.getNode(),null)}function QA(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(De,(s,o)=>{r.push(Cs(s,o))}),n.isFullyInitialized()&&r.push(cC(n.getNode())),_C(t,r,n.getNode(),e)}function _C(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return yA(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc;class XA{constructor(){this.views=new Map}}function JA(t){D(!mc,"__referenceConstructor has already been defined"),mc=t}function ZA(){return D(mc,"Reference.ts has not been loaded"),mc}function e2(t){return t.views.size===0}function em(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return D(s!=null,"SyncTree gave us an op for an invalid query."),my(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(my(o,e,n,r));return s}}function t2(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=fc(n,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=Xp(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const c=nu(new _i(a,l,!1),new _i(r,i,!1));return new GA(e,c)}return o}function n2(t,e,n,r,i,s){const o=t2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),YA(o,n),QA(o,n)}function r2(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Pr(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(py(c,n,r)),hy(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(py(l,n,r)),hy(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Pr(t)&&s.push(new(ZA())(e._repo,e._path)),{removed:s,events:o}}function wC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function os(t,e){let n=null;for(const r of t.views.values())n=n||qA(r,e);return n}function EC(t,e){if(e._queryParams.loadsAllData())return ru(t);{const r=e._queryIdentifier;return t.views.get(r)}}function CC(t,e){return EC(t,e)!=null}function Pr(t){return ru(t)!=null}function ru(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc;function i2(t){D(!gc,"__referenceConstructor has already been defined"),gc=t}function s2(){return D(gc,"Reference.ts has not been loaded"),gc}let o2=1;class gy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ye(null),this.pendingWriteTree_=DA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function a2(t,e,n,r,i){return CA(t.pendingWriteTree_,e,n,r,i),i?Us(t,new yi(Kp(),e,n)):[]}function l2(t,e,n,r){SA(t.pendingWriteTree_,e,n,r);const i=ye.fromObject(n);return Us(t,new Ss(Kp(),e,i))}function Zr(t,e,n=!1){const r=kA(t.pendingWriteTree_,e);if(NA(t.pendingWriteTree_,e)){let s=new ye(null);return r.snap!=null?s=s.set(de(),!0):nt(r.children,o=>{s=s.set(new pe(o),!0)}),Us(t,new dc(r.path,s,n))}else return[]}function iu(t,e,n){return Us(t,new yi(qp(),e,n))}function c2(t,e,n){const r=ye.fromObject(n);return Us(t,new Ss(qp(),e,r))}function u2(t,e){return Us(t,new oa(qp(),e))}function d2(t,e,n){const r=tm(t,n);if(r){const i=nm(r),s=i.path,o=i.queryId,a=_t(s,e),l=new oa(Yp(o),a);return rm(t,s,l)}else return[]}function zf(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||CC(o,e))){const l=r2(o,e,n,r);e2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>Pr(p));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=p2(f);for(let h=0;h<p.length;++h){const y=p[h],E=y.query,g=TC(t,y);t.listenProvider_.startListening(Io(E),vc(t,E),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Io(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(su(f));t.listenProvider_.stopListening(Io(f),p)}))}m2(t,c)}return a}function f2(t,e,n,r){const i=tm(t,r);if(i!=null){const s=nm(i),o=s.path,a=s.queryId,l=_t(o,e),c=new yi(Yp(a),l,n);return rm(t,o,c)}else return[]}function h2(t,e,n,r){const i=tm(t,r);if(i){const s=nm(i),o=s.path,a=s.queryId,l=_t(o,e),c=ye.fromObject(n),u=new Ss(Yp(a),l,c);return rm(t,o,u)}else return[]}function vy(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const h=_t(f,i);s=s||os(p,h),o=o||Pr(p)});let a=t.syncPointTree_.get(i);a?(o=o||Pr(a),s=s||os(a,de())):(a=new XA,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,h)=>{const y=os(h,de());y&&(s=s.updateImmediateChild(p,y))}));const c=CC(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=su(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=g2();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=Qp(t.pendingWriteTree_,i);let d=n2(a,e,n,u,s,l);if(!c&&!o&&!r){const f=EC(a,e);d=d.concat(v2(t,e,f))}return d}function SC(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=_t(o,e),c=os(a,l);if(c)return c});return pC(i,e,s,n,!0)}function Us(t,e){return kC(e,t.syncPointTree_,null,Qp(t.pendingWriteTree_,de()))}function kC(t,e,n,r){if(oe(t.path))return NC(t,e,n,r);{const i=e.get(de());n==null&&i!=null&&(n=os(i,de()));let s=[];const o=se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=mC(r,o);s=s.concat(kC(a,l,c,u))}return i&&(s=s.concat(em(i,t,r,n))),s}}function NC(t,e,n,r){const i=e.get(de());n==null&&i!=null&&(n=os(i,de()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=mC(r,o),u=t.operationForChild(o);u&&(s=s.concat(NC(u,a,l,c)))}),i&&(s=s.concat(em(i,t,r,n))),s}function TC(t,e){const n=e.query,r=vc(t,n);return{hashFn:()=>(KA(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?d2(t,n._path,r):u2(t,n._path);{const s=lP(i,n);return zf(t,n,null,s)}}}}function vc(t,e){const n=su(e);return t.queryToTagMap.get(n)}function su(t){return t._path.toString()+"$"+t._queryIdentifier}function tm(t,e){return t.tagToQueryMap.get(e)}function nm(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function rm(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=Qp(t.pendingWriteTree_,e);return em(r,n,i,null)}function p2(t){return t.fold((e,n,r)=>{if(n&&Pr(n))return[ru(n)];{let i=[];return n&&(i=wC(n)),nt(r,(s,o)=>{i=i.concat(o)}),i}})}function Io(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(s2())(t._repo,t._path):t}function m2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=su(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function g2(){return o2++}function v2(t,e,n){const r=e._path,i=vc(t,e),s=TC(t,n),o=t.listenProvider_.startListening(Io(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!Pr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!oe(c)&&u&&Pr(u))return[ru(u).query];{let f=[];return u&&(f=f.concat(wC(u).map(p=>p.query))),nt(d,(p,h)=>{f=f.concat(h)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Io(u),vc(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new im(n)}node(){return this.node_}}class sm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ae(this.path_,e);return new sm(this.syncTree_,n)}node(){return SC(this.syncTree_,this.path_)}}const y2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yy=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return w2(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},w2=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},IC=function(t,e,n,r){return om(e,new sm(n,t),r)},E2=function(t,e,n){return om(t,new im(e),n)};function om(t,e,n){const r=t.getPriority().val(),i=yy(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=yy(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new We(a,Ze(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new We(i))),o.forEachChild(De,(a,l)=>{const c=om(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function lm(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=se(n);for(;i!==null;){const s=ws(r.node.children,i)||{children:{},childCount:0};r=new am(i,r,s),n=_e(n),i=se(n)}return r}function Fs(t){return t.node.value}function bC(t,e){t.node.value=e,Wf(t)}function RC(t){return t.node.childCount>0}function C2(t){return Fs(t)===void 0&&!RC(t)}function ou(t,e){nt(t.node.children,(n,r)=>{e(new am(n,t,r))})}function xC(t,e,n,r){n&&!r&&e(t),ou(t,i=>{xC(i,e,!0,r)}),n&&r&&e(t)}function S2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ta(t){return new pe(t.parent===null?t.name:Ta(t.parent)+"/"+t.name)}function Wf(t){t.parent!==null&&k2(t.parent,t.name,t)}function k2(t,e,n){const r=C2(n),i=wn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/[\[\].#$\/\u0000-\u001F\u007F]/,T2=/[\[\].#$\u0000-\u001F\u007F]/,ld=10*1024*1024,cm=function(t){return typeof t=="string"&&t.length!==0&&!N2.test(t)},OC=function(t){return typeof t=="string"&&t.length!==0&&!T2.test(t)},I2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OC(t)},b2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Lp(t)||t&&typeof t=="object"&&wn(t,".sv")},um=function(t,e,n){const r=n instanceof pe?new zP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Kr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Kr(r)+" with contents = "+e.toString());if(Lp(e))throw new Error(t+"contains "+e.toString()+" "+Kr(r));if(typeof e=="string"&&e.length>ld/3&&Zc(e)>ld)throw new Error(t+"contains a string greater than "+ld+" utf8 bytes "+Kr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(nt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Kr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WP(r,o),um(t,a,r),HP(r)}),i&&s)throw new Error(t+' contains ".value" child '+Kr(r)+" in addition to actual children.")}},R2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=na(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!cm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(jP);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&$t(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},x2=function(t,e,n,r){if(r&&e===void 0)return;const i=Pp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];nt(e,(o,a)=>{const l=new pe(o);if(um(i,a,Ae(n,l)),jp(l)===".priority"&&!b2(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),R2(i,s)},PC=function(t,e,n,r){if(!(r&&n===void 0)&&!OC(n))throw new Error(Pp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},O2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),PC(t,e,n,r)},P2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!I2(n))throw new Error(Pp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!zp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function AC(t,e,n){dm(t,n),DC(t,r=>zp(r,e))}function Wn(t,e,n){dm(t,n),DC(t,r=>$t(r,e)||$t(e,r))}function DC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(D2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function D2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();si&&Je("event: "+n.toString()),Ls(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="repo_interrupt",L2=25;class U2{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new A2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uc(),this.transactionQueueTree_=new am,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function F2(t,e,n){if(t.stats_=$p(t.repoInfo_),t.forceRestClient_||fP())t.server_=new cc(t.repoInfo_,(r,i,s,o)=>{_y(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Mn(t.repoInfo_,e,(r,i,s,o)=>{_y(t,r,i,s,o)},r=>{wy(t,r)},r=>{B2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=vP(t.repoInfo_,()=>new gA(t.stats_,t.server_)),t.infoData_=new dA,t.infoSyncTree_=new gy({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=iu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),hm(t,"connected",!1),t.serverSyncTree_=new gy({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Wn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function $2(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fm(t){return y2({timestamp:$2(t)})}function _y(t,e,n,r,i){t.dataUpdateCount++;const s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=rc(n,c=>Ze(c));o=h2(t.serverSyncTree_,s,l,i)}else{const l=Ze(n);o=f2(t.serverSyncTree_,s,l,i)}else if(r){const l=rc(n,c=>Ze(c));o=c2(t.serverSyncTree_,s,l)}else{const l=Ze(n);o=iu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=aa(t,s)),Wn(t.eventQueue_,a,o)}function wy(t,e){hm(t,"connected",e),e===!1&&z2(t)}function B2(t,e){nt(e,(n,r)=>{hm(t,n,r)})}function hm(t,e,n){const r=new pe("/.info/"+e),i=Ze(n);t.infoData_.updateSnapshot(r,i);const s=iu(t.infoSyncTree_,r,i);Wn(t.eventQueue_,r,s)}function MC(t){return t.nextWriteId_++}function j2(t,e,n,r){pm(t,"update",{path:e.toString(),value:n});let i=!0;const s=fm(t),o={};if(nt(n,(a,l)=>{i=!1,o[a]=IC(Ae(e,a),Ze(l),t.serverSyncTree_,s)}),i)Je("update() called with empty data.  Don't do anything."),Cy(t,r,"ok",void 0);else{const a=MC(t),l=l2(t.serverSyncTree_,e,o,a);dm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Tt("update at "+e+" failed: "+c);const f=Zr(t.serverSyncTree_,a,!d),p=f.length>0?aa(t,e):e;Wn(t.eventQueue_,p,f),Cy(t,r,c,u)}),nt(n,c=>{const u=BC(t,Ae(e,c));aa(t,u)}),Wn(t.eventQueue_,e,[])}}function z2(t){pm(t,"onDisconnectEvents");const e=fm(t),n=uc();Mf(t.onDisconnect_,de(),(i,s)=>{const o=IC(i,s,t.serverSyncTree_,e);uC(n,i,o)});let r=[];Mf(n,de(),(i,s)=>{r=r.concat(iu(t.serverSyncTree_,i,s));const o=BC(t,i);aa(t,o)}),t.onDisconnect_=uc(),Wn(t.eventQueue_,de(),r)}function W2(t,e,n){let r;se(e._path)===".info"?r=vy(t.infoSyncTree_,e,n):r=vy(t.serverSyncTree_,e,n),AC(t.eventQueue_,e._path,r)}function Ey(t,e,n){let r;se(e._path)===".info"?r=zf(t.infoSyncTree_,e,n):r=zf(t.serverSyncTree_,e,n),AC(t.eventQueue_,e._path,r)}function H2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(M2)}function pm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Je(n,...e)}function Cy(t,e,n,r){e&&Ls(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function LC(t,e,n){return SC(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function mm(t,e=t.transactionQueueTree_){if(e||au(t,e),Fs(e)){const n=FC(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&V2(t,Ta(e),n)}else RC(e)&&ou(e,n=>{mm(t,n)})}function V2(t,e,n){const r=n.map(c=>c.currentWriteId),i=LC(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];D(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=_t(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{pm(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Zr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();au(t,lm(t.transactionQueueTree_,e)),mm(t,t.transactionQueueTree_),Wn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ls(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Tt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}aa(t,e)}},o)}function aa(t,e){const n=UC(t,e),r=Ta(n),i=FC(t,n);return G2(t,i,r),r}function G2(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=_t(n,l.path);let u=!1,d;if(D(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Zr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=L2)u=!0,d="maxretry",i=i.concat(Zr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=LC(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){um("transaction failed: Data returned ",p,l.path);let h=Ze(p);typeof p=="object"&&p!=null&&wn(p,".priority")||(h=h.updatePriority(f.getPriority()));const E=l.currentWriteId,g=fm(t),v=E2(h,f,g);l.currentOutputSnapshotRaw=h,l.currentOutputSnapshotResolved=v,l.currentWriteId=MC(t),o.splice(o.indexOf(E),1),i=i.concat(a2(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Zr(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(Zr(t.serverSyncTree_,l.currentWriteId,!0))}Wn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}au(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ls(r[a]);mm(t,t.transactionQueueTree_)}function UC(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&Fs(r)===void 0;)r=lm(r,n),e=_e(e),n=se(e);return r}function FC(t,e){const n=[];return $C(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $C(t,e,n){const r=Fs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ou(e,i=>{$C(t,i,n)})}function au(t,e){const n=Fs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,bC(e,n.length>0?n:void 0)}ou(e,r=>{au(t,r)})}function BC(t,e){const n=Ta(UC(t,e)),r=lm(t.transactionQueueTree_,e);return S2(r,i=>{cd(t,i)}),cd(t,r),xC(r,i=>{cd(t,i)}),n}function cd(t,e){const n=Fs(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Zr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?bC(e,void 0):n.length=s+1,Wn(t.eventQueue_,Ta(e),i);for(let o=0;o<r.length;o++)Ls(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function q2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Sy=function(t,e){const n=Y2(t),r=n.namespace;n.domain==="firebase.com"&&zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KE(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pe(n.pathString)}},Y2=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=K2(t.substring(u,d)));const f=q2(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const h=e.indexOf(".");r=e.substring(0,h).toLowerCase(),n=e.substring(h+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class zC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return oe(this._path)?null:jp(this._path)}get ref(){return new Qn(this._repo,this._path)}get _queryIdentifier(){const e=oy(this._queryParams),n=Up(e);return n==="{}"?"default":n}get _queryObject(){return oy(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof gm))return!1;const n=this._repo===e._repo,r=zp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+BP(this._path)}}class Qn extends gm{constructor(e,n){super(e,n,new Gp,!1)}get parent(){const e=nC(this._path);return e===null?null:new Qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class la{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pe(e),r=yc(this.ref,e);return new la(this._node.getChild(n),r,De)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new la(i,yc(this.ref,r),De)))}hasChild(e){const n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function WC(t,e){return t=mt(t),t._checkNotDeleted("ref"),e!==void 0?yc(t._root,e):t._root}function yc(t,e){return t=mt(t),se(t._path)===null?O2("child","path",e,!1):PC("child","path",e,!1),new Qn(t._repo,Ae(t._path,e))}function X2(t,e){x2("update",e,t._path,!1);const n=new Jc;return j2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class vm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new jC("value",this,new la(e.snapshotNode,new Qn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zC(this,e,n):null}matches(e){return e instanceof vm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ym{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zC(this,e,n):null}createEvent(e,n){D(e.childName!=null,"Child events should have a childName.");const r=yc(new Qn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new jC(e.type,this,new la(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ym?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function J2(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{Ey(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Q2(n,s||void 0),a=e==="value"?new vm(o):new ym(e,o);return W2(t._repo,t,a),()=>Ey(t._repo,t,a)}function Z2(t,e,n,r){return J2(t,"value",e,n,r)}JA(Qn);i2(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="FIREBASE_DATABASE_EMULATOR_HOST",Hf={};let tD=!1;function nD(t,e,n,r){t.repoInfo_=new KE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function rD(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Sy(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[eD]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Sy(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new is(is.OWNER):new pP(t.name,t.options,e);P2("Invalid Firebase Database URL",o),oe(o.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=sD(a,t,u,new hP(t.name,n));return new oD(d,t)}function iD(t,e){const n=Hf[e];(!n||n[t.key]!==t)&&zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),H2(t),delete n[t.key]}function sD(t,e,n,r){let i=Hf[e.name];i||(i={},Hf[e.name]=i);let s=i[t.toURLString()];return s&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new U2(t,tD,n,r),i[t.toURLString()]=s,s}class oD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(F2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zn("Cannot call "+e+" on a deleted database.")}}function aD(t=Mp(),e){const n=eu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=CE("database");r&&lD(n,...r)}return n}function lD(t,e,n,r={}){t=mt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&zn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new is(is.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:kE(r.mockUserToken,t.app.options.projectId);s=new is(o)}nD(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){JO(Ms),gi(new xr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return rD(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),gn(Wv,Hv,t),gn(Wv,Hv,"esm2017")}Mn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Mn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};cD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebasestorage.googleapis.com",VC="storageBucket",uD=2*60*1e3,dD=10*60*1e3,fD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe extends Yn{constructor(e,n,r=0){super(ud(e),`Firebase Storage: ${n} (${ud(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ud(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ke||(ke={}));function ud(t){return"storage/"+t}function _m(){const t="An unknown error occurred, please check the error payload for server response.";return new Oe(ke.UNKNOWN,t)}function hD(t){return new Oe(ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pD(t){return new Oe(ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oe(ke.UNAUTHENTICATED,t)}function gD(){return new Oe(ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vD(t){return new Oe(ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GC(){return new Oe(ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KC(){return new Oe(ke.CANCELED,"User canceled the upload/download.")}function yD(t){return new Oe(ke.INVALID_URL,"Invalid URL '"+t+"'.")}function _D(t){return new Oe(ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wD(){return new Oe(ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VC+"' property when initializing the app?")}function qC(){return new Oe(ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ED(){return new Oe(ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function CD(){return new Oe(ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SD(t){return new Oe(ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vf(t){return new Oe(ke.INVALID_ARGUMENT,t)}function YC(){return new Oe(ke.APP_DELETED,"The Firebase app was deleted.")}function kD(t){return new Oe(ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bo(t,e){return new Oe(ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function io(t){throw new Oe(ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xt.makeFromUrl(e,n)}catch{return new xt(e,"")}if(r.path==="")return r;throw _D(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),h={bucket:1,path:3},y=n===HC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:h,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const k=w[C],S=k.regex.exec(e);if(S){const N=S[k.indices.bucket];let I=S[k.indices.path];I||(I=""),r=new xt(N,I),k.postModify(r);break}}if(r==null)throw yD(e);return r}}class ND{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function f(){s&&clearTimeout(s)}function p(E,...g){if(c){f();return}if(E){f(),u.call(null,E,...g);return}if(l()||o){f(),u.call(null,E,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let h=!1;function y(E){h||(h=!0,f(),!c&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function ID(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){return t!==void 0}function RD(t){return typeof t=="function"}function xD(t){return typeof t=="object"&&!Array.isArray(t)}function lu(t){return typeof t=="string"||t instanceof String}function ky(t){return wm()&&t instanceof Blob}function wm(){return typeof Blob<"u"&&!Px()}function Ny(t,e,n,r){if(r<e)throw Vf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Vf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function QC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oi||(oi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,h)=>{this.resolve_=p,this.reject_=h,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new tl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===oi.NO_ERROR,l=s.getStatus();if(!a||XC(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===oi.ABORT;r(!1,new tl(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new tl(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bD(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=_m();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?YC():KC();o(l)}else{const l=GC();o(l)}};this.canceled_?n(!1,new tl(!1,null,!0)):this.backoffId_=TD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ID(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LD(t,e,n,r,i,s,o=!0){const a=QC(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return DD(c,e),PD(c,n),AD(c,s),MD(c,r),new OD(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FD(...t){const e=UD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wm())return new Blob(t);throw new Oe(ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $D(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){if(typeof atob>"u")throw SD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dd{constructor(e,n){this.data=e,this.contentType=n||null}}function jD(t,e){switch(t){case dn.RAW:return new dd(JC(e));case dn.BASE64:case dn.BASE64URL:return new dd(ZC(t,e));case dn.DATA_URL:return new dd(WD(e),HD(e))}throw _m()}function JC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zD(t){let e;try{e=decodeURIComponent(t)}catch{throw bo(dn.DATA_URL,"Malformed data URL.")}return JC(e)}function ZC(t,e){switch(t){case dn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw bo(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case dn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw bo(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BD(e)}catch(i){throw i.message.includes("polyfill")?i:bo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class e1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bo(dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WD(t){const e=new e1(t);return e.base64?ZC(dn.BASE64,e.rest):zD(e.rest)}function HD(t){return new e1(t).contentType}function VD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){let r=0,i="";ky(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ky(this.data_)){const r=this.data_,i=$D(r,e,n);return i===null?null:new ar(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ar(r,!0)}}static getBlob(...e){if(wm()){const n=e.map(r=>r instanceof ar?r.data_:r);return new ar(FD.apply(null,n))}else{const n=e.map(o=>lu(o)?jD(dn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ar(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){let e;try{e=JSON.parse(t)}catch{return null}return xD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function n1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e){return e}class ut{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||qD}}let nl=null;function YD(t){return!lu(t)||t.length<2?t:n1(t)}function r1(){if(nl)return nl;const t=[];t.push(new ut("bucket")),t.push(new ut("generation")),t.push(new ut("metageneration")),t.push(new ut("name","fullPath",!0));function e(s,o){return YD(o)}const n=new ut("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ut("size");return i.xform=r,t.push(i),t.push(new ut("timeCreated")),t.push(new ut("updated")),t.push(new ut("md5Hash",null,!0)),t.push(new ut("cacheControl",null,!0)),t.push(new ut("contentDisposition",null,!0)),t.push(new ut("contentEncoding",null,!0)),t.push(new ut("contentLanguage",null,!0)),t.push(new ut("contentType",null,!0)),t.push(new ut("metadata","customMetadata",!0)),nl=t,nl}function QD(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new xt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function XD(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return QD(r,t),r}function i1(t,e,n){const r=t1(e);return r===null?null:XD(t,r,n)}function JD(t,e,n,r){const i=t1(e);if(i===null||!lu(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=Ia(f,n,r),h=QC({alt:"media",token:c});return p+h})[0]}function s1(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class $s{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){if(!t)throw _m()}function Em(t,e){function n(r,i){const s=i1(t,i,e);return Ln(s!==null),s}return n}function ZD(t,e){function n(r,i){const s=i1(t,i,e);return Ln(s!==null),JD(s,i,t.host,t._protocol)}return n}function ba(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gD():i=mD():n.getStatus()===402?i=pD(t.bucket):n.getStatus()===403?i=vD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function o1(t){const e=ba(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=hD(t.path)),s.serverResponse=i.serverResponse,s}return n}function eM(t,e,n){const r=e.fullServerUrl(),i=Ia(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $s(i,s,Em(t,n),o);return a.errorHandler=o1(e),a}function tM(t,e,n){const r=e.fullServerUrl(),i=Ia(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $s(i,s,ZD(t,n),o);return a.errorHandler=o1(e),a}function nM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function a1(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=nM(null,e)),r}function rM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=a1(e,r,i),u=s1(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=ar.getBlob(d,r,f);if(p===null)throw qC();const h={name:c.fullPath},y=Ia(s,t.host,t._protocol),E="POST",g=t.maxUploadRetryTime,v=new $s(y,E,Em(t,n),g);return v.urlParams=h,v.headers=o,v.body=p.uploadData(),v.errorHandler=ba(e),v}class _c{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Cm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ln(!1)}return Ln(!!n&&(e||["active"]).indexOf(n)!==-1),n}function iM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=a1(e,r,i),a={name:o.fullPath},l=Ia(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=s1(o,n),f=t.maxUploadRetryTime;function p(y){Cm(y);let E;try{E=y.getResponseHeader("X-Goog-Upload-URL")}catch{Ln(!1)}return Ln(lu(E)),E}const h=new $s(l,c,p,f);return h.urlParams=a,h.headers=u,h.body=d,h.errorHandler=ba(e),h}function sM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=Cm(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ln(!1)}d||Ln(!1);const f=Number(d);return Ln(!isNaN(f)),new _c(f,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new $s(n,o,s,a);return l.headers=i,l.errorHandler=ba(e),l}const Ty=256*1024;function oM(t,e,n,r,i,s,o,a){const l=new _c(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw ED();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,f=d+u;let p="";u===0?p="finalize":c===u?p="upload, finalize":p="upload";const h={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(d,f);if(y===null)throw qC();function E(C,k){const S=Cm(C,["active","final"]),N=l.current+u,I=r.size();let x;return S==="final"?x=Em(e,s)(C,k):x=null,new _c(N,I,S==="final",x)}const g="POST",v=e.maxUploadRetryTime,w=new $s(n,g,E,v);return w.headers=h,w.body=y.uploadData(),w.progressCallback=a||null,w.errorHandler=ba(t),w}const gt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fd(t){switch(t){case"running":case"pausing":case"canceling":return gt.RUNNING;case"paused":return gt.PAUSED;case"success":return gt.SUCCESS;case"canceled":return gt.CANCELED;case"error":return gt.ERROR;default:return gt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r){if(RD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class lM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw io("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw io("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw io("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw io("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw io("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cM extends lM{initXhr(){this.xhr_.responseType="text"}}function Mi(){return new cM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=r1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(XC(i.status,[]))if(s)i=GC();else{this.sleepTime=Math.max(this.sleepTime*2,fD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ke.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=iM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Mi,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=sM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Mi,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Ty*this._chunkMultiplier,n=new _c(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=oM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Mi,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Ty*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=eM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Mi,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=rM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Mi,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=KC(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=fd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new aM(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(fd(this._state)){case gt.SUCCESS:Di(this._resolve.bind(null,this.snapshot))();break;case gt.CANCELED:case gt.ERROR:const n=this._reject;Di(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(fd(this._state)){case gt.RUNNING:case gt.PAUSED:e.next&&Di(e.next.bind(e,this.snapshot))();break;case gt.SUCCESS:e.complete&&Di(e.complete.bind(e))();break;case gt.CANCELED:case gt.ERROR:e.error&&Di(e.error.bind(e,this._error))();break;default:e.error&&Di(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this._service=e,n instanceof xt?this._location=n:this._location=xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ei(e,n)}get root(){const e=new xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n1(this._location.path)}get storage(){return this._service}get parent(){const e=GD(this._location.path);if(e===null)return null;const n=new xt(this._location.bucket,e);return new Ei(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kD(e)}}function dM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new uM(t,new ar(e),n)}function fM(t){t._throwIfRoot("getDownloadURL");const e=tM(t.storage,t._location,r1());return t.storage.makeRequestWithTokens(e,Mi).then(n=>{if(n===null)throw CD();return n})}function hM(t,e){const n=KD(t._location.path,e),r=new xt(t._location.bucket,n);return new Ei(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){return/^[A-Za-z]+:\/\//.test(t)}function mM(t,e){return new Ei(t,e)}function l1(t,e){if(t instanceof Sm){const n=t;if(n._bucket==null)throw wD();const r=new Ei(n,n._bucket);return e!=null?l1(r,e):r}else return e!==void 0?hM(t,e):t}function gM(t,e){if(e&&pM(e)){if(t instanceof Sm)return mM(t,e);throw Vf("To use ref(service, url), the first argument must be a Storage instance.")}else return l1(t,e)}function Iy(t,e){const n=e==null?void 0:e[VC];return n==null?null:xt.makeFromBucketSpec(n,t)}function vM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kE(i,t.app.options.projectId))}class Sm{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=HC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uD,this._maxUploadRetryTime=dD,this._requests=new Set,i!=null?this._bucket=xt.makeFromBucketSpec(i,this._host):this._bucket=Iy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xt.makeFromBucketSpec(this._url,e):this._bucket=Iy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ny("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ny("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ei(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ND(YC());{const o=LD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const by="@firebase/storage",Ry="0.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="storage";function yM(t,e,n){return t=mt(t),dM(t,e,n)}function _M(t){return t=mt(t),fM(t)}function wM(t,e){return t=mt(t),gM(t,e)}function EM(t=Mp(),e){t=mt(t);const r=eu(t,c1).getImmediate({identifier:e}),i=CE("storage");return i&&CM(r,...i),r}function CM(t,e,n,r={}){vM(t,e,n,r)}function SM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Sm(n,r,i,e,Ms)}function kM(){gi(new xr(c1,SM,"PUBLIC").setMultipleInstances(!0)),gn(by,Ry,""),gn(by,Ry,"esm2017")}kM();function km(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NM=u1,d1=new Ca("auth","Firebase",u1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Ap("@firebase/auth");function wl(t,...e){xy.logLevel<=me.ERROR&&xy.error(`Auth (${Ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw Nm(t,...e)}function vn(t,...e){return Nm(t,...e)}function f1(t,e,n){const r=Object.assign(Object.assign({},NM()),{[e]:n});return new Ca("auth","Firebase",r).create(e,{appName:t.name})}function TM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_n(t,"argument-error"),f1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d1.create(t,...e)}function J(t,e,...n){if(!t)throw Nm(e,...n)}function On(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wl(e),new Error(e)}function Hn(t,e){t||On(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;function Pn(t){Hn(t instanceof Function,"Expected a class definition");let e=Oy.get(t);return e?(Hn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Oy.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){const n=eu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ic(s,e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}function bM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RM(){return Py()==="http:"||Py()==="https:"}function Py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RM()||Ax()||"connection"in navigator)?navigator.onLine:!0}function OM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hn(n>e,"Short delay should be less than long delay!"),this.isMobile=Op()||NE()}get(){return xM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e){Hn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new Ra(3e4,6e4);function DM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cu(t,e,n,r,i={}){return p1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ds(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),h1.fetch()(m1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function p1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PM),e);try{const i=new LM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw rl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rl(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw f1(t,u,c);_n(t,u)}}catch(i){if(i instanceof Yn)throw i;_n(t,"network-request-failed")}}async function MM(t,e,n,r,i={}){const s=await cu(t,e,n,r,i);return"mfaPendingCredential"in s&&_n(t,"multi-factor-auth-required",{_serverResponse:s}),s}function m1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Tm(t.config,i):`${t.config.apiScheme}://${i}`}class LM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vn(this.auth,"network-request-failed")),AM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e){return cu(t,"POST","/v1/accounts:delete",e)}async function FM(t,e){return cu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $M(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=Im(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ro(hd(i.auth_time)),issuedAtTime:Ro(hd(i.iat)),expirationTime:Ro(hd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hd(t){return Number(t)*1e3}function Im(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wl("JWT malformed, contained fewer than 3 sections"),null;try{const i=nc(n);return i?JSON.parse(i):(wl("Failed to decode base64 JWT payload"),null)}catch(i){return wl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BM(t){const e=Im(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&jM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ca(t,FM(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VM(s.providerUserInfo):[],a=HM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new g1(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function WM(t){const e=mt(t);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VM(t){return t.map(e=>{var{providerId:n}=e,r=km(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e){const n=await p1(t,{},async()=>{const r=Ds({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=m1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",h1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await GM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ua;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new g1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ca(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $M(this,e)}reload(){return WM(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ca(this,UM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,h=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:C,isAnonymous:k,providerData:S,stsTokenManager:N}=n;J(w&&N,e,"internal-error");const I=ua.fromJSON(this.name,N);J(typeof w=="string",e,"internal-error"),tr(d,e.name),tr(f,e.name),J(typeof C=="boolean",e,"internal-error"),J(typeof k=="boolean",e,"internal-error"),tr(p,e.name),tr(h,e.name),tr(y,e.name),tr(E,e.name),tr(g,e.name),tr(v,e.name);const x=new ai({uid:w,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:k,photoURL:h,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(x.providerData=S.map(b=>Object.assign({},b))),E&&(x._redirectEventId=E),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new ua;i.updateFromServerResponse(n);const s=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wc(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v1.type="NONE";const Ay=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e,n){return`firebase:${t}:${e}:${n}`}class as{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=El(this.userKey,i.apiKey,s),this.fullPersistenceKey=El("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new as(Pn(Ay),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Pn(Ay);const o=El(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ai._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new as(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new as(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C1(e))return"Blackberry";if(S1(e))return"Webos";if(bm(e))return"Safari";if((e.includes("chrome/")||_1(e))&&!e.includes("edge/"))return"Chrome";if(E1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function y1(t=lt()){return/firefox\//i.test(t)}function bm(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _1(t=lt()){return/crios\//i.test(t)}function w1(t=lt()){return/iemobile/i.test(t)}function E1(t=lt()){return/android/i.test(t)}function C1(t=lt()){return/blackberry/i.test(t)}function S1(t=lt()){return/webos/i.test(t)}function uu(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KM(t=lt()){var e;return uu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qM(){return Dx()&&document.documentMode===10}function k1(t=lt()){return uu(t)||E1(t)||S1(t)||C1(t)||/windows phone/i.test(t)||w1(t)}function YM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e=[]){let n;switch(t){case"Browser":n=Dy(lt());break;case"Worker":n=`${Dy(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new My(this),this.idTokenSubscription=new My(this),this.beforeStateQueue=new QM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await as.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?mt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await as.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return J(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function du(t){return mt(t)}class My{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wx(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function JM(t,e,n){const r=du(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=T1(e),{host:o,port:a}=ZM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||eL()}function T1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZM(t){const e=T1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ly(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ly(o)}}}function Ly(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(t,e){return MM(t,"POST","/v1/accounts:signInWithIdp",DM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="http://localhost";class Ci extends I1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=km(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ci(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ls(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ls(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ls(e,n)}buildRequest(){const e={requestUri:tL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ds(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends xa{constructor(){super("facebook.com")}static credential(e){return Ci._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ci._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return In.credentialFromTaggedObject(e)}static credentialFromError(e){return In.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return In.credential(n,r)}catch{return null}}}In.GOOGLE_SIGN_IN_METHOD="google.com";In.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends xa{constructor(){super("github.com")}static credential(e){return Ci._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends xa{constructor(){super("twitter.com")}static credential(e,n){return Ci._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ai._fromIdTokenResponse(e,r,i),o=Uy(r);return new Ns({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Uy(r);return new Ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Uy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Yn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ec(e,n,r,i)}}function b1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ec._fromErrorAndOperation(t,s,e,r):s})}async function nL(t,e,n=!1){const r=await ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ca(t,b1(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=Im(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Ns._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e,n=!1){const r="signIn",i=await b1(t,r,e),s=await Ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function sL(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function oL(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function aL(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){const t=lt();return bm(t)||uu(t)}const cL=1e3,uL=10;class x1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=lL()&&YM(),this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);qM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}x1.type="LOCAL";const dL=x1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O1.type="SESSION";const P1=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await fL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=xm("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function pL(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function mL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vL(){return A1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebaseLocalStorageDb",yL=1,Sc="firebaseLocalStorage",M1="fbase_key";class Oa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hu(t,e){return t.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function _L(){const t=indexedDB.deleteDatabase(D1);return new Oa(t).toPromise()}function Kf(){const t=indexedDB.open(D1,yL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sc,{keyPath:M1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sc)?e(r):(r.close(),await _L(),e(await Kf()))})})}async function Fy(t,e,n){const r=hu(t,!0).put({[M1]:e,value:n});return new Oa(r).toPromise()}async function wL(t,e){const n=hu(t,!1).get(e),r=await new Oa(n).toPromise();return r===void 0?null:r.value}function $y(t,e){const n=hu(t,!0).delete(e);return new Oa(n).toPromise()}const EL=800,CL=3;class L1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fu._getInstance(vL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mL(),!this.activeServiceWorker)return;this.sender=new hL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kf();return await Fy(e,Cc,"1"),await $y(e,Cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$y(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hu(i,!1).getAll();return new Oa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L1.type="LOCAL";const SL=L1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function NL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kL().appendChild(r)})}function TL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Ra(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){return e?Pn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends I1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IL(t){return iL(t.auth,new Om(t),t.bypassAuthState)}function bL(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),rL(n,new Om(t),t.bypassAuthState)}async function RL(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),nL(n,new Om(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IL;case"linkViaPopup":case"linkViaRedirect":return RL;case"reauthViaPopup":case"reauthViaRedirect":return bL;default:_n(this.auth,"internal-error")}}resolve(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new Ra(2e3,1e4);async function OL(t,e,n){const r=du(t);TM(t,e,Rm);const i=U1(r,n);return new ei(r,"signInViaPopup",e,i).executeNotNull()}class ei extends F1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ei.currentPopupAction&&ei.currentPopupAction.cancel(),ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Hn(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,xL.get())};e()}}ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="pendingRedirect",Cl=new Map;class AL extends F1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cl.get(this.auth._key());if(!e){try{const r=await DL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cl.set(this.auth._key(),e)}return this.bypassAuthState||Cl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DL(t,e){const n=UL(e),r=LL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ML(t,e){Cl.set(t._key(),e)}function LL(t){return Pn(t._redirectPersistence)}function UL(t){return El(PL,t.config.apiKey,t.name)}async function FL(t,e,n=!1){const r=du(t),i=U1(r,e),o=await new AL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=10*60*1e3;class BL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$L&&this.cachedEventUids.clear(),this.cachedEventUids.has(By(e))}saveEventToCache(e){this.cachedEventUids.add(By(e)),this.lastProcessedEventTime=Date.now()}}function By(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e={}){return cu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HL=/^https?/;async function VL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zL(t);for(const n of e)try{if(GL(n))return}catch{}_n(t,"unauthorized-domain")}function GL(t){const e=Gf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HL.test(n))return!1;if(WL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new Ra(3e4,6e4);function jy(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qL(t){return new Promise((e,n)=>{var r,i,s;function o(){jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jy(),n(vn(t,"network-request-failed"))},timeout:KL.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yn().gapi)===null||s===void 0)&&s.load)o();else{const a=TL("iframefcb");return yn()[a]=()=>{gapi.load?o():n(vn(t,"network-request-failed"))},NL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sl=null,e})}let Sl=null;function YL(t){return Sl=Sl||qL(t),Sl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new Ra(5e3,15e3),XL="__/auth/iframe",JL="emulator/auth/iframe",ZL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tU(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tm(e,JL):`https://${t.config.authDomain}/${XL}`,r={apiKey:e.apiKey,appName:t.name,v:Ms},i=eU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ds(r).slice(1)}`}async function nU(t){const e=await YL(t),n=yn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:tU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),a=yn().setTimeout(()=>{s(o)},QL.get());function l(){yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iU=500,sU=600,oU="_blank",aU="http://localhost";class zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lU(t,e,n,r=iU,i=sU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rU),{width:r.toString(),height:i.toString(),top:s,left:o}),c=lt().toLowerCase();n&&(a=_1(c)?oU:n),y1(c)&&(e=e||aU,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,h])=>`${f}${p}=${h},`,"");if(KM(c)&&a!=="_self")return cU(e||"",a),new zy(null);const d=window.open(e||"",a,u);J(d,t,"popup-blocked");try{d.focus()}catch{}return new zy(d)}function cU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="__/auth/handler",dU="emulator/auth/handler";function Wy(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ms,eventId:i};if(e instanceof Rm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Nf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof xa){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${fU(t)}?${Ds(a).slice(1)}`}function fU({config:t}){return t.emulator?Tm(t,dU):`https://${t.authDomain}/${uU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="webStorageSupport";class hU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P1,this._completeRedirectFn=FL,this._overrideRedirectResult=ML}async _openPopup(e,n,r,i){var s;Hn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Wy(e,n,r,Gf(),i);return lU(e,o,xm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),pL(Wy(e,n,r,Gf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nU(e),r=new BL(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pd,{type:pd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pd];o!==void 0&&n(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k1()||bm()||uu()}}const pU=hU;var Hy="@firebase/auth",Vy="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function vU(t){gi(new xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{J(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),J(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N1(t)},u=new XM(a,l,c);return bM(u,n),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new xr("auth-internal",e=>{const n=du(e.getProvider("auth").getImmediate());return(r=>new mU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(Hy,Vy,gU(t)),gn(Hy,Vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=5*60,_U=SE("authIdTokenMaxAge")||yU;let Gy=null;const wU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_U)return;const i=n==null?void 0:n.token;Gy!==i&&(Gy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function B1(t=Mp()){const e=eu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IM(t,{popupRedirectResolver:pU,persistence:[SL,dL,P1]}),r=SE("authTokenSyncURL");if(r){const s=wU(r);oL(n,s,()=>s(n.currentUser)),sL(n,o=>s(o))}const i=EE("auth");return i&&JM(n,`http://${i}`),n}vU("Browser");var EU="firebase",CU="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(EU,CU,"app");const SU={apiKey:"AIzaSyCXfdPxRt8Qvi3AZsXu1lxl9VJXuRlga_8",authDomain:"outfitoftheday-c3adf.firebaseapp.com",databaseURL:"https://outfitoftheday-c3adf-default-rtdb.firebaseio.com",projectId:"outfitoftheday-c3adf",storageBucket:"outfitoftheday-c3adf.appspot.com",messagingSenderId:"160151796856",appId:"1:160151796856:web:510e79243373c60cd0c18d"},pu=xE(SU),j1=aD(pu),kU=EM(pu),Ur=t=>{const[e,n]=m.useState(),[r,i]=m.useState(null);return m.useEffect(()=>Z2(WC(j1,t),s=>{n(s.val())},s=>{i(s)}),[t]),[e,r]},Ky=t=>{const e=Date.now(),n=(t==null?void 0:t.message)||`Updated: ${new Date(e).toLocaleString()}`;return{timestamp:e,error:t,message:n}},NU=t=>{const[e,n]=m.useState();return[m.useCallback(i=>{const s=wM(kU,t),o=yM(s,i);o.on("state_changed",a=>{const l=Math.round(a.bytesTransferred/a.totalBytes*100);console.log(l)},a=>{console.log(a)},()=>{_M(o.snapshot.ref).then(a=>{n(a)})})},[t]),e]},Ts=t=>{const[e,n]=m.useState();return[m.useCallback(i=>{X2(WC(j1,t),i).then(()=>n(Ky())).catch(s=>n(Ky(s)))},[t]),e]},TU=()=>{const[t,e]=m.useState();return m.useEffect(()=>aL(B1(pu),e),[]),[t]},IU=()=>{OL(B1(pu),new In)},bU=()=>{const[t]=TU(),[e,n]=Ts("/users/"),[r,i]=Ts("/closet/"),[s,o,a]=Ur("/users/");return m.useEffect(()=>{t&&!o&&!a&&(e({[t.uid]:{displayName:t.displayName,email:t.email,profilePic:t.photoURL}}),r({[t.uid]:{id:t.uid,tops:[],bottoms:[],shoes:[],dresses:[],jackets:[],favorites:{}}}))},[o,a,t,e,r]),[t,o,a]},on=()=>({uid:"33VC4ni86kMMYI1PiJtHuEAHCCj2",displayName:"Amy Doe",email:"amy@test.com",profilePic:"https://cdn-icons-png.flaticon.com/512/1946/1946429.png"}),zr=()=>{const t=on(),e=Kn();return t?_(Qu,{className:"navbar",children:A(M,{className:"navbar-container",children:[_(M,{className:"navbar-logo",children:_("img",{src:"src/components/layout/ootd-transparent.png",className:"icon-image",onClick:()=>e("/")})}),_(Qu.Toggle,{"aria-controls":"responsive-navbar-nav"}),A(Qu.Collapse,{id:"responsive-navbar-nav",className:"header-dropdown",children:[_(Dv,{size:24}),_(xv,{id:"collasible-nav-dropdown",align:"end",children:A(xv.Item,{onClick:()=>e("/add"),children:[_(Dv,{size:24})," Add Item"]})})]})]})}):_("h5",{className:"text-muted",children:"Loading user profile..."})};function RU(t){return Mt({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(t)}function xU(t){return Mt({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}}]})(t)}function OU(t){return Mt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10.551v-.678A4.005 4.005 0 0 0 16 6c0-2.206-1.794-4-4-4S8 3.794 8 6h2c0-1.103.897-2 2-2s2 .897 2 2-.897 2-2 2a1 1 0 0 0-1 1v1.551l-8.665 7.702A1.001 1.001 0 0 0 3 20h18a1.001 1.001 0 0 0 .664-1.748L13 10.551zM5.63 18 12 12.338 18.37 18H5.63z"}}]})(t)}const Wr=()=>{const t=Kn(),e=Xh(),n=28,[r,i]=m.useState("home");return m.useEffect(()=>{e.pathname==="/favorites"?i("favorites"):e.pathname==="/closet"?i("closet"):e.pathname==="/"&&i("home")},[e]),A("div",{className:"bottom-container",children:[_("div",{className:r==="favorites"?"favorites-btn-container active-container":"favorites-btn-container",onClick:()=>t("/favorites"),children:A("div",{className:"info-container",children:[r==="favorites"?_(Rp,{size:n}):_(gE,{size:n}),_("br",{}),"Favorites"]})}),_("div",{className:r==="home"?"home-btn-container active-container":"home-btn-container",onClick:()=>t("/"),children:A("div",{className:"info-container",children:[r==="home"?_(RU,{size:n}):_(xU,{size:n}),_("br",{}),"Home"]})}),_("div",{className:r==="closet"?"closet-btn-container active-container":"closet-btn-container",onClick:()=>t("/closet"),children:A("div",{className:"info-container",children:[_(OU,{size:n}),_("br",{}),"Closet"]})})]})},PU={bg:"primary",pill:!1},Pm=m.forwardRef(({bsPrefix:t,bg:e,pill:n,text:r,className:i,as:s="span",...o},a)=>{const l=ne(t,"badge");return _(s,{ref:a,...o,className:K(i,l,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});Pm.displayName="Badge";Pm.defaultProps=PU;const AU=Pm,DU={vertical:!1,role:"group"},Am=m.forwardRef(({bsPrefix:t,size:e,vertical:n,className:r,as:i="div",...s},o)=>{const a=ne(t,"btn-group");let l=a;return n&&(l=`${a}-vertical`),_(i,{...s,ref:o,className:K(r,l,e&&`${a}-${e}`)})});Am.displayName="ButtonGroup";Am.defaultProps=DU;const z1=m.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ne(t,"card-img");return _(r,{ref:s,className:K(n?`${o}-${n}`:o,e),...i})});z1.displayName="CardImg";const MU=z1,W1=m.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ne(t,"card-header"),o=m.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return _(hE.Provider,{value:o,children:_(n,{ref:i,...r,className:K(e,s)})})});W1.displayName="CardHeader";const LU=W1,UU=Kc("h5"),FU=Kc("h6"),H1=je("card-body"),$U=je("card-title",{Component:UU}),BU=je("card-subtitle",{Component:FU}),jU=je("card-link",{Component:"a"}),zU=je("card-text",{Component:"p"}),WU=je("card-footer"),HU=je("card-img-overlay"),VU={body:!1},Dm=m.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},c)=>{const u=ne(t,"card");return _(a,{ref:c,...l,className:K(e,u,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?_(H1,{children:o}):o})});Dm.displayName="Card";Dm.defaultProps=VU;const Qi=Object.assign(Dm,{Img:MU,Title:$U,Subtitle:BU,Body:H1,Link:jU,Text:zU,Header:LU,Footer:WU,ImgOverlay:HU});function GU(t,e){var n=m.useRef(!0);m.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}var qf=Math.pow(2,31)-1;function V1(t,e,n){var r=n-Date.now();t.current=r<=qf?setTimeout(e,r):setTimeout(function(){return V1(t,e,n)},qf)}function KU(){var t=np(),e=m.useRef();return rp(function(){return clearTimeout(e.current)}),m.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,s){s===void 0&&(s=0),t()&&(n(),s<=qf?e.current=setTimeout(i,s):V1(e,i,Date.now()+s))}return{set:r,clear:n}},[])}const qU=je("carousel-caption"),G1=m.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=K(n,ne(e,"carousel-item"));return _(t,{ref:i,...r,className:s})});G1.displayName="CarouselItem";const YU=G1;function qy(t,e){let n=0;return m.Children.map(t,r=>m.isValidElement(r)?e(r,n++):r)}function QU(t,e){let n=0;m.Children.forEach(t,r=>{m.isValidElement(r)&&e(r,n++)})}function XU(t,e){return m.Children.toArray(t).some(n=>m.isValidElement(n)&&n.type===e)}const JU=40,ZU={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:_("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:_("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function eF(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const Mm=m.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,slide:i,fade:s,controls:o,indicators:a,indicatorLabels:l,activeIndex:c,onSelect:u,onSlide:d,onSlid:f,interval:p,keyboard:h,onKeyDown:y,pause:E,onMouseOver:g,onMouseOut:v,wrap:w,touch:C,onTouchStart:k,onTouchMove:S,onTouchEnd:N,prevIcon:I,prevLabel:x,nextIcon:b,nextLabel:R,variant:U,className:z,children:X,...Z}=Wc(t,{activeIndex:"onSelect"}),V=ne(r,"carousel"),G=Jh(),O=m.useRef(null),[F,L]=m.useState("next"),[Y,W]=m.useState(!1),[ce,re]=m.useState(!1),[q,fe]=m.useState(c||0);m.useEffect(()=>{!ce&&c!==q&&(O.current?L(O.current):L((c||0)>q?"next":"prev"),i&&re(!0),fe(c||0))},[c,ce,q,i]),m.useEffect(()=>{O.current&&(O.current=null)});let ge=0,ze;QU(X,(ee,ve)=>{++ge,ve===c&&(ze=ee.props.interval)});const ct=kw(ze),Ue=m.useCallback(ee=>{if(ce)return;let ve=q-1;if(ve<0){if(!w)return;ve=ge-1}O.current="prev",u==null||u(ve,ee)},[ce,q,u,w,ge]),Ie=Te(ee=>{if(ce)return;let ve=q+1;if(ve>=ge){if(!w)return;ve=0}O.current="next",u==null||u(ve,ee)}),It=m.useRef();m.useImperativeHandle(e,()=>({element:It.current,prev:Ue,next:Ie}));const Ye=Te(()=>{!document.hidden&&eF(It.current)&&(G?Ue():Ie())}),te=F==="next"?"start":"end";GU(()=>{i||(d==null||d(q,te),f==null||f(q,te))},[q]);const Fr=`${V}-item-${F}`,Xn=`${V}-item-${te}`,Ri=m.useCallback(ee=>{ep(ee),d==null||d(q,te)},[d,q,te]),Bs=m.useCallback(()=>{re(!1),f==null||f(q,te)},[f,q,te]),js=m.useCallback(ee=>{if(h&&!/input|textarea/i.test(ee.target.tagName))switch(ee.key){case"ArrowLeft":ee.preventDefault(),G?Ie(ee):Ue(ee);return;case"ArrowRight":ee.preventDefault(),G?Ue(ee):Ie(ee);return}y==null||y(ee)},[h,y,Ue,Ie,G]),Gt=m.useCallback(ee=>{E==="hover"&&W(!0),g==null||g(ee)},[E,g]),Jn=m.useCallback(ee=>{W(!1),v==null||v(ee)},[v]),$r=m.useRef(0),an=m.useRef(0),Zn=KU(),le=m.useCallback(ee=>{$r.current=ee.touches[0].clientX,an.current=0,E==="hover"&&W(!0),k==null||k(ee)},[E,k]),Kt=m.useCallback(ee=>{ee.touches&&ee.touches.length>1?an.current=0:an.current=ee.touches[0].clientX-$r.current,S==null||S(ee)},[S]),Br=m.useCallback(ee=>{if(C){const ve=an.current;Math.abs(ve)>JU&&(ve>0?Ue(ee):Ie(ee))}E==="hover"&&Zn.set(()=>{W(!1)},p||void 0),N==null||N(ee)},[C,E,Ue,Ie,Zn,p,N]),zs=p!=null&&!Y&&!ce,gu=m.useRef();m.useEffect(()=>{var ee,ve;if(!zs)return;const En=G?Ue:Ie;return gu.current=window.setInterval(document.visibilityState?Ye:En,(ee=(ve=ct.current)!=null?ve:p)!=null?ee:void 0),()=>{gu.current!==null&&clearInterval(gu.current)}},[zs,Ue,Ie,ct,p,Ye,G]);const Wm=m.useMemo(()=>a&&Array.from({length:ge},(ee,ve)=>En=>{u==null||u(ve,En)}),[a,ge,u]);return A(n,{ref:It,...Z,onKeyDown:js,onMouseOver:Gt,onMouseOut:Jn,onTouchStart:le,onTouchMove:Kt,onTouchEnd:Br,className:K(z,V,i&&"slide",s&&`${V}-fade`,U&&`${V}-${U}`),children:[a&&_("div",{className:`${V}-indicators`,children:qy(X,(ee,ve)=>_("button",{type:"button","data-bs-target":"","aria-label":l!=null&&l.length?l[ve]:`Slide ${ve+1}`,className:ve===q?"active":void 0,onClick:Wm?Wm[ve]:void 0,"aria-current":ve===q},ve))}),_("div",{className:`${V}-inner`,children:qy(X,(ee,ve)=>{const En=ve===q;return i?_(Vc,{in:En,onEnter:En?Ri:void 0,onEntered:En?Bs:void 0,addEndListener:Hc,children:(Ws,SS)=>m.cloneElement(ee,{...SS,className:K(ee.props.className,En&&Ws!=="entered"&&Fr,(Ws==="entered"||Ws==="exiting")&&"active",(Ws==="entering"||Ws==="exiting")&&Xn)})}):m.cloneElement(ee,{className:K(ee.props.className,En&&"active")})})}),o&&A(Ge,{children:[(w||c!==0)&&A(Zl,{className:`${V}-control-prev`,onClick:Ue,children:[I,x&&_("span",{className:"visually-hidden",children:x})]}),(w||c!==ge-1)&&A(Zl,{className:`${V}-control-next`,onClick:Ie,children:[b,R&&_("span",{className:"visually-hidden",children:R})]})]})]})});Mm.displayName="Carousel";Mm.defaultProps=ZU;const il=Object.assign(Mm,{Caption:qU,Item:YU});function tF({as:t,bsPrefix:e,className:n,...r}){e=ne(e,"col");const i=dw(),s=fw(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let u,d,f;typeof c=="object"&&c!=null?{span:u,offset:d,order:f}=c:u=c;const p=l!==s?`-${l}`:"";u&&o.push(u===!0?`${e}${p}`:`${e}${p}-${u}`),f!=null&&a.push(`order${p}-${f}`),d!=null&&a.push(`offset${p}-${d}`)}),[{...r,className:K(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const Pa=m.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=tF(t);return _(i,{...r,ref:e,className:K(n,!o.length&&s)})});Pa.displayName="Col";const nF={type:ot.string,tooltip:ot.bool,as:ot.elementType},Lm=m.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>_(t,{...i,ref:s,className:K(e,`${n}-${r?"tooltip":"feedback"}`)}));Lm.displayName="Feedback";Lm.propTypes=nF;const K1=Lm,rF=m.createContext({}),Vn=rF,q1=m.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=m.useContext(Vn);return e=ne(e,"form-check-input"),_(o,{...a,ref:l,type:r,id:t||c,className:K(n,e,i&&"is-valid",s&&"is-invalid")})});q1.displayName="FormCheckInput";const Y1=q1,Q1=m.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=m.useContext(Vn);return t=ne(t,"form-check-label"),_("label",{...r,ref:i,htmlFor:n||s,className:K(e,t)})});Q1.displayName="FormCheckLabel";const Yf=Q1,X1=m.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:d,style:f,title:p="",type:h="checkbox",label:y,children:E,as:g="input",...v},w)=>{e=ne(e,"form-check"),n=ne(n,"form-switch");const{controlId:C}=m.useContext(Vn),k=m.useMemo(()=>({controlId:t||C}),[C,t]),S=!E&&y!=null&&y!==!1||XU(E,Yf),N=_(Y1,{...v,type:h==="switch"?"checkbox":h,ref:w,isValid:o,isInvalid:a,disabled:s,as:g});return _(Vn.Provider,{value:k,children:_("div",{style:f,className:K(d,S&&e,r&&`${e}-inline`,i&&`${e}-reverse`,h==="switch"&&n),children:E||A(Ge,{children:[N,S&&_(Yf,{title:p,children:y}),c&&_(K1,{type:u,tooltip:l,children:c})]})})})});X1.displayName="FormCheck";const kc=Object.assign(X1,{Input:Y1,Label:Yf}),J1=m.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input",...d},f)=>{const{controlId:p}=m.useContext(Vn);t=ne(t,"form-control");let h;return l?h={[`${t}-plaintext`]:!0}:h={[t]:!0,[`${t}-${n}`]:n},_(u,{...d,type:e,size:r,ref:f,readOnly:c,id:i||p,className:K(s,h,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});J1.displayName="FormControl";const iF=Object.assign(J1,{Feedback:K1}),sF=je("form-floating"),Um=m.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=m.useMemo(()=>({controlId:t}),[t]);return _(Vn.Provider,{value:i,children:_(e,{...n,ref:r})})});Um.displayName="FormGroup";const oF={column:!1,visuallyHidden:!1},Fm=m.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=m.useContext(Vn);e=ne(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=K(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?_(Pa,{ref:a,as:"label",className:u,htmlFor:s,...o}):_(t,{ref:a,className:u,htmlFor:s,...o})});Fm.displayName="FormLabel";Fm.defaultProps=oF;const Z1=m.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=m.useContext(Vn);return t=ne(t,"form-range"),_("input",{...r,type:"range",ref:i,className:K(e,t),id:n||s})});Z1.displayName="FormRange";const eS=m.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=m.useContext(Vn);return t=ne(t,"form-select"),_("select",{...a,size:n,ref:l,className:K(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});eS.displayName="FormSelect";const tS=m.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ne(t,"form-text"),_(n,{...i,ref:s,className:K(e,t,r&&"text-muted")})));tS.displayName="FormText";const nS=m.forwardRef((t,e)=>_(kc,{...t,ref:e,type:"switch"}));nS.displayName="Switch";const aF=Object.assign(nS,{Input:kc.Input,Label:kc.Label}),rS=m.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ne(t,"form-floating"),A(Um,{ref:o,className:K(e,t),controlId:r,...s,children:[n,_("label",{htmlFor:r,children:i})]})));rS.displayName="FloatingLabel";const lF={_ref:ot.any,validated:ot.bool,as:ot.elementType},$m=m.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>_(n,{...r,ref:i,className:K(t,e&&"was-validated")}));$m.displayName="Form";$m.propTypes=lF;const iS=Object.assign($m,{Group:Um,Control:iF,Floating:sF,Check:kc,Switch:aF,Label:Fm,Text:tS,Range:Z1,Select:eS,FloatingLabel:rS});ot.string,ot.bool,ot.bool,ot.bool,ot.bool;const cF={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},Aa=m.forwardRef(({bsPrefix:t,className:e,fluid:n,rounded:r,roundedCircle:i,thumbnail:s,...o},a)=>(t=ne(t,"img"),_("img",{ref:a,...o,className:K(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));Aa.displayName="Image";Aa.defaultProps=cF;var sl;function Yy(t){if((!sl&&sl!==0||t)&&Os){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),sl=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return sl}const uF=je("modal-body"),sS=m.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{t=ne(t,"modal");const u=`${t}-dialog`,d=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return _("div",{...l,ref:c,className:K(u,e,i&&`${t}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,s&&d),children:_("div",{className:K(`${t}-content`,n),children:o})})});sS.displayName="ModalDialog";const oS=sS,dF=je("modal-footer"),fF={closeLabel:"Close",closeButton:!1},Bm=m.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=ne(t,"modal-header"),_(up,{ref:r,...n,className:K(e,t)})));Bm.displayName="ModalHeader";Bm.defaultProps=fF;const hF=Bm,pF=Kc("h4"),mF=je("modal-title",{Component:pF}),gF={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:oS};function vF(t){return _(ap,{...t,timeout:null})}function yF(t){return _(ap,{...t,timeout:null})}const jm=m.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o,"aria-labelledby":a,"aria-describedby":l,"aria-label":c,show:u,animation:d,backdrop:f,keyboard:p,onEscapeKeyDown:h,onShow:y,onHide:E,container:g,autoFocus:v,enforceFocus:w,restoreFocus:C,restoreFocusOptions:k,onEntered:S,onExit:N,onExiting:I,onEnter:x,onEntering:b,onExited:R,backdropClassName:U,manager:z,...X},Z)=>{const[V,G]=m.useState({}),[O,F]=m.useState(!1),L=m.useRef(!1),Y=m.useRef(!1),W=m.useRef(null),[ce,re]=Aw(),q=Ni(Z,re),fe=Te(E),ge=Jh();t=ne(t,"modal");const ze=m.useMemo(()=>({onHide:fe}),[fe]);function ct(){return z||xw({isRTL:ge})}function Ue(le){if(!Os)return;const Kt=ct().getScrollbarWidth()>0,Br=le.scrollHeight>ya(le).documentElement.clientHeight;G({paddingRight:Kt&&!Br?Yy():void 0,paddingLeft:!Kt&&Br?Yy():void 0})}const Ie=Te(()=>{ce&&Ue(ce.dialog)});rp(()=>{wf(window,"resize",Ie),W.current==null||W.current()});const It=()=>{L.current=!0},Ye=le=>{L.current&&ce&&le.target===ce.dialog&&(Y.current=!0),L.current=!1},te=()=>{F(!0),W.current=_w(ce.dialog,()=>{F(!1)})},Fr=le=>{le.target===le.currentTarget&&te()},Xn=le=>{if(f==="static"){Fr(le);return}if(Y.current||le.target!==le.currentTarget){Y.current=!1;return}E==null||E()},Ri=le=>{p?h==null||h(le):(le.preventDefault(),f==="static"&&te())},Bs=(le,Kt)=>{le&&Ue(le),x==null||x(le,Kt)},js=le=>{W.current==null||W.current(),N==null||N(le)},Gt=(le,Kt)=>{b==null||b(le,Kt),Zh(window,"resize",Ie)},Jn=le=>{le&&(le.style.display=""),R==null||R(le),wf(window,"resize",Ie)},$r=m.useCallback(le=>_("div",{...le,className:K(`${t}-backdrop`,U,!d&&"show")}),[d,U,t]),an={...n,...V};an.display="block";const Zn=le=>_("div",{role:"dialog",...le,style:an,className:K(e,t,O&&`${t}-static`,!d&&"show"),onClick:f?Xn:void 0,onMouseUp:Ye,"aria-label":c,"aria-labelledby":a,"aria-describedby":l,children:_(o,{...X,onMouseDown:It,className:r,contentClassName:i,children:s})});return _(cp.Provider,{value:ze,children:_(bw,{show:u,ref:q,backdrop:f,container:g,keyboard:!0,autoFocus:v,enforceFocus:w,restoreFocus:C,restoreFocusOptions:k,onEscapeKeyDown:Ri,onShow:y,onHide:E,onEnter:Bs,onEntering:Gt,onEntered:S,onExit:js,onExiting:I,onExited:Jn,manager:ct(),transition:d?vF:void 0,backdropTransition:d?yF:void 0,renderBackdrop:$r,renderDialog:Zn})})});jm.displayName="Modal";jm.defaultProps=gF;const so=Object.assign(jm,{Body:uF,Header:hF,Title:mF,Footer:dF,Dialog:oS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),mu=m.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ne(t,"row"),o=dw(),a=fw(),l=`${s}-cols`,c=[];return o.forEach(u=>{const d=r[u];delete r[u];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const p=u!==a?`-${u}`:"";f!=null&&c.push(`${l}${p}-${f}`)}),_(n,{ref:i,...r,className:K(e,s,...c)})});mu.displayName="Row";const _F=()=>{},Qf=m.forwardRef(({bsPrefix:t,name:e,className:n,checked:r,type:i,onChange:s,value:o,disabled:a,id:l,inputRef:c,...u},d)=>(t=ne(t,"btn-check"),A(Ge,{children:[_("input",{className:t,name:e,type:i,value:o,ref:c,autoComplete:"off",checked:!!r,disabled:!!a,onChange:s||_F,id:l}),_(Ce,{...u,ref:d,className:K(n,a&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:l})]})));Qf.displayName="ToggleButton";const wF=()=>{const t=on(),e=Kn();return m.useEffect(()=>{t&&e("/")},[t,e]),_(M,{className:"login-container",children:_(M,{className:"login-info-container",children:A(M,{children:[_("h1",{className:"login-title","data-cy":"login-title",children:"Outfit Of The Day"}),_("p",{className:"login-info",children:"OutfitOfTheDay is an app that allows you to catalog your closet and decide on an outfit for the day each morning. It will also keep track of your favorite outfits, which will be recommended more frequently."}),_(()=>_("button",{className:"ml-5 p-2 w-75 btn login-button",onClick:IU,children:"SIGN IN"}),{})]})})})};function EF(t){return Mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}]})(t)}function CF(t){return Mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}}]})(t)}function SF(t){return Mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}}]})(t)}function kF(t){return Mt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"}},{tag:"path",attr:{d:"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"}}]})(t)}const NF=({clothes:t,idx:e,bottoms:n,option:r})=>{const i=on(),[s]=Ur("/closet"),[o]=Ts("/"),a=["tops","bottoms","shoes"],l=c=>{o({["/closet/"+i.uid+"/"+r.toLowerCase()+"/"+c]:null}),s&&a.includes(r.toLowerCase())&&Object.entries(s[i.uid].favorites).map(([u,d])=>{t.url===d[r.toLowerCase()].url&&o({["/closet/"+i.uid+"/favorites/"+u]:null})})};return A(Qi,{className:"card-container",children:[_(Qi.Img,{variant:"top",src:t.url,className:n?"card-image-bottoms":"card-image"}),_(M,{className:"card-text-container",children:t.weather.map(c=>_(AU,{bg:"secondary",className:"card-weather",pill:!0,children:c},c))}),_(M,{className:"card-trash-container",children:_(CF,{onClick:()=>l(e),size:23})})]})},TF=()=>{const t=on(),[e]=Ur("/closet"),[n,r]=m.useState("Tops"),[i,s]=m.useState(null),[o,a]=m.useState(null),[l,c]=m.useState(null),u=["Cold","Warm","Rainy","Sunny"],d=h=>{h==="Tops"?(r("Tops"),s(e[t.uid].tops),a(e[t.uid].tops)):h==="Jackets"?(r("Jackets"),s(e[t.uid].jackets),a(e[t.uid].jackets)):h==="Dresses"?(r("Dresses"),s(e[t.uid].dresses),a(e[t.uid].dresses)):h==="Bottoms"?(r("Bottoms"),s(e[t.uid].bottoms),a(e[t.uid].bottoms)):h==="Shoes"&&(r("Shoes"),s(e[t.uid].shoes),a(e[t.uid].shoes))},f=h=>{if(l===h){a(i),c(null);return}let y=h.toLowerCase(),E=new Object;for(const g in i)i[g].weather.forEach(function(v,w){v.includes(y)&&(E[g]=i[g])});if(i===null){let g=e[t.uid].tops;for(const v in g)g[v].weather.forEach(function(w,C){w.includes(y)&&(E[v]=g[v])})}c(h),a(E)},p=()=>{if(JSON.stringify(o)==="{}")return _("h6",{className:"text-muted text-center",children:"No clothing for filter selected"})};return t?e?A(M,{className:"p-10 mt-3",children:[_("h4",{className:"closet-title",children:"My Closet"}),A(iS.Select,{onChange:h=>d(h.target.value),children:[_("option",{value:"Tops",children:"Tops"}),_("option",{value:"Jackets",children:"Jackets"}),_("option",{value:"Dresses",children:"Dresses"}),_("option",{value:"Bottoms",children:"Bottoms"}),_("option",{value:"Shoes",children:"Shoes"})]}),_(M,{className:"card-text-container-header",children:u.map((h,y)=>_(Ce,{variant:"light",className:l===h?"weather-filter-active":"filter-weather-button",onClick:E=>f(h),children:h},y))}),_("h5",{className:"text-muted mt-3 mb-4",children:n}),_(M,{children:_(mu,{xs:2,md:4,className:"g-4",children:Object.entries(o||e[t.uid].tops).map(([h,y])=>_(Pa,{children:_(NF,{clothes:y,idx:h,bottoms:n==="Bottoms",option:n})},h))})}),p()]}):_("h5",{className:"text-muted",children:"Loading user closet..."}):_("h5",{className:"text-muted",children:"Loading user profile..."})};function IF(t){return Mt({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M14.004 6a2 2 0 1 0 -4 0c.003 1.667 .67 3 2.004 4h-.008l7.971 4.428a2 2 0 0 1 1.029 1.749v.823a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-.823a2 2 0 0 1 1.029 -1.749l7.971 -4.428"}}]})(t)}const zm=({clothes:t,idx:e,big:n})=>{const r=on(),[i]=Ts("/"),s=o=>{o&&i({["/closet/"+r.uid+"/favorites/"+o]:null})};return A(Qi,{className:"mb-3 favorites-card-container",children:[A(M,{className:"favorites-card-clothes",children:[A(M,{className:"favorites-top-shoes-container",children:[_(M,{className:"favorites-top-container",children:_(Qi.Img,{variant:"top",src:t.tops.url,className:n?"big-favorites-card-image":"favorites-card-image"})}),_(M,{className:"favorites-shoes-container",children:_(Qi.Img,{variant:"top",src:t.shoes.url,className:n?"big-favorites-card-image-shoes":"favorites-card-image-shoes"})})]}),_(M,{className:"favorites-bottom-container",children:_(Qi.Img,{variant:"top",src:t.bottoms.url,className:n?"big-favorites-card-image-bottom":"favorites-card-image-bottom"})})]}),A(M,{className:"favorites-card-footer",children:[A(M,{className:"favorites-card-frequency",children:[_(IF,{className:"me-1",size:23}),t.times]}),_(M,{className:"favorites-card-heart",children:_(Rp,{onClick:()=>s(e),size:23})})]})]})},bF=({show:t,handleClose:e,clothes:n})=>{const r=Kn(),i=()=>{r("/"),e()},s=()=>{r("/build"),e()};return _(Ge,{children:n&&A(so,{centered:!0,show:t,onHide:e,children:[_(so.Header,{closeButton:!0,children:A(so.Title,{children:["You've worn this look ",n.times," times!"]})}),_(so.Body,{children:_(zm,{clothes:n,idx:null,big:!0})}),A(so.Footer,{className:"modal-footer",children:[_(Ce,{onClick:i,children:"I'll wear this today!"}),_(M,{onClick:s,children:_("h6",{children:"Build a look starting with this"})})]})]})})},RF=()=>{const t=on(),[e]=Ur("/closet"),[n,r]=m.useState(!1),[i,s]=m.useState(null),o=()=>r(!1),a=l=>{s(l),r(!0)};return t?e?A(M,{className:"p-10 mt-3",children:[_("h4",{className:"closet-title",children:"My Favorites"}),_(M,{children:_(mu,{xs:2,md:4,className:"g-1",children:Object.entries(e[t.uid].favorites).map(([l,c])=>_(Pa,{onClick:()=>a(c),children:_(zm,{clothes:c,idx:l})},l))})}),_(bF,{show:n,handleClose:o,clothes:i})]}):_("h5",{className:"text-muted",children:"Loading user closet..."}):_("h5",{className:"text-muted",children:"Loading user profile..."})},aS=()=>{let t=41.881832,e=-87.623177;return"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(n){t=n.coords.latitude,e=n.coords.longitude}),`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current_weather=true&temperature_unit=fahrenheit&hourly=temperature_2m`},xF=new Map([[0,"sunny"],[1,"sunny"],[2,"sunny"],[3,"sunny"],[45,"sunny"],[48,"sunny"],[51,"rainy"],[53,"rainy"],[55,"rainy"],[56,"rainy"],[57,"rainy"],[61,"rainy"],[63,"rainy"],[65,"rainy"],[66,"rainy"],[67,"rainy"],[71,"rainy"],[73,"rainy"],[75,"rainy"],[77,"rainy"],[80,"rainy"],[81,"rainy"],[82,"rainy"],[85,"rainy"],[86,"rainy"],[95,"rainy"],[96,"rainy"],[99,"rainy"]]),OF=new Map([[0,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-01-512.png"],[1,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[2,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[3,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[45,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[48,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-22-128.png"],[51,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[53,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[55,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[56,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[57,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[61,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[63,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[65,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[66,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[67,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[71,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[73,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[75,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[77,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[80,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[81,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[82,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[85,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[86,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-24-128.png"],[95,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[96,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"],[99,"https://cdn2.iconfinder.com/data/icons/weather-color-2/500/weather-30-512.png"]]),lS=({weather:t,weatherCode:e})=>A(M,{className:"weather-header-container",children:[_(M,{className:"weather-icon",children:_("img",{src:OF.get(e),alt:"icon-weather"})}),A(M,{className:"weather-temperature",children:[t,"F"]})]}),PF=()=>{const e=new Date().getDay();if(e===0)return"Sunday";if(e===1)return"Monday";if(e===2)return"Tuesday";if(e===3)return"Wednesday";if(e===4)return"Thursday";if(e===5)return"Friday";if(e===6)return"Saturday"},AF=()=>{const t=Kn(),e=on(),[n]=Ur("/closet"),[r,i]=m.useState([]),[s,o]=m.useState();return m.useEffect(()=>{fetch(aS()).then(a=>a.json()).then(a=>{console.log(a),i(a.current_weather.temperature),o(a.current_weather.weathercode)}).catch(a=>console.error(a))},[]),e?n?A(M,{children:[A(M,{className:"home-header-container",children:[A(M,{className:"home-header-title",children:["Happy ",PF()," ",_("br",{})," ",e.displayName.split(" ")[0],"!"]}),_(M,{className:"home-header-weather",children:_(lS,{weather:r,weatherCode:s||0})})]}),A(M,{className:"home-button-container",children:[A(M,{className:"home-build-button",onClick:()=>t("/build"),children:[_(Sx,{size:24}),A("p",{children:["Build a new ",_("br",{})," Outfit"]})]}),A(M,{className:"home-suggest-button",onClick:()=>t("/suggest"),children:[_(kF,{size:24}),A("p",{children:["Give me a ",_("br",{})," suggestion"]})]})]}),A(M,{className:"mt-3 home-favorites-container",children:[_(M,{className:"home-favorites-title",children:_("h6",{children:"Quick Select: Favorites"})}),_(M,{className:"home-favorites-panel",children:_(mu,{xs:2,md:2,className:"g-1",children:Object.entries(n[e.uid].favorites).slice(0,2).map(([a,l])=>_(Pa,{children:_(zm,{clothes:l,idx:null})},a))})}),_(M,{className:"home-favorites-footer",children:_("h6",{children:"View All Favorites for Today"})})]}),A(M,{className:"mt-3 home-closet-container",children:[A(M,{className:"home-closet-title",children:[_("h6",{children:"Back of the Closet Pick"}),_(SF,{size:16})]}),A(M,{className:"mt-2 home-closet-information",children:[_(M,{className:"home-closet-image",children:_(Aa,{src:"https://previews.123rf.com/images/oligliya/oligliya1712/oligliya171200005/90999328-ilustraci%C3%B3n-de-vector-de-dibujos-animados-de-muebles.jpg"})}),A(M,{className:"home-closet-buttons",children:[_(M,{children:_("h6",{children:"Last worn 7 months ago"})}),_(M,{children:_(Ce,{children:"Complete Outfit"})})]})]})]})]}):_("h5",{className:"text-muted",children:"Loading user closet..."}):_("h5",{className:"text-muted",children:"Loading user profile..."})};function cS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=cS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function j(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=cS(e))&&(r&&(r+=" "),r+=n);return r}var B=function(){return B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},B.apply(this,arguments)};function H(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var uS=T.forwardRef(function(t,e){var n=t.breakpoint,r=t.fluid,i=t.children,s=t.className,o=t.tag,a=H(t,["breakpoint","fluid","children","className","tag"]),l=j("".concat(r?"container-fluid":"container".concat(n?"-"+n:"")),s);return T.createElement(o,B({className:l},a,{ref:e}),i)});uS.defaultProps={tag:"div"};var dS=T.forwardRef(function(t,e){var n=t.center,r=t.children,i=t.className,s=t.end,o=t.lg,a=t.md,l=t.offsetLg,c=t.offsetMd,u=t.offsetSm,d=t.order,f=t.size,p=t.sm,h=t.start,y=t.tag,E=t.xl,g=t.xxl,v=t.xs,w=H(t,["center","children","className","end","lg","md","offsetLg","offsetMd","offsetSm","order","size","sm","start","tag","xl","xxl","xs"]),C=j(f&&"col-".concat(f),v&&"col-xs-".concat(v),p&&"col-sm-".concat(p),a&&"col-md-".concat(a),o&&"col-lg-".concat(o),E&&"col-xl-".concat(E),g&&"col-xxl-".concat(g),f||v||p||a||o||E||g?"":"col",d&&"order-".concat(d),h&&"align-self-start",n&&"align-self-center",s&&"align-self-end",u&&"offset-sm-".concat(u),c&&"offset-md-".concat(c),l&&"offset-lg-".concat(l),i);return T.createElement(y,B({className:C,ref:e},w),r)});dS.defaultProps={tag:"div"};var DF=T.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.pill,s=t.light,o=t.dot,a=t.tag,l=t.children,c=t.notification,u=H(t,["className","color","pill","light","dot","tag","children","notification"]),d=j("badge",s?r&&"badge-".concat(r):r&&"bg-".concat(r),o&&"badge-dot",i&&"rounded-pill",c&&"badge-notification",n);return T.createElement(a,B({className:d,ref:e},u),l)});DF.defaultProps={tag:"span",color:"primary"};var MF=function(t){var e=H(t,[]),n=m.useState(!1),r=n[0],i=n[1],s=j("ripple-wave",r&&"active");return m.useEffect(function(){var o=setTimeout(function(){i(!0)},50);return function(){clearTimeout(o)}},[]),T.createElement("div",B({className:s},e))},fS=T.forwardRef(function(t,e){var n=t.className,r=t.rippleTag,i=t.rippleCentered,s=t.rippleDuration,o=t.rippleUnbound,a=t.rippleRadius,l=t.rippleColor,c=t.children,u=t.onMouseDown,d=H(t,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onMouseDown"]),f=function(){for(var x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];var R=T.useRef();return T.useEffect(function(){x.forEach(function(U){U&&(typeof U=="function"?U(R.current):U.current=R.current)})},[x]),R}(e,m.useRef(null)),p=[0,0,0],h=["primary","secondary","success","danger","warning","info","light","dark"],y=m.useState([]),E=y[0],g=y[1],v=m.useState(!1),w=v[0],C=v[1],k=j("ripple","ripple-surface",o&&"ripple-surface-unbound",w&&"ripple-surface-".concat(l),n),S=function(){if(h.find(function(R){return R===(l==null?void 0:l.toLowerCase())}))return C(!0);var x=N(l).join(","),b="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(x));return"radial-gradient(circle, ".concat(b,")")},N=function(x){return x.toLowerCase()==="transparent"?p:x[0]==="#"?function(b){return b.length<7&&(b="#".concat(b[1]).concat(b[1]).concat(b[2]).concat(b[2]).concat(b[3]).concat(b[3])),[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)]}(x):(x.indexOf("rgb")===-1&&(x=function(b){var R=document.body.appendChild(document.createElement("fictum")),U="rgb(1, 2, 3)";return R.style.color=U,R.style.color!==U?p:(R.style.color=b,R.style.color===U||R.style.color===""?p:(b=getComputedStyle(R).color,document.body.removeChild(R),b))}(x)),x.indexOf("rgb")===0?function(b){return(b=b.match(/[.\d]+/g).map(function(R){return+Number(R)})).length=3,b}(x):p)},I=function(x){var b,R=(b=f.current)===null||b===void 0?void 0:b.getBoundingClientRect(),U=x.clientX-R.left,z=x.clientY-R.top,X=R.height,Z=R.width,V={delay:s&&.5*s,duration:s&&s-.5*s},G=function(L){var Y=L.offsetX,W=L.offsetY,ce=L.height,re=L.width,q=W<=ce/2,fe=Y<=re/2,ge=function(Fr,Xn){return Math.sqrt(Math.pow(Fr,2)+Math.pow(Xn,2))},ze=W===ce/2&&Y===re/2,ct=q===!0&&fe===!1,Ue=q===!0&&fe===!0,Ie=q===!1&&fe===!0,It=q===!1&&fe===!1,Ye={topLeft:ge(Y,W),topRight:ge(re-Y,W),bottomLeft:ge(Y,ce-W),bottomRight:ge(re-Y,ce-W)},te=0;return ze||It?te=Ye.topLeft:Ie?te=Ye.topRight:Ue?te=Ye.bottomRight:ct&&(te=Ye.bottomLeft),2*te}({offsetX:i?X/2:U,offsetY:i?Z/2:z,height:X,width:Z}),O=a||G/2,F={left:"".concat(i?Z/2-O:U-O,"px"),top:"".concat(i?X/2-O:z-O,"px"),height:"".concat(a?2*a:G,"px"),width:"".concat(a?2*a:G,"px"),transitionDelay:"0s, ".concat(V.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(V.duration,"ms")};return w?F:B(B({},F),{backgroundImage:"".concat(S())})};return m.useEffect(function(){var x=setTimeout(function(){E.length>0&&g(E.splice(1,E.length-1))},s);return function(){clearTimeout(x)}},[s,E]),T.createElement(r,B({className:k,onMouseDown:function(x){return function(b){var R=I(b),U=E.concat(R);g(U),u&&u(b)}(x)},ref:f},d),c,E.map(function(x,b){return T.createElement(MF,{key:b,style:x})}))});fS.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var LF=T.forwardRef(function(t,e){var n,r=t.className,i=t.color,s=t.outline,o=t.children,a=t.rounded,l=t.disabled,c=t.floating,u=t.size,d=t.href,f=t.block,p=t.active,h=t.toggle,y=t.noRipple,E=t.tag,g=H(t,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),v=m.useState(p||!1),w=v[0],C=v[1],k=i&&["light","link"].includes(i)||s?"dark":"light";n=i!=="none"?s?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"";var S=j(i!=="none"&&"btn",n,a&&"btn-rounded",c&&"btn-floating",u&&"btn-".concat(u),"".concat((d||E!=="button")&&l?"disabled":""),f&&"btn-block",w&&"active",r);return d&&E!=="a"&&(E="a"),["hr","img","input"].includes(E)||y?T.createElement(E,B({className:S,onClick:h?function(){C(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},g),o):T.createElement(fS,B({rippleTag:E,rippleColor:k,className:S,onClick:h?function(){C(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},g),o)});LF.defaultProps={tag:"button",role:"button",color:"primary"};var UF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.shadow,s=t.toolbar,o=t.size,a=t.vertical,l=t.tag,c=H(t,["className","children","shadow","toolbar","size","vertical","tag"]),u=j(s?"btn-toolbar":a?"btn-group-vertical":"btn-group",i&&"shadow-".concat(i),o&&"btn-group-".concat(o),n);return T.createElement(l,B({className:u,ref:e},c),r)});UF.defaultProps={tag:"div",role:"group"};var FF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.color,o=t.grow,a=t.size,l=H(t,["className","children","tag","color","grow","size"]),c=j("".concat(o?"spinner-grow":"spinner-border"),s&&"text-".concat(s),"".concat(a?o?"spinner-grow-"+a:"spinner-border-"+a:""),n);return T.createElement(i,B({className:c,ref:e},l),r)});FF.defaultProps={tag:"div"};var hS=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=t.shadow,l=t.alignment,c=H(t,["className","children","border","background","tag","shadow","alignment"]),u=j("card",i&&"border border-".concat(i),s&&"bg-".concat(s),a&&"shadow-".concat(a),l&&"text-".concat(l),n);return T.createElement(o,B({className:u,ref:e},c),r)});hS.defaultProps={tag:"div"};var $F=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=H(t,["className","children","border","background","tag"]),l=j("card-header",i&&"border-".concat(i),s&&"bg-".concat(s),n);return T.createElement(o,B({className:l},a,{ref:e}),r)});$F.defaultProps={tag:"div"};var BF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("card-subtitle",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});BF.defaultProps={tag:"p"};var pS=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("card-title",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});pS.defaultProps={tag:"h5"};var mS=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("card-text",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});mS.defaultProps={tag:"p"};var gS=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("card-body",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});gS.defaultProps={tag:"div"};var jF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=H(t,["className","children","border","background","tag"]),l=j("card-footer",i&&"border-".concat(i),s&&"bg-".concat(s),n);return T.createElement(o,B({className:l},a,{ref:e}),r)});jF.defaultProps={tag:"div"};var zF=function(t){var e=t.className,n=t.children,r=t.overlay,i=t.position,s=t.fluid,o=H(t,["className","children","overlay","position","fluid"]),a=j(i&&"card-img-".concat(i),s&&"img-fluid",r&&"card-img",e);return T.createElement("img",B({className:a},o),n)},WF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("card-img-overlay",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});WF.defaultProps={tag:"div"};var HF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("card-group",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});HF.defaultProps={tag:"div"};var VF=T.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.horizontal,s=t.horizontalSize,o=t.light,a=t.numbered,l=t.children,c=t.small,u=H(t,["className","tag","horizontal","horizontalSize","light","numbered","children","small"]),d=j("list-group",i&&(s?"list-group-horizontal-".concat(s):"list-group-horizontal"),o&&"list-group-light",a&&"list-group-numbered",c&&"list-group-small",n);return T.createElement(r,B({className:d,ref:e},u),l)});VF.defaultProps={tag:"ul"};var GF=T.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.active,s=t.disabled,o=t.action,a=t.color,l=t.children,c=t.noBorders,u=H(t,["className","tag","active","disabled","action","color","children","noBorders"]),d=r==="button",f=j("list-group-item",i&&"active",s&&!d&&"disabled",o&&"list-group-item-action",a&&"list-group-item-".concat(a),c&&"border-0",n);return T.createElement(r,B({className:f,disabled:d&&s,ref:e},u),l)});GF.defaultProps={tag:"li"};var vS=T.forwardRef(function(t,e){var n=t.around,r=t.between,i=t.bottom,s=t.center,o=t.children,a=t.className,l=t.evenly,c=t.end,u=t.middle,d=t.start,f=t.tag,p=t.top,h=H(t,["around","between","bottom","center","children","className","evenly","end","middle","start","tag","top"]),y=j("row",n&&"justify-content-around",r&&"justify-content-between",i&&"align-self-end",s&&"justify-content-center",l&&"justifty-content-evenly",c&&"justify-content-end",u&&"align-self-center",d&&"justify-content-start",p&&"align-self-start",a);return T.createElement(f,B({className:y},h,{ref:e}),o)});vS.defaultProps={tag:"div"};var KF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.variant,o=t.color,a=t.blockquote,l=t.note,c=t.noteColor,u=t.listUnStyled,d=t.listInLine,f=H(t,["className","children","tag","variant","color","blockquote","note","noteColor","listUnStyled","listInLine"]),p=j(s&&s,a&&"blockquote",l&&"note",o&&"text-".concat(o),c&&"note-".concat(c),u&&"list-unstyled",d&&"list-inline",n);return a&&(i="blockquote"),(u||d)&&(i="ul"),T.createElement(i,B({className:p,ref:e},f),r)});KF.defaultProps={tag:"p"};T.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.uppercase,s=t.bold,o=t.children,a=H(t,["className","color","uppercase","bold","children"]),l=j("breadcrumb",s&&"font-weight-bold",r&&"text-".concat(r),i&&"text-uppercase",n);return T.createElement("nav",{"aria-label":"breadcrumb"},T.createElement("ol",B({className:l,ref:e},a),o))});var qF=T.forwardRef(function(t,e){var n=t.className,r=t.active,i=t.current,s=t.children,o=H(t,["className","active","current","children"]),a=j("breadcrumb-item",r&&"active",n);return T.createElement("li",B({className:a,ref:e,"aria-current":r&&i},o),s)});qF.defaultProps={current:"page"};var YF=T.forwardRef(function(t,e){var n,r=t.className,i=t.children,s=t.light,o=t.dark,a=t.scrolling,l=t.fixed,c=t.sticky,u=t.scrollingNavbarOffset,d=t.color,f=t.transparent,p=t.expand,h=t.tag,y=t.bgColor,E=H(t,["className","children","light","dark","scrolling","fixed","sticky","scrollingNavbarOffset","color","transparent","expand","tag","bgColor"]),g=m.useState(!1),v=g[0],w=g[1],C=j(((n={"navbar-light":s,"navbar-dark":o,"scrolling-navbar":a||u,"top-nav-collapse":v})["text-".concat(d)]=d&&f?v:d,n),l&&"fixed-".concat(l),c&&"sticky-top","navbar",p&&function(S){if(S!==!1)return"navbar-expand-".concat(S)}(p),y&&"bg-".concat(y),r),k=m.useCallback(function(){u&&window.pageYOffset>u?w(!0):w(!1)},[u]);return m.useEffect(function(){return(a||u)&&window.addEventListener("scroll",k),function(){window.removeEventListener("scroll",k)}},[k,a,u]),T.createElement(h,B({className:C,role:"navigation"},E,{ref:e}),i)});YF.defaultProps={tag:"nav"};var QF=T.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.disabled,s=t.active,o=t.tag,a=H(t,["children","className","disabled","active","tag"]),l=j("nav-link",i?"disabled":s?"active":"",r);return T.createElement(o,B({"data-test":"nav-link",className:l,style:{cursor:"pointer"},ref:e},a),n)});QF.defaultProps={tag:"a",active:!1,className:"",disabled:!1};var XF=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("navbar-brand",n);return T.createElement(i,B({className:o,ref:e},s),r)});XF.defaultProps={tag:"a"};var JF=T.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.text,o=t.tag,a=H(t,["children","className","active","text","tag"]),l=j("nav-item",i&&"active",s&&"navbar-text",r);return T.createElement(o,B({},a,{className:l,ref:e}),n)});JF.defaultProps={tag:"li"};var ZF=T.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.right,s=t.fullWidth,o=t.left,a=t.tag,l=H(t,["children","className","right","fullWidth","left","tag"]),c=j("navbar-nav",s&&"w-100",i&&"ms-auto",o&&"me-auto",r);return T.createElement(a,B({className:c,ref:e},l),n)});ZF.defaultProps={tag:"ul",fullWidth:!0};var e3=T.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=H(t,["children","className","tag"]),o=j("navbar-toggler",r);return T.createElement(i,B({},s,{className:o,ref:e}),n)});e3.defaultProps={tag:"button"};T.forwardRef(function(t,e){var n=t.children,r=t.bgColor,i=t.color,s=t.className,o=H(t,["children","bgColor","color","className"]),a=j(r&&"bg-".concat(r),i&&"text-".concat(i),s);return T.createElement("footer",B({className:a},o,{ref:e}),n)});T.forwardRef(function(t,e){var n=t.children,r=t.size,i=t.circle,s=t.center,o=t.end,a=t.start,l=t.className,c=H(t,["children","size","circle","center","end","start","className"]),u=j("pagination",s&&"justify-content-center",i&&"pagination-circle",o&&"justify-content-end",r&&"pagination-".concat(r),a&&"justify-content-start",l);return T.createElement("ul",B({className:u},c,{ref:e}),n)});var t3=T.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=H(t,["children","className","tag"]),o=j("page-link",r);return T.createElement(i,B({className:o},s,{ref:e}),n)});t3.defaultProps={tag:"a"};T.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.disabled,o=H(t,["children","className","active","disabled"]),a=j("page-item",i&&"active",s&&"disabled",r);return T.createElement("li",B({className:a},o,{ref:e}),n)});var yS=T.forwardRef(function(t,e){var n,r=t.animated,i=t.children,s=t.className,o=t.style,a=t.tag,l=t.valuenow,c=t.valuemax,u=t.striped,d=t.bgColor,f=t.valuemin,p=t.width,h=H(t,["animated","children","className","style","tag","valuenow","valuemax","striped","bgColor","valuemin","width"]),y=j("progress-bar",d&&"bg-".concat(d),u&&"progress-bar-striped",r&&"progress-bar-animated",s),E=B({width:"".concat(p,"%")},o);return T.createElement(a,B({className:y,style:E,ref:e,role:"progressbar"},h,{"aria-valuenow":(n=Number(p))!==null&&n!==void 0?n:l,"aria-valuemin":Number(f),"aria-valuemax":Number(c)}),i)});yS.defaultProps={tag:"div"};var n3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.height,o=t.style,a=H(t,["className","children","tag","height","style"]),l=j("progress",n),c=B({height:"".concat(s,"px")},o);return T.createElement(i,B({className:l,ref:e,style:c},a),T.Children.map(r,function(u){return T.isValidElement(u)&&u.type===yS?u:void console.error("Progress component only allows ProgressBar as child")}))});n3.defaultProps={tag:"div"};var r3=T.forwardRef(function(t,e){var n,r,i=t.className,s=t.size,o=t.contrast,a=t.value,l=t.defaultValue,c=t.id,u=t.labelClass,d=t.wrapperClass,f=t.wrapperStyle,p=t.wrapperTag,h=t.label,y=t.onChange,E=t.children,g=t.labelRef,v=t.labelStyle,w=t.type,C=t.onBlur,k=t.readonly,S=H(t,["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","type","onBlur","readonly"]),N=m.useState(a||l),I=N[0],x=N[1],b=m.useState(0),R=b[0],U=b[1],z=m.useState(!1),X=z[0],Z=z[1],V=m.useRef(null);m.useImperativeHandle(e,function(){return V.current});var G=m.useRef(null),O=g||G,F=j("form-outline",o&&"form-white",d),L=j("form-control",X&&"active",w==="date"&&"active",s&&"form-control-".concat(s),i),Y=j("form-label",u);m.useEffect(function(){V.current&&(V.current.value.length>0?Z(!0):Z(!1))},[(n=V.current)===null||n===void 0?void 0:n.value]),m.useEffect(function(){a!==void 0&&(a.toString().length>0?Z(!0):Z(!1))},[a]),m.useEffect(function(){l!==void 0&&(l.toString().length>0?Z(!0):Z(!1))},[l]);var W=m.useCallback(function(){var re;!((re=O.current)===null||re===void 0)&&re.clientWidth&&U(.8*O.current.clientWidth+8)},[O]);m.useEffect(function(){W()},[(r=O.current)===null||r===void 0?void 0:r.clientWidth,W]);var ce=m.useCallback(function(re){V.current&&(I!==void 0&&I.toString().length>0||a!==void 0&&a.toString().length>0||V.current.value.length>0?Z(!0):Z(!1),C&&C(re))},[I,a,C]);return T.createElement(p,{className:F,style:f},T.createElement("input",B({type:w,readOnly:k,className:L,onBlur:ce,onChange:function(re){x(re.target.value),y==null||y(re)},onFocus:W,value:a,defaultValue:l,id:c,ref:V},S)),h&&T.createElement("label",{className:Y,style:v,htmlFor:c,ref:O},h),T.createElement("div",{className:"form-notch"},T.createElement("div",{className:"form-notch-leading"}),T.createElement("div",{className:"form-notch-middle",style:{width:R}}),T.createElement("div",{className:"form-notch-trailing"})),E)});r3.defaultProps={wrapperTag:"div",readonly:!1};var _S=function(t){var e=t.className,n=t.children,r=t.show,i=t.id,s=t.navbar,o=t.tag,a=t.collapseRef,l=t.style,c=H(t,["className","children","show","id","navbar","tag","collapseRef","style"]),u=m.useState(!1),d=u[0],f=u[1],p=m.useState(void 0),h=p[0],y=p[1],E=m.useState(!1),g=E[0],v=E[1],w=j(g?"collapsing":"collapse",!g&&d&&"show",s&&"navbar-collapse",e),C=m.useRef(null),k=a??C,S=m.useCallback(function(){d&&y(void 0)},[d]);return m.useEffect(function(){var N;h===void 0&&d&&y((N=k==null?void 0:k.current)===null||N===void 0?void 0:N.scrollHeight)},[h,d,k]),m.useEffect(function(){f(r),d&&v(!0);var N=setTimeout(function(){v(!1)},350);return function(){clearTimeout(N)}},[r,d]),m.useEffect(function(){var N;y(d?(N=k==null?void 0:k.current)===null||N===void 0?void 0:N.scrollHeight:0)},[d,k]),m.useEffect(function(){return window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}},[S]),T.createElement(o,B({style:B({height:h},l),id:i,className:w},c,{ref:k}),n)};_S.defaultProps={tag:"div"};m.createContext(null);function wS(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}wS(`.dropdown-menu .active {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
`);wS(`.dropdown-menu [data-active='true'] a.dropdown-item,\r
.dropdown-menu .dropdown-item:focus,\r
.dropdown-menu li:focus .dropdown-item :not(.disabled) {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
\r
.dropdown-menu li:focus {\r
  outline: none;\r
}\r
\r
.dropdown-menu.dropdown-menu-dark [data-active='true'] a.dropdown-item,\r
.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,\r
.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item {\r
  color: #fff;\r
  background-color: #1266f1;\r
}\r
\r
.btn-group.dropstart > .dropdown-menu {\r
  right: 0 !important;\r
}\r
`);var i3=T.forwardRef(function(t,e){var n=t.className,r=t.centered,i=t.children,s=t.size,o=t.scrollable,a=t.tag,l=H(t,["className","centered","children","size","scrollable","tag"]),c=j("modal-dialog",o&&"modal-dialog-scrollable",r&&"modal-dialog-centered",s&&"modal-".concat(s),n);return T.createElement(a,B({className:c},l,{ref:e}),i)});i3.defaultProps={tag:"div"};var s3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("modal-content",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});s3.defaultProps={tag:"div"};var o3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("modal-header",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});o3.defaultProps={tag:"div"};var a3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("modal-title",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});a3.defaultProps={tag:"h5"};var l3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("modal-body",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});l3.defaultProps={tag:"div"};var c3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=H(t,["className","children","tag"]),o=j("modal-footer",n);return T.createElement(i,B({className:o},s,{ref:e}),r)});c3.defaultProps={tag:"div"};T.createContext({activeElement:null,setTargets:null});var u3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.noBorder,s=t.textBefore,o=t.textAfter,a=t.noWrap,l=t.tag,c=t.textTag,u=t.textClass,d=t.size,f=t.textProps,p=H(t,["className","children","noBorder","textBefore","textAfter","noWrap","tag","textTag","textClass","size","textProps"]),h=j("input-group",a&&"flex-nowrap",d&&"input-group-".concat(d),n),y=j("input-group-text",i&&"border-0",u),E=function(g){return T.createElement(T.Fragment,null,g&&Array.isArray(g)?g.map(function(v,w){return T.createElement(c,B({key:w,className:y},f),v)}):T.createElement(c,B({className:y},f),g))};return T.createElement(l,B({className:h,ref:e},p),s&&E(s),r,o&&E(o))});u3.defaultProps={tag:"div",textTag:"span"};var d3=T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.isValidated,s=t.onReset,o=t.onSubmit,a=H(t,["className","children","isValidated","onReset","onSubmit"]),l=m.useState(i),c=l[0],u=l[1],d=j("needs-validation",c&&"was-validated",n);return T.createElement("form",B({className:d,onSubmit:function(f){f.preventDefault(),u(!0),o&&o(f)},onReset:function(f){f.preventDefault(),u(!1),s&&s(f)},ref:e},a),r)});d3.defaultProps={noValidate:!0};T.forwardRef(function(t,e){var n=t.className,r=t.fill,i=t.pills,s=t.justify,o=t.children,a=H(t,["className","fill","pills","justify","children"]),l=j("nav",i?"nav-pills":"nav-tabs",r&&"nav-fill",s&&"nav-justified",n);return T.createElement("ul",B({className:l,ref:e},a),o)});T.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.style,s=H(t,["className","children","style"]),o=j("nav-item",n);return T.createElement("li",B({className:o,style:B({cursor:"pointer"},i),role:"presentation",ref:e},s),r)});T.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.active,s=t.onShow,o=t.onHide,a=t.children,l=H(t,["className","color","active","onShow","onHide","children"]),c=j("nav-link",i&&"active",r&&"bg-".concat(r),n);return m.useEffect(function(){i?s==null||s():o==null||o()},[i]),T.createElement("a",B({className:c,ref:e},l),a)});var f3=T.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.children,s=H(t,["className","tag","children"]),o=j("tab-content",n);return T.createElement(r,B({className:o,ref:e},s),i)});f3.defaultProps={tag:"div"};var h3=T.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.show,s=t.children,o=H(t,["className","tag","show","children"]),a=m.useState(!1),l=a[0],c=a[1],u=j("tab-pane","fade",l&&"show",i&&"active",n);return m.useEffect(function(){var d;return i?d=setTimeout(function(){c(!0)},100):c(!1),function(){clearTimeout(d)}},[i]),T.createElement(r,B({className:u,role:"tabpanel",ref:e},o),s)});h3.defaultProps={tag:"div"};m.createContext({active:0});var ES=T.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),p3=T.forwardRef(function(t,e){var n=t.alwaysOpen,r=t.borderless,i=t.className,s=t.flush,o=t.initialActive,a=t.tag,l=t.children,c=t.onChange,u=H(t,["alwaysOpen","borderless","className","flush","initialActive","tag","children","onChange"]),d=j("accordion",s&&"accordion-flush",r&&"accordion-borderless",i),f=m.useState(o),p=f[0],h=f[1];return m.useEffect(function(){p&&c&&c(p)},[c,p]),T.createElement(a,B({className:d,ref:e},u),T.createElement(ES.Provider,{value:{activeItem:p,setActiveItem:h,alwaysOpen:n,initialActive:o}},l))});p3.defaultProps={tag:"div",initialActive:0};var m3=T.forwardRef(function(t,e){var n=t.className,r=t.bodyClassName,i=t.bodyStyle,s=t.headerClassName,o=t.collapseId,a=t.headerTitle,l=t.headerStyle,c=t.btnClassName,u=t.tag,d=t.children,f=H(t,["className","bodyClassName","bodyStyle","headerClassName","collapseId","headerTitle","headerStyle","btnClassName","tag","children"]),p=m.useContext(ES),h=p.activeItem,y=p.setActiveItem,E=p.alwaysOpen,g=p.initialActive,v=m.useState(g),w=v[0],C=v[1],k=j("accordion-item",n),S=j("accordion-header",s),N=j("accordion-body",r),I=j("accordion-button",E?o!==w&&"collapsed":o!==h&&"collapsed",c);return T.createElement(u,B({className:k,ref:e},f),T.createElement("h2",{className:S,style:l},T.createElement("button",{onClick:function(){return x=o,void(E?C(x!==w?x:0):y(x!==h?x:0));var x},className:I,type:"button"},a)),T.createElement(_S,{id:o.toString(),show:E?w===o:h===o},T.createElement("div",{className:N,style:i},d)))});m3.defaultProps={tag:"div"};const g3=()=>{const[t]=bU();return t?_("div",{className:"view-profile",children:_(uS,{children:_(vS,{className:"justify-content-center",children:_(dS,{md:"9",lg:"7",xl:"5",className:"mt-5",children:_(hS,{style:{width:"595px",borderRadius:"15px",alignContent:"center",padding:"5px"},children:_(gS,{className:"p-4",children:A("div",{className:"d-flex text-black",children:[_("div",{className:"flex-shrink-0",children:_(zF,{style:{width:"180px",borderRadius:"10px"},src:t.photoURL,alt:"Generic placeholder image",fluid:!0})}),A("div",{className:"flex-grow-1 ms-3",children:[_(pS,{children:t.displayName}),_(mS,{children:t.email}),A("div",{className:"d-flex justify-content-start rounded-3 p-2 mb-2",style:{backgroundColor:"#efefef"},children:[A("div",{children:[_("p",{className:"small text-muted mb-1",children:"Favorites"}),_("p",{className:"mb-0",children:"4"})]}),A("div",{className:"px-3",children:[_("p",{className:"small text-muted mb-1",children:"Closet"}),_("p",{className:"mb-0",children:"22"})]}),A("div",{children:[_("p",{className:"small text-muted mb-1",children:"Followers"}),_("p",{className:"mb-0",children:"8"})]})]}),_("div",{className:"d-flex pt-1"})]})]})})})})})})}):_("h5",{className:"text-muted",children:"Loading user profile..."})};let ol;const v3=new Uint8Array(16);function y3(){if(!ol&&(ol=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ol))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ol(v3)}const Qe=[];for(let t=0;t<256;++t)Qe.push((t+256).toString(16).slice(1));function _3(t,e=0){return(Qe[t[e+0]]+Qe[t[e+1]]+Qe[t[e+2]]+Qe[t[e+3]]+"-"+Qe[t[e+4]]+Qe[t[e+5]]+"-"+Qe[t[e+6]]+Qe[t[e+7]]+"-"+Qe[t[e+8]]+Qe[t[e+9]]+"-"+Qe[t[e+10]]+Qe[t[e+11]]+Qe[t[e+12]]+Qe[t[e+13]]+Qe[t[e+14]]+Qe[t[e+15]]).toLowerCase()}const w3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qy={randomUUID:w3};function Xf(t,e,n){if(Qy.randomUUID&&!e&&!t)return Qy.randomUUID();t=t||{};const r=t.random||(t.rng||y3)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return _3(r)}const CS=({input:t,step:e})=>{const n=Kn(),r=on(),[i]=Ts("/"),[s,o]=m.useState(!1),[a,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(null),[p,h]=m.useState([]),[y,E]=NU("/files/"+r.uid+"/"+Xf()),[g]=Ur("/closet");m.useEffect(()=>{E&&C()},[E]);const v=()=>new Promise(S=>setTimeout(S,1e3)),w=async()=>{const N=await(await fetch(t)).blob();return new File([N],"image.jpg",{type:N.type})},C=()=>{const S=g[r.uid],N=S[c],I=Xf(),x={id:I,available:!0,weather:p,formality:d,url:E},b=N?{...N,[I]:x}:{[I]:x};c==="tops"?S.tops=b:c==="jackets"?S.jackets=b:c==="dresses"?S.dresses=b:c==="bottoms"?S.bottoms=b:c==="shoes"&&(S.shoes=b),i({["/closet/"+r.uid]:S}),s?(o(!1),e(0)):(l(!1),e(0),n("/"))},k=async S=>{if(p.length===0||!c||!d)return;S?o(!0):l(!0);const N=await w();N&&(y(N),await v())};return r?A(M,{className:"mt-2",children:[A(M,{children:[_("h5",{className:"link-upload-tag",children:"Category:"}),A(M,{className:"link-upload-category-container",children:[_(Ce,{className:c==="tops"?"link-upload-button-active":"",onClick:()=>u("tops"),children:"Top"}),_(Ce,{className:c==="jackets"?"link-upload-button-active":"",onClick:()=>u("jackets"),children:"Jacket"}),_(Ce,{className:c==="bottoms"?"link-upload-button-active":"",onClick:()=>u("bottoms"),children:"Bottom"}),_(Ce,{className:c==="shoes"?"link-upload-button-active":"",onClick:()=>u("shoes"),children:"Shoes"}),_(Ce,{className:c==="dresses"?"link-upload-button-active":"",onClick:()=>u("dresses"),children:"Dress"})]})]}),A(M,{className:"mt-2",children:[_("h5",{className:"link-upload-tag",children:"I'll wear this when it's:"}),A(M,{className:"link-upload-weather-container",children:[_(Ce,{className:p.includes("cold")?"link-upload-button-active":"",onClick:()=>{p.includes("cold")?h(p.filter(S=>S!=="cold")):h([...p,"cold"])},children:"Cold"}),_(Ce,{className:p.includes("warm")?"link-upload-button-active":"",onClick:()=>{p.includes("warm")?h(p.filter(S=>S!=="warm")):h([...p,"warm"])},children:"Warm"}),_(Ce,{className:p.includes("rainy")?"link-upload-button-active":"",onClick:()=>{p.includes("rainy")?h(p.filter(S=>S!=="rainy")):h([...p,"rainy"])},children:"Rainy"}),_(Ce,{className:p.includes("sunny")?"link-upload-button-active":"",onClick:()=>{p.includes("sunny")?h(p.filter(S=>S!=="sunny")):h([...p,"sunny"])},children:"Sunny"})]})]}),A(M,{className:"mt-2",children:[_("h5",{className:"link-upload-tag",children:"I think this item is:"}),A(M,{className:"link-upload-weather-container",children:[_(Ce,{className:d==="casual"?"link-upload-button-active":"",onClick:()=>f("casual"),children:"Casual"}),_(Ce,{className:d==="formal"?"link-upload-button-active":"",onClick:()=>f("formal"),children:"Formal"})]})]}),A(M,{className:"mt-5 link-upload-buttons-container",children:[_(Ce,{onClick:()=>k(!0),disabled:a||s,children:s?"Uploading...":"Add another Item"}),_(Ce,{onClick:()=>k(!1),disabled:a||s,children:a?"Uploading...":"I'm done!"})]})]}):_("h5",{className:"text-muted",children:"Loading user profile..."})};var Jf={},E3={get exports(){return Jf},set exports(t){Jf=t}};(function(t,e){(function(r,i){t.exports=i(m)})(NS,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var c in o)s.d(l,c,function(u){return o[u]}.bind(null,c));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var f=function(p,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var g in E)E.hasOwnProperty(g)&&(y[g]=E[g])},f(p,h)};return function(p,h){f(p,h);function y(){this.constructor=p}p.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}(),l=function(){return l=Object.assign||function(f){for(var p,h=1,y=arguments.length;h<y;h++){p=arguments[h];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(f[E]=p[E])}return f},l.apply(this,arguments)},c=function(f,p){var h={};for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&p.indexOf(y)<0&&(h[y]=f[y]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,y=Object.getOwnPropertySymbols(f);E<y.length;E++)p.indexOf(y[E])<0&&Object.prototype.propertyIsEnumerable.call(f,y[E])&&(h[y[E]]=f[y[E]]);return h};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return h?new Promise(function(y,E){h.call(navigator,p,y,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(f){a(p,f);function p(h){var y=f.call(this,h)||this;return y.canvas=null,y.ctx=null,y.requestUserMediaId=0,y.unmounted=!1,y.state={hasUserMedia:!1},y}return p.prototype.componentDidMount=function(){var h=this,y=h.state,E=h.props;if(this.unmounted=!1,!u()){E.onUserMediaError("getUserMedia not supported");return}y.hasUserMedia||this.requestUserMedia(),E.children&&typeof E.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(h){var y=this.props;if(!u()){y.onUserMediaError("getUserMedia not supported");return}var E=JSON.stringify(h.audioConstraints)!==JSON.stringify(y.audioConstraints),g=JSON.stringify(h.videoConstraints)!==JSON.stringify(y.videoConstraints),v=h.minScreenshotWidth!==y.minScreenshotWidth,w=h.minScreenshotHeight!==y.minScreenshotHeight;(g||v||w)&&(this.canvas=null,this.ctx=null),(E||g)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(h){h&&(h.getVideoTracks&&h.getAudioTracks?(h.getVideoTracks().map(function(y){h.removeTrack(y),y.stop()}),h.getAudioTracks().map(function(y){h.removeTrack(y),y.stop()})):h.stop())},p.prototype.stopAndCleanup=function(){var h=this.state;h.hasUserMedia&&(p.stopMediaStream(this.stream),h.src&&window.URL.revokeObjectURL(h.src))},p.prototype.getScreenshot=function(h){var y=this,E=y.state,g=y.props;if(!E.hasUserMedia)return null;var v=this.getCanvas(h);return v&&v.toDataURL(g.screenshotFormat,g.screenshotQuality)},p.prototype.getCanvas=function(h){var y=this,E=y.state,g=y.props;if(!this.video||!E.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var C=v/w;v=g.minScreenshotWidth||this.video.clientWidth,w=v/C,g.minScreenshotHeight&&w<g.minScreenshotHeight&&(w=g.minScreenshotHeight,v=w*C)}this.canvas=document.createElement("canvas"),this.canvas.width=(h==null?void 0:h.width)||v,this.canvas.height=(h==null?void 0:h.height)||w,this.ctx=this.canvas.getContext("2d")}var k=this,S=k.ctx,N=k.canvas;return S&&N&&(g.mirrored&&(S.translate(N.width,0),S.scale(-1,1)),S.imageSmoothingEnabled=g.imageSmoothing,S.drawImage(this.video,0,0,(h==null?void 0:h.width)||N.width,(h==null?void 0:h.height)||N.height),g.mirrored&&(S.scale(-1,1),S.translate(-N.width,0))),N},p.prototype.requestUserMedia=function(){var h=this,y=this.props,E=function(w,C){var k={video:typeof C<"u"?C:!0};y.audio&&(k.audio=typeof w<"u"?w:!0),h.requestUserMediaId++;var S=h.requestUserMediaId;navigator.mediaDevices.getUserMedia(k).then(function(N){h.unmounted||S!==h.requestUserMediaId?p.stopMediaStream(N):h.handleUserMedia(null,N)}).catch(function(N){h.handleUserMedia(N)})};if("mediaDevices"in navigator)E(y.audioConstraints,y.videoConstraints);else{var g=function(w){return{optional:[{sourceId:w}]}},v=function(w){var C=w.deviceId;return typeof C=="string"?C:Array.isArray(C)&&C.length>0?C[0]:typeof C=="object"&&C.ideal?C.ideal:null};MediaStreamTrack.getSources(function(w){var C=null,k=null;w.forEach(function(I){I.kind==="audio"?C=I.id:I.kind==="video"&&(k=I.id)});var S=v(y.audioConstraints);S&&(C=S);var N=v(y.videoConstraints);N&&(k=N),E(g(C),g(k))})}},p.prototype.handleUserMedia=function(h,y){var E=this.props;if(h||!y){this.setState({hasUserMedia:!1}),E.onUserMediaError(h);return}this.stream=y;try{this.video&&(this.video.srcObject=y),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(y)})}E.onUserMedia(y)},p.prototype.render=function(){var h=this,y=this,E=y.state,g=y.props,v=g.audio;g.forceScreenshotSourceSize,g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var w=g.mirrored,C=g.style,k=C===void 0?{}:C,S=g.children,N=c(g,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),I=w?l(l({},k),{transform:(k.transform||"")+" scaleX(-1)"}):k,x={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,src:E.src,muted:!v,playsInline:!0,ref:function(b){h.video=b},style:I},N)),S&&S(x))},p.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=d},react:function(r,i){r.exports=n}}).default})})(E3);const C3=Zf(Jf),S3=({setImgBytes:t})=>{const e={facingMode:"environment"},n=T.useRef(null),r=T.useCallback(()=>{const i=n.current.getScreenshot();t(i)},[n]);return A(M,{className:"webcam-container",children:[_(M,{children:_(C3,{className:"webcam",audio:!1,ref:n,screenshotFormat:"image/jpeg",videoConstraints:e})}),_(M,{className:"mt-2",children:_(EF,{size:34,onClick:r})})]})},k3=({step:t})=>{const[e,n]=m.useState(null);return A(M,{className:"mt-3",children:[_(M,{className:"mb-2",children:_(Qc,{size:24,onClick:()=>t(0)})}),!e&&_(S3,{setImgBytes:n}),e&&A(M,{children:[_(Aa,{className:"add-image-camera",src:e,alt:"camera"}),_(CS,{input:e,step:t})]})]})},N3=({step:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(!0);return A(M,{className:"mt-3",children:[_(M,{className:"mb-2",children:_(Qc,{size:24,onClick:()=>t(0)})}),A(M,{className:"mb-3",children:[_("h4",{className:"add-title",children:"Add via file upload"}),_(M,{className:"link-upload-form",children:_(iS.Control,{type:"file",size:"sm",accept:"image/*",onChange:s=>n(URL.createObjectURL(s.target.files[0]))})})]}),e&&r&&_(M,{className:"add-image-container",children:_(Aa,{className:"add-image",src:e,onError:()=>i(!1)})}),e&&!r&&_("h4",{className:"text-center text-muted",children:"Invalid Image"}),e&&r&&_(CS,{input:e,step:t})]})},T3=()=>{const[t,e]=m.useState(null),[n,r]=m.useState(0),i=()=>{e("camera"),r(1)},s=()=>{e("device"),r(1)};if(n===0)return A(M,{className:"upload-container",children:[A("h4",{className:"add-title",children:["Let's add ",_("br",{})," your clothes"]}),_("p",{className:"add-subtitle",children:"You can do this by taking photos of each piece, or adding a link to where you bought them from online"}),A(M,{className:"add-button-container",children:[_(Ce,{className:"add-button",onClick:i,children:"Use Camera"}),_(Ce,{className:"add-button",onClick:s,children:"Use File Upload"})]})]});if(n===1&&t==="device")return _(N3,{step:r});if(n===1&&t==="camera")return _(k3,{step:r})},md=({data:t,allData:e,type:n,handleSelect:r,index:i})=>{const[s,o]=m.useState(!1);return JSON.stringify(t)==="{}"&&!s?A(M,{className:"carousel-not-found-container",children:[A("h6",{className:"carousel-not-found-title",children:["No ",n," available for this type of weather"]}),A(Ce,{onClick:()=>o(!0),className:"carousel-not-found-button",children:["Click to see all ",n,"!"]})]}):_(M,{className:"carousel-container",children:JSON.stringify(t)==="{}"&&s?_(il,{interval:null,indicators:!1,activeIndex:i,onSelect:r,children:Object.entries(e).map(([a,l])=>_(il.Item,{children:_("img",{src:l.url,alt:"Slide"})},a))}):_(il,{interval:null,indicators:!1,activeIndex:i,onSelect:r,children:Object.entries(t).map(([a,l])=>_(il.Item,{children:_("img",{src:l.url,alt:"Slide"})},a))})})},I3=()=>{const t=Kn(),[e,n]=m.useState([]),[r,i]=m.useState(),s=on(),[o]=Ur("/closet"),[a]=Ts("/"),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,p]=m.useState("formal"),[h,y]=m.useState(0),[E,g]=m.useState(0),[v,w]=m.useState(0);m.useEffect(()=>{fetch(aS()).then(R=>R.json()).then(R=>{n(R.current_weather.temperature),i(R.current_weather.weathercode)}).catch(R=>console.error(R))},[]),m.useEffect(()=>{o&&C()},[o]),m.useEffect(()=>{C()},[h,E,v]);const C=()=>{if(o){const R={tops:Object.values(o[s.uid].tops)[h],bottoms:Object.values(o[s.uid].bottoms)[E],shoes:Object.values(o[s.uid].shoes)[v]};let U=!1;Object.entries(o[s.uid].favorites).map(([z,X])=>{R.bottoms.url===X.bottoms.url&&R.shoes.url===X.shoes.url&&R.tops.url===X.tops.url&&(d(z),U=!0)}),c(U)}},k=R=>{p(R),console.log(R)},S=R=>{y(R)},N=R=>{g(R)},I=R=>{w(R)},x=()=>{if(l)a({["/closet/"+s.uid+"/favorites/"+u]:null}),c(!1);else{const R=Xf(),U={tops:Object.values(o[s.uid].tops)[h],bottoms:Object.values(o[s.uid].bottoms)[E],shoes:Object.values(o[s.uid].shoes)[v],times:0};a({["/closet/"+s.uid+"/favorites/"+R]:U})}},b=(R,U)=>{const z=xF.get(r);let X=new Object;for(const Z in R)R[Z].weather.forEach(function(V,G){V===z&&R[Z].formality==U&&(X[Z]=R[Z])});return X};return s?o?A(M,{className:"build-container",children:[_(M,{className:"mt-1",children:_(Qc,{size:20,onClick:()=>t("/")})}),A(M,{className:"build-header-container",children:[_(M,{className:"build-header-toggle",children:A(Am,{children:[_(Qf,{id:"radio-formal",size:"sm",type:"radio",name:"radio",value:"formal",variant:f==="formal"?"dark":"light",checked:f==="formal",onChange:R=>k(R.currentTarget.value),children:"Formal"}),_(Qf,{id:"radio-casual",size:"sm",type:"radio",name:"radio",value:"casual",variant:f==="casual"?"dark":"light",checked:f==="casual",onChange:R=>k(R.currentTarget.value),children:"Casual"})]})}),_(M,{className:"build-header-weather",children:_(lS,{weather:e,weatherCode:r||0})})]}),A(M,{className:"build-clothes-container",children:[_(M,{className:"build-clothes-top",children:_(md,{data:b(o[s.uid].tops,f),allData:o[s.uid].tops,type:"tops",handleSelect:S,index:h})}),_(M,{className:"build-clothes-bottoms",children:_(md,{data:b(o[s.uid].bottoms,f),allData:o[s.uid].bottoms,type:"bottoms",handleSelect:N,index:E})}),_(M,{className:"build-clothes-shoes",children:_(md,{data:b(o[s.uid].shoes,f),allData:o[s.uid].shoes,type:"shoes",handleSelect:I,index:v})})]}),A(M,{className:"build-button-container",children:[_(Ce,{className:"build-btn",children:"I'll wear this today!"}),A(Ce,{className:"build-btn-fav",variant:"light",onClick:()=>{x()},children:[l?A(Ge,{children:[_(Rp,{size:20}),"  Favorited"]}):A(Ge,{children:[_(gE,{size:20}),"  Favorite this look"]})," "]})]})]}):_("h5",{className:"text-muted",children:"Loading user closet..."}):_("h5",{className:"text-muted",children:"Loading user profile..."})},b3=()=>{const t=Kn(),e=on(),[n]=Ur("/closet");return e?n?A(M,{children:[_(M,{className:"mt-1",children:_(Qc,{size:20,onClick:()=>t("/")})}),"SUGGEST SCREEN"]}):_("h5",{className:"text-muted",children:"Loading user closet..."}):_("h5",{className:"text-muted",children:"Loading user profile..."})},R3=()=>{const t=on();return m.useState(0),_(qT,{children:A(KT,{children:[_(Cn,{path:"/login",element:_(wF,{})}),_(Cn,{path:"/add",element:t?A(Ge,{children:[_(zr,{}),_(T3,{}),_(Wr,{})]}):_(jr,{replace:!0,to:"/login"})}),_(Cn,{path:"/",element:t?A(Ge,{children:[_(zr,{}),_(AF,{}),_(Wr,{})]}):_(jr,{replace:!0,to:"/login"})}),_(Cn,{path:"/build",element:t?A(Ge,{children:[_(zr,{}),_(I3,{}),_(Wr,{})]}):_(jr,{replace:!0,to:"/login"})}),_(Cn,{path:"/suggest",element:t?A(Ge,{children:[_(zr,{}),_(b3,{}),_(Wr,{})]}):_(jr,{replace:!0,to:"/login"})}),_(Cn,{path:"/favorites",element:t?A(Ge,{children:[_(zr,{}),_(RF,{}),_(Wr,{})]}):_(jr,{replace:!0,to:"/login"})}),_(Cn,{path:"/view-profile",element:t?A(Ge,{children:[_(zr,{}),_(g3,{}),_(Wr,{})]}):_(jr,{replace:!0,to:"/login"})}),_(Cn,{path:"/closet",element:t?A(Ge,{children:[_(zr,{}),_(TF,{}),_(Wr,{})]}):_(jr,{replace:!0,to:"/login"})})]})})};const x3=vd.createRoot(document.getElementById("root"));x3.render(_(T.StrictMode,{children:_(R3,{})}));
