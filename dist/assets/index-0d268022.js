function yS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eo={},wS={get exports(){return Eo},set exports(t){Eo=t}},wu={},m={},ES={get exports(){return m},set exports(t){m=t}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=Symbol.for("react.element"),CS=Symbol.for("react.portal"),SS=Symbol.for("react.fragment"),kS=Symbol.for("react.strict_mode"),TS=Symbol.for("react.profiler"),NS=Symbol.for("react.provider"),IS=Symbol.for("react.context"),RS=Symbol.for("react.forward_ref"),bS=Symbol.for("react.suspense"),xS=Symbol.for("react.memo"),OS=Symbol.for("react.lazy"),zm=Symbol.iterator;function PS(t){return t===null||typeof t!="object"?null:(t=zm&&t[zm]||t["@@iterator"],typeof t=="function"?t:null)}var K_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q_=Object.assign,Y_={};function ps(t,e,n){this.props=t,this.context=e,this.refs=Y_,this.updater=n||K_}ps.prototype.isReactComponent={};ps.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ps.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q_(){}Q_.prototype=ps.prototype;function Zf(t,e,n){this.props=t,this.context=e,this.refs=Y_,this.updater=n||K_}var eh=Zf.prototype=new Q_;eh.constructor=Zf;q_(eh,ps.prototype);eh.isPureReactComponent=!0;var Wm=Array.isArray,X_=Object.prototype.hasOwnProperty,th={current:null},J_={key:!0,ref:!0,__self:!0,__source:!0};function Z_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)X_.call(e,r)&&!J_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ra,type:t,key:s,ref:o,props:i,_owner:th.current}}function AS(t,e){return{$$typeof:ra,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ra}function DS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hm=/\/+/g;function gc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DS(""+t.key):e.toString(36)}function tl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ra:case CS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gc(o,0):r,Wm(i)?(n="",t!=null&&(n=t.replace(Hm,"$&/")+"/"),tl(i,e,n,"",function(u){return u})):i!=null&&(nh(i)&&(i=AS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wm(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gc(s,a);o+=tl(s,e,n,l,i)}else if(l=PS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gc(s,a++),o+=tl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ra(t,e,n){if(t==null)return t;var r=[],i=0;return tl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function MS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ct={current:null},nl={transition:null},LS={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:nl,ReactCurrentOwner:th};ae.Children={map:Ra,forEach:function(t,e,n){Ra(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ra(t,function(){e++}),e},toArray:function(t){return Ra(t,function(e){return e})||[]},only:function(t){if(!nh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=ps;ae.Fragment=SS;ae.Profiler=TS;ae.PureComponent=Zf;ae.StrictMode=kS;ae.Suspense=bS;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LS;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=th.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)X_.call(e,l)&&!J_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ra,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:IS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NS,_context:t},t.Consumer=t};ae.createElement=Z_;ae.createFactory=function(t){var e=Z_.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:RS,render:t}};ae.isValidElement=nh;ae.lazy=function(t){return{$$typeof:OS,_payload:{_status:-1,_result:t},_init:MS}};ae.memo=function(t,e){return{$$typeof:xS,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=nl.transition;nl.transition={};try{t()}finally{nl.transition=e}};ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ae.useCallback=function(t,e){return ct.current.useCallback(t,e)};ae.useContext=function(t){return ct.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return ct.current.useDeferredValue(t)};ae.useEffect=function(t,e){return ct.current.useEffect(t,e)};ae.useId=function(){return ct.current.useId()};ae.useImperativeHandle=function(t,e,n){return ct.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return ct.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return ct.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return ct.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return ct.current.useReducer(t,e,n)};ae.useRef=function(t){return ct.current.useRef(t)};ae.useState=function(t){return ct.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return ct.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return ct.current.useTransition()};ae.version="18.2.0";(function(t){t.exports=ae})(ES);const x=Jf(m),md=yS({__proto__:null,default:x},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US=m,FS=Symbol.for("react.element"),$S=Symbol.for("react.fragment"),BS=Object.prototype.hasOwnProperty,jS=US.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zS={key:!0,ref:!0,__self:!0,__source:!0};function ey(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BS.call(e,r)&&!zS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FS,type:t,key:s,ref:o,props:i,_owner:jS.current}}wu.Fragment=$S;wu.jsx=ey;wu.jsxs=ey;(function(t){t.exports=wu})(wS);const mt=Eo.Fragment,S=Eo.jsx,H=Eo.jsxs;var gd={},_l={},WS={get exports(){return _l},set exports(t){_l=t}},xt={},vd={},HS={get exports(){return vd},set exports(t){vd=t}},ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,U){var M=P.length;P.push(U);e:for(;0<M;){var z=M-1>>>1,G=P[z];if(0<i(G,U))P[z]=U,P[M]=G,M=z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var U=P[0],M=P.pop();if(M!==U){P[0]=M;e:for(var z=0,G=P.length,X=G>>>1;z<X;){var ne=2*(z+1)-1,Y=P[ne],fe=ne+1,ce=P[fe];if(0>i(Y,M))fe<G&&0>i(ce,Y)?(P[z]=ce,P[fe]=M,z=fe):(P[z]=Y,P[ne]=M,z=ne);else if(fe<G&&0>i(ce,M))P[z]=ce,P[fe]=M,z=fe;else break e}}return U}function i(P,U){var M=P.sortIndex-U.sortIndex;return M!==0?M:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=P)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function k(P){if(v=!1,w(P),!p)if(n(l)!==null)p=!0,A(R);else{var U=n(u);U!==null&&D(k,U.startTime-P)}}function R(P,U){p=!1,v&&(v=!1,g(C),C=-1),h=!0;var M=f;try{for(w(U),d=n(l);d!==null&&(!(d.expirationTime>U)||P&&!I());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var G=z(d.expirationTime<=U);U=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),w(U)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var ne=n(u);ne!==null&&D(k,ne.startTime-U),X=!1}return X}finally{d=null,f=M,h=!1}}var b=!1,y=null,C=-1,N=5,T=-1;function I(){return!(t.unstable_now()-T<N)}function O(){if(y!==null){var P=t.unstable_now();T=P;var U=!0;try{U=y(!0,P)}finally{U?F():(b=!1,y=null)}}else b=!1}var F;if(typeof _=="function")F=function(){_(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=O,F=function(){B.postMessage(null)}}else F=function(){E(O,0)};function A(P){y=P,b||(b=!0,F())}function D(P,U){C=E(function(){P(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,A(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var M=f;f=U;try{return P()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=f;f=P;try{return U()}finally{f=M}},t.unstable_scheduleCallback=function(P,U,M){var z=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?z+M:z):M=z,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,P={id:c++,callback:U,priorityLevel:P,startTime:M,expirationTime:G,sortIndex:-1},M>z?(P.sortIndex=M,e(u,P),n(l)===null&&P===n(u)&&(v?(g(C),C=-1):v=!0,D(k,M-z))):(P.sortIndex=G,e(l,P),p||h||(p=!0,A(R))),P},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(P){var U=f;return function(){var M=f;f=U;try{return P.apply(this,arguments)}finally{f=M}}}})(ty);(function(t){t.exports=ty})(HS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny=m,bt=vd;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ry=new Set,Co={};function di(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(Co[t]=e,t=0;t<e.length;t++)ry.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=Object.prototype.hasOwnProperty,VS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vm={},Gm={};function GS(t){return _d.call(Gm,t)?!0:_d.call(Vm,t)?!1:VS.test(t)?Gm[t]=!0:(Vm[t]=!0,!1)}function KS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qS(t,e,n,r){if(e===null||typeof e>"u"||KS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rh=/[\-:]([a-z])/g;function ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rh,ih);Xe[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rh,ih);Xe[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rh,ih);Xe[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function sh(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qS(e,n,i,r)&&(n=null),r||i===null?GS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=ny.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),oh=Symbol.for("react.strict_mode"),yd=Symbol.for("react.profiler"),iy=Symbol.for("react.provider"),sy=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),wd=Symbol.for("react.suspense"),Ed=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),oy=Symbol.for("react.offscreen"),Km=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=Km&&t[Km]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,vc;function Qs(t){if(vc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vc=e&&e[1]||""}return`
`+vc+t}var _c=!1;function yc(t,e){if(!t||_c)return"";_c=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_c=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function YS(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=yc(t.type,!1),t;case 11:return t=yc(t.type.render,!1),t;case 1:return t=yc(t.type,!0),t;default:return""}}function Cd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ni:return"Fragment";case Ti:return"Portal";case yd:return"Profiler";case oh:return"StrictMode";case wd:return"Suspense";case Ed:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sy:return(t.displayName||"Context")+".Consumer";case iy:return(t._context.displayName||"Context")+".Provider";case ah:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lh:return e=t.displayName||null,e!==null?e:Cd(t.type)||"Memo";case Kn:e=t._payload,t=t._init;try{return Cd(t(e))}catch{}}return null}function QS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cd(e);case 8:return e===oh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ay(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XS(t){var e=ay(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xa(t){t._valueTracker||(t._valueTracker=XS(t))}function ly(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ay(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sd(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uy(t,e){e=e.checked,e!=null&&sh(t,"checked",e,!1)}function kd(t,e){uy(t,e);var n=_r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Td(t,e.type,n):e.hasOwnProperty("defaultValue")&&Td(t,e.type,_r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ym(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Td(t,e,n){(e!=="number"||yl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xs=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_r(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Xs(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_r(n)}}function cy(t,e){var n=_r(e.value),r=_r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oa,fy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oa=Oa||document.createElement("div"),Oa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function So(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JS=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(t){JS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),to[e]=to[t]})});function hy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||to.hasOwnProperty(t)&&to[t]?(""+e).trim():e+"px"}function py(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZS=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(t,e){if(e){if(ZS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function bd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=null;function uh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Od=null,Bi=null,ji=null;function Jm(t){if(t=oa(t)){if(typeof Od!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Tu(e),Od(t.stateNode,t.type,e))}}function my(t){Bi?ji?ji.push(t):ji=[t]:Bi=t}function gy(){if(Bi){var t=Bi,e=ji;if(ji=Bi=null,Jm(t),e)for(t=0;t<e.length;t++)Jm(e[t])}}function vy(t,e){return t(e)}function _y(){}var wc=!1;function yy(t,e,n){if(wc)return t(e,n);wc=!0;try{return vy(t,e,n)}finally{wc=!1,(Bi!==null||ji!==null)&&(_y(),gy())}}function ko(t,e){var n=t.stateNode;if(n===null)return null;var r=Tu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Pd=!1;if(Pn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Pd=!1}function ek(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var no=!1,wl=null,El=!1,Ad=null,tk={onError:function(t){no=!0,wl=t}};function nk(t,e,n,r,i,s,o,a,l){no=!1,wl=null,ek.apply(tk,arguments)}function rk(t,e,n,r,i,s,o,a,l){if(nk.apply(this,arguments),no){if(no){var u=wl;no=!1,wl=null}else throw Error(L(198));El||(El=!0,Ad=u)}}function fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zm(t){if(fi(t)!==t)throw Error(L(188))}function ik(t){var e=t.alternate;if(!e){if(e=fi(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zm(i),t;if(s===r)return Zm(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function Ey(t){return t=ik(t),t!==null?Cy(t):null}function Cy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cy(t);if(e!==null)return e;t=t.sibling}return null}var Sy=bt.unstable_scheduleCallback,eg=bt.unstable_cancelCallback,sk=bt.unstable_shouldYield,ok=bt.unstable_requestPaint,Ae=bt.unstable_now,ak=bt.unstable_getCurrentPriorityLevel,ch=bt.unstable_ImmediatePriority,ky=bt.unstable_UserBlockingPriority,Cl=bt.unstable_NormalPriority,lk=bt.unstable_LowPriority,Ty=bt.unstable_IdlePriority,Eu=null,an=null;function uk(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Eu,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:fk,ck=Math.log,dk=Math.LN2;function fk(t){return t>>>=0,t===0?32:31-(ck(t)/dk|0)|0}var Pa=64,Aa=4194304;function Js(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Js(a):(s&=o,s!==0&&(r=Js(s)))}else o=n&~i,o!==0?r=Js(o):s!==0&&(r=Js(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xt(e),i=1<<n,r|=t[n],e&=~i;return r}function hk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ny(){var t=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),t}function Ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=n}function mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var he=0;function Iy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ry,fh,by,xy,Oy,Md=!1,Da=[],or=null,ar=null,lr=null,To=new Map,No=new Map,Qn=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tg(t,e){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":To.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function As(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oa(e),e!==null&&fh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vk(t,e,n,r,i){switch(e){case"focusin":return or=As(or,t,e,n,r,i),!0;case"dragenter":return ar=As(ar,t,e,n,r,i),!0;case"mouseover":return lr=As(lr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return To.set(s,As(To.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,No.set(s,As(No.get(s)||null,t,e,n,r,i)),!0}return!1}function Py(t){var e=Mr(t.target);if(e!==null){var n=fi(e);if(n!==null){if(e=n.tag,e===13){if(e=wy(n),e!==null){t.blockedOn=e,Oy(t.priority,function(){by(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xd=r,n.target.dispatchEvent(r),xd=null}else return e=oa(n),e!==null&&fh(e),t.blockedOn=n,!1;e.shift()}return!0}function ng(t,e,n){rl(t)&&n.delete(e)}function _k(){Md=!1,or!==null&&rl(or)&&(or=null),ar!==null&&rl(ar)&&(ar=null),lr!==null&&rl(lr)&&(lr=null),To.forEach(ng),No.forEach(ng)}function Ds(t,e){t.blockedOn===e&&(t.blockedOn=null,Md||(Md=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,_k)))}function Io(t){function e(i){return Ds(i,t)}if(0<Da.length){Ds(Da[0],t);for(var n=1;n<Da.length;n++){var r=Da[n];r.blockedOn===t&&(r.blockedOn=null)}}for(or!==null&&Ds(or,t),ar!==null&&Ds(ar,t),lr!==null&&Ds(lr,t),To.forEach(e),No.forEach(e),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)Py(n),n.blockedOn===null&&Qn.shift()}var zi=jn.ReactCurrentBatchConfig,kl=!0;function yk(t,e,n,r){var i=he,s=zi.transition;zi.transition=null;try{he=1,hh(t,e,n,r)}finally{he=i,zi.transition=s}}function wk(t,e,n,r){var i=he,s=zi.transition;zi.transition=null;try{he=4,hh(t,e,n,r)}finally{he=i,zi.transition=s}}function hh(t,e,n,r){if(kl){var i=Ld(t,e,n,r);if(i===null)Oc(t,e,r,Tl,n),tg(t,r);else if(vk(i,t,e,n,r))r.stopPropagation();else if(tg(t,r),e&4&&-1<gk.indexOf(t)){for(;i!==null;){var s=oa(i);if(s!==null&&Ry(s),s=Ld(t,e,n,r),s===null&&Oc(t,e,r,Tl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Oc(t,e,r,null,n)}}var Tl=null;function Ld(t,e,n,r){if(Tl=null,t=uh(r),t=Mr(t),t!==null)if(e=fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tl=t,null}function Ay(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ak()){case ch:return 1;case ky:return 4;case Cl:case lk:return 16;case Ty:return 536870912;default:return 16}default:return 16}}var nr=null,ph=null,il=null;function Dy(){if(il)return il;var t,e=ph,n=e.length,r,i="value"in nr?nr.value:nr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return il=i.slice(t,1<r?1-r:void 0)}function sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ma(){return!0}function rg(){return!1}function Ot(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ma:rg,this.isPropagationStopped=rg,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),e}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=Ot(ms),sa=Ie({},ms,{view:0,detail:0}),Ek=Ot(sa),Cc,Sc,Ms,Cu=Ie({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(Cc=t.screenX-Ms.screenX,Sc=t.screenY-Ms.screenY):Sc=Cc=0,Ms=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Sc}}),ig=Ot(Cu),Ck=Ie({},Cu,{dataTransfer:0}),Sk=Ot(Ck),kk=Ie({},sa,{relatedTarget:0}),kc=Ot(kk),Tk=Ie({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=Ot(Tk),Ik=Ie({},ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rk=Ot(Ik),bk=Ie({},ms,{data:0}),sg=Ot(bk),xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ok={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ak(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pk[t])?!!e[t]:!1}function gh(){return Ak}var Dk=Ie({},sa,{key:function(t){if(t.key){var e=xk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ok[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mk=Ot(Dk),Lk=Ie({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),og=Ot(Lk),Uk=Ie({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),Fk=Ot(Uk),$k=Ie({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bk=Ot($k),jk=Ie({},Cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zk=Ot(jk),Wk=[9,13,27,32],vh=Pn&&"CompositionEvent"in window,ro=null;Pn&&"documentMode"in document&&(ro=document.documentMode);var Hk=Pn&&"TextEvent"in window&&!ro,My=Pn&&(!vh||ro&&8<ro&&11>=ro),ag=String.fromCharCode(32),lg=!1;function Ly(t,e){switch(t){case"keyup":return Wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function Vk(t,e){switch(t){case"compositionend":return Uy(e);case"keypress":return e.which!==32?null:(lg=!0,ag);case"textInput":return t=e.data,t===ag&&lg?null:t;default:return null}}function Gk(t,e){if(Ii)return t==="compositionend"||!vh&&Ly(t,e)?(t=Dy(),il=ph=nr=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return My&&e.locale!=="ko"?null:e.data;default:return null}}var Kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kk[t.type]:e==="textarea"}function Fy(t,e,n,r){my(r),e=Nl(e,"onChange"),0<e.length&&(n=new mh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var io=null,Ro=null;function qk(t){Yy(t,0)}function Su(t){var e=xi(t);if(ly(e))return t}function Yk(t,e){if(t==="change")return e}var $y=!1;if(Pn){var Tc;if(Pn){var Nc="oninput"in document;if(!Nc){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Nc=typeof cg.oninput=="function"}Tc=Nc}else Tc=!1;$y=Tc&&(!document.documentMode||9<document.documentMode)}function dg(){io&&(io.detachEvent("onpropertychange",By),Ro=io=null)}function By(t){if(t.propertyName==="value"&&Su(Ro)){var e=[];Fy(e,Ro,t,uh(t)),yy(qk,e)}}function Qk(t,e,n){t==="focusin"?(dg(),io=e,Ro=n,io.attachEvent("onpropertychange",By)):t==="focusout"&&dg()}function Xk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Ro)}function Jk(t,e){if(t==="click")return Su(e)}function Zk(t,e){if(t==="input"||t==="change")return Su(e)}function eT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:eT;function bo(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_d.call(e,i)||!en(t[i],e[i]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hg(t,e){var n=fg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fg(n)}}function jy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zy(){for(var t=window,e=yl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yl(t.document)}return e}function _h(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tT(t){var e=zy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jy(n.ownerDocument.documentElement,n)){if(r!==null&&_h(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hg(n,s);var o=hg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nT=Pn&&"documentMode"in document&&11>=document.documentMode,Ri=null,Ud=null,so=null,Fd=!1;function pg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||Ri==null||Ri!==yl(r)||(r=Ri,"selectionStart"in r&&_h(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&bo(so,r)||(so=r,r=Nl(Ud,"onSelect"),0<r.length&&(e=new mh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ri)))}function La(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Ic={},Wy={};Pn&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function ku(t){if(Ic[t])return Ic[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wy)return Ic[t]=e[n];return t}var Hy=ku("animationend"),Vy=ku("animationiteration"),Gy=ku("animationstart"),Ky=ku("transitionend"),qy=new Map,mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){qy.set(t,e),di(e,[t])}for(var Rc=0;Rc<mg.length;Rc++){var bc=mg[Rc],rT=bc.toLowerCase(),iT=bc[0].toUpperCase()+bc.slice(1);kr(rT,"on"+iT)}kr(Hy,"onAnimationEnd");kr(Vy,"onAnimationIteration");kr(Gy,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Ky,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function gg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rk(r,e,void 0,t),t.currentTarget=null}function Yy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;gg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;gg(i,a,u),s=l}}}if(El)throw t=Ad,El=!1,Ad=null,t}function we(t,e){var n=e[Wd];n===void 0&&(n=e[Wd]=new Set);var r=t+"__bubble";n.has(r)||(Qy(e,t,2,!1),n.add(r))}function xc(t,e,n){var r=0;e&&(r|=4),Qy(n,t,r,e)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function xo(t){if(!t[Ua]){t[Ua]=!0,ry.forEach(function(n){n!=="selectionchange"&&(sT.has(n)||xc(n,!1,t),xc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ua]||(e[Ua]=!0,xc("selectionchange",!1,e))}}function Qy(t,e,n,r){switch(Ay(e)){case 1:var i=yk;break;case 4:i=wk;break;default:i=hh}n=i.bind(null,e,n,t),i=void 0,!Pd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Oc(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yy(function(){var u=s,c=uh(n),d=[];e:{var f=qy.get(t);if(f!==void 0){var h=mh,p=t;switch(t){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":h=Mk;break;case"focusin":p="focus",h=kc;break;case"focusout":p="blur",h=kc;break;case"beforeblur":case"afterblur":h=kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Sk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Fk;break;case Hy:case Vy:case Gy:h=Nk;break;case Ky:h=Bk;break;case"scroll":h=Ek;break;case"wheel":h=zk;break;case"copy":case"cut":case"paste":h=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=og}var v=(e&4)!==0,E=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var _=u,w;_!==null;){w=_;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=ko(_,g),k!=null&&v.push(Oo(_,k,w)))),E)break;_=_.return}0<v.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==xd&&(p=n.relatedTarget||n.fromElement)&&(Mr(p)||p[An]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Mr(p):null,p!==null&&(E=fi(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(v=ig,k="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=og,k="onPointerLeave",g="onPointerEnter",_="pointer"),E=h==null?f:xi(h),w=p==null?f:xi(p),f=new v(k,_+"leave",h,n,c),f.target=E,f.relatedTarget=w,k=null,Mr(c)===u&&(v=new v(g,_+"enter",p,n,c),v.target=w,v.relatedTarget=E,k=v),E=k,h&&p)t:{for(v=h,g=p,_=0,w=v;w;w=yi(w))_++;for(w=0,k=g;k;k=yi(k))w++;for(;0<_-w;)v=yi(v),_--;for(;0<w-_;)g=yi(g),w--;for(;_--;){if(v===g||g!==null&&v===g.alternate)break t;v=yi(v),g=yi(g)}v=null}else v=null;h!==null&&vg(d,f,h,v,!1),p!==null&&E!==null&&vg(d,E,p,v,!0)}}e:{if(f=u?xi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=Yk;else if(ug(f))if($y)R=Zk;else{R=Xk;var b=Qk}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=Jk);if(R&&(R=R(t,u))){Fy(d,R,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Td(f,"number",f.value)}switch(b=u?xi(u):window,t){case"focusin":(ug(b)||b.contentEditable==="true")&&(Ri=b,Ud=u,so=null);break;case"focusout":so=Ud=Ri=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,pg(d,n,c);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":pg(d,n,c)}var y;if(vh)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ii?Ly(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(My&&n.locale!=="ko"&&(Ii||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ii&&(y=Dy()):(nr=c,ph="value"in nr?nr.value:nr.textContent,Ii=!0)),b=Nl(u,C),0<b.length&&(C=new sg(C,t,null,n,c),d.push({event:C,listeners:b}),y?C.data=y:(y=Uy(n),y!==null&&(C.data=y)))),(y=Hk?Vk(t,n):Gk(t,n))&&(u=Nl(u,"onBeforeInput"),0<u.length&&(c=new sg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=y))}Yy(d,e)})}function Oo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ko(t,n),s!=null&&r.unshift(Oo(t,s,i)),s=ko(t,e),s!=null&&r.push(Oo(t,s,i))),t=t.return}return r}function yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ko(n,s),l!=null&&o.unshift(Oo(n,l,a))):i||(l=ko(n,s),l!=null&&o.push(Oo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function _g(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(aT,"")}function Fa(t,e,n){if(e=_g(e),_g(t)!==e&&n)throw Error(L(425))}function Il(){}var $d=null,Bd=null;function jd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(t){return yg.resolve(null).then(t).catch(cT)}:zd;function cT(t){setTimeout(function(){throw t})}function Pc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Io(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Io(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gs=Math.random().toString(36).slice(2),sn="__reactFiber$"+gs,Po="__reactProps$"+gs,An="__reactContainer$"+gs,Wd="__reactEvents$"+gs,dT="__reactListeners$"+gs,fT="__reactHandles$"+gs;function Mr(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[An]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wg(t);t!==null;){if(n=t[sn])return n;t=wg(t)}return e}t=n,n=t.parentNode}return null}function oa(t){return t=t[sn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Tu(t){return t[Po]||null}var Hd=[],Oi=-1;function Tr(t){return{current:t}}function Ee(t){0>Oi||(t.current=Hd[Oi],Hd[Oi]=null,Oi--)}function ye(t,e){Oi++,Hd[Oi]=t.current,t.current=e}var yr={},rt=Tr(yr),yt=Tr(!1),Qr=yr;function Ji(t,e){var n=t.type.contextTypes;if(!n)return yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function Rl(){Ee(yt),Ee(rt)}function Eg(t,e,n){if(rt.current!==yr)throw Error(L(168));ye(rt,e),ye(yt,n)}function Xy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,QS(t)||"Unknown",i));return Ie({},n,r)}function bl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Qr=rt.current,ye(rt,t),ye(yt,yt.current),!0}function Cg(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=Xy(t,e,Qr),r.__reactInternalMemoizedMergedChildContext=t,Ee(yt),Ee(rt),ye(rt,t)):Ee(yt),ye(yt,n)}var yn=null,Nu=!1,Ac=!1;function Jy(t){yn===null?yn=[t]:yn.push(t)}function hT(t){Nu=!0,Jy(t)}function Nr(){if(!Ac&&yn!==null){Ac=!0;var t=0,e=he;try{var n=yn;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yn=null,Nu=!1}catch(i){throw yn!==null&&(yn=yn.slice(t+1)),Sy(ch,Nr),i}finally{he=e,Ac=!1}}return null}var Pi=[],Ai=0,xl=null,Ol=0,At=[],Dt=0,Xr=null,Sn=1,kn="";function xr(t,e){Pi[Ai++]=Ol,Pi[Ai++]=xl,xl=t,Ol=e}function Zy(t,e,n){At[Dt++]=Sn,At[Dt++]=kn,At[Dt++]=Xr,Xr=t;var r=Sn;t=kn;var i=32-Xt(r)-1;r&=~(1<<i),n+=1;var s=32-Xt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sn=1<<32-Xt(e)+i|n<<i|r,kn=s+t}else Sn=1<<s|n<<i|r,kn=t}function yh(t){t.return!==null&&(xr(t,1),Zy(t,1,0))}function wh(t){for(;t===xl;)xl=Pi[--Ai],Pi[Ai]=null,Ol=Pi[--Ai],Pi[Ai]=null;for(;t===Xr;)Xr=At[--Dt],At[Dt]=null,kn=At[--Dt],At[Dt]=null,Sn=At[--Dt],At[Dt]=null}var Rt=null,Nt=null,ke=!1,Kt=null;function e0(t,e){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,Nt=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xr!==null?{id:Sn,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rt=t,Nt=null,!0):!1;default:return!1}}function Vd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gd(t){if(ke){var e=Nt;if(e){var n=e;if(!Sg(t,e)){if(Vd(t))throw Error(L(418));e=ur(n.nextSibling);var r=Rt;e&&Sg(t,e)?e0(r,n):(t.flags=t.flags&-4097|2,ke=!1,Rt=t)}}else{if(Vd(t))throw Error(L(418));t.flags=t.flags&-4097|2,ke=!1,Rt=t}}}function kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function $a(t){if(t!==Rt)return!1;if(!ke)return kg(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jd(t.type,t.memoizedProps)),e&&(e=Nt)){if(Vd(t))throw t0(),Error(L(418));for(;e;)e0(t,e),e=ur(e.nextSibling)}if(kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Rt?ur(t.stateNode.nextSibling):null;return!0}function t0(){for(var t=Nt;t;)t=ur(t.nextSibling)}function Zi(){Nt=Rt=null,ke=!1}function Eh(t){Kt===null?Kt=[t]:Kt.push(t)}var pT=jn.ReactCurrentBatchConfig;function Vt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pl=Tr(null),Al=null,Di=null,Ch=null;function Sh(){Ch=Di=Al=null}function kh(t){var e=Pl.current;Ee(Pl),t._currentValue=e}function Kd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wi(t,e){Al=t,Ch=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(Ch!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(Al===null)throw Error(L(308));Di=t,Al.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var Lr=null;function Th(t){Lr===null?Lr=[t]:Lr.push(t)}function n0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Th(e)):(n.next=i.next,i.next=n),e.interleaved=n,Dn(t,r)}function Dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qn=!1;function Nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Dn(t,n)}return i=r.interleaved,i===null?(e.next=e,Th(r)):(e.next=i.next,i.next=e),r.interleaved=e,Dn(t,n)}function ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dh(t,n)}}function Tg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dl(t,e,n,r){var i=t.updateQueue;qn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(f=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Ie({},d,f);break e;case 2:qn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zr|=o,t.lanes=o,t.memoizedState=d}}function Ng(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var i0=new ny.Component().refs;function qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Iu={isMounted:function(t){return(t=t._reactInternals)?fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ut(),i=fr(t),s=Rn(r,i);s.payload=e,n!=null&&(s.callback=n),e=cr(t,s,i),e!==null&&(Jt(e,t,i,r),ol(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ut(),i=fr(t),s=Rn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cr(t,s,i),e!==null&&(Jt(e,t,i,r),ol(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ut(),r=fr(t),i=Rn(n,r);i.tag=2,e!=null&&(i.callback=e),e=cr(t,i,r),e!==null&&(Jt(e,t,r,n),ol(e,t,r))}};function Ig(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bo(n,r)||!bo(i,s):!0}function s0(t,e,n){var r=!1,i=yr,s=e.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(i=wt(e)?Qr:rt.current,r=e.contextTypes,s=(r=r!=null)?Ji(t,i):yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Iu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Iu.enqueueReplaceState(e,e.state,null)}function Yd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=i0,Nh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ft(s):(s=wt(e)?Qr:rt.current,i.context=Ji(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Iu.enqueueReplaceState(i,i.state,null),Dl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===i0&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Ba(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bg(t){var e=t._init;return e(t._payload)}function o0(t){function e(g,_){if(t){var w=g.deletions;w===null?(g.deletions=[_],g.flags|=16):w.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=hr(g,_),g.index=0,g.sibling=null,g}function s(g,_,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<_?(g.flags|=2,_):w):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,w,k){return _===null||_.tag!==6?(_=Bc(w,g.mode,k),_.return=g,_):(_=i(_,w),_.return=g,_)}function l(g,_,w,k){var R=w.type;return R===Ni?c(g,_,w.props.children,k,w.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Kn&&bg(R)===_.type)?(k=i(_,w.props),k.ref=Ls(g,_,w),k.return=g,k):(k=fl(w.type,w.key,w.props,null,g.mode,k),k.ref=Ls(g,_,w),k.return=g,k)}function u(g,_,w,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=jc(w,g.mode,k),_.return=g,_):(_=i(_,w.children||[]),_.return=g,_)}function c(g,_,w,k,R){return _===null||_.tag!==7?(_=Hr(w,g.mode,k,R),_.return=g,_):(_=i(_,w),_.return=g,_)}function d(g,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Bc(""+_,g.mode,w),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ba:return w=fl(_.type,_.key,_.props,null,g.mode,w),w.ref=Ls(g,null,_),w.return=g,w;case Ti:return _=jc(_,g.mode,w),_.return=g,_;case Kn:var k=_._init;return d(g,k(_._payload),w)}if(Xs(_)||Os(_))return _=Hr(_,g.mode,w,null),_.return=g,_;Ba(g,_)}return null}function f(g,_,w,k){var R=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:a(g,_,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ba:return w.key===R?l(g,_,w,k):null;case Ti:return w.key===R?u(g,_,w,k):null;case Kn:return R=w._init,f(g,_,R(w._payload),k)}if(Xs(w)||Os(w))return R!==null?null:c(g,_,w,k,null);Ba(g,w)}return null}function h(g,_,w,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,a(_,g,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ba:return g=g.get(k.key===null?w:k.key)||null,l(_,g,k,R);case Ti:return g=g.get(k.key===null?w:k.key)||null,u(_,g,k,R);case Kn:var b=k._init;return h(g,_,w,b(k._payload),R)}if(Xs(k)||Os(k))return g=g.get(w)||null,c(_,g,k,R,null);Ba(_,k)}return null}function p(g,_,w,k){for(var R=null,b=null,y=_,C=_=0,N=null;y!==null&&C<w.length;C++){y.index>C?(N=y,y=null):N=y.sibling;var T=f(g,y,w[C],k);if(T===null){y===null&&(y=N);break}t&&y&&T.alternate===null&&e(g,y),_=s(T,_,C),b===null?R=T:b.sibling=T,b=T,y=N}if(C===w.length)return n(g,y),ke&&xr(g,C),R;if(y===null){for(;C<w.length;C++)y=d(g,w[C],k),y!==null&&(_=s(y,_,C),b===null?R=y:b.sibling=y,b=y);return ke&&xr(g,C),R}for(y=r(g,y);C<w.length;C++)N=h(y,g,C,w[C],k),N!==null&&(t&&N.alternate!==null&&y.delete(N.key===null?C:N.key),_=s(N,_,C),b===null?R=N:b.sibling=N,b=N);return t&&y.forEach(function(I){return e(g,I)}),ke&&xr(g,C),R}function v(g,_,w,k){var R=Os(w);if(typeof R!="function")throw Error(L(150));if(w=R.call(w),w==null)throw Error(L(151));for(var b=R=null,y=_,C=_=0,N=null,T=w.next();y!==null&&!T.done;C++,T=w.next()){y.index>C?(N=y,y=null):N=y.sibling;var I=f(g,y,T.value,k);if(I===null){y===null&&(y=N);break}t&&y&&I.alternate===null&&e(g,y),_=s(I,_,C),b===null?R=I:b.sibling=I,b=I,y=N}if(T.done)return n(g,y),ke&&xr(g,C),R;if(y===null){for(;!T.done;C++,T=w.next())T=d(g,T.value,k),T!==null&&(_=s(T,_,C),b===null?R=T:b.sibling=T,b=T);return ke&&xr(g,C),R}for(y=r(g,y);!T.done;C++,T=w.next())T=h(y,g,C,T.value,k),T!==null&&(t&&T.alternate!==null&&y.delete(T.key===null?C:T.key),_=s(T,_,C),b===null?R=T:b.sibling=T,b=T);return t&&y.forEach(function(O){return e(g,O)}),ke&&xr(g,C),R}function E(g,_,w,k){if(typeof w=="object"&&w!==null&&w.type===Ni&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ba:e:{for(var R=w.key,b=_;b!==null;){if(b.key===R){if(R=w.type,R===Ni){if(b.tag===7){n(g,b.sibling),_=i(b,w.props.children),_.return=g,g=_;break e}}else if(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Kn&&bg(R)===b.type){n(g,b.sibling),_=i(b,w.props),_.ref=Ls(g,b,w),_.return=g,g=_;break e}n(g,b);break}else e(g,b);b=b.sibling}w.type===Ni?(_=Hr(w.props.children,g.mode,k,w.key),_.return=g,g=_):(k=fl(w.type,w.key,w.props,null,g.mode,k),k.ref=Ls(g,_,w),k.return=g,g=k)}return o(g);case Ti:e:{for(b=w.key;_!==null;){if(_.key===b)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(g,_.sibling),_=i(_,w.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=jc(w,g.mode,k),_.return=g,g=_}return o(g);case Kn:return b=w._init,E(g,_,b(w._payload),k)}if(Xs(w))return p(g,_,w,k);if(Os(w))return v(g,_,w,k);Ba(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,w),_.return=g,g=_):(n(g,_),_=Bc(w,g.mode,k),_.return=g,g=_),o(g)):n(g,_)}return E}var es=o0(!0),a0=o0(!1),aa={},ln=Tr(aa),Ao=Tr(aa),Do=Tr(aa);function Ur(t){if(t===aa)throw Error(L(174));return t}function Ih(t,e){switch(ye(Do,e),ye(Ao,t),ye(ln,aa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Id(e,t)}Ee(ln),ye(ln,e)}function ts(){Ee(ln),Ee(Ao),Ee(Do)}function l0(t){Ur(Do.current);var e=Ur(ln.current),n=Id(e,t.type);e!==n&&(ye(Ao,t),ye(ln,n))}function Rh(t){Ao.current===t&&(Ee(ln),Ee(Ao))}var Te=Tr(0);function Ml(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dc=[];function bh(){for(var t=0;t<Dc.length;t++)Dc[t]._workInProgressVersionPrimary=null;Dc.length=0}var al=jn.ReactCurrentDispatcher,Mc=jn.ReactCurrentBatchConfig,Jr=0,Ne=null,Le=null,je=null,Ll=!1,oo=!1,Mo=0,mT=0;function et(){throw Error(L(321))}function xh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function Oh(t,e,n,r,i,s){if(Jr=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,al.current=t===null||t.memoizedState===null?yT:wT,t=n(r,i),oo){s=0;do{if(oo=!1,Mo=0,25<=s)throw Error(L(301));s+=1,je=Le=null,e.updateQueue=null,al.current=ET,t=n(r,i)}while(oo)}if(al.current=Ul,e=Le!==null&&Le.next!==null,Jr=0,je=Le=Ne=null,Ll=!1,e)throw Error(L(300));return t}function Ph(){var t=Mo!==0;return Mo=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ne.memoizedState=je=t:je=je.next=t,je}function $t(){if(Le===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=je===null?Ne.memoizedState:je.next;if(e!==null)je=e,Le=t;else{if(t===null)throw Error(L(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},je===null?Ne.memoizedState=je=t:je=je.next=t}return je}function Lo(t,e){return typeof e=="function"?e(t):e}function Lc(t){var e=$t(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Jr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ne.lanes|=c,Zr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,en(r,e.memoizedState)||(gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,Zr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uc(t){var e=$t(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);en(s,e.memoizedState)||(gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function u0(){}function c0(t,e){var n=Ne,r=$t(),i=e(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,gt=!0),r=r.queue,Ah(h0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Uo(9,f0.bind(null,n,r,i,e),void 0,null),He===null)throw Error(L(349));Jr&30||d0(n,e,i)}return i}function d0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function f0(t,e,n,r){e.value=n,e.getSnapshot=r,p0(e)&&m0(t)}function h0(t,e,n){return n(function(){p0(e)&&m0(t)})}function p0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function m0(t){var e=Dn(t,1);e!==null&&Jt(e,t,1,-1)}function xg(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:t},e.queue=t,t=t.dispatch=_T.bind(null,Ne,t),[e.memoizedState,t]}function Uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function g0(){return $t().memoizedState}function ll(t,e,n,r){var i=rn();Ne.flags|=t,i.memoizedState=Uo(1|e,n,void 0,r===void 0?null:r)}function Ru(t,e,n,r){var i=$t();r=r===void 0?null:r;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,r!==null&&xh(r,o.deps)){i.memoizedState=Uo(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=Uo(1|e,n,s,r)}function Og(t,e){return ll(8390656,8,t,e)}function Ah(t,e){return Ru(2048,8,t,e)}function v0(t,e){return Ru(4,2,t,e)}function _0(t,e){return Ru(4,4,t,e)}function y0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w0(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4,4,y0.bind(null,e,t),n)}function Dh(){}function E0(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function C0(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S0(t,e,n){return Jr&21?(en(n,e)||(n=Ny(),Ne.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=n)}function gT(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=Mc.transition;Mc.transition={};try{t(!1),e()}finally{he=n,Mc.transition=r}}function k0(){return $t().memoizedState}function vT(t,e,n){var r=fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T0(t))N0(e,n);else if(n=n0(t,e,n,r),n!==null){var i=ut();Jt(n,t,r,i),I0(n,e,r)}}function _T(t,e,n){var r=fr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T0(t))N0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,en(a,o)){var l=e.interleaved;l===null?(i.next=i,Th(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=n0(t,e,i,r),n!==null&&(i=ut(),Jt(n,t,r,i),I0(n,e,r))}}function T0(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function N0(t,e){oo=Ll=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dh(t,n)}}var Ul={readContext:Ft,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},yT={readContext:Ft,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:Og,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ll(4194308,4,y0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ll(4194308,4,t,e)},useInsertionEffect:function(t,e){return ll(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vT.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:xg,useDebugValue:Dh,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=xg(!1),e=t[0];return t=gT.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=rn();if(ke){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),He===null)throw Error(L(349));Jr&30||d0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Og(h0.bind(null,r,s,t),[t]),r.flags|=2048,Uo(9,f0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rn(),e=He.identifierPrefix;if(ke){var n=kn,r=Sn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wT={readContext:Ft,useCallback:E0,useContext:Ft,useEffect:Ah,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:_0,useMemo:C0,useReducer:Lc,useRef:g0,useState:function(){return Lc(Lo)},useDebugValue:Dh,useDeferredValue:function(t){var e=$t();return S0(e,Le.memoizedState,t)},useTransition:function(){var t=Lc(Lo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:u0,useSyncExternalStore:c0,useId:k0,unstable_isNewReconciler:!1},ET={readContext:Ft,useCallback:E0,useContext:Ft,useEffect:Ah,useImperativeHandle:w0,useInsertionEffect:v0,useLayoutEffect:_0,useMemo:C0,useReducer:Uc,useRef:g0,useState:function(){return Uc(Lo)},useDebugValue:Dh,useDeferredValue:function(t){var e=$t();return Le===null?e.memoizedState=t:S0(e,Le.memoizedState,t)},useTransition:function(){var t=Uc(Lo)[0],e=$t().memoizedState;return[t,e]},useMutableSource:u0,useSyncExternalStore:c0,useId:k0,unstable_isNewReconciler:!1};function ns(t,e){try{var n="",r=e;do n+=YS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function R0(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$l||($l=!0,af=r),Qd(t,e)},n}function b0(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Qd(t,e),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Pg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LT.bind(null,t,e,n),e.then(t,t))}function Ag(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,cr(n,e,1))),n.lanes|=1),t)}var ST=jn.ReactCurrentOwner,gt=!1;function lt(t,e,n,r){e.child=t===null?a0(e,null,n,r):es(e,t.child,n,r)}function Mg(t,e,n,r,i){n=n.render;var s=e.ref;return Wi(e,i),r=Oh(t,e,n,r,s,i),n=Ph(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(ke&&n&&yh(e),e.flags|=1,lt(t,e,r,i),e.child)}function Lg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,x0(t,e,s,r,i)):(t=fl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(o,r)&&t.ref===e.ref)return Mn(t,e,i)}return e.flags|=1,t=hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function x0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bo(s,r)&&t.ref===e.ref)if(gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gt=!0);else return e.lanes=t.lanes,Mn(t,e,i)}return Xd(t,e,n,r,i)}function O0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Li,Tt),Tt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Li,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(Li,Tt),Tt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(Li,Tt),Tt|=r;return lt(t,e,i,n),e.child}function P0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xd(t,e,n,r,i){var s=wt(n)?Qr:rt.current;return s=Ji(e,s),Wi(e,i),n=Oh(t,e,n,r,s,i),r=Ph(),t!==null&&!gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(ke&&r&&yh(e),e.flags|=1,lt(t,e,n,i),e.child)}function Ug(t,e,n,r,i){if(wt(n)){var s=!0;bl(e)}else s=!1;if(Wi(e,i),e.stateNode===null)ul(t,e),s0(e,n,r),Yd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=wt(n)?Qr:rt.current,u=Ji(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Rg(e,o,r,u),qn=!1;var f=e.memoizedState;o.state=f,Dl(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yt.current||qn?(typeof c=="function"&&(qd(e,n,c,r),l=e.memoizedState),(a=qn||Ig(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,r0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=wt(n)?Qr:rt.current,l=Ji(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Rg(e,o,r,l),qn=!1,f=e.memoizedState,o.state=f,Dl(e,r,o,i);var p=e.memoizedState;a!==d||f!==p||yt.current||qn?(typeof h=="function"&&(qd(e,n,h,r),p=e.memoizedState),(u=qn||Ig(e,n,u,r,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Jd(t,e,n,r,s,i)}function Jd(t,e,n,r,i,s){P0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Cg(e,n,!1),Mn(t,e,s);r=e.stateNode,ST.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=es(e,t.child,null,s),e.child=es(e,null,a,s)):lt(t,e,a,s),e.memoizedState=r.state,i&&Cg(e,n,!0),e.child}function A0(t){var e=t.stateNode;e.pendingContext?Eg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Eg(t,e.context,!1),Ih(t,e.containerInfo)}function Fg(t,e,n,r,i){return Zi(),Eh(i),e.flags|=256,lt(t,e,n,r),e.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function ef(t){return{baseLanes:t,cachePool:null,transitions:null}}function D0(t,e,n){var r=e.pendingProps,i=Te.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(Te,i&1),t===null)return Gd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ou(o,r,0,null),t=Hr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ef(n),e.memoizedState=Zd,t):Mh(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kT(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hr(a,s):(s=Hr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ef(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Zd,r}return s=t.child,t=s.sibling,r=hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mh(t,e){return e=Ou({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ja(t,e,n,r){return r!==null&&Eh(r),es(e,t.child,null,n),t=Mh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fc(Error(L(422))),ja(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ou({mode:"visible",children:r.children},i,0,null),s=Hr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&es(e,t.child,null,o),e.child.memoizedState=ef(o),e.memoizedState=Zd,s);if(!(e.mode&1))return ja(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=Fc(s,r,void 0),ja(t,e,o,r)}if(a=(o&t.childLanes)!==0,gt||a){if(r=He,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dn(t,i),Jt(r,t,i,-1))}return jh(),r=Fc(Error(L(421))),ja(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nt=ur(i.nextSibling),Rt=e,ke=!0,Kt=null,t!==null&&(At[Dt++]=Sn,At[Dt++]=kn,At[Dt++]=Xr,Sn=t.id,kn=t.overflow,Xr=e),e=Mh(e,r.children),e.flags|=4096,e)}function $g(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kd(t.return,e,n)}function $c(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function M0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(lt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,n,e);else if(t.tag===19)$g(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ml(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$c(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ml(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$c(e,!0,n,null,s);break;case"together":$c(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ul(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e,n){switch(e.tag){case 3:A0(e),Zi();break;case 5:l0(e);break;case 1:wt(e.type)&&bl(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(Pl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?D0(t,e,n):(ye(Te,Te.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);ye(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return M0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,O0(t,e,n)}return Mn(t,e,n)}var L0,tf,U0,F0;L0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tf=function(){};U0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ur(ln.current);var s=null;switch(n){case"input":i=Sd(t,i),r=Sd(t,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=Nd(t,i),r=Nd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Il)}Rd(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Co.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Co.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};F0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NT(t,e,n){var r=e.pendingProps;switch(wh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return wt(e.type)&&Rl(),tt(e),null;case 3:return r=e.stateNode,ts(),Ee(yt),Ee(rt),bh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($a(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(cf(Kt),Kt=null))),tf(t,e),tt(e),null;case 5:Rh(e);var i=Ur(Do.current);if(n=e.type,t!==null&&e.stateNode!=null)U0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return tt(e),null}if(t=Ur(ln.current),$a(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sn]=e,r[Po]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Zs.length;i++)we(Zs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":qm(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":Qm(r,s),we("invalid",r)}Rd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",""+a]):Co.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":xa(r),Ym(r,s,!0);break;case"textarea":xa(r),Xm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Il)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[Po]=r,L0(t,e,!1,!1),e.stateNode=t;e:{switch(o=bd(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zs.length;i++)we(Zs[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":qm(t,r),i=Sd(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),we("invalid",t);break;case"textarea":Qm(t,r),i=Nd(t,r),we("invalid",t);break;default:i=r}Rd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?py(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&So(t,l):typeof l=="number"&&So(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Co.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&sh(t,s,l,o))}switch(n){case"input":xa(t),Ym(t,r,!1);break;case"textarea":xa(t),Xm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_r(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$i(t,!!r.multiple,s,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)F0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Ur(Do.current),Ur(ln.current),$a(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(s=r.nodeValue!==n)&&(t=Rt,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return tt(e),null;case 13:if(Ee(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Nt!==null&&e.mode&1&&!(e.flags&128))t0(),Zi(),e.flags|=98560,s=!1;else if(s=$a(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[sn]=e}else Zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else Kt!==null&&(cf(Kt),Kt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ue===0&&(Ue=3):jh())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return ts(),tf(t,e),t===null&&xo(e.stateNode.containerInfo),tt(e),null;case 10:return kh(e.type._context),tt(e),null;case 17:return wt(e.type)&&Rl(),tt(e),null;case 19:if(Ee(Te),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Us(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ml(t),o!==null){for(e.flags|=128,Us(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ae()>rs&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ml(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return tt(e),null}else 2*Ae()-s.renderingStartTime>rs&&n!==1073741824&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ae(),e.sibling=null,n=Te.current,ye(Te,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Bh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function IT(t,e){switch(wh(e),e.tag){case 1:return wt(e.type)&&Rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ts(),Ee(yt),Ee(rt),bh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rh(e),null;case 13:if(Ee(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Te),null;case 4:return ts(),null;case 10:return kh(e.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var za=!1,nt=!1,RT=typeof WeakSet=="function"?WeakSet:Set,W=null;function Mi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function nf(t,e,n){try{n()}catch(r){be(t,e,r)}}var Bg=!1;function bT(t,e){if($d=kl,t=zy(),_h(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bd={focusedElem:t,selectionRange:n},kl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,E=p.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Vt(e.type,v),E);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){be(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return p=Bg,Bg=!1,p}function ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nf(e,n,s)}i=i.next}while(i!==r)}}function bu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $0(t){var e=t.alternate;e!==null&&(t.alternate=null,$0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Po],delete e[Wd],delete e[dT],delete e[fT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B0(t){return t.tag===5||t.tag===3||t.tag===4}function jg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Il));else if(r!==4&&(t=t.child,t!==null))for(sf(t,e,n),t=t.sibling;t!==null;)sf(t,e,n),t=t.sibling}function of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(of(t,e,n),t=t.sibling;t!==null;)of(t,e,n),t=t.sibling}var Ge=null,Gt=!1;function Vn(t,e,n){for(n=n.child;n!==null;)j0(t,e,n),n=n.sibling}function j0(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Eu,n)}catch{}switch(n.tag){case 5:nt||Mi(n,e);case 6:var r=Ge,i=Gt;Ge=null,Vn(t,e,n),Ge=r,Gt=i,Ge!==null&&(Gt?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Gt?(t=Ge,n=n.stateNode,t.nodeType===8?Pc(t.parentNode,n):t.nodeType===1&&Pc(t,n),Io(t)):Pc(Ge,n.stateNode));break;case 4:r=Ge,i=Gt,Ge=n.stateNode.containerInfo,Gt=!0,Vn(t,e,n),Ge=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nf(n,e,o),i=i.next}while(i!==r)}Vn(t,e,n);break;case 1:if(!nt&&(Mi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Vn(t,e,n),nt=r):Vn(t,e,n);break;default:Vn(t,e,n)}}function zg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RT),e.forEach(function(r){var i=FT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,Gt=!1;break e;case 3:Ge=a.stateNode.containerInfo,Gt=!0;break e;case 4:Ge=a.stateNode.containerInfo,Gt=!0;break e}a=a.return}if(Ge===null)throw Error(L(160));j0(s,o,i),Ge=null,Gt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)z0(e,t),e=e.sibling}function z0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),nn(t),r&4){try{ao(3,t,t.return),bu(3,t)}catch(v){be(t,t.return,v)}try{ao(5,t,t.return)}catch(v){be(t,t.return,v)}}break;case 1:Ht(e,t),nn(t),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Ht(e,t),nn(t),r&512&&n!==null&&Mi(n,n.return),t.flags&32){var i=t.stateNode;try{So(i,"")}catch(v){be(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uy(i,s),bd(a,o);var u=bd(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?py(i,d):c==="dangerouslySetInnerHTML"?fy(i,d):c==="children"?So(i,d):sh(i,c,d,u)}switch(a){case"input":kd(i,s);break;case"textarea":cy(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?$i(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?$i(i,!!s.multiple,s.defaultValue,!0):$i(i,!!s.multiple,s.multiple?[]:"",!1))}i[Po]=s}catch(v){be(t,t.return,v)}}break;case 6:if(Ht(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){be(t,t.return,v)}}break;case 3:if(Ht(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Io(e.containerInfo)}catch(v){be(t,t.return,v)}break;case 4:Ht(e,t),nn(t);break;case 13:Ht(e,t),nn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fh=Ae())),r&4&&zg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(u=nt)||c,Ht(e,t),nt=u):Ht(e,t),nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:ao(4,f,f.return);break;case 1:Mi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){be(r,n,v)}}break;case 5:Mi(f,f.return);break;case 22:if(f.memoizedState!==null){Hg(d);continue}}h!==null?(h.return=f,W=h):Hg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hy("display",o))}catch(v){be(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){be(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ht(e,t),nn(t),r&4&&zg(t);break;case 21:break;default:Ht(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B0(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(So(i,""),r.flags&=-33);var s=jg(t);of(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jg(t);sf(t,a,o);break;default:throw Error(L(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xT(t,e,n){W=t,W0(t)}function W0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||za;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nt;a=za;var u=nt;if(za=o,(nt=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Vg(i):l!==null?(l.return=o,W=l):Vg(i);for(;s!==null;)W=s,W0(s),s=s.sibling;W=i,za=a,nt=u}Wg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Wg(t)}}function Wg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||bu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ng(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ng(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Io(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}nt||e.flags&512&&rf(e)}catch(f){be(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Hg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Vg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bu(4,e)}catch(l){be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){be(e,i,l)}}var s=e.return;try{rf(e)}catch(l){be(e,s,l)}break;case 5:var o=e.return;try{rf(e)}catch(l){be(e,o,l)}}}catch(l){be(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var OT=Math.ceil,Fl=jn.ReactCurrentDispatcher,Lh=jn.ReactCurrentOwner,Ut=jn.ReactCurrentBatchConfig,ue=0,He=null,De=null,Qe=0,Tt=0,Li=Tr(0),Ue=0,Fo=null,Zr=0,xu=0,Uh=0,lo=null,pt=null,Fh=0,rs=1/0,_n=null,$l=!1,af=null,dr=null,Wa=!1,rr=null,Bl=0,uo=0,lf=null,cl=-1,dl=0;function ut(){return ue&6?Ae():cl!==-1?cl:cl=Ae()}function fr(t){return t.mode&1?ue&2&&Qe!==0?Qe&-Qe:pT.transition!==null?(dl===0&&(dl=Ny()),dl):(t=he,t!==0||(t=window.event,t=t===void 0?16:Ay(t.type)),t):1}function Jt(t,e,n,r){if(50<uo)throw uo=0,lf=null,Error(L(185));ia(t,n,r),(!(ue&2)||t!==He)&&(t===He&&(!(ue&2)&&(xu|=n),Ue===4&&Xn(t,Qe)),Et(t,r),n===1&&ue===0&&!(e.mode&1)&&(rs=Ae()+500,Nu&&Nr()))}function Et(t,e){var n=t.callbackNode;pk(t,e);var r=Sl(t,t===He?Qe:0);if(r===0)n!==null&&eg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eg(n),e===1)t.tag===0?hT(Gg.bind(null,t)):Jy(Gg.bind(null,t)),uT(function(){!(ue&6)&&Nr()}),n=null;else{switch(Iy(r)){case 1:n=ch;break;case 4:n=ky;break;case 16:n=Cl;break;case 536870912:n=Ty;break;default:n=Cl}n=X0(n,H0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function H0(t,e){if(cl=-1,dl=0,ue&6)throw Error(L(327));var n=t.callbackNode;if(Hi()&&t.callbackNode!==n)return null;var r=Sl(t,t===He?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jl(t,r);else{e=r;var i=ue;ue|=2;var s=G0();(He!==t||Qe!==e)&&(_n=null,rs=Ae()+500,Wr(t,e));do try{DT();break}catch(a){V0(t,a)}while(1);Sh(),Fl.current=s,ue=i,De!==null?e=0:(He=null,Qe=0,e=Ue)}if(e!==0){if(e===2&&(i=Dd(t),i!==0&&(r=i,e=uf(t,i))),e===1)throw n=Fo,Wr(t,0),Xn(t,r),Et(t,Ae()),n;if(e===6)Xn(t,r);else{if(i=t.current.alternate,!(r&30)&&!PT(i)&&(e=jl(t,r),e===2&&(s=Dd(t),s!==0&&(r=s,e=uf(t,s))),e===1))throw n=Fo,Wr(t,0),Xn(t,r),Et(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Or(t,pt,_n);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=Fh+500-Ae(),10<e)){if(Sl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zd(Or.bind(null,t,pt,_n),e);break}Or(t,pt,_n);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OT(r/1960))-r,10<r){t.timeoutHandle=zd(Or.bind(null,t,pt,_n),r);break}Or(t,pt,_n);break;case 5:Or(t,pt,_n);break;default:throw Error(L(329))}}}return Et(t,Ae()),t.callbackNode===n?H0.bind(null,t):null}function uf(t,e){var n=lo;return t.current.memoizedState.isDehydrated&&(Wr(t,e).flags|=256),t=jl(t,e),t!==2&&(e=pt,pt=n,e!==null&&cf(e)),t}function cf(t){pt===null?pt=t:pt.push.apply(pt,t)}function PT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~Uh,e&=~xu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xt(e),r=1<<n;t[n]=-1,e&=~r}}function Gg(t){if(ue&6)throw Error(L(327));Hi();var e=Sl(t,0);if(!(e&1))return Et(t,Ae()),null;var n=jl(t,e);if(t.tag!==0&&n===2){var r=Dd(t);r!==0&&(e=r,n=uf(t,r))}if(n===1)throw n=Fo,Wr(t,0),Xn(t,e),Et(t,Ae()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,pt,_n),Et(t,Ae()),null}function $h(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(rs=Ae()+500,Nu&&Nr())}}function ei(t){rr!==null&&rr.tag===0&&!(ue&6)&&Hi();var e=ue;ue|=1;var n=Ut.transition,r=he;try{if(Ut.transition=null,he=1,t)return t()}finally{he=r,Ut.transition=n,ue=e,!(ue&6)&&Nr()}}function Bh(){Tt=Li.current,Ee(Li)}function Wr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lT(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(wh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rl();break;case 3:ts(),Ee(yt),Ee(rt),bh();break;case 5:Rh(r);break;case 4:ts();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:kh(r.type._context);break;case 22:case 23:Bh()}n=n.return}if(He=t,De=t=hr(t.current,null),Qe=Tt=e,Ue=0,Fo=null,Uh=xu=Zr=0,pt=lo=null,Lr!==null){for(e=0;e<Lr.length;e++)if(n=Lr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Lr=null}return t}function V0(t,e){do{var n=De;try{if(Sh(),al.current=Ul,Ll){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ll=!1}if(Jr=0,je=Le=Ne=null,oo=!1,Mo=0,Lh.current=null,n===null||n.return===null){Ue=1,Fo=e,De=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Ag(o);if(h!==null){h.flags&=-257,Dg(h,o,a,s,e),h.mode&1&&Pg(s,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Pg(s,u,e),jh();break e}l=Error(L(426))}}else if(ke&&a.mode&1){var E=Ag(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Dg(E,o,a,s,e),Eh(ns(l,a));break e}}s=l=ns(l,a),Ue!==4&&(Ue=2),lo===null?lo=[s]:lo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=R0(s,l,e);Tg(s,g);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(dr===null||!dr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=b0(s,a,e);Tg(s,k);break e}}s=s.return}while(s!==null)}q0(n)}catch(R){e=R,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function G0(){var t=Fl.current;return Fl.current=Ul,t===null?Ul:t}function jh(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),He===null||!(Zr&268435455)&&!(xu&268435455)||Xn(He,Qe)}function jl(t,e){var n=ue;ue|=2;var r=G0();(He!==t||Qe!==e)&&(_n=null,Wr(t,e));do try{AT();break}catch(i){V0(t,i)}while(1);if(Sh(),ue=n,Fl.current=r,De!==null)throw Error(L(261));return He=null,Qe=0,Ue}function AT(){for(;De!==null;)K0(De)}function DT(){for(;De!==null&&!sk();)K0(De)}function K0(t){var e=Q0(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?q0(t):De=e,Lh.current=null}function q0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IT(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,De=null;return}}else if(n=NT(n,e,Tt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Ue===0&&(Ue=5)}function Or(t,e,n){var r=he,i=Ut.transition;try{Ut.transition=null,he=1,MT(t,e,n,r)}finally{Ut.transition=i,he=r}return null}function MT(t,e,n,r){do Hi();while(rr!==null);if(ue&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(mk(t,s),t===He&&(De=He=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wa||(Wa=!0,X0(Cl,function(){return Hi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ut.transition,Ut.transition=null;var o=he;he=1;var a=ue;ue|=4,Lh.current=null,bT(t,n),z0(n,t),tT(Bd),kl=!!$d,Bd=$d=null,t.current=n,xT(n),ok(),ue=a,he=o,Ut.transition=s}else t.current=n;if(Wa&&(Wa=!1,rr=t,Bl=i),s=t.pendingLanes,s===0&&(dr=null),uk(n.stateNode),Et(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,t=af,af=null,t;return Bl&1&&t.tag!==0&&Hi(),s=t.pendingLanes,s&1?t===lf?uo++:(uo=0,lf=t):uo=0,Nr(),null}function Hi(){if(rr!==null){var t=Iy(Bl),e=Ut.transition,n=he;try{if(Ut.transition=null,he=16>t?16:t,rr===null)var r=!1;else{if(t=rr,rr=null,Bl=0,ue&6)throw Error(L(331));var i=ue;for(ue|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:ao(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,h=c.return;if($0(c),c===u){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ao(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,W=g;break e}W=s.return}}var _=t.current;for(W=_;W!==null;){o=W;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,W=w;else e:for(o=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bu(9,a)}}catch(R){be(a,a.return,R)}if(a===o){W=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,W=k;break e}W=a.return}}if(ue=i,Nr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Eu,t)}catch{}r=!0}return r}finally{he=n,Ut.transition=e}}return!1}function Kg(t,e,n){e=ns(n,e),e=R0(t,e,1),t=cr(t,e,1),e=ut(),t!==null&&(ia(t,1,e),Et(t,e))}function be(t,e,n){if(t.tag===3)Kg(t,t,n);else for(;e!==null;){if(e.tag===3){Kg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){t=ns(n,t),t=b0(e,t,1),e=cr(e,t,1),t=ut(),e!==null&&(ia(e,1,t),Et(e,t));break}}e=e.return}}function LT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ut(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Qe&n)===n&&(Ue===4||Ue===3&&(Qe&130023424)===Qe&&500>Ae()-Fh?Wr(t,0):Uh|=n),Et(t,e)}function Y0(t,e){e===0&&(t.mode&1?(e=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):e=1);var n=ut();t=Dn(t,e),t!==null&&(ia(t,e,n),Et(t,n))}function UT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Y0(t,n)}function FT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),Y0(t,n)}var Q0;Q0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gt=!1,TT(t,e,n);gt=!!(t.flags&131072)}else gt=!1,ke&&e.flags&1048576&&Zy(e,Ol,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ul(t,e),t=e.pendingProps;var i=Ji(e,rt.current);Wi(e,n),i=Oh(null,e,r,t,i,n);var s=Ph();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)?(s=!0,bl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nh(e),i.updater=Iu,e.stateNode=i,i._reactInternals=e,Yd(e,r,t,n),e=Jd(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&yh(e),lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ul(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BT(r),t=Vt(r,t),i){case 0:e=Xd(null,e,r,t,n);break e;case 1:e=Ug(null,e,r,t,n);break e;case 11:e=Mg(null,e,r,t,n);break e;case 14:e=Lg(null,e,r,Vt(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Xd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Ug(t,e,r,i,n);case 3:e:{if(A0(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,r0(t,e),Dl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ns(Error(L(423)),e),e=Fg(t,e,r,n,i);break e}else if(r!==i){i=ns(Error(L(424)),e),e=Fg(t,e,r,n,i);break e}else for(Nt=ur(e.stateNode.containerInfo.firstChild),Rt=e,ke=!0,Kt=null,n=a0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zi(),r===i){e=Mn(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return l0(e),t===null&&Gd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jd(r,i)?o=null:s!==null&&jd(r,s)&&(e.flags|=32),P0(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&Gd(e),null;case 13:return D0(t,e,n);case 4:return Ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=es(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),Mg(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(Pl,r._currentValue),r._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===i.children&&!yt.current){e=Mn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Rn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wi(e,n),i=Ft(i),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,i=Vt(r,e.pendingProps),i=Vt(r.type,i),Lg(t,e,r,i,n);case 15:return x0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vt(r,i),ul(t,e),e.tag=1,wt(r)?(t=!0,bl(e)):t=!1,Wi(e,n),s0(e,r,i),Yd(e,r,i,n),Jd(null,e,r,!0,t,n);case 19:return M0(t,e,n);case 22:return O0(t,e,n)}throw Error(L(156,e.tag))};function X0(t,e){return Sy(t,e)}function $T(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,e,n,r){return new $T(t,e,n,r)}function zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BT(t){if(typeof t=="function")return zh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ah)return 11;if(t===lh)return 14}return 2}function hr(t,e){var n=t.alternate;return n===null?(n=Mt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ni:return Hr(n.children,i,s,e);case oh:o=8,i|=8;break;case yd:return t=Mt(12,n,e,i|2),t.elementType=yd,t.lanes=s,t;case wd:return t=Mt(13,n,e,i),t.elementType=wd,t.lanes=s,t;case Ed:return t=Mt(19,n,e,i),t.elementType=Ed,t.lanes=s,t;case oy:return Ou(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iy:o=10;break e;case sy:o=9;break e;case ah:o=11;break e;case lh:o=14;break e;case Kn:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Mt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hr(t,e,n,r){return t=Mt(7,t,r,e),t.lanes=n,t}function Ou(t,e,n,r){return t=Mt(22,t,r,e),t.elementType=oy,t.lanes=n,t.stateNode={isHidden:!1},t}function Bc(t,e,n){return t=Mt(6,t,null,e),t.lanes=n,t}function jc(t,e,n){return e=Mt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wh(t,e,n,r,i,s,o,a,l){return t=new jT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(s),t}function zT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J0(t){if(!t)return yr;t=t._reactInternals;e:{if(fi(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(wt(n))return Xy(t,n,e)}return e}function Z0(t,e,n,r,i,s,o,a,l){return t=Wh(n,r,!0,t,i,s,o,a,l),t.context=J0(null),n=t.current,r=ut(),i=fr(n),s=Rn(r,i),s.callback=e??null,cr(n,s,i),t.current.lanes=i,ia(t,i,r),Et(t,r),t}function Pu(t,e,n,r){var i=e.current,s=ut(),o=fr(i);return n=J0(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cr(i,e,o),t!==null&&(Jt(t,i,o,s),ol(t,i,o)),o}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hh(t,e){qg(t,e),(t=t.alternate)&&qg(t,e)}function WT(){return null}var ew=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vh(t){this._internalRoot=t}Au.prototype.render=Vh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Pu(t,e,null,null)};Au.prototype.unmount=Vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ei(function(){Pu(null,t,null,null)}),e[An]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var e=xy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&Py(t)}};function Gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function HT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=zl(o);s.call(u)}}var o=Z0(e,r,t,0,null,!1,!1,"",Yg);return t._reactRootContainer=o,t[An]=o.current,xo(t.nodeType===8?t.parentNode:t),ei(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zl(l);a.call(u)}}var l=Wh(t,0,!1,null,null,!1,!1,"",Yg);return t._reactRootContainer=l,t[An]=l.current,xo(t.nodeType===8?t.parentNode:t),ei(function(){Pu(e,l,n,r)}),l}function Mu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zl(o);a.call(l)}}Pu(e,o,t,i)}else o=HT(n,e,t,i,r);return zl(o)}Ry=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Js(e.pendingLanes);n!==0&&(dh(e,n|1),Et(e,Ae()),!(ue&6)&&(rs=Ae()+500,Nr()))}break;case 13:ei(function(){var r=Dn(t,1);if(r!==null){var i=ut();Jt(r,t,1,i)}}),Hh(t,1)}};fh=function(t){if(t.tag===13){var e=Dn(t,134217728);if(e!==null){var n=ut();Jt(e,t,134217728,n)}Hh(t,134217728)}};by=function(t){if(t.tag===13){var e=fr(t),n=Dn(t,e);if(n!==null){var r=ut();Jt(n,t,e,r)}Hh(t,e)}};xy=function(){return he};Oy=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};Od=function(t,e,n){switch(e){case"input":if(kd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tu(r);if(!i)throw Error(L(90));ly(r),kd(r,i)}}}break;case"textarea":cy(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};vy=$h;_y=ei;var VT={usingClientEntryPoint:!1,Events:[oa,xi,Tu,my,gy,$h]},Fs={findFiberByHostInstance:Mr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GT={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ey(t),t===null?null:t.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||WT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{Eu=Ha.inject(GT),an=Ha}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VT;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gh(e))throw Error(L(200));return zT(t,e,null,n)};xt.createRoot=function(t,e){if(!Gh(t))throw Error(L(299));var n=!1,r="",i=ew;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wh(t,1,!1,null,null,n,!1,r,i),t[An]=e.current,xo(t.nodeType===8?t.parentNode:t),new Vh(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Ey(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return ei(t)};xt.hydrate=function(t,e,n){if(!Du(e))throw Error(L(200));return Mu(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Gh(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ew;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Z0(e,null,t,1,n??null,i,!1,s,o),t[An]=e.current,xo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Au(e)};xt.render=function(t,e,n){if(!Du(e))throw Error(L(200));return Mu(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!Du(t))throw Error(L(40));return t._reactRootContainer?(ei(function(){Mu(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};xt.unstable_batchedUpdates=$h;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Du(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Mu(t,e,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=xt})(WS);const Ui=Jf(_l);var Qg=_l;gd.createRoot=Qg.createRoot,gd.hydrateRoot=Qg.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}var ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ir||(ir={}));const Xg="popstate";function KT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return df("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tw(i)}return YT(e,n,null,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qT(){return Math.random().toString(36).substr(2,8)}function Jg(t,e){return{usr:t.state,key:t.key,idx:e}}function df(t,e,n,r){return n===void 0&&(n=null),$o({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||r||qT()})}function tw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ir.Pop,l=null,u=c();u==null&&(u=0,o.replaceState($o({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=ir.Pop;let E=c(),g=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:g})}function f(E,g){a=ir.Push;let _=df(v.location,E,g);n&&n(_,E),u=c()+1;let w=Jg(_,u),k=v.createHref(_);try{o.pushState(w,"",k)}catch{i.location.assign(k)}s&&l&&l({action:a,location:v.location,delta:1})}function h(E,g){a=ir.Replace;let _=df(v.location,E,g);n&&n(_,E),u=c();let w=Jg(_,u),k=v.createHref(_);o.replaceState(w,"",k),s&&l&&l({action:a,location:v.location,delta:0})}function p(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:tw(E);return Fe(g,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,g)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xg,d),l=E,()=>{i.removeEventListener(Xg,d),l=null}},createHref(E){return e(i,E)},createURL:p,encodeLocation(E){let g=p(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(E){return o.go(E)}};return v}var Zg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zg||(Zg={}));function QT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vs(e):e,i=iw(r.pathname||"/",n);if(i==null)return null;let s=nw(t);XT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=oN(s[a],uN(i));return o}function nw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Vr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Fe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nw(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:iN(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rw(s.path))i(s,o,l)}),e}function rw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JT=/^:\w+$/,ZT=3,eN=2,tN=1,nN=10,rN=-2,ev=t=>t==="*";function iN(t,e){let n=t.split("/"),r=n.length;return n.some(ev)&&(r+=rN),e&&(r+=eN),n.filter(i=>!ev(i)).reduce((i,s)=>i+(JT.test(s)?ZT:s===""?tN:nN),r)}function sN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=aN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Vr([i,c.pathname]),pathnameBase:mN(Vr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Vr([i,c.pathnameBase]))}return s}function aN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=cN(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function lN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uN(t){try{return decodeURI(t)}catch(e){return Kh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cN(t,e){try{return decodeURIComponent(t)}catch(n){return Kh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function iw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Kh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:fN(n,e):e,search:gN(r),hash:vN(i)}}function fN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vs(t):(i=$o({},t),Fe(!i.pathname||!i.pathname.includes("?"),zc("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),zc("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),zc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=dN(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),mN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _N(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yN=["post","put","patch","delete"];[...yN];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}function wN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const EN=typeof Object.is=="function"?Object.is:wN,{useState:CN,useEffect:SN,useLayoutEffect:kN,useDebugValue:TN}=md;function NN(t,e,n){const r=e(),[{inst:i},s]=CN({inst:{value:r,getSnapshot:e}});return kN(()=>{i.value=r,i.getSnapshot=e,Wc(i)&&s({inst:i})},[t,r,e]),SN(()=>(Wc(i)&&s({inst:i}),t(()=>{Wc(i)&&s({inst:i})})),[t]),TN(r),r}function Wc(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!EN(n,r)}catch{return!0}}function IN(t,e,n){return e()}const RN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bN=!RN,xN=bN?IN:NN;"useSyncExternalStore"in md&&(t=>t.useSyncExternalStore)(md);const sw=m.createContext(null),qh=m.createContext(null),Yh=m.createContext(null),Lu=m.createContext(null),la=m.createContext({outlet:null,matches:[]}),ow=m.createContext(null);function ua(){return m.useContext(Lu)!=null}function Qh(){return ua()||Fe(!1),m.useContext(Lu).location}function Uu(){ua()||Fe(!1);let{basename:t,navigator:e}=m.useContext(Yh),{matches:n}=m.useContext(la),{pathname:r}=Qh(),i=JSON.stringify(hN(n).map(a=>a.pathnameBase)),s=m.useRef(!1);return m.useEffect(()=>{s.current=!0}),m.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=pN(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Vr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function ON(t,e){ua()||Fe(!1);let{navigator:n}=m.useContext(Yh),r=m.useContext(qh),{matches:i}=m.useContext(la),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Qh(),u;if(e){var c;let v=typeof e=="string"?vs(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||Fe(!1),u=v}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=QT(t,{pathname:f}),p=MN(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Vr([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Vr([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&p?m.createElement(Lu.Provider,{value:{location:ff({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ir.Pop}},p):p}function PN(){let t=$N(),e=_N(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,s)}class AN extends m.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?m.createElement(la.Provider,{value:this.props.routeContext},m.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DN(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(sw);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(la.Provider,{value:e},r)}function MN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Fe(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=n?o.route.errorElement||m.createElement(PN,null):null,c=e.concat(r.slice(0,a+1)),d=()=>m.createElement(DN,{match:o,routeContext:{outlet:s,matches:c}},l?u:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?m.createElement(AN,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var tv;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(tv||(tv={}));var Wl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Wl||(Wl={}));function LN(t){let e=m.useContext(qh);return e||Fe(!1),e}function UN(t){let e=m.useContext(la);return e||Fe(!1),e}function FN(t){let e=UN(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function $N(){var t;let e=m.useContext(ow),n=LN(Wl.UseRouteError),r=FN(Wl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function $s(t){let{to:e,replace:n,state:r,relative:i}=t;ua()||Fe(!1);let s=m.useContext(qh),o=Uu();return m.useEffect(()=>{s&&s.navigation.state!=="idle"||o(e,{replace:n,state:r,relative:i})}),null}function Pr(t){Fe(!1)}function BN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ir.Pop,navigator:s,static:o=!1}=t;ua()&&Fe(!1);let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=vs(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,p=m.useMemo(()=>{let v=iw(u,a);return v==null?null:{pathname:v,search:c,hash:d,state:f,key:h}},[a,u,c,d,f,h]);return p==null?null:m.createElement(Yh.Provider,{value:l},m.createElement(Lu.Provider,{children:n,value:{location:p,navigationType:i}}))}function jN(t){let{children:e,location:n}=t,r=m.useContext(sw),i=r&&!e?r.router.routes:hf(e);return ON(i,n)}var nv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(nv||(nv={}));new Promise(()=>{});function hf(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;if(r.type===m.Fragment){n.push.apply(n,hf(r.props.children,e));return}r.type!==Pr&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=hf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zN(t){let{basename:e,children:n,window:r}=t,i=m.useRef();i.current==null&&(i.current=KT({window:r,v5Compat:!0}));let s=i.current,[o,a]=m.useState({action:s.action,location:s.location});return m.useLayoutEffect(()=>s.listen(a),[s]),m.createElement(BN,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var rv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(rv||(rv={}));var iv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iv||(iv={}));var pf={},WN={get exports(){return pf},set exports(t){pf=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(WN);const te=pf,HN=["xxl","xl","lg","md","sm","xs"],VN="xs",Fu=m.createContext({prefixes:{},breakpoints:HN,minBreakpoint:VN});function le(t,e){const{prefixes:n}=m.useContext(Fu);return t||n[e]||e}function aw(){const{breakpoints:t}=m.useContext(Fu);return t}function lw(){const{minBreakpoint:t}=m.useContext(Fu);return t}function uw(){const{dir:t}=m.useContext(Fu);return t==="rtl"}const GN={fluid:!1},J=m.forwardRef(({bsPrefix:t,fluid:e,as:n="div",className:r,...i},s)=>{const o=le(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return S(n,{ref:s,...i,className:te(r,e?`${o}${a}`:o)})});J.displayName="Container";J.defaultProps=GN;const KN=m.createContext(null),Bo=(t,e=null)=>t!=null?String(t):e||null,ti=KN;function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function cw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function qN(t){var e=YN(t,"string");return typeof e=="symbol"?e:String(e)}function YN(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dw(t,e,n){var r=m.useRef(t!==void 0),i=m.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,m.useCallback(function(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function $u(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[sv(r)],a=s[r],l=cw(s,[sv(r),r].map(qN)),u=e[r],c=dw(a,o,t[u]),d=c[0],f=c[1];return mf({},l,(i={},i[r]=d,i[u]=f,i))},t)}function gf(t,e){return gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gf(t,e)}function QN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gf(t,e)}var XN=/-(.)/g;function JN(t){return t.replace(XN,function(e,n){return n.toUpperCase()})}const ZN=t=>t[0].toUpperCase()+JN(t).slice(1);function st(t,{displayName:e=ZN(t),Component:n,defaultProps:r}={}){const i=m.forwardRef(({className:s,bsPrefix:o,as:a=n||"div",...l},u)=>{const c=le(o,t);return S(a,{ref:u,className:te(s,c),...l})});return i.defaultProps=r,i.displayName=e,i}const fw=m.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=le(t,"navbar-brand");const s=n||(r.href?"a":"span");return S(s,{...r,ref:i,className:te(e,t)})});fw.displayName="NavbarBrand";function Bu(t){return t&&t.ownerDocument||document}function eI(t){var e=Bu(t);return e&&e.defaultView||window}function tI(t,e){return eI(t).getComputedStyle(t,e)}var nI=/([A-Z])/g;function rI(t){return t.replace(nI,"-$1").toLowerCase()}var iI=/^ms-/;function Va(t){return rI(t).replace(iI,"-ms-")}var sI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function oI(t){return!!(t&&sI.test(t))}function bn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Va(e))||tI(t).getPropertyValue(Va(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Va(i)):oI(i)?r+=i+"("+s+") ":n+=Va(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Ye={},aI={get exports(){return Ye},set exports(t){Ye=t}},lI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uI=lI,cI=uI;function hw(){}function pw(){}pw.resetWarningCache=hw;var dI=function(){function t(r,i,s,o,a,l){if(l!==cI){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pw,resetWarningCache:hw};return n.PropTypes=n,n};aI.exports=dI();const ov={disabled:!1},mw=x.createContext(null);var fI=function(e){return e.scrollTop},eo="unmounted",Yn="exited",qt="entering",En="entered",jo="exiting",zn=function(t){QN(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Yn,s.appearStatus=qt):l=En:r.unmountOnExit||r.mountOnEnter?l=eo:l=Yn,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===eo?{status:Yn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==qt&&o!==En&&(s=qt):(o===qt||o===En)&&(s=jo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===qt){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ui.findDOMNode(this);o&&fI(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yn&&this.setState({status:eo})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ui.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||ov.disabled){this.safeSetState({status:En},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:qt},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:En},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ui.findDOMNode(this);if(!s||ov.disabled){this.safeSetState({status:Yn},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:jo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Yn},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ui.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===eo)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=cw(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(mw.Provider,{value:null},typeof o=="function"?o(i,a):x.cloneElement(x.Children.only(o),a))},e}(x.Component);zn.contextType=mw;zn.propTypes={};function wi(){}zn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wi,onEntering:wi,onEntered:wi,onExit:wi,onExiting:wi,onExited:wi};zn.UNMOUNTED=eo;zn.EXITED=Yn;zn.ENTERING=qt;zn.ENTERED=En;zn.EXITING=jo;const ju=!!(typeof window<"u"&&window.document&&window.document.createElement);var vf=!1,_f=!1;try{var Hc={get passive(){return vf=!0},get once(){return _f=vf=!0}};ju&&(window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,!0))}catch{}function gw(t,e,n,r){if(r&&typeof r!="boolean"&&!_f){var i=r.once,s=r.capture,o=n;!_f&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,vf?r:s)}t.addEventListener(e,n,r)}function hI(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function sr(t,e,n,r){return gw(t,e,n,r),function(){hI(t,e,n,r)}}function pI(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function mI(t){var e=bn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function gI(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||pI(t,"transitionend",!0)},e+n),s=sr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function vI(t,e,n,r){n==null&&(n=mI(t)||0);var i=gI(t,n,r),s=sr(t,"transitionend",e);return function(){i(),s()}}function av(t,e){const n=bn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function zu(t,e){const n=av(t,"transitionDuration"),r=av(t,"transitionDelay"),i=vI(t,s=>{s.target===t&&(i(),e(s))},n+r)}function Bs(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function Xh(t){t.offsetHeight}var lv=function(e){return!e||typeof e=="function"?e:function(n){e.current=n}};function _I(t,e){var n=lv(t),r=lv(e);return function(i){n&&n(i),r&&r(i)}}function _s(t,e){return m.useMemo(function(){return _I(t,e)},[t,e])}function yI(t){return t&&"setState"in t?Ui.findDOMNode(t):t??null}const Wu=x.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},c)=>{const d=m.useRef(null),f=_s(d,l),h=b=>{f(yI(b))},p=b=>y=>{b&&d.current&&b(d.current,y)},v=m.useCallback(p(t),[t]),E=m.useCallback(p(e),[e]),g=m.useCallback(p(n),[n]),_=m.useCallback(p(r),[r]),w=m.useCallback(p(i),[i]),k=m.useCallback(p(s),[s]),R=m.useCallback(p(o),[o]);return S(zn,{ref:c,...u,onEnter:v,onEntered:g,onEntering:E,onExit:_,onExited:k,onExiting:w,addEndListener:R,nodeRef:d,children:typeof a=="function"?(b,y)=>a(b,{...y,ref:h}):x.cloneElement(a,{ref:h})})}),wI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function vw(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=wI[t];return r+parseInt(bn(e,i[0]),10)+parseInt(bn(e,i[1]),10)}const EI={[Yn]:"collapse",[jo]:"collapsing",[qt]:"collapsing",[En]:"collapse show"},CI={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:vw},_w=x.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",getDimensionValue:l=vw,...u},c)=>{const d=typeof a=="function"?a():a,f=m.useMemo(()=>Bs(g=>{g.style[d]="0"},t),[d,t]),h=m.useMemo(()=>Bs(g=>{const _=`scroll${d[0].toUpperCase()}${d.slice(1)}`;g.style[d]=`${g[_]}px`},e),[d,e]),p=m.useMemo(()=>Bs(g=>{g.style[d]=null},n),[d,n]),v=m.useMemo(()=>Bs(g=>{g.style[d]=`${l(d,g)}px`,Xh(g)},r),[r,l,d]),E=m.useMemo(()=>Bs(g=>{g.style[d]=null},i),[d,i]);return S(Wu,{ref:c,addEndListener:zu,...u,"aria-expanded":u.role?u.in:null,onEnter:f,onEntering:h,onEntered:p,onExit:v,onExiting:E,childRef:o.ref,children:(g,_)=>x.cloneElement(o,{..._,className:te(s,o.props.className,EI[g],d==="width"&&"collapse-horizontal")})})});_w.defaultProps=CI;const SI=_w,Ir=m.createContext(null);Ir.displayName="NavbarContext";const yw=m.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=le(e,"navbar-collapse");const i=m.useContext(Ir);return S(SI,{in:!!(i&&i.expanded),...n,children:S("div",{ref:r,className:e,children:t})})});yw.displayName="NavbarCollapse";function ww(t){var e=m.useRef(t);return m.useEffect(function(){e.current=t},[t]),e}function xe(t){var e=ww(t);return m.useCallback(function(){return e.current&&e.current.apply(e,arguments)},[e])}const kI={label:"Toggle navigation"},Jh=m.forwardRef(({bsPrefix:t,className:e,children:n,label:r,as:i="button",onClick:s,...o},a)=>{t=le(t,"navbar-toggler");const{onToggle:l,expanded:u}=m.useContext(Ir)||{},c=xe(d=>{s&&s(d),l&&l()});return i==="button"&&(o.type="button"),S(i,{...o,ref:a,onClick:c,"aria-label":r,className:te(e,t,!u&&"collapsed"),children:n||S("span",{className:`${t}-icon`})})});Jh.displayName="NavbarToggle";Jh.defaultProps=kI;var TI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",NI=typeof document<"u";const Hl=NI||TI?m.useLayoutEffect:m.useEffect;var yf=new WeakMap,uv=function(e,n){if(!(!e||!n)){var r=yf.get(n)||new Map;yf.set(n,r);var i=r.get(e);return i||(i=n.matchMedia(e),i.refCount=0,r.set(i.media,i)),i}};function II(t,e){e===void 0&&(e=typeof window>"u"?void 0:window);var n=uv(t,e),r=m.useState(function(){return n?n.matches:!1}),i=r[0],s=r[1];return Hl(function(){var o=uv(t,e);if(!o)return s(!1);var a=yf.get(e),l=function(){s(o.matches)};return o.refCount++,o.addListener(l),l(),function(){o.removeListener(l),o.refCount--,o.refCount<=0&&(a==null||a.delete(o.media)),o=void 0}},[t]),i}function RI(t){var e=Object.keys(t);function n(a,l){return a===l?l:a?a+" and "+l:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){var l=r(a),u=t[l];return typeof u=="number"?u=u-.2+"px":u="calc("+u+" - 0.2px)","(max-width: "+u+")"}function s(a){var l=t[a];return typeof l=="number"&&(l=l+"px"),"(min-width: "+l+")"}function o(a,l,u){var c;if(typeof a=="object")c=a,u=l,l=!0;else{var d;l=l||!0,c=(d={},d[a]=l,d)}var f=m.useMemo(function(){return Object.entries(c).reduce(function(h,p){var v=p[0],E=p[1];return(E==="up"||E===!0)&&(h=n(h,s(v))),(E==="down"||E===!0)&&(h=n(h,i(v))),h},"")},[JSON.stringify(c)]);return II(f,u)}return o}var bI=RI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Vc(t){t===void 0&&(t=Bu());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Vl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function Zh(){var t=m.useRef(!0),e=m.useRef(function(){return t.current});return m.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e.current}function xI(t){var e=m.useRef(t);return e.current=t,e}function Ew(t){var e=xI(t);m.useEffect(function(){return function(){return e.current()}},[])}function Cw(t){var e=m.useRef(null);return m.useEffect(function(){e.current=t}),e.current}const OI="data-rr-ui-",PI="rrUi";function ys(t){return`${OI}${t}`}function AI(t){return`${PI}${t}`}function DI(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const cv=ys("modal-open");class MI{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return DI(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(bn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(cv,""),bn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(cv),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ep=MI,Sw=m.createContext(ju?window:void 0);Sw.Provider;function tp(){return m.useContext(Sw)}const Gc=(t,e)=>ju?t==null?(e||Bu()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function LI(t,e){const n=tp(),[r,i]=m.useState(()=>Gc(t,n==null?void 0:n.document));if(!r){const s=Gc(t);s&&i(s)}return m.useEffect(()=>{e&&r&&e(r)},[e,r]),m.useEffect(()=>{const s=Gc(t);s!==r&&i(s)},[t,r]),r}function UI({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=m.useRef(null),o=m.useRef(e),a=xe(n);m.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=_s(s,t.ref),u=m.cloneElement(t,{ref:l});return e?u:i||!o.current&&r?null:u}function FI({in:t,onTransition:e}){const n=m.useRef(null),r=m.useRef(!0),i=xe(e);return Hl(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),Hl(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function $I({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=m.useState(!e);e&&s&&o(!1);const a=FI({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,d=>{throw u.in||o(!0),d})}}),l=_s(a,t.ref);return s&&!e?null:m.cloneElement(t,{ref:l})}function dv(t,e,n){return t?S(t,Object.assign({},n)):e?S($I,Object.assign({},n,{transition:e})):S(UI,Object.assign({},n))}const BI=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function jI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Kc;function zI(t){return Kc||(Kc=new ep({ownerDocument:t==null?void 0:t.document})),Kc}function WI(t){const e=tp(),n=t||zI(e),r=m.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:m.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:m.useCallback(i=>{r.current.backdrop=i},[])})}const kw=m.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,runTransition:f,backdropTransition:h,runBackdropTransition:p,autoFocus:v=!0,enforceFocus:E=!0,restoreFocus:g=!0,restoreFocusOptions:_,renderDialog:w,renderBackdrop:k=re=>S("div",Object.assign({},re)),manager:R,container:b,onShow:y,onHide:C=()=>{},onExit:N,onExited:T,onExiting:I,onEnter:O,onEntering:F,onEntered:j}=t,B=jI(t,BI);const A=LI(b),D=WI(R),P=Zh(),U=Cw(n),[M,z]=m.useState(!n),G=m.useRef(null);m.useImperativeHandle(e,()=>D,[D]),ju&&!U&&n&&(G.current=Vc()),n&&M&&z(!1);const X=xe(()=>{if(D.add(),Pt.current=sr(document,"keydown",ce),Se.current=sr(document,"focus",()=>setTimeout(Y),!0),y&&y(),v){const re=Vc(document);D.dialog&&re&&!Vl(D.dialog,re)&&(G.current=re,D.dialog.focus())}}),ne=xe(()=>{if(D.remove(),Pt.current==null||Pt.current(),Se.current==null||Se.current(),g){var re;(re=G.current)==null||re.focus==null||re.focus(_),G.current=null}});m.useEffect(()=>{!n||!A||X()},[n,A,X]),m.useEffect(()=>{M&&ne()},[M,ne]),Ew(()=>{ne()});const Y=xe(()=>{if(!E||!P()||!D.isTopModal())return;const re=Vc();D.dialog&&re&&!Vl(D.dialog,re)&&D.dialog.focus()}),fe=xe(re=>{re.target===re.currentTarget&&(u==null||u(re),a===!0&&C())}),ce=xe(re=>{l&&re.keyCode===27&&D.isTopModal()&&(c==null||c(re),re.defaultPrevented||C())}),Se=m.useRef(),Pt=m.useRef(),Ze=(...re)=>{z(!0),T==null||T(...re)};if(!A)return null;const Me=Object.assign({role:r,ref:D.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},B,{style:s,className:i,tabIndex:-1});let Wt=w?w(Me):S("div",Object.assign({},Me,{children:m.cloneElement(o,{role:"document"})}));Wt=dv(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:I,onExited:Ze,onEnter:O,onEntering:F,onEntered:j,children:Wt});let ot=null;return a&&(ot=k({ref:D.setBackdropRef,onClick:fe}),ot=dv(h,p,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ot})),S(mt,{children:Ui.createPortal(H(mt,{children:[ot,Wt]}),A)})});kw.displayName="Modal";const HI=Object.assign(kw,{Manager:ep}),VI={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},GI={[qt]:"show",[En]:"show"},np=m.forwardRef(({className:t,children:e,transitionClasses:n={},...r},i)=>{const s=m.useCallback((o,a)=>{Xh(o),r.onEnter==null||r.onEnter(o,a)},[r]);return S(Wu,{ref:i,addEndListener:zu,...r,onEnter:s,childRef:e.ref,children:(o,a)=>m.cloneElement(e,{...a,className:te("fade",t,e.props.className,GI[o],n[o])})})});np.defaultProps=VI;np.displayName="Fade";const KI=np,qI=st("offcanvas-body"),YI={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},QI={[qt]:"show",[En]:"show"},rp=m.forwardRef(({bsPrefix:t,className:e,children:n,...r},i)=>(t=le(t,"offcanvas"),S(Wu,{ref:i,addEndListener:zu,...r,childRef:n.ref,children:(s,o)=>m.cloneElement(n,{...o,className:te(e,n.props.className,(s===qt||s===jo)&&`${t}-toggling`,QI[s])})})));rp.defaultProps=YI;rp.displayName="OffcanvasToggling";const XI=m.createContext({onHide(){}}),Tw=XI,JI={"aria-label":Ye.string,onClick:Ye.func,variant:Ye.oneOf(["white"])},ZI={"aria-label":"Close"},Hu=m.forwardRef(({className:t,variant:e,...n},r)=>S("button",{ref:r,type:"button",className:te("btn-close",e&&`btn-close-${e}`,t),...n}));Hu.displayName="CloseButton";Hu.propTypes=JI;Hu.defaultProps=ZI;const eR=Hu,tR={closeLabel:"Close",closeButton:!1},Nw=m.forwardRef(({closeLabel:t,closeVariant:e,closeButton:n,onHide:r,children:i,...s},o)=>{const a=m.useContext(Tw),l=xe(()=>{a==null||a.onHide(),r==null||r()});return H("div",{ref:o,...s,children:[i,n&&S(eR,{"aria-label":t,variant:e,onClick:l})]})});Nw.defaultProps=tR;const nR=Nw,rR={closeLabel:"Close",closeButton:!1},ip=m.forwardRef(({bsPrefix:t,className:e,...n},r)=>(t=le(t,"offcanvas-header"),S(nR,{ref:r,...n,className:te(e,t)})));ip.displayName="OffcanvasHeader";ip.defaultProps=rR;const iR=ip,sp=t=>m.forwardRef((e,n)=>S("div",{...e,ref:n,className:te(e.className,t)})),sR=sp("h5"),oR=st("offcanvas-title",{Component:sR});function aR(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function lR(t,e){t.classList?t.classList.add(e):aR(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var uR=Function.prototype.bind.call(Function.prototype.call,[].slice);function wn(t,e){return uR(t.querySelectorAll(e))}function fv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function cR(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=fv(t.className,e):t.setAttribute("class",fv(t.className&&t.className.baseVal||"",e))}const Ei={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Iw extends ep{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,bn(n,{[e]:`${parseFloat(bn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],bn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(lR(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wn(n,Ei.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),wn(n,Ei.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),wn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();cR(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";wn(n,Ei.FIXED_CONTENT).forEach(s=>this.restore(r,s)),wn(n,Ei.STICKY_CONTENT).forEach(s=>this.restore(i,s)),wn(n,Ei.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let qc;function dR(t){return qc||(qc=new Iw(t)),qc}const fR=Iw,hR={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};function pR(t){return S(rp,{...t})}function mR(t){return S(KI,{...t})}const op=m.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i,responsive:s,show:o,backdrop:a,keyboard:l,scroll:u,onEscapeKeyDown:c,onShow:d,onHide:f,container:h,autoFocus:p,enforceFocus:v,restoreFocus:E,restoreFocusOptions:g,onEntered:_,onExit:w,onExiting:k,onEnter:R,onEntering:b,onExited:y,backdropClassName:C,manager:N,renderStaticNode:T,...I},O)=>{const F=m.useRef();t=le(t,"offcanvas");const{onToggle:j}=m.useContext(Ir)||{},[B,A]=m.useState(!1),D=bI(s||"xs","up");m.useEffect(()=>{A(s?o&&!D:o)},[o,s,D]);const P=xe(()=>{j==null||j(),f==null||f()}),U=m.useMemo(()=>({onHide:P}),[P]);function M(){return N||(u?(F.current||(F.current=new fR({handleContainerOverflow:!1})),F.current):dR())}const z=(Y,...fe)=>{Y&&(Y.style.visibility="visible"),R==null||R(Y,...fe)},G=(Y,...fe)=>{Y&&(Y.style.visibility=""),y==null||y(...fe)},X=m.useCallback(Y=>S("div",{...Y,className:te(`${t}-backdrop`,C)}),[C,t]),ne=Y=>S("div",{...Y,...I,className:te(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return H(mt,{children:[!B&&(s||T)&&ne({}),S(Tw.Provider,{value:U,children:S(HI,{show:B,ref:O,backdrop:a,container:h,keyboard:l,autoFocus:p,enforceFocus:v&&!u,restoreFocus:E,restoreFocusOptions:g,onEscapeKeyDown:c,onShow:d,onHide:P,onEnter:z,onEntering:b,onEntered:_,onExit:w,onExiting:k,onExited:G,manager:M(),transition:pR,backdropTransition:mR,renderBackdrop:X,renderDialog:ne})})]})});op.displayName="Offcanvas";op.defaultProps=hR;const gR=Object.assign(op,{Body:qI,Header:iR,Title:oR}),Rw=m.forwardRef((t,e)=>{const n=m.useContext(Ir);return S(gR,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});Rw.displayName="NavbarOffcanvas";const vR=st("navbar-text",{Component:"span"}),_R={expand:!0,variant:"light",collapseOnSelect:!1},ap=m.forwardRef((t,e)=>{const{bsPrefix:n,expand:r,variant:i,bg:s,fixed:o,sticky:a,className:l,as:u="nav",expanded:c,onToggle:d,onSelect:f,collapseOnSelect:h,...p}=$u(t,{expanded:"onToggle"}),v=le(n,"navbar"),E=m.useCallback((...w)=>{f==null||f(...w),h&&c&&(d==null||d(!1))},[f,h,c,d]);p.role===void 0&&u!=="nav"&&(p.role="navigation");let g=`${v}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const _=m.useMemo(()=>({onToggle:()=>d==null?void 0:d(!c),bsPrefix:v,expanded:!!c,expand:r}),[v,c,r,d]);return S(Ir.Provider,{value:_,children:S(ti.Provider,{value:E,children:S(u,{ref:e,...p,className:te(l,v,r&&g,i&&`${v}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});ap.defaultProps=_R;ap.displayName="Navbar";const Ga=Object.assign(ap,{Brand:fw,Collapse:yw,Offcanvas:Rw,Text:vR,Toggle:Jh});function bw(){var t=m.useReducer(function(n){return!n},!1),e=t[1];return e}function yR(t,e,n,r){r===void 0&&(r=!1);var i=xe(n);m.useEffect(function(){var s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),function(){return s.removeEventListener(e,i,r)}},[t])}const wR=m.createContext(null),Vu=wR;function ER(){return m.useState(null)}var hv=Object.prototype.hasOwnProperty;function pv(t,e,n){for(n of t.keys())if(co(n,e))return n}function co(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&co(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=pv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=pv(e,i),!i)||!co(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(hv.call(t,n)&&++r&&!hv.call(e,n)||!(n in e)||!co(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function CR(t){var e=Zh();return[t[0],m.useCallback(function(n){if(e())return t[1](n)},[e,t[1]])]}var Ct="top",Bt="bottom",jt="right",St="left",lp="auto",ca=[Ct,Bt,jt,St],is="start",zo="end",SR="clippingParents",xw="viewport",js="popper",kR="reference",mv=ca.reduce(function(t,e){return t.concat([e+"-"+is,e+"-"+zo])},[]),Ow=[].concat(ca,[lp]).reduce(function(t,e){return t.concat([e,e+"-"+is,e+"-"+zo])},[]),TR="beforeRead",NR="read",IR="afterRead",RR="beforeMain",bR="main",xR="afterMain",OR="beforeWrite",PR="write",AR="afterWrite",DR=[TR,NR,IR,RR,bR,xR,OR,PR,AR];function un(t){return t.split("-")[0]}function zt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ni(t){var e=zt(t).Element;return t instanceof e||t instanceof Element}function cn(t){var e=zt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function up(t){if(typeof ShadowRoot>"u")return!1;var e=zt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Gr=Math.max,Gl=Math.min,ss=Math.round;function wf(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Pw(){return!/^((?!chrome|android).)*safari/i.test(wf())}function os(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&cn(t)&&(i=t.offsetWidth>0&&ss(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ss(r.height)/t.offsetHeight||1);var o=ni(t)?zt(t):window,a=o.visualViewport,l=!Pw()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function cp(t){var e=os(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Aw(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&up(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function wr(t){return t?(t.nodeName||"").toLowerCase():null}function Ln(t){return zt(t).getComputedStyle(t)}function MR(t){return["table","td","th"].indexOf(wr(t))>=0}function Rr(t){return((ni(t)?t.ownerDocument:t.document)||window.document).documentElement}function Gu(t){return wr(t)==="html"?t:t.assignedSlot||t.parentNode||(up(t)?t.host:null)||Rr(t)}function gv(t){return!cn(t)||Ln(t).position==="fixed"?null:t.offsetParent}function LR(t){var e=/firefox/i.test(wf()),n=/Trident/i.test(wf());if(n&&cn(t)){var r=Ln(t);if(r.position==="fixed")return null}var i=Gu(t);for(up(i)&&(i=i.host);cn(i)&&["html","body"].indexOf(wr(i))<0;){var s=Ln(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function da(t){for(var e=zt(t),n=gv(t);n&&MR(n)&&Ln(n).position==="static";)n=gv(n);return n&&(wr(n)==="html"||wr(n)==="body"&&Ln(n).position==="static")?e:n||LR(t)||e}function dp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fo(t,e,n){return Gr(t,Gl(e,n))}function UR(t,e,n){var r=fo(t,e,n);return r>n?n:r}function Dw(){return{top:0,right:0,bottom:0,left:0}}function Mw(t){return Object.assign({},Dw(),t)}function Lw(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var FR=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Mw(typeof e!="number"?e:Lw(e,ca))};function $R(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=un(n.placement),l=dp(a),u=[St,jt].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=FR(i.padding,n),f=cp(s),h=l==="y"?Ct:St,p=l==="y"?Bt:jt,v=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],E=o[l]-n.rects.reference[l],g=da(s),_=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,w=v/2-E/2,k=d[h],R=_-f[c]-d[p],b=_/2-f[c]/2+w,y=fo(k,b,R),C=l;n.modifiersData[r]=(e={},e[C]=y,e.centerOffset=y-b,e)}}function BR(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Aw(e.elements.popper,i)&&(e.elements.arrow=i))}const jR={name:"arrow",enabled:!0,phase:"main",fn:$R,effect:BR,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function as(t){return t.split("-")[1]}var zR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WR(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:ss(e*i)/i||0,y:ss(n*i)/i||0}}function vv(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,p=o.y,v=p===void 0?0:p,E=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=E.x,v=E.y;var g=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),w=St,k=Ct,R=window;if(u){var b=da(n),y="clientHeight",C="clientWidth";if(b===zt(n)&&(b=Rr(n),Ln(b).position!=="static"&&a==="absolute"&&(y="scrollHeight",C="scrollWidth")),b=b,i===Ct||(i===St||i===jt)&&s===zo){k=Bt;var N=d&&b===R&&R.visualViewport?R.visualViewport.height:b[y];v-=N-r.height,v*=l?1:-1}if(i===St||(i===Ct||i===Bt)&&s===zo){w=jt;var T=d&&b===R&&R.visualViewport?R.visualViewport.width:b[C];h-=T-r.width,h*=l?1:-1}}var I=Object.assign({position:a},u&&zR),O=c===!0?WR({x:h,y:v}):{x:h,y:v};if(h=O.x,v=O.y,l){var F;return Object.assign({},I,(F={},F[k]=_?"0":"",F[w]=g?"0":"",F.transform=(R.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",F))}return Object.assign({},I,(e={},e[k]=_?v+"px":"",e[w]=g?h+"px":"",e.transform="",e))}function HR(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:un(e.placement),variation:as(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vv(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vv(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const VR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HR,data:{}};var Ka={passive:!0};function GR(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=zt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Ka)}),a&&l.addEventListener("resize",n.update,Ka),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Ka)}),a&&l.removeEventListener("resize",n.update,Ka)}}const KR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:GR,data:{}};var qR={left:"right",right:"left",bottom:"top",top:"bottom"};function hl(t){return t.replace(/left|right|bottom|top/g,function(e){return qR[e]})}var YR={start:"end",end:"start"};function _v(t){return t.replace(/start|end/g,function(e){return YR[e]})}function fp(t){var e=zt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hp(t){return os(Rr(t)).left+fp(t).scrollLeft}function QR(t,e){var n=zt(t),r=Rr(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=Pw();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+hp(t),y:l}}function XR(t){var e,n=Rr(t),r=fp(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Gr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Gr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+hp(t),l=-r.scrollTop;return Ln(i||n).direction==="rtl"&&(a+=Gr(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function pp(t){var e=Ln(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Uw(t){return["html","body","#document"].indexOf(wr(t))>=0?t.ownerDocument.body:cn(t)&&pp(t)?t:Uw(Gu(t))}function ho(t,e){var n;e===void 0&&(e=[]);var r=Uw(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=zt(r),o=i?[s].concat(s.visualViewport||[],pp(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ho(Gu(o)))}function Ef(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function JR(t,e){var n=os(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function yv(t,e,n){return e===xw?Ef(QR(t,n)):ni(e)?JR(e,n):Ef(XR(Rr(t)))}function ZR(t){var e=ho(Gu(t)),n=["absolute","fixed"].indexOf(Ln(t).position)>=0,r=n&&cn(t)?da(t):t;return ni(r)?e.filter(function(i){return ni(i)&&Aw(i,r)&&wr(i)!=="body"}):[]}function eb(t,e,n,r){var i=e==="clippingParents"?ZR(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=yv(t,u,r);return l.top=Gr(c.top,l.top),l.right=Gl(c.right,l.right),l.bottom=Gl(c.bottom,l.bottom),l.left=Gr(c.left,l.left),l},yv(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Fw(t){var e=t.reference,n=t.element,r=t.placement,i=r?un(r):null,s=r?as(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ct:l={x:o,y:e.y-n.height};break;case Bt:l={x:o,y:e.y+e.height};break;case jt:l={x:e.x+e.width,y:a};break;case St:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?dp(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case is:l[u]=l[u]-(e[c]/2-n[c]/2);break;case zo:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Wo(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?SR:a,u=n.rootBoundary,c=u===void 0?xw:u,d=n.elementContext,f=d===void 0?js:d,h=n.altBoundary,p=h===void 0?!1:h,v=n.padding,E=v===void 0?0:v,g=Mw(typeof E!="number"?E:Lw(E,ca)),_=f===js?kR:js,w=t.rects.popper,k=t.elements[p?_:f],R=eb(ni(k)?k:k.contextElement||Rr(t.elements.popper),l,c,o),b=os(t.elements.reference),y=Fw({reference:b,element:w,strategy:"absolute",placement:i}),C=Ef(Object.assign({},w,y)),N=f===js?C:b,T={top:R.top-N.top+g.top,bottom:N.bottom-R.bottom+g.bottom,left:R.left-N.left+g.left,right:N.right-R.right+g.right},I=t.modifiersData.offset;if(f===js&&I){var O=I[i];Object.keys(T).forEach(function(F){var j=[jt,Bt].indexOf(F)>=0?1:-1,B=[Ct,Bt].indexOf(F)>=0?"y":"x";T[F]+=O[B]*j})}return T}function tb(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Ow:l,c=as(r),d=c?a?mv:mv.filter(function(p){return as(p)===c}):ca,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,v){return p[v]=Wo(t,{placement:v,boundary:i,rootBoundary:s,padding:o})[un(v)],p},{});return Object.keys(h).sort(function(p,v){return h[p]-h[v]})}function nb(t){if(un(t)===lp)return[];var e=hl(t);return[_v(t),e,_v(e)]}function rb(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,v=n.allowedAutoPlacements,E=e.options.placement,g=un(E),_=g===E,w=l||(_||!p?[hl(E)]:nb(E)),k=[E].concat(w).reduce(function(ne,Y){return ne.concat(un(Y)===lp?tb(e,{placement:Y,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:v}):Y)},[]),R=e.rects.reference,b=e.rects.popper,y=new Map,C=!0,N=k[0],T=0;T<k.length;T++){var I=k[T],O=un(I),F=as(I)===is,j=[Ct,Bt].indexOf(O)>=0,B=j?"width":"height",A=Wo(e,{placement:I,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),D=j?F?jt:St:F?Bt:Ct;R[B]>b[B]&&(D=hl(D));var P=hl(D),U=[];if(s&&U.push(A[O]<=0),a&&U.push(A[D]<=0,A[P]<=0),U.every(function(ne){return ne})){N=I,C=!1;break}y.set(I,U)}if(C)for(var M=p?3:1,z=function(Y){var fe=k.find(function(ce){var Se=y.get(ce);if(Se)return Se.slice(0,Y).every(function(Pt){return Pt})});if(fe)return N=fe,"break"},G=M;G>0;G--){var X=z(G);if(X==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}const ib={name:"flip",enabled:!0,phase:"main",fn:rb,requiresIfExists:["offset"],data:{_skip:!1}};function wv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ev(t){return[Ct,jt,Bt,St].some(function(e){return t[e]>=0})}function sb(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Wo(e,{elementContext:"reference"}),a=Wo(e,{altBoundary:!0}),l=wv(o,r),u=wv(a,i,s),c=Ev(l),d=Ev(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const ob={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sb};function ab(t,e,n){var r=un(t),i=[St,Ct].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[St,jt].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function lb(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Ow.reduce(function(c,d){return c[d]=ab(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const ub={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lb};function cb(t){var e=t.state,n=t.name;e.modifiersData[n]=Fw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const db={name:"popperOffsets",enabled:!0,phase:"read",fn:cb,data:{}};function fb(t){return t==="x"?"y":"x"}function hb(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,v=p===void 0?0:p,E=Wo(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=un(e.placement),_=as(e.placement),w=!_,k=dp(g),R=fb(k),b=e.modifiersData.popperOffsets,y=e.rects.reference,C=e.rects.popper,N=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,T=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(b){if(s){var F,j=k==="y"?Ct:St,B=k==="y"?Bt:jt,A=k==="y"?"height":"width",D=b[k],P=D+E[j],U=D-E[B],M=h?-C[A]/2:0,z=_===is?y[A]:C[A],G=_===is?-C[A]:-y[A],X=e.elements.arrow,ne=h&&X?cp(X):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Dw(),fe=Y[j],ce=Y[B],Se=fo(0,y[A],ne[A]),Pt=w?y[A]/2-M-Se-fe-T.mainAxis:z-Se-fe-T.mainAxis,Ze=w?-y[A]/2+M+Se+ce+T.mainAxis:G+Se+ce+T.mainAxis,Me=e.elements.arrow&&da(e.elements.arrow),Wt=Me?k==="y"?Me.clientTop||0:Me.clientLeft||0:0,ot=(F=I==null?void 0:I[k])!=null?F:0,re=D+Pt-ot-Wt,Is=D+Ze-ot,gi=fo(h?Gl(P,re):P,D,h?Gr(U,Is):U);b[k]=gi,O[k]=gi-D}if(a){var ka,hc=k==="x"?Ct:St,pc=k==="x"?Bt:jt,gn=b[R],vi=R==="y"?"height":"width",Rs=gn+E[hc],br=gn-E[pc],_i=[Ct,St].indexOf(g)!==-1,Ta=(ka=I==null?void 0:I[R])!=null?ka:0,Na=_i?Rs:gn-y[vi]-C[vi]-Ta+T.altAxis,Ia=_i?gn+y[vi]+C[vi]-Ta-T.altAxis:br,bs=h&&_i?UR(Na,gn,Ia):fo(h?Na:Rs,gn,h?Ia:br);b[R]=bs,O[R]=bs-gn}e.modifiersData[r]=O}}const pb={name:"preventOverflow",enabled:!0,phase:"main",fn:hb,requiresIfExists:["offset"]};function mb(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function gb(t){return t===zt(t)||!cn(t)?fp(t):mb(t)}function vb(t){var e=t.getBoundingClientRect(),n=ss(e.width)/t.offsetWidth||1,r=ss(e.height)/t.offsetHeight||1;return n!==1||r!==1}function _b(t,e,n){n===void 0&&(n=!1);var r=cn(e),i=cn(e)&&vb(e),s=Rr(e),o=os(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((wr(e)!=="body"||pp(s))&&(a=gb(e)),cn(e)?(l=os(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=hp(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function yb(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function wb(t){var e=yb(t);return DR.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Eb(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Cb(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Cv={placement:"bottom",modifiers:[],strategy:"absolute"};function Sv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Sb(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Cv:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cv,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(g){var _=typeof g=="function"?g(c.options):g;v(),c.options=Object.assign({},s,c.options,_),c.scrollParents={reference:ni(a)?ho(a):a.contextElement?ho(a.contextElement):[],popper:ho(l)};var w=wb(Cb([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(k){return k.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var g=c.elements,_=g.reference,w=g.popper;if(Sv(_,w)){c.rects={reference:_b(_,da(w),c.options.strategy==="fixed"),popper:cp(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var k=0;k<c.orderedModifiers.length;k++){if(c.reset===!0){c.reset=!1,k=-1;continue}var R=c.orderedModifiers[k],b=R.fn,y=R.options,C=y===void 0?{}:y,N=R.name;typeof b=="function"&&(c=b({state:c,options:C,name:N,instance:h})||c)}}}},update:Eb(function(){return new Promise(function(E){h.forceUpdate(),E(c)})}),destroy:function(){v(),f=!0}};if(!Sv(a,l))return h;h.setOptions(u).then(function(E){!f&&u.onFirstUpdate&&u.onFirstUpdate(E)});function p(){c.orderedModifiers.forEach(function(E){var g=E.name,_=E.options,w=_===void 0?{}:_,k=E.effect;if(typeof k=="function"){var R=k({state:c,name:g,instance:h,options:w}),b=function(){};d.push(R||b)}})}function v(){d.forEach(function(E){return E()}),d=[]}return h}}const kb=Sb({defaultModifiers:[ob,db,VR,KR,ub,ib,pb,jR]}),Tb=["enabled","placement","strategy","modifiers"];function Nb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Ib={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Rb={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},bb=[];function xb(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=bb}=n,a=Nb(n,Tb);const l=m.useRef(o),u=m.useRef(),c=m.useCallback(()=>{var E;(E=u.current)==null||E.update()},[]),d=m.useCallback(()=>{var E;(E=u.current)==null||E.forceUpdate()},[]),[f,h]=CR(m.useState({placement:i,update:c,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),p=m.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:E})=>{const g={},_={};Object.keys(E.elements).forEach(w=>{g[w]=E.styles[w],_[w]=E.attributes[w]}),h({state:E,styles:g,attributes:_,update:c,forceUpdate:d,placement:E.placement})}}),[c,d,h]),v=m.useMemo(()=>(co(l.current,o)||(l.current=o),l.current),[o]);return m.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:s,modifiers:[...v,p,Ib]})},[s,i,p,r,v]),m.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=kb(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...v,Rb,p]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,h(E=>Object.assign({},E,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}const kv=()=>{};function Ob(t){return t.button===0}function Pb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Yc=t=>t&&("current"in t?t.current:t),Tv={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Ab(t,e=kv,{disabled:n,clickTrigger:r="click"}={}){const i=m.useRef(!1),s=m.useRef(!1),o=m.useCallback(u=>{const c=Yc(t);i.current=!c||Pb(u)||!Ob(u)||!!Vl(c,u.target)||s.current,s.current=!1},[t]),a=xe(u=>{const c=Yc(t);c&&Vl(c,u.target)&&(s.current=!0)}),l=xe(u=>{i.current||e(u)});m.useEffect(()=>{if(n||t==null)return;const u=Bu(Yc(t));let c=(u.defaultView||window).event,d=null;Tv[r]&&(d=sr(u,Tv[r],a,!0));const f=sr(u,r,o,!0),h=sr(u,r,v=>{if(v===c){c=void 0;return}l(v)});let p=[];return"ontouchstart"in u.documentElement&&(p=[].slice.call(u.body.children).map(v=>sr(v,"mousemove",kv))),()=>{d==null||d(),f(),h(),p.forEach(v=>v())}},[t,n,r,o,a,l])}function Db(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function Mb(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function Lb({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var u,c,d,f,h;const p=Db(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:Mb(Object.assign({},p,{eventListeners:{enabled:e,options:(u=p.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},p.preventOverflow,{options:o?Object.assign({padding:o},(c=p.preventOverflow)==null?void 0:c.options):(d=p.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(f=p.offset)==null?void 0:f.options)},arrow:Object.assign({},p.arrow,{enabled:!!a,options:Object.assign({},(h=p.arrow)==null?void 0:h.options,{element:a})}),flip:Object.assign({enabled:!!r},p.flip)}))})}const Ub=["children"];function Fb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const $b=()=>{};function $w(t={}){const e=m.useContext(Vu),[n,r]=ER(),i=m.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:d=!0,usePopper:f=!!e}=t,h=(e==null?void 0:e.show)==null?!!t.show:e.show;h&&!i.current&&(i.current=!0);const p=b=>{e==null||e.toggle(!1,b)},{placement:v,setMenu:E,menuElement:g,toggleElement:_}=e||{},w=xb(_,g,Lb({placement:u||v||"bottom-start",enabled:f,enableEvents:d??h,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:c})),k=Object.assign({ref:E||$b,"aria-labelledby":_==null?void 0:_.id},w.attributes.popper,{style:w.styles.popper}),R={show:h,placement:v,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return Ab(g,p,{clickTrigger:a,disabled:!h}),[k,R]}const Bb={usePopper:!0};function mp(t){let{children:e}=t,n=Fb(t,Ub);const[r,i]=$w(n);return S(mt,{children:e(r,i)})}mp.displayName="DropdownMenu";mp.defaultProps=Bb;const Bw={prefix:String(Math.round(Math.random()*1e10)),current:0},jb=x.createContext(Bw);let zb=Boolean(typeof window<"u"&&window.document&&window.document.createElement);function Wb(t){let e=m.useContext(jb);return e===Bw&&!zb&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),m.useMemo(()=>t||`react-aria${e.prefix}-${++e.current}`,[t])}const jw=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Nv=()=>{};function zw(){const t=Wb(),{show:e=!1,toggle:n=Nv,setToggle:r,menuElement:i}=m.useContext(Vu)||{},s=m.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||Nv,onClick:s,"aria-expanded":!!e};return i&&jw(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function Ww({children:t}){const[e,n]=zw();return S(mt,{children:t(e,n)})}Ww.displayName="DropdownToggle";const Hw=m.createContext(null);Hw.displayName="NavContext";const gp=Hw,Hb=["as","disabled"];function Vb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gb(t){return!t||t.trim()==="#"}function vp({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&Gb(n))&&f.preventDefault(),e){f.stopPropagation();return}o==null||o(f)},d=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const _p=m.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Vb(t,Hb);const[s,{tagName:o}]=vp(Object.assign({tagName:n,disabled:r},i));return S(o,Object.assign({},i,s,{ref:e}))});_p.displayName="Button";const Kb=["eventKey","disabled","onClick","active","as"];function qb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vw({key:t,href:e,active:n,disabled:r,onClick:i}){const s=m.useContext(ti),o=m.useContext(gp),{activeKey:a}=o||{},l=Bo(t,e),u=n==null&&t!=null?Bo(a)===l:n;return[{onClick:xe(d=>{r||(i==null||i(d),s&&!d.isPropagationStopped()&&s(l,d))}),"aria-disabled":r||void 0,"aria-selected":u,[ys("dropdown-item")]:""},{isActive:u}]}const Gw=m.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=_p}=t,a=qb(t,Kb);const[l]=Vw({key:n,href:a.href,disabled:r,onClick:i,active:s});return S(o,Object.assign({},a,{ref:e},l))});Gw.displayName="DropdownItem";function Iv(){const t=bw(),e=m.useRef(null),n=m.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function fa({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${ys("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=tp(),[u,c]=dw(e,t,r),[d,f]=Iv(),h=d.current,[p,v]=Iv(),E=p.current,g=Cw(u),_=m.useRef(null),w=m.useRef(!1),k=m.useContext(ti),R=m.useCallback((I,O,F=O==null?void 0:O.type)=>{c(I,{originalEvent:O,source:F})},[c]),b=xe((I,O)=>{n==null||n(I,O),R(!1,O,"select"),O.isPropagationStopped()||k==null||k(I,O)}),y=m.useMemo(()=>({toggle:R,placement:o,show:u,menuElement:h,toggleElement:E,setMenu:f,setToggle:v}),[R,o,u,h,E,f,v]);h&&g&&!u&&(w.current=h.contains(h.ownerDocument.activeElement));const C=xe(()=>{E&&E.focus&&E.focus()}),N=xe(()=>{const I=_.current;let O=s;if(O==null&&(O=d.current&&jw(d.current)?"keyboard":!1),O===!1||O==="keyboard"&&!/^key.+$/.test(I))return;const F=wn(d.current,i)[0];F&&F.focus&&F.focus()});m.useEffect(()=>{u?N():w.current&&(w.current=!1,C())},[u,w,C,N]),m.useEffect(()=>{_.current=null});const T=(I,O)=>{if(!d.current)return null;const F=wn(d.current,i);let j=F.indexOf(I)+O;return j=Math.max(0,Math.min(j,F.length)),F[j]};return yR(m.useCallback(()=>l.document,[l]),"keydown",I=>{var O,F;const{key:j}=I,B=I.target,A=(O=d.current)==null?void 0:O.contains(B),D=(F=p.current)==null?void 0:F.contains(B);if(/input|textarea/i.test(B.tagName)&&(j===" "||j!=="Escape"&&A||j==="Escape"&&B.type==="search")||!A&&!D||j==="Tab"&&(!d.current||!u))return;_.current=I.type;const U={originalEvent:I,source:I.type};switch(j){case"ArrowUp":{const M=T(B,-1);M&&M.focus&&M.focus(),I.preventDefault();return}case"ArrowDown":if(I.preventDefault(),!u)c(!0,U);else{const M=T(B,1);M&&M.focus&&M.focus()}return;case"Tab":gw(B.ownerDocument,"keyup",M=>{var z;(M.key==="Tab"&&!M.target||!((z=d.current)!=null&&z.contains(M.target)))&&c(!1,U)},{once:!0});break;case"Escape":j==="Escape"&&(I.preventDefault(),I.stopPropagation()),c(!1,U);break}}),S(ti.Provider,{value:b,children:S(Vu.Provider,{value:y,children:a})})}fa.displayName="Dropdown";fa.Menu=mp;fa.Toggle=Ww;fa.Item=Gw;const Kw=m.createContext({});Kw.displayName="DropdownContext";const qw=Kw,Yb=["onKeyDown"];function Qb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xb(t){return!t||t.trim()==="#"}const Yw=m.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Qb(t,Yb);const[i]=vp(Object.assign({tagName:"a"},r)),s=xe(o=>{i.onKeyDown(o),n==null||n(o)});return Xb(r.href)||r.role==="button"?S("a",Object.assign({ref:e},r,i,{onKeyDown:s})):S("a",Object.assign({ref:e},r,{onKeyDown:n}))});Yw.displayName="Anchor";const Kl=Yw,Qw=m.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Kl,...a},l)=>{const u=le(t,"dropdown-item"),[c,d]=Vw({key:n,href:a.href,disabled:r,onClick:i,active:s});return S(o,{...a,...c,ref:l,className:te(e,u,d.isActive&&"active",r&&"disabled")})});Qw.displayName="DropdownItem";const Jb=Qw,Xw=m.createContext(null);Xw.displayName="InputGroupContext";const Jw=Xw;function Zw(t,e){return t}const Zb={flip:!0};function e1(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let d=t?o:s;return e==="up"?d=t?i:r:e==="end"?d=t?c:u:e==="start"?d=t?l:a:e==="down-centered"?d="bottom":e==="up-centered"&&(d="top"),d}const yp=m.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:u,...c},d)=>{let f=!1;const h=m.useContext(Ir),p=le(t,"dropdown-menu"),{align:v,drop:E,isRTL:g}=m.useContext(qw);n=n||v;const _=m.useContext(Jw),w=[];if(n)if(typeof n=="object"){const I=Object.keys(n);if(I.length){const O=I[0],F=n[O];f=F==="start",w.push(`${p}-${O}-${F}`)}}else n==="end"&&(f=!0);const k=e1(f,E,g),[R,{hasShown:b,popper:y,show:C,toggle:N}]=$w({flip:i,rootCloseEvent:r,show:s,usePopper:!h&&w.length===0,offset:[0,2],popperConfig:l,placement:k});if(R.ref=_s(Zw(d),R.ref),Hl(()=>{C&&(y==null||y.update())},[C]),!b&&!o&&!_)return null;typeof a!="string"&&(R.show=C,R.close=()=>N==null?void 0:N(!1),R.align=n);let T=c.style;return y!=null&&y.placement&&(T={...c.style,...R.style},c["x-placement"]=y.placement),S(a,{...c,...R,style:T,...(w.length||h)&&{"data-bs-popper":"static"},className:te(e,p,C&&"show",f&&`${p}-end`,u&&`${p}-${u}`,...w)})});yp.displayName="DropdownMenu";yp.defaultProps=Zb;const ex=yp,tx={variant:"primary",active:!1,disabled:!1},$e=m.forwardRef(({as:t,bsPrefix:e,variant:n,size:r,active:i,className:s,...o},a)=>{const l=le(e,"btn"),[u,{tagName:c}]=vp({tagName:t,...o});return S(c,{...u,...o,ref:a,className:te(s,l,i&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,o.href&&o.disabled&&"disabled")})});$e.displayName="Button";$e.defaultProps=tx;const t1=m.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=$e,...s},o)=>{const a=le(t,"dropdown-toggle"),l=m.useContext(Vu);r!==void 0&&(s.bsPrefix=r);const[u]=zw();return u.ref=_s(u.ref,Zw(o)),S(i,{className:te(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...s})});t1.displayName="DropdownToggle";const nx=t1,rx=st("dropdown-header",{defaultProps:{role:"heading"}}),ix=st("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),sx=st("dropdown-item-text",{Component:"span"}),ox={navbar:!1,align:"start",autoClose:!0,drop:"down"},wp=m.forwardRef((t,e)=>{const{bsPrefix:n,drop:r,show:i,className:s,align:o,onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:d,autoClose:f,...h}=$u(t,{show:"onToggle"}),p=m.useContext(Jw),v=le(n,"dropdown"),E=uw(),g=y=>f===!1?y==="click":f==="inside"?y!=="rootClose":f==="outside"?y!=="select":!0,_=xe((y,C)=>{C.originalEvent.currentTarget===document&&(C.source!=="keydown"||C.originalEvent.key==="Escape")&&(C.source="rootClose"),g(C.source)&&(l==null||l(y,C))}),k=e1(o==="end",r,E),R=m.useMemo(()=>({align:o,drop:r,isRTL:E}),[o,r,E]),b={down:v,"down-centered":`${v}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return S(qw.Provider,{value:R,children:S(fa,{placement:k,show:i,onSelect:a,onToggle:_,focusFirstItemOnShow:u,itemSelector:`.${v}-item:not(.disabled):not(:disabled)`,children:p?h.children:S(c,{...h,ref:e,className:te(s,i&&"show",b[r])})})})});wp.displayName="Dropdown";wp.defaultProps=ox;const Fr=Object.assign(wp,{Toggle:nx,Menu:ex,Item:Jb,ItemText:sx,Divider:ix,Header:rx}),ax=m.createContext(null),n1=ax,lx=["as","active","eventKey"];function ux(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function r1({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=m.useContext(ti),a=m.useContext(gp),l=m.useContext(n1);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const d=a.getControllerId(t??null),f=a.getControlledId(t??null);c[ys("event-key")]=t,c.id=d||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=xe(d=>{s||(e==null||e(d),t!=null&&o&&!d.isPropagationStopped()&&o(t,d))}),[c,{isActive:u}]}const i1=m.forwardRef((t,e)=>{let{as:n=_p,active:r,eventKey:i}=t,s=ux(t,lx);const[o,a]=r1(Object.assign({key:Bo(i,s.href),active:r},s));return o[ys("active")]=a.isActive,S(n,Object.assign({},s,o,{ref:e}))});i1.displayName="NavItem";const cx=i1,dx={disabled:!1},Ku=m.forwardRef(({bsPrefix:t,className:e,as:n=Kl,active:r,eventKey:i,...s},o)=>{t=le(t,"nav-link");const[a,l]=r1({key:Bo(i,s.href),active:r,...s});return S(n,{...s,...a,ref:o,className:te(e,t,s.disabled&&"disabled",l.isActive&&"active")})});Ku.displayName="NavLink";Ku.defaultProps=dx;const s1=m.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:a,active:l,renderMenuOnMount:u,menuVariant:c,...d},f)=>{const h=le(void 0,"nav-item");return H(Fr,{ref:f,...d,className:te(i,h),children:[S(Fr.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:Ku,children:e}),S(Fr.Menu,{role:o,renderOnMount:u,rootCloseEvent:s,variant:c,children:n})]})});s1.displayName="NavDropdown";const zs=Object.assign(s1,{Item:Fr.Item,ItemText:Fr.ItemText,Divider:Fr.Divider,Header:Fr.Header});var Cf={},fx={get exports(){return Cf},set exports(t){Cf=t}},ql={},hx={get exports(){return ql},set exports(t){ql=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,c,d){var f=u||"<<anonymous>>",h=d||l;if(a[l]==null)return o?new Error("Required "+c+" `"+h+"` was not specified "+("in `"+f+"`.")):null;for(var p=arguments.length,v=Array(p>6?p-6:0),E=6;E<p;E++)v[E-6]=arguments[E];return r.apply(void 0,[a,l,f,c,h].concat(v))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(hx,ql);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=ql,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=null;return a.forEach(function(p){if(h==null){var v=p.apply(void 0,d);v!=null&&(h=v)}}),h}return(0,r.default)(u)}t.exports=e.default})(fx,Cf);const px=["as","onSelect","activeKey","role","onKeyDown"];function mx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Rv=()=>{},bv=ys("event-key"),o1=m.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=mx(t,px);const l=bw(),u=m.useRef(!1),c=m.useContext(ti),d=m.useContext(n1);let f,h;d&&(s=s||"tablist",i=d.activeKey,f=d.getControlledId,h=d.getControllerId);const p=m.useRef(null),v=w=>{const k=p.current;if(!k)return null;const R=wn(k,`[${bv}]:not([aria-disabled=true])`),b=k.querySelector("[aria-selected=true]");if(!b||b!==document.activeElement)return null;const y=R.indexOf(b);if(y===-1)return null;let C=y+w;return C>=R.length&&(C=0),C<0&&(C=R.length-1),R[C]},E=(w,k)=>{w!=null&&(r==null||r(w,k),c==null||c(w,k))},g=w=>{if(o==null||o(w),!d)return;let k;switch(w.key){case"ArrowLeft":case"ArrowUp":k=v(-1);break;case"ArrowRight":case"ArrowDown":k=v(1);break;default:return}k&&(w.preventDefault(),E(k.dataset[AI("EventKey")]||null,w),u.current=!0,l())};m.useEffect(()=>{if(p.current&&u.current){const w=p.current.querySelector(`[${bv}][aria-selected=true]`);w==null||w.focus()}u.current=!1});const _=_s(e,p);return S(ti.Provider,{value:E,children:S(gp.Provider,{value:{role:s,activeKey:Bo(i),getControlledId:f||Rv,getControllerId:h||Rv},children:S(n,Object.assign({},a,{onKeyDown:g,ref:_,role:s}))})})});o1.displayName="Nav";const gx=Object.assign(o1,{Item:cx}),Ep=m.createContext(null);Ep.displayName="CardHeaderContext";const vx=st("nav-item"),_x={justify:!1,fill:!1},Cp=m.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s,justify:o,navbar:a,navbarScroll:l,className:u,activeKey:c,...d}=$u(t,{activeKey:"onSelect"}),f=le(r,"nav");let h,p,v=!1;const E=m.useContext(Ir),g=m.useContext(Ep);return E?(h=E.bsPrefix,v=a??!0):g&&({cardHeaderBsPrefix:p}=g),S(gx,{as:n,ref:e,activeKey:c,className:te(u,{[f]:!v,[`${h}-nav`]:v,[`${h}-nav-scroll`]:v&&l,[`${p}-${i}`]:!!p,[`${f}-${i}`]:!!i,[`${f}-fill`]:s,[`${f}-justified`]:o}),...d})});Cp.displayName="Nav";Cp.defaultProps=_x;const yx=Object.assign(Cp,{Item:vx,Link:Ku});var a1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xv=x.createContext&&x.createContext(a1),pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pr.apply(this,arguments)},wx=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function l1(t){return t&&t.map(function(e,n){return x.createElement(e.tag,pr({key:n},e.attr),l1(e.child))})}function tn(t){return function(e){return x.createElement(Ex,pr({attr:pr({},t.attr)},e),l1(t.child))}}function Ex(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=wx(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),x.createElement("svg",pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:pr(pr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&x.createElement("title",null,s),t.children)};return xv!==void 0?x.createElement(xv.Consumer,null,function(n){return e(n)}):e(a1)}function Cx(t){return tn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"}}]})(t)}function Sx(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.125 48 48 141.125 48 256s93.125 208 208 208 208-93.125 208-208S370.875 48 256 48zm107 229h-86v86h-42v-86h-86v-42h86v-86h42v86h86v42z"}}]})(t)}function u1(t){return tn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"}}]})(t)}function Sp(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(t)}function c1(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(t)}function kx(t){return tn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw ws(e)},ws=function(t){return new Error("Firebase Database ("+d1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h1=function(t){const e=f1(t);return kp.encodeByteArray(e,!0)},Yl=function(t){return h1(t).replace(/\./g,"")},Ql=function(t){try{return kp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){return p1(void 0,t)}function p1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ix(n)||(t[n]=p1(t[n],e[n]));return t}function Ix(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=()=>Rx().__FIREBASE_DEFAULTS__,xx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ox=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ql(t[1]);return e&&JSON.parse(e)},qu=()=>{try{return bx()||xx()||Ox()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m1=t=>{var e,n;return(n=(e=qu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},g1=t=>{const e=m1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Px=()=>{var t;return(t=qu())===null||t===void 0?void 0:t.config},v1=t=>{var e;return(e=qu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yl(JSON.stringify(n)),Yl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Ax(){var t;const e=(t=qu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mx(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w1(){return d1.NODE_ADMIN===!0}function Lx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ux(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="FirebaseError";class Wn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fx,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?$x(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wn(i,a,r)}}function $x(t,e){return t.replace(Bx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Bx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){return JSON.parse(t)}function We(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ho(Ql(s[0])||""),n=Ho(Ql(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},jx=function(t){const e=E1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zx=function(t){const e=E1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ls(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Jl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ov(s)&&Ov(o)){if(!Jl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ov(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Hx(t,e){const n=new Vx(t,e);return n.subscribe.bind(n)}class Vx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Gx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qc),i.error===void 0&&(i.error=Qc),i.complete===void 0&&(i.complete=Qc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qc(){}function Np(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Yu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qx(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yx(t){return t===Ar?void 0:t}function Qx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const Jx={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Zx=me.INFO,eO={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},tO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=Zx,this._logHandler=tO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const nO=(t,e)=>e.some(n=>t instanceof n);let Pv,Av;function rO(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return Av||(Av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C1=new WeakMap,kf=new WeakMap,S1=new WeakMap,Xc=new WeakMap,Rp=new WeakMap;function sO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&C1.set(n,t)}).catch(()=>{}),Rp.set(e,t),e}function oO(t){if(kf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kf.set(t,e)}let Tf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aO(t){Tf=t(Tf)}function lO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jc(this),e,...n);return S1.set(r,e.sort?e.sort():[e]),mr(r)}:iO().includes(t)?function(...e){return t.apply(Jc(this),e),mr(C1.get(this))}:function(...e){return mr(t.apply(Jc(this),e))}}function uO(t){return typeof t=="function"?lO(t):(t instanceof IDBTransaction&&oO(t),nO(t,rO())?new Proxy(t,Tf):t)}function mr(t){if(t instanceof IDBRequest)return sO(t);if(Xc.has(t))return Xc.get(t);const e=uO(t);return e!==t&&(Xc.set(t,e),Rp.set(e,t)),e}const Jc=t=>Rp.get(t);function cO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mr(o.result),l.oldVersion,l.newVersion,mr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const dO=["get","getKey","getAll","getAllKeys","count"],fO=["put","add","delete","clear"],Zc=new Map;function Dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zc.get(e))return Zc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zc.set(e,s),s}aO(t=>({...t,get:(e,n,r)=>Dv(e,n)||t.get(e,n,r),has:(e,n)=>!!Dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nf="@firebase/app",Mv="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Ip("@firebase/app"),mO="@firebase/app-compat",gO="@firebase/analytics-compat",vO="@firebase/analytics",_O="@firebase/app-check-compat",yO="@firebase/app-check",wO="@firebase/auth",EO="@firebase/auth-compat",CO="@firebase/database",SO="@firebase/database-compat",kO="@firebase/functions",TO="@firebase/functions-compat",NO="@firebase/installations",IO="@firebase/installations-compat",RO="@firebase/messaging",bO="@firebase/messaging-compat",xO="@firebase/performance",OO="@firebase/performance-compat",PO="@firebase/remote-config",AO="@firebase/remote-config-compat",DO="@firebase/storage",MO="@firebase/storage-compat",LO="@firebase/firestore",UO="@firebase/firestore-compat",FO="firebase",$O="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",BO={[Nf]:"fire-core",[mO]:"fire-core-compat",[vO]:"fire-analytics",[gO]:"fire-analytics-compat",[yO]:"fire-app-check",[_O]:"fire-app-check-compat",[wO]:"fire-auth",[EO]:"fire-auth-compat",[CO]:"fire-rtdb",[SO]:"fire-rtdb-compat",[kO]:"fire-fn",[TO]:"fire-fn-compat",[NO]:"fire-iid",[IO]:"fire-iid-compat",[RO]:"fire-fcm",[bO]:"fire-fcm-compat",[xO]:"fire-perf",[OO]:"fire-perf-compat",[PO]:"fire-rc",[AO]:"fire-rc-compat",[DO]:"fire-gcs",[MO]:"fire-gcs-compat",[LO]:"fire-fst",[UO]:"fire-fst-compat","fire-js":"fire-js",[FO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map,Rf=new Map;function jO(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ii(t){const e=t.name;if(Rf.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Rf.set(e,t);for(const n of Zl.values())jO(n,t);return!0}function Xu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gr=new ha("app","Firebase",zO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=$O;function k1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=Px()),!n)throw gr.create("no-options");const s=Zl.get(i);if(s){if(Jl(n,s.options)&&Jl(r,s.config))return s;throw gr.create("duplicate-app",{appName:i})}const o=new Xx(i);for(const l of Rf.values())o.addComponent(l);const a=new WO(n,r,o);return Zl.set(i,a),a}function bp(t=If){const e=Zl.get(t);if(!e&&t===If)return k1();if(!e)throw gr.create("no-app",{appName:t});return e}function dn(t,e,n){var r;let i=(r=BO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(a.join(" "));return}ii(new Er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="firebase-heartbeat-database",VO=1,Vo="firebase-heartbeat-store";let ed=null;function T1(){return ed||(ed=cO(HO,VO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vo)}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),ed}async function GO(t){try{return(await T1()).transaction(Vo).objectStore(Vo).get(N1(t))}catch(e){if(e instanceof Wn)ri.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(n.message)}}}async function Lv(t,e){try{const r=(await T1()).transaction(Vo,"readwrite");return await r.objectStore(Vo).put(e,N1(t)),r.done}catch(n){if(n instanceof Wn)ri.warn(n.message);else{const r=gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ri.warn(r.message)}}}function N1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=1024,qO=30*24*60*60*1e3;class YO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=qO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uv(),{heartbeatsToSend:n,unsentEntries:r}=QO(this._heartbeatsCache.heartbeats),i=Yl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Uv(){return new Date().toISOString().substring(0,10)}function QO(t,e=KO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Fv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lx()?Ux().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await GO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Lv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Fv(t){return Yl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){ii(new Er("platform-logger",e=>new hO(e),"PRIVATE")),ii(new Er("heartbeat",e=>new YO(e),"PRIVATE")),dn(Nf,Mv,t),dn(Nf,Mv,"esm2017"),dn("fire-js","")}JO("");const $v="@firebase/database",Bv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1="";function ZO(t){I1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ho(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new eP(e)}}catch{}return new tP},$r=R1("localStorage"),bf=R1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Ip("@firebase/database"),nP=function(){let t=1;return function(){return t++}}(),b1=function(t){const e=Kx(t),n=new Wx;n.update(e);const r=n.digest();return kp.encodeByteArray(r)},pa=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pa.apply(null,r):typeof r=="object"?e+=We(r):e+=r,e+=" "}return e};let Kr=null,jv=!0;const rP=function(t,e){$(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vi.logLevel=me.VERBOSE,Kr=Vi.log.bind(Vi),e&&bf.set("logging_enabled",!0)):typeof t=="function"?Kr=t:(Kr=null,bf.remove("logging_enabled"))},Ke=function(...t){if(jv===!0&&(jv=!1,Kr===null&&bf.get("logging_enabled")===!0&&rP(!0)),Kr){const e=pa.apply(null,t);Kr(e)}},ma=function(t){return function(...e){Ke(t,...e)}},xf=function(...t){const e="FIREBASE INTERNAL ERROR: "+pa(...t);Vi.error(e)},Un=function(...t){const e=`FIREBASE FATAL ERROR: ${pa(...t)}`;throw Vi.error(e),new Error(e)},kt=function(...t){const e="FIREBASE WARNING: "+pa(...t);Vi.warn(e)},iP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},sP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},us="[MIN_NAME]",si="[MAX_NAME]",hi=function(t,e){if(t===e)return 0;if(t===us||e===si)return-1;if(e===us||t===si)return 1;{const n=zv(t),r=zv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},oP=function(t,e){return t===e?0:t<e?-1:1},Ws=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+We(e))},Op=function(t){if(typeof t!="object"||t===null)return We(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=We(e[r]),n+=":",n+=Op(t[e[r]]);return n+="}",n},x1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const O1=function(t){$(!xp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},aP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},lP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const cP=new RegExp("^-?(0*)\\d{1,10}$"),dP=-2147483648,fP=2147483647,zv=function(t){if(cP.test(t)){const e=Number(t);if(e>=dP&&e<=fP)return e}return null},Ss=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},hP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},po=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(e)}}class Gi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="5",P1="v",A1="s",D1="r",M1="f",L1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,U1="ls",F1="p",Of="ac",$1="websocket",B1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function gP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function z1(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===$1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===B1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gP(t)&&(n.ns=t.namespace);const i=[];return Je(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Nx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td={},nd={};function Ap(t){const e=t.toString();return td[e]||(td[e]=new vP),td[e]}function _P(t,e){const n=t.toString();return nd[n]||(nd[n]=e()),nd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ss(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="start",wP="close",EP="pLPCommand",CP="pRTLPCB",W1="id",H1="pw",V1="ser",SP="cb",kP="seg",TP="ts",NP="d",IP="dframe",G1=1870,K1=30,RP=G1-K1,bP=25e3,xP=3e4;class Fi{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ma(e),this.stats_=Ap(n),this.urlFn=l=>(this.appCheckToken&&(l[Of]=this.appCheckToken),z1(n,B1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xP)),sP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dp((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Wv)this.id=a,this.password=l;else if(o===wP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Wv]="t",r[V1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[SP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[P1]=Pp,this.transportSessionId&&(r[A1]=this.transportSessionId),this.lastSessionId&&(r[U1]=this.lastSessionId),this.applicationId&&(r[F1]=this.applicationId),this.appCheckToken&&(r[Of]=this.appCheckToken),typeof location<"u"&&location.hostname&&L1.test(location.hostname)&&(r[D1]=M1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fi.forceAllow_=!0}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){return Fi.forceAllow_?!0:!Fi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aP()&&!lP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=h1(n),i=x1(r,RP);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[IP]="t",r[W1]=e,r[H1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=We(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Dp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nP(),window[EP+this.uniqueCallbackIdentifier]=e,window[CP+this.uniqueCallbackIdentifier]=n,this.myIFrame=Dp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ke("frame writing exception"),a.stack&&Ke(a.stack),Ke(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ke("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[W1]=this.myID,e[H1]=this.myPW,e[V1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+K1+r.length<=G1;){const o=this.pendingSegs.shift();r=r+"&"+kP+i+"="+o.seg+"&"+TP+i+"="+o.ts+"&"+NP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bP)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=16384,PP=45e3;let eu=null;typeof MozWebSocket<"u"?eu=MozWebSocket:typeof WebSocket<"u"&&(eu=WebSocket);class Yt{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ma(this.connId),this.stats_=Ap(n),this.connURL=Yt.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[P1]=Pp,typeof location<"u"&&location.hostname&&L1.test(location.hostname)&&(o[D1]=M1),n&&(o[A1]=n),r&&(o[U1]=r),i&&(o[Of]=i),s&&(o[F1]=s),z1(e,$1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$r.set("previous_websocket_failure",!0);try{let r;w1(),this.mySock=new eu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&eu!==null&&!Yt.forceDisallow_}static previouslyFailed(){return $r.isInMemoryStorage||$r.get("previous_websocket_failure")===!0}markConnectionHealthy(){$r.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ho(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=x1(n,OP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fi,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Yt&&Yt.isAvailable();let r=n&&!Yt.previouslyFailed();if(e.webSocketOnly&&(n||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const i=this.transports_=[];for(const s of Go.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Go.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Go.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=6e4,DP=5e3,MP=10*1024,LP=100*1024,rd="t",Hv="d",UP="s",Vv="r",FP="e",Gv="o",Kv="a",qv="n",Yv="p",$P="h";class BP{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ma("c:"+this.id+":"),this.transportManager_=new Go(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=po(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rd in e){const n=e[rd];n===Kv?this.upgradeIfSecondaryHealthy_():n===Vv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Gv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ws("t",e),r=Ws("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ws("t",e),r=Ws("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ws(rd,e);if(Hv in e){const r=e[Hv];if(n===$P){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===qv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UP?this.onConnectionShutdown_(r):n===Vv?this.onReset_(r):n===FP?xf("Server Error: "+r):n===Gv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Pp!==r&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),po(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(AP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):po(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Y1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tu}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=32,Xv=768;class pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function de(){return new pe("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cr(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function Mp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ko(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Q1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Oe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function oe(t){return t.pieceNum_>=t.pieces_.length}function vt(t,e){const n=se(t),r=se(e);if(n===null)return e;if(n===r)return vt(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zP(t,e){const n=Ko(t,0),r=Ko(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=hi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Lp(t,e){if(Cr(t)!==Cr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Lt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cr(t)>Cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class WP{constructor(e,n){this.errorPrefix_=n,this.parts_=Ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qu(this.parts_[r]);X1(this)}}function HP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qu(e),X1(t)}function VP(t){const e=t.parts_.pop();t.byteLength_-=Qu(e),t.parts_.length>0&&(t.byteLength_-=1)}function X1(t){if(t.byteLength_>Xv)throw new Error(t.errorPrefix_+"has a key path longer than "+Xv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Qv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qv+") or object contains a cycle "+Dr(t))}function Dr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Y1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Up}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=1e3,GP=60*5*1e3,Jv=30*1e3,KP=1.3,qP=3e4,YP="server_kill",Zv=3;class xn extends q1{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=xn.nextPersistentConnectionId_++,this.log_=ma("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hs,this.maxReconnectDelay_=GP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!w1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Up.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(We(s)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Yu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;xn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&mn(e,"w")){const r=ls(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):xf("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qP&&(this.reconnectDelay_=Hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+xn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){$(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new BP(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{kt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(YP)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&kt(d),l())}}}interrupt(e){Ke("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ke("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sf(this.interruptReasons_)&&(this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Op(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ke("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zv&&(this.reconnectDelay_=Jv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ke("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+I1.replace(/\./g,"-")]=1,Tp()?e["framework.cordova"]=1:y1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tu.getInstance().currentlyOnline();return Sf(this.interruptReasons_)&&e}}xn.nextPersistentConnectionId_=0;xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(us,e),i=new ie(us,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;class J1 extends Ju{static get __EMPTY_NODE(){return qa}static set __EMPTY_NODE(e){qa=e}compare(e,n){return hi(e.name,n.name)}isDefinedOn(e){throw ws("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie(si,qa)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,qa)}toString(){return".key"}}const Ki=new J1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??_t.EMPTY_NODE,this.right=s??_t.EMPTY_NODE}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return _t.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return _t.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ze.RED=!0;ze.BLACK=!1;class QP{copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _t{constructor(e,n=_t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new _t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ze.BLACK,null,null))}remove(e){return new _t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ze.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ya(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ya(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ya(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ya(this.root_,null,this.comparator_,!0,e)}}_t.EMPTY_NODE=new QP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e){return hi(t.name,e.name)}function Fp(t,e){return hi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf;function JP(t){Pf=t}const Z1=function(t){return typeof t=="number"?"number:"+O1(t):"string:"+t},eE=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else $(t===Pf||t.isEmpty(),"priority of unexpected type.");$(t===Pf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_;class Be{constructor(e,n=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),eE(this.priorityNode_)}static set __childrenNodeConstructor(e){e_=e}static get __childrenNodeConstructor(){return e_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Be(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return oe(e)?this:se(e)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||Cr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Z1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=O1(this.value_):e+=this.value_,this.lazyHash_=b1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Be.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Be.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Be.VALUE_TYPE_ORDER.indexOf(n),s=Be.VALUE_TYPE_ORDER.indexOf(r);return $(i>=0,"Unknown leaf type: "+n),$(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tE,nE;function ZP(t){tE=t}function eA(t){nE=t}class tA extends Ju{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(si,new Be("[PRIORITY-POST]",nE))}makePost(e,n){const r=tE(e);return new ie(n,new Be("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pe=new tA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=Math.log(2);class rA{constructor(e){const n=s=>parseInt(Math.log(s)/nA,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nu=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new ze(f,d.node,ze.BLACK,null,null);{const h=parseInt(c/2,10)+l,p=i(l,h),v=i(h+1,u);return d=t[h],f=n?n(d):d,new ze(f,d.node,ze.BLACK,p,v)}},s=function(l){let u=null,c=null,d=t.length;const f=function(p,v){const E=d-p,g=d;d-=p;const _=i(E+1,g),w=t[E],k=n?n(w):w;h(new ze(k,w.node,v,null,_))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const v=l.nextBitIsOne(),E=Math.pow(2,l.count-(p+1));v?f(E,ze.BLACK):(f(E,ze.BLACK),f(E,ze.RED))}return c},o=new rA(t.length),a=s(o);return new _t(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id;const Ci={};class Tn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(Ci&&Pe,"ChildrenNode.ts has not been loaded"),id=id||new Tn({".priority":Ci},{".priority":Pe}),id}get(e){const n=ls(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof _t?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){$(e!==Ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=nu(r,e.getCompare()):a=Ci;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Tn(c,u)}addToIndexes(e,n){const r=Xl(this.indexes_,(i,s)=>{const o=ls(this.indexSet_,s);if($(o,"Missing index implementation for "+s),i===Ci)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ie.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),nu(a,o.getCompare())}else return Ci;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ie(e.name,a))),l.insert(e,e.node)}});return new Tn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Xl(this.indexes_,i=>{if(i===Ci)return i;{const s=n.get(e.name);return s?i.remove(new ie(e.name,s)):i}});return new Tn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&eE(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vs||(Vs=new Q(new _t(Fp),null,Tn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vs}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vs:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Vs:this.priorityNode_;return new Q(i,o,s)}}updateChild(e,n){const r=se(e);if(r===null)return n;{$(se(e)!==".priority"||Cr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Pe,(o,a)=>{n[o]=a.val(e),r++,s&&Q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Z1(this.getPriority().val())+":"),this.forEachChild(Pe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":b1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ga?-1:0}withIndex(e){if(e===Ki||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ki||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pe),i=n.getIterator(Pe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ki?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class iA extends Q{constructor(){super(new _t(Fp),Q.EMPTY_NODE,Tn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const ga=new iA;Object.defineProperties(ie,{MIN:{value:new ie(us,Q.EMPTY_NODE)},MAX:{value:new ie(si,ga)}});J1.__EMPTY_NODE=Q.EMPTY_NODE;Be.__childrenNodeConstructor=Q;JP(ga);eA(ga);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=!0;function qe(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Be(n,qe(e))}if(!(t instanceof Array)&&sA){const n=[];let r=!1;if(Je(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ie(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const s=nu(n,XP,o=>o.name,Fp);if(r){const o=nu(n,Pe.getCompare());return new Q(s,qe(e),new Tn({".priority":o},{".priority":Pe}))}else return new Q(s,qe(e),Tn.Default)}else{let n=Q.EMPTY_NODE;return Je(t,(r,i)=>{if(mn(t,r)&&r.substring(0,1)!=="."){const s=qe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(qe(e))}}ZP(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends Ju{constructor(e){super(),this.indexPath_=e,$(!oe(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hi(e.name,n.name):s}makePost(e,n){const r=qe(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,ga);return new ie(si,e)}toString(){return Ko(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends Ju{compare(e,n){const r=e.node.compareTo(n.node);return r===0?hi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=qe(e);return new ie(n,r)}toString(){return".value"}}const lA=new aA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){return{type:"value",snapshotNode:t}}function cs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function qo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Yo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function uA(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){$(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(qo(n,a)):$(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(cs(n,r)):o.trackChildChange(Yo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Pe,(i,s)=>{n.hasChild(i)||r.trackChildChange(qo(i,s))}),n.isLeafNode()||n.forEachChild(Pe,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Yo(i,s,o))}else r.trackChildChange(cs(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.indexedFilter_=new $p(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qo.getStartPost_(e),this.endPost_=Qo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ie(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return n.forEachChild(Pe,(o,a)=>{s.matches(new ie(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ie(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;$(a.numChildren()===this.limit_,"");const l=new ie(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(c&&!r.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(Yo(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(qo(n,d));const v=a.updateImmediateChild(n,Q.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(cs(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(qo(u.name,u.node)),s.trackChildChange(cs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:us}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:si}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const e=new Bp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dA(t){return t.loadsAllData()?new $p(t.getIndex()):t.hasLimit()?new cA(t):new Qo(t)}function t_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Pe?n="$priority":t.index_===lA?n="$value":t.index_===Ki?n="$key":($(t.index_ instanceof oA,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=We(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=We(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+We(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=We(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+We(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function n_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Pe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends q1{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ma("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ru.getListenId_(e,r),a={};this.listens_[o]=a;const l=t_(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ls(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=ru.getListenId_(e,n);delete this.listens_[r]}get(e){const n=t_(e._queryParams),r=e._path.toString(),i=new Yu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Es(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ho(a.responseText)}catch{kt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&kt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(){return{value:null,children:new Map}}function iE(t,e,n){if(oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=se(e);t.children.has(r)||t.children.set(r,iu());const i=t.children.get(r);e=_e(e),iE(i,e,n)}}function Af(t,e,n){t.value!==null?n(e,t.value):hA(t,(r,i)=>{const s=new pe(e.toString()+"/"+r);Af(i,s,n)})}function hA(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=10*1e3,mA=30*1e3,gA=5*60*1e3;class vA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new pA(e);const r=r_+(mA-r_)*Math.random();po(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Je(e,(i,s)=>{s>0&&mn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),po(this.reportStats_.bind(this),Math.floor(Math.random()*2*gA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function jp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Qt.ACK_USER_WRITE,this.source=jp()}operationForChild(e){if(oe(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(e));return new su(de(),n,this.revert)}}else return $(se(this.path)===e,"operationForChild called for unrelated child."),new su(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.source=e,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return oe(this.path)?new Xo(this.source,de()):new Xo(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Qt.OVERWRITE}operationForChild(e){return oe(this.path)?new oi(this.source,de(),this.snap.getImmediateChild(e)):new oi(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Qt.MERGE}operationForChild(e){if(oe(this.path)){const n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new oi(this.source,de(),n.value):new ds(this.source,de(),n)}else return $(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ds(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function yA(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(uA(o.childName,o.snapshotNode))}),Gs(t,i,"child_removed",e,r,n),Gs(t,i,"child_added",e,r,n),Gs(t,i,"child_moved",s,r,n),Gs(t,i,"child_changed",e,r,n),Gs(t,i,"value",e,r,n),i}function Gs(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>EA(t,a,l)),o.forEach(a=>{const l=wA(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function wA(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function EA(t,e,n){if(e.childName==null||n.childName==null)throw ws("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e){return{eventCache:t,serverCache:e}}function mo(t,e,n,r){return Zu(new ai(e,n,r),t.serverCache)}function sE(t,e,n,r){return Zu(t.eventCache,new ai(e,n,r))}function Df(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function li(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;const CA=()=>(sd||(sd=new _t(oP)),sd);class ve{constructor(e,n=CA()){this.value=e,this.children=n}static fromObject(e){let n=new ve(null);return Je(e,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(oe(e))return null;{const r=se(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(_e(e),n);return s!=null?{path:Oe(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(oe(e))return this;{const n=se(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new ve(null)}}set(e,n){if(oe(e))return new ve(n,this.children);{const r=se(e),s=(this.children.get(r)||new ve(null)).set(_e(e),n),o=this.children.insert(r,s);return new ve(this.value,o)}}remove(e){if(oe(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=se(e),r=this.children.get(n);if(r){const i=r.remove(_e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ve(null):new ve(this.value,s)}else return this}}get(e){if(oe(e))return this.value;{const n=se(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(oe(e))return n;{const r=se(e),s=(this.children.get(r)||new ve(null)).setTree(_e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ve(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(oe(e))return null;{const s=se(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Oe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(oe(e))return this;{this.value&&r(n,this.value);const i=se(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Oe(n,i),r):new ve(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.writeTree_=e}static empty(){return new Zt(new ve(null))}}function go(t,e,n){if(oe(e))return new Zt(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=vt(i,e);return s=s.updateChild(o,n),new Zt(t.writeTree_.set(i,s))}else{const i=new ve(n),s=t.writeTree_.setTree(e,i);return new Zt(s)}}}function Mf(t,e,n){let r=t;return Je(n,(i,s)=>{r=go(r,Oe(e,i),s)}),r}function i_(t,e){if(oe(e))return Zt.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new Zt(n)}}function Lf(t,e){return pi(t,e)!=null}function pi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(vt(n.path,e)):null}function s_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pe,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function vr(t,e){if(oe(e))return t;{const n=pi(t,e);return n!=null?new Zt(new ve(n)):new Zt(t.writeTree_.subtree(e))}}function Uf(t){return t.writeTree_.isEmpty()}function fs(t,e){return oE(de(),t.writeTree_,e)}function oE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?($(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=oE(Oe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Oe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e){return cE(e,t)}function SA(t,e,n,r,i){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=go(t.visibleWrites,e,n)),t.lastWriteId=r}function kA(t,e,n,r){$(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Mf(t.visibleWrites,e,n),t.lastWriteId=r}function TA(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function NA(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&IA(a,r.path)?i=!1:Lt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return RA(t),!0;if(r.snap)t.visibleWrites=i_(t.visibleWrites,r.path);else{const a=r.children;Je(a,l=>{t.visibleWrites=i_(t.visibleWrites,Oe(r.path,l))})}return!0}else return!1}function IA(t,e){if(t.snap)return Lt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Lt(Oe(t.path,n),e))return!0;return!1}function RA(t){t.visibleWrites=aE(t.allWrites,bA,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bA(t){return t.visible}function aE(t,e,n){let r=Zt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Lt(n,o)?(a=vt(n,o),r=go(r,a,s.snap)):Lt(o,n)&&(a=vt(o,n),r=go(r,de(),s.snap.getChild(a)));else if(s.children){if(Lt(n,o))a=vt(n,o),r=Mf(r,a,s.children);else if(Lt(o,n))if(a=vt(o,n),oe(a))r=Mf(r,de(),s.children);else{const l=ls(s.children,se(a));if(l){const u=l.getChild(_e(a));r=go(r,de(),u)}}}else throw ws("WriteRecord should have .snap or .children")}}return r}function lE(t,e,n,r,i){if(!r&&!i){const s=pi(t.visibleWrites,e);if(s!=null)return s;{const o=vr(t.visibleWrites,e);if(Uf(o))return n;if(n==null&&!Lf(o,de()))return null;{const a=n||Q.EMPTY_NODE;return fs(o,a)}}}else{const s=vr(t.visibleWrites,e);if(!i&&Uf(s))return n;if(!i&&n==null&&!Lf(s,de()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Lt(u.path,e)||Lt(e,u.path))},a=aE(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return fs(a,l)}}}function xA(t,e,n){let r=Q.EMPTY_NODE;const i=pi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Pe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=vr(t.visibleWrites,e);return n.forEachChild(Pe,(o,a)=>{const l=fs(vr(s,new pe(o)),a);r=r.updateImmediateChild(o,l)}),s_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=vr(t.visibleWrites,e);return s_(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function OA(t,e,n,r,i){$(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Oe(e,n);if(Lf(t.visibleWrites,s))return null;{const o=vr(t.visibleWrites,s);return Uf(o)?i.getChild(n):fs(o,i.getChild(n))}}function PA(t,e,n,r){const i=Oe(e,n),s=pi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=vr(t.visibleWrites,i);return fs(o,r.getNode().getImmediateChild(n))}else return null}function AA(t,e){return pi(t.visibleWrites,e)}function DA(t,e,n,r,i,s,o){let a;const l=vr(t.visibleWrites,e),u=pi(l,de());if(u!=null)a=u;else if(n!=null)a=fs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function MA(){return{visibleWrites:Zt.empty(),allWrites:[],lastWriteId:-1}}function ou(t,e,n,r){return lE(t.writeTree,t.treePath,e,n,r)}function Vp(t,e){return xA(t.writeTree,t.treePath,e)}function o_(t,e,n,r){return OA(t.writeTree,t.treePath,e,n,r)}function au(t,e){return AA(t.writeTree,Oe(t.treePath,e))}function LA(t,e,n,r,i,s){return DA(t.writeTree,t.treePath,e,n,r,i,s)}function Gp(t,e,n){return PA(t.writeTree,t.treePath,e,n)}function uE(t,e){return cE(Oe(t.treePath,e),t.writeTree)}function cE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Yo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,qo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,cs(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Yo(r,e.snapshotNode,i.oldSnap));else throw ws("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const dE=new FA;class Kp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:li(this.viewCache_),s=LA(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){return{filter:t}}function BA(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function jA(t,e,n,r,i){const s=new UA;let o,a;if(n.type===Qt.OVERWRITE){const u=n;u.source.fromUser?o=Ff(t,e,u.path,u.snap,r,i,s):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!oe(u.path),o=lu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Qt.MERGE){const u=n;u.source.fromUser?o=WA(t,e,u.path,u.children,r,i,s):($(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=$f(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Qt.ACK_USER_WRITE){const u=n;u.revert?o=GA(t,e,u.path,r,i,s):o=HA(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Qt.LISTEN_COMPLETE)o=VA(t,e,n.path,r,s);else throw ws("Unknown operation type: "+n.type);const l=s.getChanges();return zA(e,o,l),{viewCache:o,changes:l}}function zA(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Df(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(rE(Df(e)))}}function fE(t,e,n,r,i,s){const o=e.eventCache;if(au(r,n)!=null)return e;{let a,l;if(oe(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=li(e),c=u instanceof Q?u:Q.EMPTY_NODE,d=Vp(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=ou(r,li(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=se(n);if(u===".priority"){$(Cr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=o_(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=_e(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=o_(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Gp(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return mo(e,a,o.isFullyInitialized()||oe(n),t.filter.filtersNodes())}}function lu(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(oe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=se(n);if(!l.isCompleteForPath(n)&&Cr(n)>1)return e;const p=_e(n),E=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),h,E,p,dE,null)}const d=sE(e,u,l.isFullyInitialized()||oe(n),c.filtersNodes()),f=new Kp(i,d,s);return fE(t,d,n,i,f,a)}function Ff(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Kp(i,e,s);if(oe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=mo(e,u,!0,t.filter.filtersNodes());else{const d=se(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=mo(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=_e(n),h=a.getNode().getImmediateChild(d);let p;if(oe(f))p=r;else{const v=c.getCompleteChild(d);v!=null?Mp(f)===".priority"&&v.getChild(Q1(f)).isEmpty()?p=v:p=v.updateChild(f,r):p=Q.EMPTY_NODE}if(h.equals(p))l=e;else{const v=t.filter.updateChild(a.getNode(),d,p,f,c,o);l=mo(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function a_(t,e){return t.eventCache.isCompleteForChild(e)}function WA(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Oe(n,l);a_(e,se(c))&&(a=Ff(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Oe(n,l);a_(e,se(c))||(a=Ff(t,a,c,u,i,s,o))}),a}function l_(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $f(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;oe(n)?u=r:u=new ve(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=l_(t,h,f);l=lu(t,l,new pe(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),v=l_(t,p,f);l=lu(t,l,new pe(d),v,i,s,o,a)}}),l}function HA(t,e,n,r,i,s,o){if(au(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(oe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return lu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(oe(n)){let u=new ve(null);return l.getNode().forEachChild(Ki,(c,d)=>{u=u.set(new pe(c),d)}),$f(t,e,n,u,i,s,a,o)}else return e}else{let u=new ve(null);return r.foreach((c,d)=>{const f=Oe(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),$f(t,e,n,u,i,s,a,o)}}function VA(t,e,n,r,i){const s=e.serverCache,o=sE(e,s.getNode(),s.isFullyInitialized()||oe(n),s.isFiltered());return fE(t,o,n,r,dE,i)}function GA(t,e,n,r,i,s){let o;if(au(r,n)!=null)return e;{const a=new Kp(r,e,i),l=e.eventCache.getNode();let u;if(oe(n)||se(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=ou(r,li(e));else{const d=e.serverCache.getNode();$(d instanceof Q,"serverChildren would be complete if leaf node"),c=Vp(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=se(n);let d=Gp(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,_e(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Q.EMPTY_NODE,_e(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ou(r,li(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||au(r,de())!=null,mo(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new $p(r.getIndex()),s=dA(r);this.processor_=$A(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),c=new ai(l,o.isFullyInitialized(),i.filtersNodes()),d=new ai(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zu(d,c),this.eventGenerator_=new _A(this.query_)}get query(){return this.query_}}function qA(t){return t.viewCache_.serverCache.getNode()}function YA(t,e){const n=li(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!oe(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function u_(t){return t.eventRegistrations_.length===0}function QA(t,e){t.eventRegistrations_.push(e)}function c_(t,e,n){const r=[];if(n){$(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function d_(t,e,n,r){e.type===Qt.MERGE&&e.source.queryId!==null&&($(li(t.viewCache_),"We should always have a full cache before handling merges"),$(Df(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=jA(t.processor_,i,e,n,r);return BA(t.processor_,s.viewCache),$(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,hE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function XA(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(s,o)=>{r.push(cs(s,o))}),n.isFullyInitialized()&&r.push(rE(n.getNode())),hE(t,r,n.getNode(),e)}function hE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return yA(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu;class JA{constructor(){this.views=new Map}}function ZA(t){$(!uu,"__referenceConstructor has already been defined"),uu=t}function e2(){return $(uu,"Reference.ts has not been loaded"),uu}function t2(t){return t.views.size===0}function qp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return $(s!=null,"SyncTree gave us an op for an invalid query."),d_(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(d_(o,e,n,r));return s}}function n2(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ou(n,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=Vp(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const u=Zu(new ai(a,l,!1),new ai(r,i,!1));return new KA(e,u)}return o}function r2(t,e,n,r,i,s){const o=n2(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),QA(o,n),XA(o,n)}function i2(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Sr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(c_(u,n,r)),u_(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(c_(l,n,r)),u_(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Sr(t)&&s.push(new(e2())(e._repo,e._path)),{removed:s,events:o}}function pE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qi(t,e){let n=null;for(const r of t.views.values())n=n||YA(r,e);return n}function mE(t,e){if(e._queryParams.loadsAllData())return ec(t);{const r=e._queryIdentifier;return t.views.get(r)}}function gE(t,e){return mE(t,e)!=null}function Sr(t){return ec(t)!=null}function ec(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu;function s2(t){$(!cu,"__referenceConstructor has already been defined"),cu=t}function o2(){return $(cu,"Reference.ts has not been loaded"),cu}let a2=1;class f_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=MA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function l2(t,e,n,r,i){return SA(t.pendingWriteTree_,e,n,r,i),i?ks(t,new oi(jp(),e,n)):[]}function u2(t,e,n,r){kA(t.pendingWriteTree_,e,n,r);const i=ve.fromObject(n);return ks(t,new ds(jp(),e,i))}function Br(t,e,n=!1){const r=TA(t.pendingWriteTree_,e);if(NA(t.pendingWriteTree_,e)){let s=new ve(null);return r.snap!=null?s=s.set(de(),!0):Je(r.children,o=>{s=s.set(new pe(o),!0)}),ks(t,new su(r.path,s,n))}else return[]}function tc(t,e,n){return ks(t,new oi(zp(),e,n))}function c2(t,e,n){const r=ve.fromObject(n);return ks(t,new ds(zp(),e,r))}function d2(t,e){return ks(t,new Xo(zp(),e))}function f2(t,e,n){const r=Yp(t,n);if(r){const i=Qp(r),s=i.path,o=i.queryId,a=vt(s,e),l=new Xo(Wp(o),a);return Xp(t,s,l)}else return[]}function Bf(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||gE(o,e))){const l=i2(o,e,n,r);t2(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>Sr(h));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=m2(f);for(let p=0;p<h.length;++p){const v=h[p],E=v.query,g=wE(t,v);t.listenProvider_.startListening(vo(E),du(t,E),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(vo(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(nc(f));t.listenProvider_.stopListening(vo(f),h)}))}g2(t,u)}return a}function h2(t,e,n,r){const i=Yp(t,r);if(i!=null){const s=Qp(i),o=s.path,a=s.queryId,l=vt(o,e),u=new oi(Wp(a),l,n);return Xp(t,o,u)}else return[]}function p2(t,e,n,r){const i=Yp(t,r);if(i){const s=Qp(i),o=s.path,a=s.queryId,l=vt(o,e),u=ve.fromObject(n),c=new ds(Wp(a),l,u);return Xp(t,o,c)}else return[]}function h_(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=vt(f,i);s=s||qi(h,p),o=o||Sr(h)});let a=t.syncPointTree_.get(i);a?(o=o||Sr(a),s=s||qi(a,de())):(a=new JA,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{const v=qi(p,de());v&&(s=s.updateImmediateChild(h,v))}));const u=gE(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=nc(e);$(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=v2();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const c=Hp(t.pendingWriteTree_,i);let d=r2(a,e,n,c,s,l);if(!u&&!o&&!r){const f=mE(a,e);d=d.concat(_2(t,e,f))}return d}function vE(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=vt(o,e),u=qi(a,l);if(u)return u});return lE(i,e,s,n,!0)}function ks(t,e){return _E(e,t.syncPointTree_,null,Hp(t.pendingWriteTree_,de()))}function _E(t,e,n,r){if(oe(t.path))return yE(t,e,n,r);{const i=e.get(de());n==null&&i!=null&&(n=qi(i,de()));let s=[];const o=se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=uE(r,o);s=s.concat(_E(a,l,u,c))}return i&&(s=s.concat(qp(i,t,r,n))),s}}function yE(t,e,n,r){const i=e.get(de());n==null&&i!=null&&(n=qi(i,de()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=uE(r,o),c=t.operationForChild(o);c&&(s=s.concat(yE(c,a,l,u)))}),i&&(s=s.concat(qp(i,t,r,n))),s}function wE(t,e){const n=e.query,r=du(t,n);return{hashFn:()=>(qA(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?f2(t,n._path,r):d2(t,n._path);{const s=uP(i,n);return Bf(t,n,null,s)}}}}function du(t,e){const n=nc(e);return t.queryToTagMap.get(n)}function nc(t){return t._path.toString()+"$"+t._queryIdentifier}function Yp(t,e){return t.tagToQueryMap.get(e)}function Qp(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function Xp(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const i=Hp(t.pendingWriteTree_,e);return qp(r,n,i,null)}function m2(t){return t.fold((e,n,r)=>{if(n&&Sr(n))return[ec(n)];{let i=[];return n&&(i=pE(n)),Je(r,(s,o)=>{i=i.concat(o)}),i}})}function vo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(o2())(t._repo,t._path):t}function g2(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=nc(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function v2(){return a2++}function _2(t,e,n){const r=e._path,i=du(t,e),s=wE(t,n),o=t.listenProvider_.startListening(vo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)$(!Sr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!oe(u)&&c&&Sr(c))return[ec(c).query];{let f=[];return c&&(f=f.concat(pE(c).map(h=>h.query))),Je(d,(h,p)=>{f=f.concat(p)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(vo(c),du(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Jp(n)}node(){return this.node_}}class Zp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Oe(this.path_,e);return new Zp(this.syncTree_,n)}node(){return vE(this.syncTree_,this.path_)}}const y2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},p_=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return w2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return E2(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},w2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},E2=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const i=e.node();if($(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},EE=function(t,e,n,r){return em(e,new Zp(n,t),r)},C2=function(t,e,n){return em(t,new Jp(e),n)};function em(t,e,n){const r=t.getPriority().val(),i=p_(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=p_(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Be(a,qe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Be(i))),o.forEachChild(Pe,(a,l)=>{const u=em(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function nm(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=se(n);for(;i!==null;){const s=ls(r.node.children,i)||{children:{},childCount:0};r=new tm(i,r,s),n=_e(n),i=se(n)}return r}function Ts(t){return t.node.value}function CE(t,e){t.node.value=e,jf(t)}function SE(t){return t.node.childCount>0}function S2(t){return Ts(t)===void 0&&!SE(t)}function rc(t,e){Je(t.node.children,(n,r)=>{e(new tm(n,t,r))})}function kE(t,e,n,r){n&&!r&&e(t),rc(t,i=>{kE(i,e,!0,r)}),n&&r&&e(t)}function k2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function va(t){return new pe(t.parent===null?t.name:va(t.parent)+"/"+t.name)}function jf(t){t.parent!==null&&T2(t.parent,t.name,t)}function T2(t,e,n){const r=S2(n),i=mn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,jf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,jf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=/[\[\].#$\/\u0000-\u001F\u007F]/,I2=/[\[\].#$\u0000-\u001F\u007F]/,od=10*1024*1024,rm=function(t){return typeof t=="string"&&t.length!==0&&!N2.test(t)},TE=function(t){return typeof t=="string"&&t.length!==0&&!I2.test(t)},R2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TE(t)},b2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!xp(t)||t&&typeof t=="object"&&mn(t,".sv")},im=function(t,e,n){const r=n instanceof pe?new WP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Dr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Dr(r)+" with contents = "+e.toString());if(xp(e))throw new Error(t+"contains "+e.toString()+" "+Dr(r));if(typeof e=="string"&&e.length>od/3&&Qu(e)>od)throw new Error(t+"contains a string greater than "+od+" utf8 bytes "+Dr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Je(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!rm(o)))throw new Error(t+" contains an invalid key ("+o+") "+Dr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);HP(r,o),im(t,a,r),VP(r)}),i&&s)throw new Error(t+' contains ".value" child '+Dr(r)+" in addition to actual children.")}},x2=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Ko(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!rm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(zP);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Lt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},O2=function(t,e,n,r){if(r&&e===void 0)return;const i=Np(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Je(e,(o,a)=>{const l=new pe(o);if(im(i,a,Oe(n,l)),Mp(l)===".priority"&&!b2(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),x2(i,s)},NE=function(t,e,n,r){if(!(r&&n===void 0)&&!TE(n))throw new Error(Np(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},P2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),NE(t,e,n,r)},A2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!R2(n))throw new Error(Np(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Lp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function IE(t,e,n){sm(t,n),RE(t,r=>Lp(r,e))}function Fn(t,e,n){sm(t,n),RE(t,r=>Lt(r,e)||Lt(e,r))}function RE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(M2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function M2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Kr&&Ke("event: "+n.toString()),Ss(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="repo_interrupt",U2=25;class F2{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new D2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=iu(),this.transactionQueueTree_=new tm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $2(t,e,n){if(t.stats_=Ap(t.repoInfo_),t.forceRestClient_||hP())t.server_=new ru(t.repoInfo_,(r,i,s,o)=>{m_(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>g_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xn(t.repoInfo_,e,(r,i,s,o)=>{m_(t,r,i,s,o)},r=>{g_(t,r)},r=>{j2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_P(t.repoInfo_,()=>new vA(t.stats_,t.server_)),t.infoData_=new fA,t.infoSyncTree_=new f_({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=tc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),am(t,"connected",!1),t.serverSyncTree_=new f_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Fn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function B2(t){const n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function om(t){return y2({timestamp:B2(t)})}function m_(t,e,n,r,i){t.dataUpdateCount++;const s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Xl(n,u=>qe(u));o=p2(t.serverSyncTree_,s,l,i)}else{const l=qe(n);o=h2(t.serverSyncTree_,s,l,i)}else if(r){const l=Xl(n,u=>qe(u));o=c2(t.serverSyncTree_,s,l)}else{const l=qe(n);o=tc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Jo(t,s)),Fn(t.eventQueue_,a,o)}function g_(t,e){am(t,"connected",e),e===!1&&W2(t)}function j2(t,e){Je(e,(n,r)=>{am(t,n,r)})}function am(t,e,n){const r=new pe("/.info/"+e),i=qe(n);t.infoData_.updateSnapshot(r,i);const s=tc(t.infoSyncTree_,r,i);Fn(t.eventQueue_,r,s)}function bE(t){return t.nextWriteId_++}function z2(t,e,n,r){lm(t,"update",{path:e.toString(),value:n});let i=!0;const s=om(t),o={};if(Je(n,(a,l)=>{i=!1,o[a]=EE(Oe(e,a),qe(l),t.serverSyncTree_,s)}),i)Ke("update() called with empty data.  Don't do anything."),__(t,r,"ok",void 0);else{const a=bE(t),l=u2(t.serverSyncTree_,e,o,a);sm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||kt("update at "+e+" failed: "+u);const f=Br(t.serverSyncTree_,a,!d),h=f.length>0?Jo(t,e):e;Fn(t.eventQueue_,h,f),__(t,r,u,c)}),Je(n,u=>{const c=DE(t,Oe(e,u));Jo(t,c)}),Fn(t.eventQueue_,e,[])}}function W2(t){lm(t,"onDisconnectEvents");const e=om(t),n=iu();Af(t.onDisconnect_,de(),(i,s)=>{const o=EE(i,s,t.serverSyncTree_,e);iE(n,i,o)});let r=[];Af(n,de(),(i,s)=>{r=r.concat(tc(t.serverSyncTree_,i,s));const o=DE(t,i);Jo(t,o)}),t.onDisconnect_=iu(),Fn(t.eventQueue_,de(),r)}function H2(t,e,n){let r;se(e._path)===".info"?r=h_(t.infoSyncTree_,e,n):r=h_(t.serverSyncTree_,e,n),IE(t.eventQueue_,e._path,r)}function v_(t,e,n){let r;se(e._path)===".info"?r=Bf(t.infoSyncTree_,e,n):r=Bf(t.serverSyncTree_,e,n),IE(t.eventQueue_,e._path,r)}function V2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(L2)}function lm(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ke(n,...e)}function __(t,e,n,r){e&&Ss(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function xE(t,e,n){return vE(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function um(t,e=t.transactionQueueTree_){if(e||ic(t,e),Ts(e)){const n=PE(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&G2(t,va(e),n)}else SE(e)&&rc(e,n=>{um(t,n)})}function G2(t,e,n){const r=n.map(u=>u.currentWriteId),i=xE(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];$(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=vt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{lm(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Br(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ic(t,nm(t.transactionQueueTree_,e)),um(t,t.transactionQueueTree_),Fn(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Ss(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{kt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Jo(t,e)}},o)}function Jo(t,e){const n=OE(t,e),r=va(n),i=PE(t,n);return K2(t,i,r),r}function K2(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=vt(n,l.path);let c=!1,d;if($(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Br(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=U2)c=!0,d="maxretry",i=i.concat(Br(t.serverSyncTree_,l.currentWriteId,!0));else{const f=xE(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){im("transaction failed: Data returned ",h,l.path);let p=qe(h);typeof h=="object"&&h!=null&&mn(h,".priority")||(p=p.updatePriority(f.getPriority()));const E=l.currentWriteId,g=om(t),_=C2(p,f,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=bE(t),o.splice(o.indexOf(E),1),i=i.concat(l2(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(Br(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(Br(t.serverSyncTree_,l.currentWriteId,!0))}Fn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ic(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ss(r[a]);um(t,t.transactionQueueTree_)}function OE(t,e){let n,r=t.transactionQueueTree_;for(n=se(e);n!==null&&Ts(r)===void 0;)r=nm(r,n),e=_e(e),n=se(e);return r}function PE(t,e){const n=[];return AE(t,e,n),n.sort((r,i)=>r.order-i.order),n}function AE(t,e,n){const r=Ts(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);rc(e,i=>{AE(t,i,n)})}function ic(t,e){const n=Ts(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,CE(e,n.length>0?n:void 0)}rc(e,r=>{ic(t,r)})}function DE(t,e){const n=va(OE(t,e)),r=nm(t.transactionQueueTree_,e);return k2(r,i=>{ad(t,i)}),ad(t,r),kE(r,i=>{ad(t,i)}),n}function ad(t,e){const n=Ts(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):($(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Br(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?CE(e,void 0):n.length=s+1,Fn(t.eventQueue_,va(e),i);for(let o=0;o<r.length;o++)Ss(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Y2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const y_=function(t,e){const n=Q2(t),r=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||iP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new j1(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pe(n.pathString)}},Q2=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=q2(t.substring(c,d)));const f=Y2(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class LE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return $(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return oe(this._path)?null:Mp(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const e=n_(this._queryParams),n=Op(e);return n==="{}"?"default":n}get _queryObject(){return n_(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof cm))return!1;const n=this._repo===e._repo,r=Lp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jP(this._path)}}class Hn extends cm{constructor(e,n){super(e,n,new Bp,!1)}get parent(){const e=Q1(this._path);return e===null?null:new Hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Zo{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pe(e),r=fu(this.ref,e);return new Zo(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Zo(i,fu(this.ref,r),Pe)))}hasChild(e){const n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dm(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?fu(t._root,e):t._root}function fu(t,e){return t=ft(t),se(t._path)===null?P2("child","path",e,!1):NE("child","path",e,!1),new Hn(t._repo,Oe(t._path,e))}function UE(t,e){O2("update",e,t._path,!1);const n=new Yu;return z2(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class fm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new ME("value",this,new Zo(e.snapshotNode,new Hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new LE(this,e,n):null}matches(e){return e instanceof fm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class hm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new LE(this,e,n):null}createEvent(e,n){$(e.childName!=null,"Child events should have a childName.");const r=fu(new Hn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ME(e.type,this,new Zo(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof hm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function J2(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{v_(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new X2(n,s||void 0),a=e==="value"?new fm(o):new hm(e,o);return H2(t._repo,t,a),()=>v_(t._repo,t,a)}function Z2(t,e,n,r){return J2(t,"value",e,n,r)}ZA(Hn);s2(Hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="FIREBASE_DATABASE_EMULATOR_HOST",zf={};let tD=!1;function nD(t,e,n,r){t.repoInfo_=new j1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function rD(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=y_(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[eD]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=y_(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Gi(Gi.OWNER):new mP(t.name,t.options,e);A2("Invalid Firebase Database URL",o),oe(o.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const d=sD(a,t,c,new pP(t.name,n));return new oD(d,t)}function iD(t,e){const n=zf[e];(!n||n[t.key]!==t)&&Un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),V2(t),delete n[t.key]}function sD(t,e,n,r){let i=zf[e.name];i||(i={},zf[e.name]=i);let s=i[t.toURLString()];return s&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new F2(t,tD,n,r),i[t.toURLString()]=s,s}class oD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Un("Cannot call "+e+" on a deleted database.")}}function aD(t=bp(),e){const n=Xu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=g1("database");r&&lD(n,...r)}return n}function lD(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Gi(Gi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:_1(r.mockUserToken,t.app.options.projectId);s=new Gi(o)}nD(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){ZO(Cs),ii(new Er("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return rD(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dn($v,Bv,t),dn($v,Bv,"esm2017")}xn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};uD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebasestorage.googleapis.com",$E="storageBucket",cD=2*60*1e3,dD=10*60*1e3,fD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re extends Wn{constructor(e,n,r=0){super(ld(e),`Firebase Storage: ${n} (${ld(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Re.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ld(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ce;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ce||(Ce={}));function ld(t){return"storage/"+t}function pm(){const t="An unknown error occurred, please check the error payload for server response.";return new Re(Ce.UNKNOWN,t)}function hD(t){return new Re(Ce.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pD(t){return new Re(Ce.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(Ce.UNAUTHENTICATED,t)}function gD(){return new Re(Ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vD(t){return new Re(Ce.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function BE(){return new Re(Ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jE(){return new Re(Ce.CANCELED,"User canceled the upload/download.")}function _D(t){return new Re(Ce.INVALID_URL,"Invalid URL '"+t+"'.")}function yD(t){return new Re(Ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wD(){return new Re(Ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$E+"' property when initializing the app?")}function zE(){return new Re(Ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ED(){return new Re(Ce.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function CD(){return new Re(Ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SD(t){return new Re(Ce.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wf(t){return new Re(Ce.INVALID_ARGUMENT,t)}function WE(){return new Re(Ce.APP_DELETED,"The Firebase app was deleted.")}function kD(t){return new Re(Ce.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _o(t,e){return new Re(Ce.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ks(t){throw new Re(Ce.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=It.makeFromUrl(e,n)}catch{return new It(e,"")}if(r.path==="")return r;throw yD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},v=n===FE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${v}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<w.length;k++){const R=w[k],b=R.regex.exec(e);if(b){const y=b[R.indices.bucket];let C=b[R.indices.path];C||(C=""),r=new It(y,C),R.postModify(r);break}}if(r==null)throw _D(e);return r}}class TD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(h,l())},E)}function f(){s&&clearTimeout(s)}function h(E,...g){if(u){f();return}if(E){f(),c.call(null,E,...g);return}if(l()||o){f(),c.call(null,E,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function v(E){p||(p=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function ID(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){return t!==void 0}function bD(t){return typeof t=="function"}function xD(t){return typeof t=="object"&&!Array.isArray(t)}function sc(t){return typeof t=="string"||t instanceof String}function w_(t){return mm()&&t instanceof Blob}function mm(){return typeof Blob<"u"&&!Ax()}function E_(t,e,n,r){if(r<e)throw Wf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function HE(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qr||(qr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qa(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qr.NO_ERROR,l=s.getStatus();if(!a||VE(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===qr.ABORT;r(!1,new Qa(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Qa(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());RD(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=pm();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?WE():jE();o(l)}else{const l=BE();o(l)}};this.canceled_?n(!1,new Qa(!1,null,!0)):this.backoffId_=ND(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ID(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qa{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LD(t,e,n,r,i,s,o=!0){const a=HE(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return DD(u,e),PD(u,n),AD(u,s),MD(u,r),new OD(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FD(...t){const e=UD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mm())return new Blob(t);throw new Re(Ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $D(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){if(typeof atob>"u")throw SD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ud{constructor(e,n){this.data=e,this.contentType=n||null}}function jD(t,e){switch(t){case on.RAW:return new ud(GE(e));case on.BASE64:case on.BASE64URL:return new ud(KE(t,e));case on.DATA_URL:return new ud(WD(e),HD(e))}throw pm()}function GE(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zD(t){let e;try{e=decodeURIComponent(t)}catch{throw _o(on.DATA_URL,"Malformed data URL.")}return GE(e)}function KE(t,e){switch(t){case on.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _o(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case on.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _o(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BD(e)}catch(i){throw i.message.includes("polyfill")?i:_o(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qE{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _o(on.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WD(t){const e=new qE(t);return e.base64?KE(on.BASE64,e.rest):zD(e.rest)}function HD(t){return new qE(t).contentType}function VD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){let r=0,i="";w_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(w_(this.data_)){const r=this.data_,i=$D(r,e,n);return i===null?null:new Jn(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Jn(r,!0)}}static getBlob(...e){if(mm()){const n=e.map(r=>r instanceof Jn?r.data_:r);return new Jn(FD.apply(null,n))}else{const n=e.map(o=>sc(o)?jD(on.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Jn(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){let e;try{e=JSON.parse(t)}catch{return null}return xD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function QE(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e){return e}class at{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||qD}}let Xa=null;function YD(t){return!sc(t)||t.length<2?t:QE(t)}function XE(){if(Xa)return Xa;const t=[];t.push(new at("bucket")),t.push(new at("generation")),t.push(new at("metageneration")),t.push(new at("name","fullPath",!0));function e(s,o){return YD(o)}const n=new at("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new at("size");return i.xform=r,t.push(i),t.push(new at("timeCreated")),t.push(new at("updated")),t.push(new at("md5Hash",null,!0)),t.push(new at("cacheControl",null,!0)),t.push(new at("contentDisposition",null,!0)),t.push(new at("contentEncoding",null,!0)),t.push(new at("contentLanguage",null,!0)),t.push(new at("contentType",null,!0)),t.push(new at("metadata","customMetadata",!0)),Xa=t,Xa}function QD(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new It(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function XD(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return QD(r,t),r}function JE(t,e,n){const r=YE(e);return r===null?null:XD(t,r,n)}function JD(t,e,n,r){const i=YE(e);if(i===null||!sc(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=_a(f,n,r),p=HE({alt:"media",token:u});return h+p})[0]}function ZE(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ns{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){if(!t)throw pm()}function gm(t,e){function n(r,i){const s=JE(t,i,e);return On(s!==null),s}return n}function ZD(t,e){function n(r,i){const s=JE(t,i,e);return On(s!==null),JD(s,i,t.host,t._protocol)}return n}function ya(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gD():i=mD():n.getStatus()===402?i=pD(t.bucket):n.getStatus()===403?i=vD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function eC(t){const e=ya(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=hD(t.path)),s.serverResponse=i.serverResponse,s}return n}function eM(t,e,n){const r=e.fullServerUrl(),i=_a(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ns(i,s,gm(t,n),o);return a.errorHandler=eC(e),a}function tM(t,e,n){const r=e.fullServerUrl(),i=_a(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ns(i,s,ZD(t,n),o);return a.errorHandler=eC(e),a}function nM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tC(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=nM(null,e)),r}function rM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let k=0;k<2;k++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=tC(e,r,i),c=ZE(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=Jn.getBlob(d,r,f);if(h===null)throw zE();const p={name:u.fullPath},v=_a(s,t.host,t._protocol),E="POST",g=t.maxUploadRetryTime,_=new Ns(v,E,gm(t,n),g);return _.urlParams=p,_.headers=o,_.body=h.uploadData(),_.errorHandler=ya(e),_}class hu{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function vm(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{On(!1)}return On(!!n&&(e||["active"]).indexOf(n)!==-1),n}function iM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=tC(e,r,i),a={name:o.fullPath},l=_a(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=ZE(o,n),f=t.maxUploadRetryTime;function h(v){vm(v);let E;try{E=v.getResponseHeader("X-Goog-Upload-URL")}catch{On(!1)}return On(sc(E)),E}const p=new Ns(l,u,h,f);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=ya(e),p}function sM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=vm(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{On(!1)}d||On(!1);const f=Number(d);return On(!isNaN(f)),new hu(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ns(n,o,s,a);return l.headers=i,l.errorHandler=ya(e),l}const C_=256*1024;function oM(t,e,n,r,i,s,o,a){const l=new hu(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw ED();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let h="";c===0?h="finalize":u===c?h="upload, finalize":h="upload";const p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,f);if(v===null)throw zE();function E(k,R){const b=vm(k,["active","final"]),y=l.current+c,C=r.size();let N;return b==="final"?N=gm(e,s)(k,R):N=null,new hu(y,C,b==="final",N)}const g="POST",_=e.maxUploadRetryTime,w=new Ns(n,g,E,_);return w.headers=p,w.body=v.uploadData(),w.progressCallback=a||null,w.errorHandler=ya(t),w}const ht={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cd(t){switch(t){case"running":case"pausing":case"canceling":return ht.RUNNING;case"paused":return ht.PAUSED;case"success":return ht.SUCCESS;case"canceled":return ht.CANCELED;case"error":return ht.ERROR;default:return ht.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r){if(bD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class lM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ks("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ks("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ks("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ks("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ks("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uM extends lM{initXhr(){this.xhr_.responseType="text"}}function ki(){return new uM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=XE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ce.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(VE(i.status,[]))if(s)i=BE();else{this.sleepTime=Math.max(this.sleepTime*2,fD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ce.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=iM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=sM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ki,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=C_*this._chunkMultiplier,n=new hu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=oM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ki,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){C_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=eM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=rM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=jE(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=cd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new aM(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(cd(this._state)){case ht.SUCCESS:Si(this._resolve.bind(null,this.snapshot))();break;case ht.CANCELED:case ht.ERROR:const n=this._reject;Si(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cd(this._state)){case ht.RUNNING:case ht.PAUSED:e.next&&Si(e.next.bind(e,this.snapshot))();break;case ht.SUCCESS:e.complete&&Si(e.complete.bind(e))();break;case ht.CANCELED:case ht.ERROR:e.error&&Si(e.error.bind(e,this._error))();break;default:e.error&&Si(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this._service=e,n instanceof It?this._location=n:this._location=It.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ui(e,n)}get root(){const e=new It(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QE(this._location.path)}get storage(){return this._service}get parent(){const e=GD(this._location.path);if(e===null)return null;const n=new It(this._location.bucket,e);return new ui(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kD(e)}}function dM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new cM(t,new Jn(e),n)}function fM(t){t._throwIfRoot("getDownloadURL");const e=tM(t.storage,t._location,XE());return t.storage.makeRequestWithTokens(e,ki).then(n=>{if(n===null)throw CD();return n})}function hM(t,e){const n=KD(t._location.path,e),r=new It(t._location.bucket,n);return new ui(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){return/^[A-Za-z]+:\/\//.test(t)}function mM(t,e){return new ui(t,e)}function nC(t,e){if(t instanceof _m){const n=t;if(n._bucket==null)throw wD();const r=new ui(n,n._bucket);return e!=null?nC(r,e):r}else return e!==void 0?hM(t,e):t}function gM(t,e){if(e&&pM(e)){if(t instanceof _m)return mM(t,e);throw Wf("To use ref(service, url), the first argument must be a Storage instance.")}else return nC(t,e)}function S_(t,e){const n=e==null?void 0:e[$E];return n==null?null:It.makeFromBucketSpec(n,t)}function vM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_1(i,t.app.options.projectId))}class _m{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=FE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cD,this._maxUploadRetryTime=dD,this._requests=new Set,i!=null?this._bucket=It.makeFromBucketSpec(i,this._host):this._bucket=S_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=It.makeFromBucketSpec(this._url,e):this._bucket=S_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){E_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){E_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ui(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new TD(WE());{const o=LD(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const k_="@firebase/storage",T_="0.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="storage";function _M(t,e,n){return t=ft(t),dM(t,e,n)}function yM(t){return t=ft(t),fM(t)}function wM(t,e){return t=ft(t),gM(t,e)}function EM(t=bp(),e){t=ft(t);const r=Xu(t,rC).getImmediate({identifier:e}),i=g1("storage");return i&&CM(r,...i),r}function CM(t,e,n,r={}){vM(t,e,n,r)}function SM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _m(n,r,i,e,Cs)}function kM(){ii(new Er(rC,SM,"PUBLIC").setMultipleInstances(!0)),dn(k_,T_,""),dn(k_,T_,"esm2017")}kM();function ym(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TM=iC,sC=new ha("auth","Firebase",iC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Ip("@firebase/auth");function pl(t,...e){N_.logLevel<=me.ERROR&&N_.error(`Auth (${Cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw wm(t,...e)}function fn(t,...e){return wm(t,...e)}function oC(t,e,n){const r=Object.assign(Object.assign({},TM()),{[e]:n});return new ha("auth","Firebase",r).create(e,{appName:t.name})}function NM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),oC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sC.create(t,...e)}function Z(t,e,...n){if(!t)throw wm(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pl(e),new Error(e)}function $n(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function In(t){$n(t instanceof Function,"Expected a class definition");let e=I_.get(t);return e?($n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I_.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){const n=Xu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jl(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function RM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(In);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bM(){return R_()==="http:"||R_()==="https:"}function R_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bM()||Dx()||"connection"in navigator)?navigator.onLine:!0}function OM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.shortDelay=e,this.longDelay=n,$n(n>e,"Short delay should be less than long delay!"),this.isMobile=Tp()||y1()}get(){return xM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e){$n(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new wa(3e4,6e4);function DM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oc(t,e,n,r,i={}){return lC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Es(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),aC.fetch()(uC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function lC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PM),e);try{const i=new LM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ja(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ja(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ja(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ja(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oC(t,c,u);pn(t,c)}}catch(i){if(i instanceof Wn)throw i;pn(t,"network-request-failed")}}async function MM(t,e,n,r,i={}){const s=await oc(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Em(t.config,i):`${t.config.apiScheme}://${i}`}class LM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fn(this.auth,"network-request-failed")),AM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ja(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e){return oc(t,"POST","/v1/accounts:delete",e)}async function FM(t,e){return oc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $M(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Cm(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yo(dd(i.auth_time)),issuedAtTime:yo(dd(i.iat)),expirationTime:yo(dd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dd(t){return Number(t)*1e3}function Cm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ql(n);return i?JSON.parse(i):(pl("Failed to decode base64 JWT payload"),null)}catch(i){return pl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BM(t){const e=Cm(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wn&&jM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ea(t,FM(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VM(s.providerUserInfo):[],a=HM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function WM(t){const e=ft(t);await pu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VM(t){return t.map(e=>{var{providerId:n}=e,r=ym(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e){const n=await lC(t,{},async()=>{const r=Es({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await GM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ta;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ea(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $M(this,e)}reload(){return WM(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ea(this,UM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:k,isAnonymous:R,providerData:b,stsTokenManager:y}=n;Z(w&&y,e,"internal-error");const C=ta.fromJSON(this.name,y);Z(typeof w=="string",e,"internal-error"),Gn(d,e.name),Gn(f,e.name),Z(typeof k=="boolean",e,"internal-error"),Z(typeof R=="boolean",e,"internal-error"),Gn(h,e.name),Gn(p,e.name),Gn(v,e.name),Gn(E,e.name),Gn(g,e.name),Gn(_,e.name);const N=new Yr({uid:w,auth:e,email:f,emailVerified:k,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:g,lastLoginAt:_});return b&&Array.isArray(b)&&(N.providerData=b.map(T=>Object.assign({},T))),E&&(N._redirectEventId=E),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new ta;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dC.type="NONE";const b_=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,e,n){return`firebase:${t}:${e}:${n}`}class Yi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ml(this.userKey,i.apiKey,s),this.fullPersistenceKey=ml("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yi(In(b_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||In(b_);const o=ml(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Yr._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Yi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Yi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gC(e))return"Blackberry";if(vC(e))return"Webos";if(Sm(e))return"Safari";if((e.includes("chrome/")||hC(e))&&!e.includes("edge/"))return"Chrome";if(mC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fC(t=it()){return/firefox\//i.test(t)}function Sm(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hC(t=it()){return/crios\//i.test(t)}function pC(t=it()){return/iemobile/i.test(t)}function mC(t=it()){return/android/i.test(t)}function gC(t=it()){return/blackberry/i.test(t)}function vC(t=it()){return/webos/i.test(t)}function ac(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KM(t=it()){var e;return ac(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qM(){return Mx()&&document.documentMode===10}function _C(t=it()){return ac(t)||mC(t)||vC(t)||gC(t)||/windows phone/i.test(t)||pC(t)}function YM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e=[]){let n;switch(t){case"Browser":n=x_(it());break;case"Worker":n=`${x_(it())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new QM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ft(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(In(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&In(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Yi.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function lc(t){return ft(t)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hx(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function JM(t,e,n){const r=lc(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=wC(e),{host:o,port:a}=ZM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||eL()}function wC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZM(t){const e=wC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:P_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:P_(o)}}}function P_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e){return MM(t,"POST","/v1/accounts:signInWithIdp",DM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="http://localhost";class ci extends EC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ym(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ci(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:tL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Es(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends km{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Ea{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ci._fromParams({providerId:Cn.PROVIDER_ID,signInMethod:Cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cn.credentialFromTaggedObject(e)}static credentialFromError(e){return Cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cn.credential(n,r)}catch{return null}}}Cn.GOOGLE_SIGN_IN_METHOD="google.com";Cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Ea{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Ea{constructor(){super("twitter.com")}static credential(e,n){return ci._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),o=A_(r);return new hs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A_(r);return new hs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Wn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mu(e,n,r,i)}}function CC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mu._fromErrorAndOperation(t,s,e,r):s})}async function nL(t,e,n=!1){const r=await ea(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ea(t,CC(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Cm(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),hs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e,n=!1){const r="signIn",i=await CC(t,r,e),s=await hs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function sL(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function oL(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function aL(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}const gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){const t=it();return Sm(t)||ac(t)}const uL=1e3,cL=10;class kC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=lL()&&YM(),this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);qM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kC.type="LOCAL";const dL=kC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TC.type="SESSION";const NC=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await fL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Tm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function pL(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function mL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vL(){return IC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebaseLocalStorageDb",_L=1,vu="firebaseLocalStorage",bC="fbase_key";class Ca{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cc(t,e){return t.transaction([vu],e?"readwrite":"readonly").objectStore(vu)}function yL(){const t=indexedDB.deleteDatabase(RC);return new Ca(t).toPromise()}function Vf(){const t=indexedDB.open(RC,_L);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vu,{keyPath:bC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vu)?e(r):(r.close(),await yL(),e(await Vf()))})})}async function D_(t,e,n){const r=cc(t,!0).put({[bC]:e,value:n});return new Ca(r).toPromise()}async function wL(t,e){const n=cc(t,!1).get(e),r=await new Ca(n).toPromise();return r===void 0?null:r.value}function M_(t,e){const n=cc(t,!0).delete(e);return new Ca(n).toPromise()}const EL=800,CL=3;class xC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uc._getInstance(vL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mL(),!this.activeServiceWorker)return;this.sender=new hL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vf();return await D_(e,gu,"1"),await M_(e,gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cc(i,!1).getAll();return new Ca(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xC.type="LOCAL";const SL=xC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function TL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kL().appendChild(r)})}function NL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new wa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){return e?In(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends EC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IL(t){return iL(t.auth,new Nm(t),t.bypassAuthState)}function RL(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),rL(n,new Nm(t),t.bypassAuthState)}async function bL(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),nL(n,new Nm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IL;case"linkViaPopup":case"linkViaRedirect":return bL;case"reauthViaPopup":case"reauthViaRedirect":return RL;default:pn(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new wa(2e3,1e4);async function OL(t,e,n){const r=lc(t);NM(t,e,km);const i=OC(r,n);return new jr(r,"signInViaPopup",e,i).executeNotNull()}class jr extends PC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const e=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,xL.get())};e()}}jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="pendingRedirect",gl=new Map;class AL extends PC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gl.get(this.auth._key());if(!e){try{const r=await DL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gl.set(this.auth._key(),e)}return this.bypassAuthState||gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DL(t,e){const n=UL(e),r=LL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ML(t,e){gl.set(t._key(),e)}function LL(t){return In(t._redirectPersistence)}function UL(t){return ml(PL,t.config.apiKey,t.name)}async function FL(t,e,n=!1){const r=lc(t),i=OC(r,e),o=await new AL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=10*60*1e3;class BL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$L&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e={}){return oc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HL=/^https?/;async function VL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zL(t);for(const n of e)try{if(GL(n))return}catch{}pn(t,"unauthorized-domain")}function GL(t){const e=Hf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HL.test(n))return!1;if(WL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new wa(3e4,6e4);function U_(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qL(t){return new Promise((e,n)=>{var r,i,s;function o(){U_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(fn(t,"network-request-failed"))},timeout:KL.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hn().gapi)===null||s===void 0)&&s.load)o();else{const a=NL("iframefcb");return hn()[a]=()=>{gapi.load?o():n(fn(t,"network-request-failed"))},TL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vl=null,e})}let vl=null;function YL(t){return vl=vl||qL(t),vl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new wa(5e3,15e3),XL="__/auth/iframe",JL="emulator/auth/iframe",ZL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t3(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Em(e,JL):`https://${t.config.authDomain}/${XL}`,r={apiKey:e.apiKey,appName:t.name,v:Cs},i=e3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Es(r).slice(1)}`}async function n3(t){const e=await YL(t),n=hn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:t3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fn(t,"network-request-failed"),a=hn().setTimeout(()=>{s(o)},QL.get());function l(){hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i3=500,s3=600,o3="_blank",a3="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l3(t,e,n,r=i3,i=s3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},r3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=hC(u)?o3:n),fC(u)&&(e=e||a3,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(KM(u)&&a!=="_self")return u3(e||"",a),new F_(null);const d=window.open(e||"",a,c);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new F_(d)}function u3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="__/auth/handler",d3="emulator/auth/handler";function $_(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cs,eventId:i};if(e instanceof km){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Sf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Ea){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${f3(t)}?${Es(a).slice(1)}`}function f3({config:t}){return t.emulator?Em(t,d3):`https://${t.authDomain}/${c3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="webStorageSupport";class h3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NC,this._completeRedirectFn=FL,this._overrideRedirectResult=ML}async _openPopup(e,n,r,i){var s;$n((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=$_(e,n,r,Hf(),i);return l3(e,o,Tm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),pL($_(e,n,r,Hf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):($n(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n3(e),r=new BL(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fd,{type:fd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fd];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _C()||Sm()||ac()}}const p3=h3;var B_="@firebase/auth",j_="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function v3(t){ii(new Er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Z(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Z(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yC(t)},c=new XM(a,l,u);return RM(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ii(new Er("auth-internal",e=>{const n=lc(e.getProvider("auth").getImmediate());return(r=>new m3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(B_,j_,g3(t)),dn(B_,j_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=5*60,y3=v1("authIdTokenMaxAge")||_3;let z_=null;const w3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y3)return;const i=n==null?void 0:n.token;z_!==i&&(z_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DC(t=bp()){const e=Xu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IM(t,{popupRedirectResolver:p3,persistence:[SL,dL,NC]}),r=v1("authTokenSyncURL");if(r){const s=w3(r);oL(n,s,()=>s(n.currentUser)),sL(n,o=>s(o))}const i=m1("auth");return i&&JM(n,`http://${i}`),n}v3("Browser");var E3="firebase",C3="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn(E3,C3,"app");const S3={apiKey:"AIzaSyCXfdPxRt8Qvi3AZsXu1lxl9VJXuRlga_8",authDomain:"outfitoftheday-c3adf.firebaseapp.com",databaseURL:"https://outfitoftheday-c3adf-default-rtdb.firebaseio.com",projectId:"outfitoftheday-c3adf",storageBucket:"outfitoftheday-c3adf.appspot.com",messagingSenderId:"160151796856",appId:"1:160151796856:web:510e79243373c60cd0c18d"},dc=k1(S3),Im=aD(dc),k3=EM(dc),Sa=t=>{const[e,n]=m.useState(),[r,i]=m.useState(null);return m.useEffect(()=>Z2(dm(Im,t),s=>{n(s.val())},s=>{i(s)}),[t]),[e,r]},W_=t=>{const e=Date.now(),n=(t==null?void 0:t.message)||`Updated: ${new Date(e).toLocaleString()}`;return{timestamp:e,error:t,message:n}},T3=t=>{const[e,n]=m.useState();return[m.useCallback((i,s,o,a,l,u,c)=>{const d=wM(k3,t),f=_M(d,i);f.on("state_changed",h=>{const p=Math.round(h.bytesTransferred/h.totalBytes*100);console.log(p)},h=>{console.log(h)},()=>{yM(f.snapshot.ref).then(h=>{n(h);const p={id:o,available:!0,weather:c,url:e},v=l?{...l,[o]:p}:{[o]:p};u==="tops"?a.tops=v:u==="jackets"?a.jackets=v:u==="dresses"?a.dresses=v:u==="bottoms"?a.bottoms=v:u==="shoes"&&(a.shoes=v),UE(dm(Im,"/"),{["/closet/"+s.uid]:a})})})},[t,e]),e]},Gf=t=>{const[e,n]=m.useState();return[m.useCallback(i=>{UE(dm(Im,t),i).then(()=>n(W_())).catch(s=>n(W_(s)))},[t]),e]},N3=()=>{const[t,e]=m.useState();return m.useEffect(()=>aL(DC(dc),e),[]),[t]},I3=()=>{OL(DC(dc),new Cn)},R3=()=>{const[t]=N3(),[e,n]=Gf("/users/"),[r,i]=Gf("/closet/"),[s,o,a]=Sa("/users/");return m.useEffect(()=>{t&&!o&&!a&&(e({[t.uid]:{displayName:t.displayName,email:t.email,profilePic:t.photoURL}}),r({[t.uid]:{id:t.uid,tops:[],bottoms:[],shoes:[],dresses:[],jackets:[],favorites:{}}}))},[o,a,t,e,r]),[t,o,a]},mi=()=>({uid:"33VC4ni86kMMYI1PiJtHuEAHCCj2",displayName:"Amy",email:"amy@test.com",profilePic:"https://cdn-icons-png.flaticon.com/512/1946/1946429.png"}),qs=()=>{const t=mi(),e=Uu();return t?S(Ga,{className:"navbar",children:H(J,{className:"navbar-container",children:[S(J,{children:S(Ga.Brand,{className:"navbar-brand",onClick:()=>e("/"),children:"Outfit Of The Day"})}),S(Ga.Toggle,{"aria-controls":"responsive-navbar-nav"}),S(Ga.Collapse,{id:"responsive-navbar-nav",className:"header-dropdown",children:H(yx,{className:"header-profile",children:[S("img",{className:"header-img",alt:"Profile",src:t.profilePic,referrerPolicy:"no-referrer"}),H(zs,{id:"collasible-nav-dropdown",align:"end",children:[H(zs.Item,{onClick:()=>e("/"),children:[S(Cx,{size:24})," View Profile"]}),H(zs.Item,{onClick:()=>e("/add"),children:[S(Sx,{size:24})," Add Item"]}),S(zs.Divider,{}),H(zs.Item,{onClick:()=>e("/"),children:[S(kx,{size:24})," Logout"]})]})]})})]})}):S("h5",{className:"text-muted",children:"Loading user profile..."})};function b3(t){return tn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}}]})(t)}function x3(t){return tn({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}}]})(t)}function O3(t){return tn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}}]})(t)}function P3(t){return tn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 10.551v-.678A4.005 4.005 0 0 0 16 6c0-2.206-1.794-4-4-4S8 3.794 8 6h2c0-1.103.897-2 2-2s2 .897 2 2-.897 2-2 2a1 1 0 0 0-1 1v1.551l-8.665 7.702A1.001 1.001 0 0 0 3 20h18a1.001 1.001 0 0 0 .664-1.748L13 10.551zM5.63 18 12 12.338 18.37 18H5.63z"}}]})(t)}const Ys=()=>{const t=Uu(),e=Qh(),[n,r]=m.useState("home");return m.useEffect(()=>{e.pathname==="/favorites"?r("favorites"):e.pathname==="/closet"?r("closet"):e.pathname==="/"&&r("home")},[e]),H("div",{className:"bottom-container",children:[S("div",{className:n==="favorites"?"favorites-btn-container active-container":"favorites-btn-container",onClick:()=>t("/favorites"),children:H("div",{className:"info-container",children:[n==="favorites"?S(Sp,{size:20}):S(c1,{size:20}),S("p",{children:"Favorites"})]})}),S("div",{className:n==="home"?"home-btn-container active-container":"home-btn-container",onClick:()=>t("/"),children:H("div",{className:"info-container",children:[n==="home"?S(x3,{size:20}):S(O3,{size:20}),S("p",{children:"Home"})]})}),S("div",{className:n==="closet"?"closet-btn-container active-container":"closet-btn-container",onClick:()=>t("/closet"),children:H("div",{className:"info-container",children:[S(P3,{size:20}),S("p",{children:"Closet"})]})})]})},MC=m.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=le(t,"card-img");return S(r,{ref:s,className:te(n?`${o}-${n}`:o,e),...i})});MC.displayName="CardImg";const A3=MC,LC=m.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=le(t,"card-header"),o=m.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return S(Ep.Provider,{value:o,children:S(n,{ref:i,...r,className:te(e,s)})})});LC.displayName="CardHeader";const D3=sp("h5"),M3=sp("h6"),UC=st("card-body"),L3=st("card-title",{Component:D3}),U3=st("card-subtitle",{Component:M3}),F3=st("card-link",{Component:"a"}),$3=st("card-text",{Component:"p"}),B3=st("card-footer"),j3=st("card-img-overlay"),z3={body:!1},Rm=m.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s,children:o,as:a="div",...l},u)=>{const c=le(t,"card");return S(a,{ref:u,...l,className:te(e,c,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?S(UC,{children:o}):o})});Rm.displayName="Card";Rm.defaultProps=z3;const zr=Object.assign(Rm,{Img:A3,Title:L3,Subtitle:U3,Body:UC,Link:F3,Text:$3,Header:LC,Footer:B3,ImgOverlay:j3});function W3(t,e){var n=m.useRef(!0);m.useEffect(function(){if(n.current){n.current=!1;return}return t()},e)}var Kf=Math.pow(2,31)-1;function FC(t,e,n){var r=n-Date.now();t.current=r<=Kf?setTimeout(e,r):setTimeout(function(){return FC(t,e,n)},Kf)}function H3(){var t=Zh(),e=m.useRef();return Ew(function(){return clearTimeout(e.current)}),m.useMemo(function(){var n=function(){return clearTimeout(e.current)};function r(i,s){s===void 0&&(s=0),t()&&(n(),s<=Kf?e.current=setTimeout(i,s):FC(e,i,Date.now()+s))}return{set:r,clear:n}},[])}const V3=st("carousel-caption"),$C=m.forwardRef(({as:t="div",bsPrefix:e,className:n,...r},i)=>{const s=te(n,le(e,"carousel-item"));return S(t,{ref:i,...r,className:s})});$C.displayName="CarouselItem";const G3=$C;function H_(t,e){let n=0;return m.Children.map(t,r=>m.isValidElement(r)?e(r,n++):r)}function K3(t,e){let n=0;m.Children.forEach(t,r=>{m.isValidElement(r)&&e(r,n++)})}function q3(t,e){return m.Children.toArray(t).some(n=>m.isValidElement(n)&&n.type===e)}const Y3=40,Q3={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:S("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:S("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function X3(t){if(!t||!t.style||!t.parentNode||!t.parentNode.style)return!1;const e=getComputedStyle(t);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(t.parentNode).display!=="none"}const bm=m.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,slide:i,fade:s,controls:o,indicators:a,indicatorLabels:l,activeIndex:u,onSelect:c,onSlide:d,onSlid:f,interval:h,keyboard:p,onKeyDown:v,pause:E,onMouseOver:g,onMouseOut:_,wrap:w,touch:k,onTouchStart:R,onTouchMove:b,onTouchEnd:y,prevIcon:C,prevLabel:N,nextIcon:T,nextLabel:I,variant:O,className:F,children:j,...B}=$u(t,{activeIndex:"onSelect"}),A=le(r,"carousel"),D=uw(),P=m.useRef(null),[U,M]=m.useState("next"),[z,G]=m.useState(!1),[X,ne]=m.useState(!1),[Y,fe]=m.useState(u||0);m.useEffect(()=>{!X&&u!==Y&&(P.current?M(P.current):M((u||0)>Y?"next":"prev"),i&&ne(!0),fe(u||0))},[u,X,Y,i]),m.useEffect(()=>{P.current&&(P.current=null)});let ce=0,Se;K3(j,(ee,ge)=>{++ce,ge===u&&(Se=ee.props.interval)});const Pt=ww(Se),Ze=m.useCallback(ee=>{if(X)return;let ge=Y-1;if(ge<0){if(!w)return;ge=ce-1}P.current="prev",c==null||c(ge,ee)},[X,Y,c,w,ce]),Me=xe(ee=>{if(X)return;let ge=Y+1;if(ge>=ce){if(!w)return;ge=0}P.current="next",c==null||c(ge,ee)}),Wt=m.useRef();m.useImperativeHandle(e,()=>({element:Wt.current,prev:Ze,next:Me}));const ot=xe(()=>{!document.hidden&&X3(Wt.current)&&(D?Ze():Me())}),re=U==="next"?"start":"end";W3(()=>{i||(d==null||d(Y,re),f==null||f(Y,re))},[Y]);const Is=`${A}-item-${U}`,gi=`${A}-item-${re}`,ka=m.useCallback(ee=>{Xh(ee),d==null||d(Y,re)},[d,Y,re]),hc=m.useCallback(()=>{ne(!1),f==null||f(Y,re)},[f,Y,re]),pc=m.useCallback(ee=>{if(p&&!/input|textarea/i.test(ee.target.tagName))switch(ee.key){case"ArrowLeft":ee.preventDefault(),D?Me(ee):Ze(ee);return;case"ArrowRight":ee.preventDefault(),D?Ze(ee):Me(ee);return}v==null||v(ee)},[p,v,Ze,Me,D]),gn=m.useCallback(ee=>{E==="hover"&&G(!0),g==null||g(ee)},[E,g]),vi=m.useCallback(ee=>{G(!1),_==null||_(ee)},[_]),Rs=m.useRef(0),br=m.useRef(0),_i=H3(),Ta=m.useCallback(ee=>{Rs.current=ee.touches[0].clientX,br.current=0,E==="hover"&&G(!0),R==null||R(ee)},[E,R]),Na=m.useCallback(ee=>{ee.touches&&ee.touches.length>1?br.current=0:br.current=ee.touches[0].clientX-Rs.current,b==null||b(ee)},[b]),Ia=m.useCallback(ee=>{if(k){const ge=br.current;Math.abs(ge)>Y3&&(ge>0?Ze(ee):Me(ee))}E==="hover"&&_i.set(()=>{G(!1)},h||void 0),y==null||y(ee)},[k,E,Ze,Me,_i,h,y]),bs=h!=null&&!z&&!X,mc=m.useRef();m.useEffect(()=>{var ee,ge;if(!bs)return;const vn=D?Ze:Me;return mc.current=window.setInterval(document.visibilityState?ot:vn,(ee=(ge=Pt.current)!=null?ge:h)!=null?ee:void 0),()=>{mc.current!==null&&clearInterval(mc.current)}},[bs,Ze,Me,Pt,h,ot,D]);const jm=m.useMemo(()=>a&&Array.from({length:ce},(ee,ge)=>vn=>{c==null||c(ge,vn)}),[a,ce,c]);return H(n,{ref:Wt,...B,onKeyDown:pc,onMouseOver:gn,onMouseOut:vi,onTouchStart:Ta,onTouchMove:Na,onTouchEnd:Ia,className:te(F,A,i&&"slide",s&&`${A}-fade`,O&&`${A}-${O}`),children:[a&&S("div",{className:`${A}-indicators`,children:H_(j,(ee,ge)=>S("button",{type:"button","data-bs-target":"","aria-label":l!=null&&l.length?l[ge]:`Slide ${ge+1}`,className:ge===Y?"active":void 0,onClick:jm?jm[ge]:void 0,"aria-current":ge===Y},ge))}),S("div",{className:`${A}-inner`,children:H_(j,(ee,ge)=>{const vn=ge===Y;return i?S(Wu,{in:vn,onEnter:vn?ka:void 0,onEntered:vn?hc:void 0,addEndListener:zu,children:(xs,_S)=>m.cloneElement(ee,{..._S,className:te(ee.props.className,vn&&xs!=="entered"&&Is,(xs==="entered"||xs==="exiting")&&"active",(xs==="entering"||xs==="exiting")&&gi)})}):m.cloneElement(ee,{className:te(ee.props.className,vn&&"active")})})}),o&&H(mt,{children:[(w||u!==0)&&H(Kl,{className:`${A}-control-prev`,onClick:Ze,children:[C,N&&S("span",{className:"visually-hidden",children:N})]}),(w||u!==ce-1)&&H(Kl,{className:`${A}-control-next`,onClick:Me,children:[T,I&&S("span",{className:"visually-hidden",children:I})]})]})]})});bm.displayName="Carousel";bm.defaultProps=Q3;const V_=Object.assign(bm,{Caption:V3,Item:G3});function J3({as:t,bsPrefix:e,className:n,...r}){e=le(e,"col");const i=aw(),s=lw(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,d,f;typeof u=="object"&&u!=null?{span:c,offset:d,order:f}=u:c=u;const h=l!==s?`-${l}`:"";c&&o.push(c===!0?`${e}${h}`:`${e}${h}-${c}`),f!=null&&a.push(`order${h}-${f}`),d!=null&&a.push(`offset${h}-${d}`)}),[{...r,className:te(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const fc=m.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=J3(t);return S(i,{...r,ref:e,className:te(n,!o.length&&s)})});fc.displayName="Col";const Z3={type:Ye.string,tooltip:Ye.bool,as:Ye.elementType},xm=m.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>S(t,{...i,ref:s,className:te(e,`${n}-${r?"tooltip":"feedback"}`)}));xm.displayName="Feedback";xm.propTypes=Z3;const BC=xm,eU=m.createContext({}),Bn=eU,jC=m.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=m.useContext(Bn);return e=le(e,"form-check-input"),S(o,{...a,ref:l,type:r,id:t||u,className:te(n,e,i&&"is-valid",s&&"is-invalid")})});jC.displayName="FormCheckInput";const zC=jC,WC=m.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=m.useContext(Bn);return t=le(t,"form-check-label"),S("label",{...r,ref:i,htmlFor:n||s,className:te(e,t)})});WC.displayName="FormCheckLabel";const qf=WC,HC=m.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:d,style:f,title:h="",type:p="checkbox",label:v,children:E,as:g="input",..._},w)=>{e=le(e,"form-check"),n=le(n,"form-switch");const{controlId:k}=m.useContext(Bn),R=m.useMemo(()=>({controlId:t||k}),[k,t]),b=!E&&v!=null&&v!==!1||q3(E,qf),y=S(zC,{..._,type:p==="switch"?"checkbox":p,ref:w,isValid:o,isInvalid:a,disabled:s,as:g});return S(Bn.Provider,{value:R,children:S("div",{style:f,className:te(d,b&&e,r&&`${e}-inline`,i&&`${e}-reverse`,p==="switch"&&n),children:E||H(mt,{children:[y,b&&S(qf,{title:h,children:v}),u&&S(BC,{type:c,tooltip:l,children:u})]})})})});HC.displayName="FormCheck";const _u=Object.assign(HC,{Input:zC,Label:qf}),VC=m.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...d},f)=>{const{controlId:h}=m.useContext(Bn);t=le(t,"form-control");let p;return l?p={[`${t}-plaintext`]:!0}:p={[t]:!0,[`${t}-${n}`]:n},S(c,{...d,type:e,size:r,ref:f,readOnly:u,id:i||h,className:te(s,p,o&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});VC.displayName="FormControl";const tU=Object.assign(VC,{Feedback:BC}),nU=st("form-floating"),Om=m.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=m.useMemo(()=>({controlId:t}),[t]);return S(Bn.Provider,{value:i,children:S(e,{...n,ref:r})})});Om.displayName="FormGroup";const rU={column:!1,visuallyHidden:!1},Pm=m.forwardRef(({as:t="label",bsPrefix:e,column:n,visuallyHidden:r,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=m.useContext(Bn);e=le(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=te(i,e,r&&"visually-hidden",n&&u);return s=s||l,n?S(fc,{ref:a,as:"label",className:c,htmlFor:s,...o}):S(t,{ref:a,className:c,htmlFor:s,...o})});Pm.displayName="FormLabel";Pm.defaultProps=rU;const GC=m.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=m.useContext(Bn);return t=le(t,"form-range"),S("input",{...r,type:"range",ref:i,className:te(e,t),id:n||s})});GC.displayName="FormRange";const KC=m.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=m.useContext(Bn);return t=le(t,"form-select"),S("select",{...a,size:n,ref:l,className:te(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});KC.displayName="FormSelect";const qC=m.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=le(t,"form-text"),S(n,{...i,ref:s,className:te(e,t,r&&"text-muted")})));qC.displayName="FormText";const YC=m.forwardRef((t,e)=>S(_u,{...t,ref:e,type:"switch"}));YC.displayName="Switch";const iU=Object.assign(YC,{Input:_u.Input,Label:_u.Label}),QC=m.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=le(t,"form-floating"),H(Om,{ref:o,className:te(e,t),controlId:r,...s,children:[n,S("label",{htmlFor:r,children:i})]})));QC.displayName="FloatingLabel";const sU={_ref:Ye.any,validated:Ye.bool,as:Ye.elementType},Am=m.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>S(n,{...r,ref:i,className:te(t,e&&"was-validated")}));Am.displayName="Form";Am.propTypes=sU;const XC=Object.assign(Am,{Group:Om,Control:tU,Floating:nU,Check:_u,Switch:iU,Label:Pm,Text:qC,Range:GC,Select:KC,FloatingLabel:QC});Ye.string,Ye.bool,Ye.bool,Ye.bool,Ye.bool;const oU={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},Dm=m.forwardRef(({bsPrefix:t,className:e,fluid:n,rounded:r,roundedCircle:i,thumbnail:s,...o},a)=>(t=le(t,"img"),S("img",{ref:a,...o,className:te(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));Dm.displayName="Image";Dm.defaultProps=oU;const JC=Dm,Mm=m.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=le(t,"row"),o=aw(),a=lw(),l=`${s}-cols`,u=[];return o.forEach(c=>{const d=r[c];delete r[c];let f;d!=null&&typeof d=="object"?{cols:f}=d:f=d;const h=c!==a?`-${c}`:"";f!=null&&u.push(`${l}${h}-${f}`)}),S(n,{ref:i,...r,className:te(e,s,...u)})});Mm.displayName="Row";const aU=()=>{const t=mi(),e=Uu();return m.useEffect(()=>{t&&e("/")},[t,e]),S(J,{className:"login-container",children:S(J,{className:"login-info-container",children:H(J,{children:[S("h1",{className:"login-title","data-cy":"login-title",children:"Outfit Of The Day"}),S("p",{className:"login-info",children:"OutfitOfTheDay is an app that allows you to catalog your closet and decide on an outfit for the day each morning. It will also keep track of your favorite outfits, which will be recommended more frequently."}),S(()=>S("button",{className:"ml-5 p-2 w-75 btn login-button",onClick:I3,children:"SIGN IN"}),{})]})})})},lU=({data:t,bottoms:e})=>S(J,{children:S(Mm,{xs:2,md:4,className:"g-4",children:Object.entries(t).map(([n,r])=>S(fc,{children:H(zr,{className:"card-container",children:[S(zr.Img,{variant:"top",src:r.url,className:e?"card-image-bottoms":"card-image"}),S("div",{className:"card-text-container",children:H(zr.Text,{className:"card-weather text-muted",children:[r.weather.charAt(0).toUpperCase()+r.weather.slice(1)," ","Weather"]})})]})},n))})}),uU=()=>{const t=mi(),[e]=Sa("/closet"),[n,r]=m.useState("Tops"),[i,s]=m.useState(null),o=a=>{a==="Tops"?(r("Tops"),s(e[t.uid].tops)):a==="Jackets"?(r("Jackets"),s(e[t.uid].jackets)):a==="Dresses"?(r("Dresses"),s(e[t.uid].dresses)):a==="Bottoms"?(r("Bottoms"),s(e[t.uid].bottoms)):a==="Shoes"&&(r("Shoes"),s(e[t.uid].shoes))};return t?e?H(J,{className:"p-10 mt-3",children:[S("h3",{className:"closet-title",children:"My Closet"}),S("hr",{}),H(XC.Select,{onChange:a=>o(a.target.value),children:[S("option",{value:"Tops",children:"Tops"}),S("option",{value:"Jackets",children:"Jackets"}),S("option",{value:"Dresses",children:"Dresses"}),S("option",{value:"Bottoms",children:"Bottoms"}),S("option",{value:"Shoes",children:"Shoes"})]}),S("h5",{className:"text-muted mt-3",children:n}),S(lU,{data:i||e[t.uid].tops,bottoms:n==="Bottoms"})]}):S("h5",{className:"text-muted",children:"Loading user closet..."}):S("h5",{className:"text-muted",children:"Loading user profile..."})},cU=({data:t})=>S(J,{children:S(Mm,{xs:2,md:4,className:"g-1",children:Object.entries(t).map(([e,n])=>S(fc,{children:H(zr,{className:"favorites-card-container",children:[H(J,{className:"favorites-card-clothes",children:[H(J,{className:"favorites-top-shoes-container",children:[S(J,{className:"favorites-top-container",children:S(zr.Img,{variant:"top",src:n.tops.url,className:"favorites-card-image"})}),S(J,{className:"favorites-shoes-container",children:S(zr.Img,{variant:"top",src:n.shoes.url,className:"favorites-card-image-shoes"})})]}),S(J,{className:"favorites-bottom-container",children:S(zr.Img,{variant:"top",src:n.bottoms.url,className:"favorites-card-image-bottom"})})]}),S(J,{className:"favorites-card-heart",children:S(Sp,{size:15})})]})},e))})}),dU=()=>{const t=mi(),[e]=Sa("/closet");return t?e?H(J,{className:"p-10 mt-3",children:[S("h3",{className:"closet-title",children:"My Favorites"}),S("hr",{}),S(cU,{data:e[t.uid].favorites})]}):S("h5",{className:"text-muted",children:"Loading user closet..."}):S("h5",{className:"text-muted",children:"Loading user profile..."})};let Za;const fU=new Uint8Array(16);function hU(){if(!Za&&(Za=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Za))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Za(fU)}const Ve=[];for(let t=0;t<256;++t)Ve.push((t+256).toString(16).slice(1));function pU(t,e=0){return(Ve[t[e+0]]+Ve[t[e+1]]+Ve[t[e+2]]+Ve[t[e+3]]+"-"+Ve[t[e+4]]+Ve[t[e+5]]+"-"+Ve[t[e+6]]+Ve[t[e+7]]+"-"+Ve[t[e+8]]+Ve[t[e+9]]+"-"+Ve[t[e+10]]+Ve[t[e+11]]+Ve[t[e+12]]+Ve[t[e+13]]+Ve[t[e+14]]+Ve[t[e+15]]).toLowerCase()}const mU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),G_={randomUUID:mU};function Yf(t,e,n){if(G_.randomUUID&&!e&&!t)return G_.randomUUID();t=t||{};const r=t.random||(t.rng||hU)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return pU(r)}const hd=({data:t,handleSelect:e,index:n})=>S(J,{className:"carousel-container",children:S(V_,{interval:null,indicators:!1,activeIndex:n,onSelect:e,children:Object.entries(t).map(([r,i])=>S(V_.Item,{children:S("img",{src:i.url,alt:"Slide"})},r))})}),gU=()=>{let t=41.881832,e=-87.623177;return"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(n){t=n.coords.latitude,e=n.coords.longitude}),`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current_weather=true&temperature_unit=fahrenheit`};var ZC={},Lm={},Um={};Object.defineProperty(Um,"__esModule",{value:!0});var vU=function(t){var e,n;(function(){var y=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,C=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame;y&&C?(e=function(T){var I={value:null};function O(){I.value=y(O),T()}return O(),I},n=function(T){C(T.value)}):(e=setInterval,n=clearInterval)})();var r=500,i=.08,s=2*Math.PI,o=2/Math.sqrt(2);function a(y,C,N,T){y.beginPath(),y.arc(C,N,T,0,s,!1),y.fill()}function l(y,C,N,T,I){y.beginPath(),y.moveTo(C,N),y.lineTo(T,I),y.stroke()}function u(y,C,N,T,I,O,F,j){var B=Math.cos(C*s),A=Math.sin(C*s);j-=F,a(y,N-A*I,T+B*O+j*.5,F+(1-B*.5)*j)}function c(y,C,N,T,I,O,F,j){var B;for(B=5;B--;)u(y,C+B/5,N,T,I,O,F,j)}function d(y,C,N,T,I,O,F){C/=3e4;var j=I*.21,B=I*.12,A=I*.24,D=I*.28;y.fillStyle=F,c(y,C,N,T,j,B,A,D),y.globalCompositeOperation="destination-out",c(y,C,N,T,j,B,A-O,D-O),y.globalCompositeOperation="source-over"}function f(y,C,N,T,I,O,F){C/=12e4;var j=I*.25-O*.5,B=I*.32+O*.5,A=I*.5-O*.5,D,P,U,M;for(y.strokeStyle=F,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",y.beginPath(),y.arc(N,T,j,0,s,!1),y.stroke(),D=8;D--;)P=(C+D/8)*s,U=Math.cos(P),M=Math.sin(P),l(y,N+U*B,T+M*B,N+U*A,T+M*A)}function h(y,C,N,T,I,O,F){C/=15e3;var j=I*.29-O*.5,B=I*.05,A=Math.cos(C*s),D=A*s/-16;y.strokeStyle=F,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",N+=A*B,y.beginPath(),y.arc(N,T,j,D+s/8,D+s*7/8,!1),y.arc(N+Math.cos(D)*j*o,T+Math.sin(D)*j*o,j,D+s*5/8,D+s*3/8,!0),y.closePath(),y.stroke()}function p(y,C,N,T,I,O,F){C/=1350;var j=I*.16,B=s*11/12,A=s*7/12,D,P,U,M;for(y.fillStyle=F,D=4;D--;)P=(C+D/4)%1,U=N+(D-1.5)/1.5*(D===1||D===2?-1:1)*j,M=T+P*P*I,y.beginPath(),y.moveTo(U,M-O*1.5),y.arc(U,M,O*.75,B,A,!1),y.fill()}function v(y,C,N,T,I,O,F){C/=750;var j=I*.1875,B,A,D,P;for(y.strokeStyle=F,y.lineWidth=O*.5,y.lineCap="round",y.lineJoin="round",B=4;B--;)A=(C+B/4)%1,D=Math.floor(N+(B-1.5)/1.5*(B===1||B===2?-1:1)*j)+.5,P=T+A*I,l(y,D,P-O*1.5,D,P+O*1.5)}function E(y,C,N,T,I,O,F){C/=3e3;var j=I*.16,B=O*.75,A=C*s*.7,D=Math.cos(A)*B,P=Math.sin(A)*B,U=A+s/3,M=Math.cos(U)*B,z=Math.sin(U)*B,G=A+s*2/3,X=Math.cos(G)*B,ne=Math.sin(G)*B,Y,fe,ce,Se;for(y.strokeStyle=F,y.lineWidth=O*.5,y.lineCap="round",y.lineJoin="round",Y=4;Y--;)fe=(C+Y/4)%1,ce=N+Math.sin((fe+Y/4)*s)*j,Se=T+fe*I,l(y,ce-D,Se-P,ce+D,Se+P),l(y,ce-M,Se-z,ce+M,Se+z),l(y,ce-X,Se-ne,ce+X,Se+ne)}function g(y,C,N,T,I,O,F){C/=3e4;var j=I*.21,B=I*.06,A=I*.21,D=I*.28;y.fillStyle=F,c(y,C,N,T,j,B,A,D),y.globalCompositeOperation="destination-out",c(y,C,N,T,j,B,A-O,D-O),y.globalCompositeOperation="source-over"}var _=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],w=[{start:.36,end:.11},{start:.56,end:.16}];function k(y,C,N,T,I,O,F){var j=I/8,B=j/3,A=2*B,D=C%1*s,P=Math.cos(D),U=Math.sin(D);y.fillStyle=F,y.strokeStyle=F,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",y.beginPath(),y.arc(N,T,j,D,D+Math.PI,!1),y.arc(N-B*P,T-B*U,A,D+Math.PI,D,!1),y.arc(N+A*P,T+A*U,B,D+Math.PI,D,!0),y.globalCompositeOperation="destination-out",y.fill(),y.globalCompositeOperation="source-over",y.stroke()}function R(y,C,N,T,I,O,F,j,B){C/=2500;var A=_[F],D=(C+F-w[F].start)%j,P=(C+F-w[F].end)%j,U=(C+F)%j,M,z,G,X;if(y.strokeStyle=B,y.lineWidth=O,y.lineCap="round",y.lineJoin="round",D<1){if(y.beginPath(),D*=A.length/2-1,M=Math.floor(D),D-=M,M*=2,M+=2,y.moveTo(N+(A[M-2]*(1-D)+A[M]*D)*I,T+(A[M-1]*(1-D)+A[M+1]*D)*I),P<1){for(P*=A.length/2-1,z=Math.floor(P),P-=z,z*=2,z+=2,X=M;X!==z;X+=2)y.lineTo(N+A[X]*I,T+A[X+1]*I);y.lineTo(N+(A[z-2]*(1-P)+A[z]*P)*I,T+(A[z-1]*(1-P)+A[z+1]*P)*I)}else for(X=M;X!==A.length;X+=2)y.lineTo(N+A[X]*I,T+A[X+1]*I);y.stroke()}else if(P<1){for(y.beginPath(),P*=A.length/2-1,z=Math.floor(P),P-=z,z*=2,z+=2,y.moveTo(N+A[0]*I,T+A[1]*I),X=2;X!==z;X+=2)y.lineTo(N+A[X]*I,T+A[X+1]*I);y.lineTo(N+(A[z-2]*(1-P)+A[z]*P)*I,T+(A[z-1]*(1-P)+A[z+1]*P)*I),y.stroke()}U<1&&(U*=A.length/2-1,G=Math.floor(U),U-=G,G*=2,G+=2,k(y,C,N+(A[G-2]*(1-U)+A[G]*U)*I,T+(A[G-1]*(1-U)+A[G+1]*U)*I,I,O,B))}var b=function(C){this.list=[],this.interval=null,this.color=C&&C.color?C.color:"black",this.resizeClear=!!(C&&C.resizeClear)};return b.CLEAR_DAY=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);f(y,C,T*.5,I*.5,O,O*i,N)},b.CLEAR_NIGHT=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);h(y,C,T*.5,I*.5,O,O*i,N)},b.PARTLY_CLOUDY_DAY=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);f(y,C,T*.625,I*.375,O*.75,O*i,N),d(y,C,T*.375,I*.625,O*.75,O*i,N)},b.PARTLY_CLOUDY_NIGHT=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);h(y,C,T*.667,I*.375,O*.75,O*i,N),d(y,C,T*.375,I*.625,O*.75,O*i,N)},b.CLOUDY=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);d(y,C,T*.5,I*.5,O,O*i,N)},b.RAIN=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);p(y,C,T*.5,I*.37,O*.9,O*i,N),d(y,C,T*.5,I*.37,O*.9,O*i,N)},b.SLEET=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);v(y,C,T*.5,I*.37,O*.9,O*i,N),d(y,C,T*.5,I*.37,O*.9,O*i,N)},b.SNOW=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);E(y,C,T*.5,I*.37,O*.9,O*i,N),d(y,C,T*.5,I*.37,O*.9,O*i,N)},b.WIND=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I);R(y,C,T*.5,I*.5,O,O*i,0,2,N),R(y,C,T*.5,I*.5,O,O*i,1,2,N)},b.FOG=function(y,C,N){var T=y.canvas.width,I=y.canvas.height,O=Math.min(T,I),F=O*i;g(y,C,T*.5,I*.32,O*.75,F,N),C/=5e3;var j=Math.cos(C*s)*O*.02,B=Math.cos((C+.25)*s)*O*.02,A=Math.cos((C+.5)*s)*O*.02,D=Math.cos((C+.75)*s)*O*.02,P=I*.936,U=Math.floor(P-F*.5)+.5,M=Math.floor(P-F*2.5)+.5;y.strokeStyle=N,y.lineWidth=F,y.lineCap="round",y.lineJoin="round",l(y,j+T*.2+F*.5,U,B+T*.8-F*.5,U),l(y,A+T*.2+F*.5,M,D+T*.8-F*.5,M)},b.prototype={_determineDrawingFunction:function(C){return typeof C=="string"&&(C=b[C.toUpperCase().replace(/-/g,"_")]||null),C},add:function(C,N){var T;typeof C=="string"&&(C=document.getElementById(C)),C!==null&&(N=this._determineDrawingFunction(N),typeof N=="function"&&(T={element:C,context:C.getContext("2d"),drawing:N},this.list.push(T),this.draw(T,r)))},set:function(C,N){var T;for(typeof C=="string"&&(C=document.getElementById(C)),T=this.list.length;T--;)if(this.list[T].element===C){this.list[T].drawing=this._determineDrawingFunction(N),this.draw(this.list[T],r);return}this.add(C,N)},remove:function(C){var N;for(typeof C=="string"&&(C=document.getElementById(C)),N=this.list.length;N--;)if(this.list[N].element===C){this.list.splice(N,1);return}},draw:function(C,N){var T=C.context.canvas;this.resizeClear?T.width=T.width:C.context.clearRect(0,0,T.width,T.height),C.drawing(C.context,N,this.color)},play:function(){var C=this;this.pause(),this.interval=e(function(){var N=Date.now(),T;for(T=C.list.length;T--;)C.draw(C.list[T],N)},1e3/60)},pause:function(){this.interval&&(n(this.interval),this.interval=null)}},b}(typeof wo<"u"?wo:typeof self<"u"?self:window);Um.default=vU;Object.defineProperty(Lm,"__esModule",{value:!0});var Qf=m,_U=Fm(Qf),yU=Ye,el=Fm(yU),wU=Um,eS=Fm(wU);function Fm(t){return t&&t.__esModule?t:{default:t}}function EU(t,e,n,r){n.add(r,eS.default[t]),e&&n.play()}var $m=function(e){var n=e.icon,r=e.color,i=e.size,s=e.animate,o=(0,Qf.useRef)(null);return(0,Qf.useEffect)(function(){var a=new eS.default({color:r,resizeClear:!0}),l=o.current;return EU(n,s,a,l),function(){a.remove(l)}},[n,r,s,i]),_U.default.createElement("canvas",{ref:o,width:i,height:i})};$m.defaultProps={animate:!0,size:64,color:"black"};$m.propTypes={icon:el.default.oneOf(["CLEAR_DAY","CLEAR_NIGHT","PARTLY_CLOUDY_DAY","PARTLY_CLOUDY_NIGHT","CLOUDY","RAIN","SLEET","SNOW","WIND","FOG"]).isRequired,animate:el.default.bool,size:el.default.number,color:el.default.string};Lm.default=$m;Object.defineProperty(ZC,"__esModule",{value:!0});var CU=Lm,SU=kU(CU);function kU(t){return t&&t.__esModule?t:{default:t}}var TU=ZC.default=SU.default;function NU(t){let e=t.weather,n={};return e>=80?n={icon:"CLEAR_DAY",color:"yellow",size:12,animate:!0}:e>=60?n={icon:"PARTLY_CLOUDY_DAY",color:"grey",size:12,animate:!0}:e>=40?n={icon:"CLOUDY",color:"grey",size:12,animate:!0}:e>=20?n={icon:"RAIN",color:"blue",size:12,animate:!0}:n={icon:"SNOW",color:"white",size:10,animate:!0},H(J,{className:"weather-header-container",children:[S(TU,{icon:n.icon,color:n.color,size:t.size,animate:t.animate}),H("div",{style:{fontFamily:"Arial",fontSize:"18px"},children:[e,""]})]})}var Bm={},tS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=m;t.DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t.IconContext=e.createContext&&e.createContext(t.DefaultContext)})(tS);var na=wo&&wo.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(Bm,"__esModule",{value:!0});var yu=m,pd=tS;function nS(t){return t&&t.map(function(e,n){return yu.createElement(e.tag,na({key:n},e.attr),nS(e.child))})}function IU(t){return function(e){return yu.createElement(rS,na({attr:na({},t.attr)},e),nS(t.child))}}Bm.GenIcon=IU;function rS(t){var e=function(n){var r=t.size||n.size||"1em",i;return n.className&&(i=n.className),t.className&&(i=(i+" "||"")+t.className),yu.createElement("svg",na({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,t.attr,t,{className:i,style:na({color:t.color||n.color},n.style,t.style),height:r,width:r}),t.children)};return pd.IconContext!==void 0?yu.createElement(pd.IconContext.Consumer,null,function(n){return e(n)}):e(pd.DefaultContext)}Bm.IconBase=rS;const RU=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[i,s]=m.useState(0);m.useEffect(()=>{fetch(gU()).then(C=>C.json()).then(C=>{e(C.current_weather.temperature),r(C.current_weather.windspeed),s(C.current_weather.weatherCode)}).catch(C=>console.error(C))},[]);const o=mi(),[a]=Sa("/closet"),[l]=Gf("/");m.useState(!1),m.useState(!1);const[u,c]=m.useState(!1),[d,f]=m.useState(0),[h,p]=m.useState(0),[v,E]=m.useState(0);m.useEffect(()=>{a&&g()},[a]),m.useEffect(()=>{g()},[d,h,v]);const g=()=>{if(a){const C={tops:Object.values(a[o.uid].tops)[d],bottoms:Object.values(a[o.uid].bottoms)[h],shoes:Object.values(a[o.uid].shoes)[v]};let N=!1;Object.entries(a[o.uid].favorites).map(([T,I])=>{C.bottoms.url===I.bottoms.url&&C.shoes.url===I.shoes.url&&C.tops.url===I.tops.url&&(N=!0)}),c(N)}},_=C=>{f(C)},w=C=>{p(C)},k=C=>{E(C)},R=()=>{if(u)return;const C=Yf(),N={tops:Object.values(a[o.uid].tops)[d],bottoms:Object.values(a[o.uid].bottoms)[h],shoes:Object.values(a[o.uid].shoes)[v]};l({["/closet/"+o.uid+"/favorites/"+C]:N})};if(!o)return S("h5",{className:"text-muted",children:"Loading user profile..."});if(!a)return S("h5",{className:"text-muted",children:"Loading user closet..."});var b=new Date().getHours(),y="Morning";return 12<=b&&b<17?y="Afternoon":17<=b&&(y="Evening"),H(J,{children:[H(J,{className:"home-header-container",children:[H("span",{children:["Good ",y," ",o.displayName.split(" ")[0],"!"]})," ",S("br",{}),"Let's choose your outfit. ",S("br",{}),"Here's what we suggest!"]}),S("div",{className:"weather-header-container",children:S(NU,{weather:t})}),H(J,{className:"home-clothes-container",children:[S(J,{className:"home-clothes-top",children:S(hd,{data:a[o.uid].tops,handleSelect:_,index:d})}),S(J,{className:"home-clothes-bottoms",children:S(hd,{data:a[o.uid].bottoms,handleSelect:w,index:h})}),S(J,{className:"home-clothes-shoes",children:S(hd,{data:a[o.uid].shoes,handleSelect:k,index:v})})]}),H(J,{className:"home-button-container",children:[S($e,{className:"home-btn",children:"I'll wear this today!"}),H($e,{className:"home-btn-fav",onClick:()=>{R()},children:[u?H(mt,{children:[S(Sp,{size:20}),"This look is already saved"]}):H(mt,{children:[S(c1,{size:20}),"Save this look"]})," "]})]})]})};function iS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=iS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function K(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=iS(e))&&(r&&(r+=" "),r+=n);return r}var V=function(){return V=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},V.apply(this,arguments)};function q(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var sS=x.forwardRef(function(t,e){var n=t.breakpoint,r=t.fluid,i=t.children,s=t.className,o=t.tag,a=q(t,["breakpoint","fluid","children","className","tag"]),l=K("".concat(r?"container-fluid":"container".concat(n?"-"+n:"")),s);return x.createElement(o,V({className:l},a,{ref:e}),i)});sS.defaultProps={tag:"div"};var oS=x.forwardRef(function(t,e){var n=t.center,r=t.children,i=t.className,s=t.end,o=t.lg,a=t.md,l=t.offsetLg,u=t.offsetMd,c=t.offsetSm,d=t.order,f=t.size,h=t.sm,p=t.start,v=t.tag,E=t.xl,g=t.xxl,_=t.xs,w=q(t,["center","children","className","end","lg","md","offsetLg","offsetMd","offsetSm","order","size","sm","start","tag","xl","xxl","xs"]),k=K(f&&"col-".concat(f),_&&"col-xs-".concat(_),h&&"col-sm-".concat(h),a&&"col-md-".concat(a),o&&"col-lg-".concat(o),E&&"col-xl-".concat(E),g&&"col-xxl-".concat(g),f||_||h||a||o||E||g?"":"col",d&&"order-".concat(d),p&&"align-self-start",n&&"align-self-center",s&&"align-self-end",c&&"offset-sm-".concat(c),u&&"offset-md-".concat(u),l&&"offset-lg-".concat(l),i);return x.createElement(v,V({className:k,ref:e},w),r)});oS.defaultProps={tag:"div"};var bU=x.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.pill,s=t.light,o=t.dot,a=t.tag,l=t.children,u=t.notification,c=q(t,["className","color","pill","light","dot","tag","children","notification"]),d=K("badge",s?r&&"badge-".concat(r):r&&"bg-".concat(r),o&&"badge-dot",i&&"rounded-pill",u&&"badge-notification",n);return x.createElement(a,V({className:d,ref:e},c),l)});bU.defaultProps={tag:"span",color:"primary"};var xU=function(t){var e=q(t,[]),n=m.useState(!1),r=n[0],i=n[1],s=K("ripple-wave",r&&"active");return m.useEffect(function(){var o=setTimeout(function(){i(!0)},50);return function(){clearTimeout(o)}},[]),x.createElement("div",V({className:s},e))},aS=x.forwardRef(function(t,e){var n=t.className,r=t.rippleTag,i=t.rippleCentered,s=t.rippleDuration,o=t.rippleUnbound,a=t.rippleRadius,l=t.rippleColor,u=t.children,c=t.onMouseDown,d=q(t,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onMouseDown"]),f=function(){for(var N=[],T=0;T<arguments.length;T++)N[T]=arguments[T];var I=x.useRef();return x.useEffect(function(){N.forEach(function(O){O&&(typeof O=="function"?O(I.current):O.current=I.current)})},[N]),I}(e,m.useRef(null)),h=[0,0,0],p=["primary","secondary","success","danger","warning","info","light","dark"],v=m.useState([]),E=v[0],g=v[1],_=m.useState(!1),w=_[0],k=_[1],R=K("ripple","ripple-surface",o&&"ripple-surface-unbound",w&&"ripple-surface-".concat(l),n),b=function(){if(p.find(function(I){return I===(l==null?void 0:l.toLowerCase())}))return k(!0);var N=y(l).join(","),T="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(N));return"radial-gradient(circle, ".concat(T,")")},y=function(N){return N.toLowerCase()==="transparent"?h:N[0]==="#"?function(T){return T.length<7&&(T="#".concat(T[1]).concat(T[1]).concat(T[2]).concat(T[2]).concat(T[3]).concat(T[3])),[parseInt(T.substr(1,2),16),parseInt(T.substr(3,2),16),parseInt(T.substr(5,2),16)]}(N):(N.indexOf("rgb")===-1&&(N=function(T){var I=document.body.appendChild(document.createElement("fictum")),O="rgb(1, 2, 3)";return I.style.color=O,I.style.color!==O?h:(I.style.color=T,I.style.color===O||I.style.color===""?h:(T=getComputedStyle(I).color,document.body.removeChild(I),T))}(N)),N.indexOf("rgb")===0?function(T){return(T=T.match(/[.\d]+/g).map(function(I){return+Number(I)})).length=3,T}(N):h)},C=function(N){var T,I=(T=f.current)===null||T===void 0?void 0:T.getBoundingClientRect(),O=N.clientX-I.left,F=N.clientY-I.top,j=I.height,B=I.width,A={delay:s&&.5*s,duration:s&&s-.5*s},D=function(M){var z=M.offsetX,G=M.offsetY,X=M.height,ne=M.width,Y=G<=X/2,fe=z<=ne/2,ce=function(Is,gi){return Math.sqrt(Math.pow(Is,2)+Math.pow(gi,2))},Se=G===X/2&&z===ne/2,Pt=Y===!0&&fe===!1,Ze=Y===!0&&fe===!0,Me=Y===!1&&fe===!0,Wt=Y===!1&&fe===!1,ot={topLeft:ce(z,G),topRight:ce(ne-z,G),bottomLeft:ce(z,X-G),bottomRight:ce(ne-z,X-G)},re=0;return Se||Wt?re=ot.topLeft:Me?re=ot.topRight:Ze?re=ot.bottomRight:Pt&&(re=ot.bottomLeft),2*re}({offsetX:i?j/2:O,offsetY:i?B/2:F,height:j,width:B}),P=a||D/2,U={left:"".concat(i?B/2-P:O-P,"px"),top:"".concat(i?j/2-P:F-P,"px"),height:"".concat(a?2*a:D,"px"),width:"".concat(a?2*a:D,"px"),transitionDelay:"0s, ".concat(A.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(A.duration,"ms")};return w?U:V(V({},U),{backgroundImage:"".concat(b())})};return m.useEffect(function(){var N=setTimeout(function(){E.length>0&&g(E.splice(1,E.length-1))},s);return function(){clearTimeout(N)}},[s,E]),x.createElement(r,V({className:R,onMouseDown:function(N){return function(T){var I=C(T),O=E.concat(I);g(O),c&&c(T)}(N)},ref:f},d),u,E.map(function(N,T){return x.createElement(xU,{key:T,style:N})}))});aS.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var OU=x.forwardRef(function(t,e){var n,r=t.className,i=t.color,s=t.outline,o=t.children,a=t.rounded,l=t.disabled,u=t.floating,c=t.size,d=t.href,f=t.block,h=t.active,p=t.toggle,v=t.noRipple,E=t.tag,g=q(t,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),_=m.useState(h||!1),w=_[0],k=_[1],R=i&&["light","link"].includes(i)||s?"dark":"light";n=i!=="none"?s?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"";var b=K(i!=="none"&&"btn",n,a&&"btn-rounded",u&&"btn-floating",c&&"btn-".concat(c),"".concat((d||E!=="button")&&l?"disabled":""),f&&"btn-block",w&&"active",r);return d&&E!=="a"&&(E="a"),["hr","img","input"].includes(E)||v?x.createElement(E,V({className:b,onClick:p?function(){k(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},g),o):x.createElement(aS,V({rippleTag:E,rippleColor:R,className:b,onClick:p?function(){k(!w)}:void 0,disabled:!(!l||E!=="button")||void 0,href:d,ref:e},g),o)});OU.defaultProps={tag:"button",role:"button",color:"primary"};var PU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.shadow,s=t.toolbar,o=t.size,a=t.vertical,l=t.tag,u=q(t,["className","children","shadow","toolbar","size","vertical","tag"]),c=K(s?"btn-toolbar":a?"btn-group-vertical":"btn-group",i&&"shadow-".concat(i),o&&"btn-group-".concat(o),n);return x.createElement(l,V({className:c,ref:e},u),r)});PU.defaultProps={tag:"div",role:"group"};var AU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.color,o=t.grow,a=t.size,l=q(t,["className","children","tag","color","grow","size"]),u=K("".concat(o?"spinner-grow":"spinner-border"),s&&"text-".concat(s),"".concat(a?o?"spinner-grow-"+a:"spinner-border-"+a:""),n);return x.createElement(i,V({className:u,ref:e},l),r)});AU.defaultProps={tag:"div"};var lS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=t.shadow,l=t.alignment,u=q(t,["className","children","border","background","tag","shadow","alignment"]),c=K("card",i&&"border border-".concat(i),s&&"bg-".concat(s),a&&"shadow-".concat(a),l&&"text-".concat(l),n);return x.createElement(o,V({className:c,ref:e},u),r)});lS.defaultProps={tag:"div"};var DU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=q(t,["className","children","border","background","tag"]),l=K("card-header",i&&"border-".concat(i),s&&"bg-".concat(s),n);return x.createElement(o,V({className:l},a,{ref:e}),r)});DU.defaultProps={tag:"div"};var MU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-subtitle",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});MU.defaultProps={tag:"p"};var uS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-title",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});uS.defaultProps={tag:"h5"};var cS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-text",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});cS.defaultProps={tag:"p"};var dS=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-body",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});dS.defaultProps={tag:"div"};var LU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.border,s=t.background,o=t.tag,a=q(t,["className","children","border","background","tag"]),l=K("card-footer",i&&"border-".concat(i),s&&"bg-".concat(s),n);return x.createElement(o,V({className:l},a,{ref:e}),r)});LU.defaultProps={tag:"div"};var UU=function(t){var e=t.className,n=t.children,r=t.overlay,i=t.position,s=t.fluid,o=q(t,["className","children","overlay","position","fluid"]),a=K(i&&"card-img-".concat(i),s&&"img-fluid",r&&"card-img",e);return x.createElement("img",V({className:a},o),n)},FU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-img-overlay",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});FU.defaultProps={tag:"div"};var $U=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("card-group",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});$U.defaultProps={tag:"div"};var BU=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.horizontal,s=t.horizontalSize,o=t.light,a=t.numbered,l=t.children,u=t.small,c=q(t,["className","tag","horizontal","horizontalSize","light","numbered","children","small"]),d=K("list-group",i&&(s?"list-group-horizontal-".concat(s):"list-group-horizontal"),o&&"list-group-light",a&&"list-group-numbered",u&&"list-group-small",n);return x.createElement(r,V({className:d,ref:e},c),l)});BU.defaultProps={tag:"ul"};var jU=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.active,s=t.disabled,o=t.action,a=t.color,l=t.children,u=t.noBorders,c=q(t,["className","tag","active","disabled","action","color","children","noBorders"]),d=r==="button",f=K("list-group-item",i&&"active",s&&!d&&"disabled",o&&"list-group-item-action",a&&"list-group-item-".concat(a),u&&"border-0",n);return x.createElement(r,V({className:f,disabled:d&&s,ref:e},c),l)});jU.defaultProps={tag:"li"};var fS=x.forwardRef(function(t,e){var n=t.around,r=t.between,i=t.bottom,s=t.center,o=t.children,a=t.className,l=t.evenly,u=t.end,c=t.middle,d=t.start,f=t.tag,h=t.top,p=q(t,["around","between","bottom","center","children","className","evenly","end","middle","start","tag","top"]),v=K("row",n&&"justify-content-around",r&&"justify-content-between",i&&"align-self-end",s&&"justify-content-center",l&&"justifty-content-evenly",u&&"justify-content-end",c&&"align-self-center",d&&"justify-content-start",h&&"align-self-start",a);return x.createElement(f,V({className:v},p,{ref:e}),o)});fS.defaultProps={tag:"div"};var zU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.variant,o=t.color,a=t.blockquote,l=t.note,u=t.noteColor,c=t.listUnStyled,d=t.listInLine,f=q(t,["className","children","tag","variant","color","blockquote","note","noteColor","listUnStyled","listInLine"]),h=K(s&&s,a&&"blockquote",l&&"note",o&&"text-".concat(o),u&&"note-".concat(u),c&&"list-unstyled",d&&"list-inline",n);return a&&(i="blockquote"),(c||d)&&(i="ul"),x.createElement(i,V({className:h,ref:e},f),r)});zU.defaultProps={tag:"p"};x.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.uppercase,s=t.bold,o=t.children,a=q(t,["className","color","uppercase","bold","children"]),l=K("breadcrumb",s&&"font-weight-bold",r&&"text-".concat(r),i&&"text-uppercase",n);return x.createElement("nav",{"aria-label":"breadcrumb"},x.createElement("ol",V({className:l,ref:e},a),o))});var WU=x.forwardRef(function(t,e){var n=t.className,r=t.active,i=t.current,s=t.children,o=q(t,["className","active","current","children"]),a=K("breadcrumb-item",r&&"active",n);return x.createElement("li",V({className:a,ref:e,"aria-current":r&&i},o),s)});WU.defaultProps={current:"page"};var HU=x.forwardRef(function(t,e){var n,r=t.className,i=t.children,s=t.light,o=t.dark,a=t.scrolling,l=t.fixed,u=t.sticky,c=t.scrollingNavbarOffset,d=t.color,f=t.transparent,h=t.expand,p=t.tag,v=t.bgColor,E=q(t,["className","children","light","dark","scrolling","fixed","sticky","scrollingNavbarOffset","color","transparent","expand","tag","bgColor"]),g=m.useState(!1),_=g[0],w=g[1],k=K(((n={"navbar-light":s,"navbar-dark":o,"scrolling-navbar":a||c,"top-nav-collapse":_})["text-".concat(d)]=d&&f?_:d,n),l&&"fixed-".concat(l),u&&"sticky-top","navbar",h&&function(b){if(b!==!1)return"navbar-expand-".concat(b)}(h),v&&"bg-".concat(v),r),R=m.useCallback(function(){c&&window.pageYOffset>c?w(!0):w(!1)},[c]);return m.useEffect(function(){return(a||c)&&window.addEventListener("scroll",R),function(){window.removeEventListener("scroll",R)}},[R,a,c]),x.createElement(p,V({className:k,role:"navigation"},E,{ref:e}),i)});HU.defaultProps={tag:"nav"};var VU=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.disabled,s=t.active,o=t.tag,a=q(t,["children","className","disabled","active","tag"]),l=K("nav-link",i?"disabled":s?"active":"",r);return x.createElement(o,V({"data-test":"nav-link",className:l,style:{cursor:"pointer"},ref:e},a),n)});VU.defaultProps={tag:"a",active:!1,className:"",disabled:!1};var GU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("navbar-brand",n);return x.createElement(i,V({className:o,ref:e},s),r)});GU.defaultProps={tag:"a"};var KU=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.text,o=t.tag,a=q(t,["children","className","active","text","tag"]),l=K("nav-item",i&&"active",s&&"navbar-text",r);return x.createElement(o,V({},a,{className:l,ref:e}),n)});KU.defaultProps={tag:"li"};var qU=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.right,s=t.fullWidth,o=t.left,a=t.tag,l=q(t,["children","className","right","fullWidth","left","tag"]),u=K("navbar-nav",s&&"w-100",i&&"ms-auto",o&&"me-auto",r);return x.createElement(a,V({className:u,ref:e},l),n)});qU.defaultProps={tag:"ul",fullWidth:!0};var YU=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=q(t,["children","className","tag"]),o=K("navbar-toggler",r);return x.createElement(i,V({},s,{className:o,ref:e}),n)});YU.defaultProps={tag:"button"};x.forwardRef(function(t,e){var n=t.children,r=t.bgColor,i=t.color,s=t.className,o=q(t,["children","bgColor","color","className"]),a=K(r&&"bg-".concat(r),i&&"text-".concat(i),s);return x.createElement("footer",V({className:a},o,{ref:e}),n)});x.forwardRef(function(t,e){var n=t.children,r=t.size,i=t.circle,s=t.center,o=t.end,a=t.start,l=t.className,u=q(t,["children","size","circle","center","end","start","className"]),c=K("pagination",s&&"justify-content-center",i&&"pagination-circle",o&&"justify-content-end",r&&"pagination-".concat(r),a&&"justify-content-start",l);return x.createElement("ul",V({className:c},u,{ref:e}),n)});var QU=x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.tag,s=q(t,["children","className","tag"]),o=K("page-link",r);return x.createElement(i,V({className:o},s,{ref:e}),n)});QU.defaultProps={tag:"a"};x.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.active,s=t.disabled,o=q(t,["children","className","active","disabled"]),a=K("page-item",i&&"active",s&&"disabled",r);return x.createElement("li",V({className:a},o,{ref:e}),n)});var hS=x.forwardRef(function(t,e){var n,r=t.animated,i=t.children,s=t.className,o=t.style,a=t.tag,l=t.valuenow,u=t.valuemax,c=t.striped,d=t.bgColor,f=t.valuemin,h=t.width,p=q(t,["animated","children","className","style","tag","valuenow","valuemax","striped","bgColor","valuemin","width"]),v=K("progress-bar",d&&"bg-".concat(d),c&&"progress-bar-striped",r&&"progress-bar-animated",s),E=V({width:"".concat(h,"%")},o);return x.createElement(a,V({className:v,style:E,ref:e,role:"progressbar"},p,{"aria-valuenow":(n=Number(h))!==null&&n!==void 0?n:l,"aria-valuemin":Number(f),"aria-valuemax":Number(u)}),i)});hS.defaultProps={tag:"div"};var XU=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=t.height,o=t.style,a=q(t,["className","children","tag","height","style"]),l=K("progress",n),u=V({height:"".concat(s,"px")},o);return x.createElement(i,V({className:l,ref:e,style:u},a),x.Children.map(r,function(c){return x.isValidElement(c)&&c.type===hS?c:void console.error("Progress component only allows ProgressBar as child")}))});XU.defaultProps={tag:"div"};var JU=x.forwardRef(function(t,e){var n,r,i=t.className,s=t.size,o=t.contrast,a=t.value,l=t.defaultValue,u=t.id,c=t.labelClass,d=t.wrapperClass,f=t.wrapperStyle,h=t.wrapperTag,p=t.label,v=t.onChange,E=t.children,g=t.labelRef,_=t.labelStyle,w=t.type,k=t.onBlur,R=t.readonly,b=q(t,["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","type","onBlur","readonly"]),y=m.useState(a||l),C=y[0],N=y[1],T=m.useState(0),I=T[0],O=T[1],F=m.useState(!1),j=F[0],B=F[1],A=m.useRef(null);m.useImperativeHandle(e,function(){return A.current});var D=m.useRef(null),P=g||D,U=K("form-outline",o&&"form-white",d),M=K("form-control",j&&"active",w==="date"&&"active",s&&"form-control-".concat(s),i),z=K("form-label",c);m.useEffect(function(){A.current&&(A.current.value.length>0?B(!0):B(!1))},[(n=A.current)===null||n===void 0?void 0:n.value]),m.useEffect(function(){a!==void 0&&(a.toString().length>0?B(!0):B(!1))},[a]),m.useEffect(function(){l!==void 0&&(l.toString().length>0?B(!0):B(!1))},[l]);var G=m.useCallback(function(){var ne;!((ne=P.current)===null||ne===void 0)&&ne.clientWidth&&O(.8*P.current.clientWidth+8)},[P]);m.useEffect(function(){G()},[(r=P.current)===null||r===void 0?void 0:r.clientWidth,G]);var X=m.useCallback(function(ne){A.current&&(C!==void 0&&C.toString().length>0||a!==void 0&&a.toString().length>0||A.current.value.length>0?B(!0):B(!1),k&&k(ne))},[C,a,k]);return x.createElement(h,{className:U,style:f},x.createElement("input",V({type:w,readOnly:R,className:M,onBlur:X,onChange:function(ne){N(ne.target.value),v==null||v(ne)},onFocus:G,value:a,defaultValue:l,id:u,ref:A},b)),p&&x.createElement("label",{className:z,style:_,htmlFor:u,ref:P},p),x.createElement("div",{className:"form-notch"},x.createElement("div",{className:"form-notch-leading"}),x.createElement("div",{className:"form-notch-middle",style:{width:I}}),x.createElement("div",{className:"form-notch-trailing"})),E)});JU.defaultProps={wrapperTag:"div",readonly:!1};var pS=function(t){var e=t.className,n=t.children,r=t.show,i=t.id,s=t.navbar,o=t.tag,a=t.collapseRef,l=t.style,u=q(t,["className","children","show","id","navbar","tag","collapseRef","style"]),c=m.useState(!1),d=c[0],f=c[1],h=m.useState(void 0),p=h[0],v=h[1],E=m.useState(!1),g=E[0],_=E[1],w=K(g?"collapsing":"collapse",!g&&d&&"show",s&&"navbar-collapse",e),k=m.useRef(null),R=a??k,b=m.useCallback(function(){d&&v(void 0)},[d]);return m.useEffect(function(){var y;p===void 0&&d&&v((y=R==null?void 0:R.current)===null||y===void 0?void 0:y.scrollHeight)},[p,d,R]),m.useEffect(function(){f(r),d&&_(!0);var y=setTimeout(function(){_(!1)},350);return function(){clearTimeout(y)}},[r,d]),m.useEffect(function(){var y;v(d?(y=R==null?void 0:R.current)===null||y===void 0?void 0:y.scrollHeight:0)},[d,R]),m.useEffect(function(){return window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}},[b]),x.createElement(o,V({style:V({height:p},l),id:i,className:w},u,{ref:R}),n)};pS.defaultProps={tag:"div"};m.createContext(null);function mS(t,e){e===void 0&&(e={});var n=e.insertAt;if(t&&typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}mS(`.dropdown-menu .active {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
`);mS(`.dropdown-menu [data-active='true'] a.dropdown-item,\r
.dropdown-menu .dropdown-item:focus,\r
.dropdown-menu li:focus .dropdown-item :not(.disabled) {\r
  color: #16181b;\r
  background-color: #eee;\r
}\r
\r
.dropdown-menu li:focus {\r
  outline: none;\r
}\r
\r
.dropdown-menu.dropdown-menu-dark [data-active='true'] a.dropdown-item,\r
.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,\r
.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item {\r
  color: #fff;\r
  background-color: #1266f1;\r
}\r
\r
.btn-group.dropstart > .dropdown-menu {\r
  right: 0 !important;\r
}\r
`);var ZU=x.forwardRef(function(t,e){var n=t.className,r=t.centered,i=t.children,s=t.size,o=t.scrollable,a=t.tag,l=q(t,["className","centered","children","size","scrollable","tag"]),u=K("modal-dialog",o&&"modal-dialog-scrollable",r&&"modal-dialog-centered",s&&"modal-".concat(s),n);return x.createElement(a,V({className:u},l,{ref:e}),i)});ZU.defaultProps={tag:"div"};var eF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-content",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});eF.defaultProps={tag:"div"};var tF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-header",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});tF.defaultProps={tag:"div"};var nF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-title",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});nF.defaultProps={tag:"h5"};var rF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-body",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});rF.defaultProps={tag:"div"};var iF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.tag,s=q(t,["className","children","tag"]),o=K("modal-footer",n);return x.createElement(i,V({className:o},s,{ref:e}),r)});iF.defaultProps={tag:"div"};x.createContext({activeElement:null,setTargets:null});var sF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.noBorder,s=t.textBefore,o=t.textAfter,a=t.noWrap,l=t.tag,u=t.textTag,c=t.textClass,d=t.size,f=t.textProps,h=q(t,["className","children","noBorder","textBefore","textAfter","noWrap","tag","textTag","textClass","size","textProps"]),p=K("input-group",a&&"flex-nowrap",d&&"input-group-".concat(d),n),v=K("input-group-text",i&&"border-0",c),E=function(g){return x.createElement(x.Fragment,null,g&&Array.isArray(g)?g.map(function(_,w){return x.createElement(u,V({key:w,className:v},f),_)}):x.createElement(u,V({className:v},f),g))};return x.createElement(l,V({className:p,ref:e},h),s&&E(s),r,o&&E(o))});sF.defaultProps={tag:"div",textTag:"span"};var oF=x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.isValidated,s=t.onReset,o=t.onSubmit,a=q(t,["className","children","isValidated","onReset","onSubmit"]),l=m.useState(i),u=l[0],c=l[1],d=K("needs-validation",u&&"was-validated",n);return x.createElement("form",V({className:d,onSubmit:function(f){f.preventDefault(),c(!0),o&&o(f)},onReset:function(f){f.preventDefault(),c(!1),s&&s(f)},ref:e},a),r)});oF.defaultProps={noValidate:!0};x.forwardRef(function(t,e){var n=t.className,r=t.fill,i=t.pills,s=t.justify,o=t.children,a=q(t,["className","fill","pills","justify","children"]),l=K("nav",i?"nav-pills":"nav-tabs",r&&"nav-fill",s&&"nav-justified",n);return x.createElement("ul",V({className:l,ref:e},a),o)});x.forwardRef(function(t,e){var n=t.className,r=t.children,i=t.style,s=q(t,["className","children","style"]),o=K("nav-item",n);return x.createElement("li",V({className:o,style:V({cursor:"pointer"},i),role:"presentation",ref:e},s),r)});x.forwardRef(function(t,e){var n=t.className,r=t.color,i=t.active,s=t.onShow,o=t.onHide,a=t.children,l=q(t,["className","color","active","onShow","onHide","children"]),u=K("nav-link",i&&"active",r&&"bg-".concat(r),n);return m.useEffect(function(){i?s==null||s():o==null||o()},[i]),x.createElement("a",V({className:u,ref:e},l),a)});var aF=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.children,s=q(t,["className","tag","children"]),o=K("tab-content",n);return x.createElement(r,V({className:o,ref:e},s),i)});aF.defaultProps={tag:"div"};var lF=x.forwardRef(function(t,e){var n=t.className,r=t.tag,i=t.show,s=t.children,o=q(t,["className","tag","show","children"]),a=m.useState(!1),l=a[0],u=a[1],c=K("tab-pane","fade",l&&"show",i&&"active",n);return m.useEffect(function(){var d;return i?d=setTimeout(function(){u(!0)},100):u(!1),function(){clearTimeout(d)}},[i]),x.createElement(r,V({className:c,role:"tabpanel",ref:e},o),s)});lF.defaultProps={tag:"div"};m.createContext({active:0});var gS=x.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),uF=x.forwardRef(function(t,e){var n=t.alwaysOpen,r=t.borderless,i=t.className,s=t.flush,o=t.initialActive,a=t.tag,l=t.children,u=t.onChange,c=q(t,["alwaysOpen","borderless","className","flush","initialActive","tag","children","onChange"]),d=K("accordion",s&&"accordion-flush",r&&"accordion-borderless",i),f=m.useState(o),h=f[0],p=f[1];return m.useEffect(function(){h&&u&&u(h)},[u,h]),x.createElement(a,V({className:d,ref:e},c),x.createElement(gS.Provider,{value:{activeItem:h,setActiveItem:p,alwaysOpen:n,initialActive:o}},l))});uF.defaultProps={tag:"div",initialActive:0};var cF=x.forwardRef(function(t,e){var n=t.className,r=t.bodyClassName,i=t.bodyStyle,s=t.headerClassName,o=t.collapseId,a=t.headerTitle,l=t.headerStyle,u=t.btnClassName,c=t.tag,d=t.children,f=q(t,["className","bodyClassName","bodyStyle","headerClassName","collapseId","headerTitle","headerStyle","btnClassName","tag","children"]),h=m.useContext(gS),p=h.activeItem,v=h.setActiveItem,E=h.alwaysOpen,g=h.initialActive,_=m.useState(g),w=_[0],k=_[1],R=K("accordion-item",n),b=K("accordion-header",s),y=K("accordion-body",r),C=K("accordion-button",E?o!==w&&"collapsed":o!==p&&"collapsed",u);return x.createElement(c,V({className:R,ref:e},f),x.createElement("h2",{className:b,style:l},x.createElement("button",{onClick:function(){return N=o,void(E?k(N!==w?N:0):v(N!==p?N:0));var N},className:C,type:"button"},a)),x.createElement(pS,{id:o.toString(),show:E?w===o:p===o},x.createElement("div",{className:y,style:i},d)))});cF.defaultProps={tag:"div"};const dF=()=>{const[t]=R3();return t?S("div",{className:"view-profile",children:S(sS,{children:S(fS,{className:"justify-content-center",children:S(oS,{md:"9",lg:"7",xl:"5",className:"mt-5",children:S(lS,{style:{width:"595px",borderRadius:"15px",alignContent:"center",padding:"5px"},children:S(dS,{className:"p-4",children:H("div",{className:"d-flex text-black",children:[S("div",{className:"flex-shrink-0",children:S(UU,{style:{width:"180px",borderRadius:"10px"},src:t.photoURL,alt:"Generic placeholder image",fluid:!0})}),H("div",{className:"flex-grow-1 ms-3",children:[S(uS,{children:t.displayName}),S(cS,{children:t.email}),H("div",{className:"d-flex justify-content-start rounded-3 p-2 mb-2",style:{backgroundColor:"#efefef"},children:[H("div",{children:[S("p",{className:"small text-muted mb-1",children:"Favorites"}),S("p",{className:"mb-0",children:"4"})]}),H("div",{className:"px-3",children:[S("p",{className:"small text-muted mb-1",children:"Closet"}),S("p",{className:"mb-0",children:"22"})]}),H("div",{children:[S("p",{className:"small text-muted mb-1",children:"Followers"}),S("p",{className:"mb-0",children:"8"})]})]}),S("div",{className:"d-flex pt-1"})]})]})})})})})})}):S("h5",{className:"text-muted",children:"Loading user profile..."})},vS=({input:t})=>{const e=mi(),[n,r]=m.useState(null),[i,s]=m.useState(null),[o,a]=T3("/files/"+e.uid+"/"+Yf()),[l]=Sa("/closet"),u=async()=>{const f=await(await fetch(t)).blob();return new File([f],"image.jpg",{type:f.type})},c=async()=>{if(!i||!n)return;const d=await u(),f=l[e.uid],h=f[n];if(!d)return;const p=Yf();o(d,e,p,f,h,n,i)};return e?H(J,{className:"mt-2",children:[H(J,{children:[S("h5",{className:"link-upload-tag",children:"Category:"}),H(J,{className:"link-upload-category-container",children:[S($e,{className:n==="tops"?"link-upload-button-active":"",onClick:()=>r("tops"),children:"Top"}),S($e,{className:n==="jackets"?"link-upload-button-active":"",onClick:()=>r("jackets"),children:"Jacket"}),S($e,{className:n==="bottoms"?"link-upload-button-active":"",onClick:()=>r("bottoms"),children:"Bottom"}),S($e,{className:n==="shoes"?"link-upload-button-active":"",onClick:()=>r("shoes"),children:"Shoes"}),S($e,{className:n==="dresses"?"link-upload-button-active":"",onClick:()=>r("dresses"),children:"Dress"})]})]}),H(J,{className:"mt-2",children:[S("h5",{className:"link-upload-tag",children:"I'll wear this when it's:"}),H(J,{className:"link-upload-weather-container",children:[S($e,{className:i==="cold"?"link-upload-button-active":"",onClick:()=>s("cold"),children:"Cold"}),S($e,{className:i==="warm"?"link-upload-button-active":"",onClick:()=>s("warm"),children:"Warm"}),S($e,{className:i==="rainy"?"link-upload-button-active":"",onClick:()=>s("rainy"),children:"Rainy"}),S($e,{className:i==="sunny"?"link-upload-button-active":"",onClick:()=>s("sunny"),children:"Sunny"})]})]}),H(J,{className:"mt-5 link-upload-buttons-container",children:[S($e,{children:"Add another Item"}),S($e,{onClick:c,children:"I'm done!"})]})]}):S("h5",{className:"text-muted",children:"Loading user profile..."})},fF=({step:t})=>{const[e,n]=m.useState(),[r,i]=m.useState(!1),[s,o]=m.useState(!0),a=()=>{i(!0),o(!0)},l=u=>{u.keyCode===13&&o(!0)};return H(J,{className:"mt-3",children:[S(J,{className:"mb-2",children:S(u1,{size:24,onClick:()=>t(0)})}),H(J,{className:"mb-3",children:[S("h4",{className:"add-title",children:"Add via link"}),H(J,{className:"link-upload-form",children:[S(XC.Control,{type:"text",placeholder:"Enter your link...",onChange:u=>n(u.target.value),onKeyDown:u=>l(u)}),S(b3,{className:"ps-2",size:38,onClick:a})]})]}),r&&s&&S(J,{className:"add-image-container",children:S(JC,{className:"add-image",src:e,onError:()=>o(!1)})}),r&&!s&&S("h4",{className:"text-center text-muted",children:"Invalid Image"}),r&&s&&S(vS,{input:e})]})};function hF(t){return tn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-8 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}]})(t)}var Xf={},pF={get exports(){return Xf},set exports(t){Xf=t}};(function(t,e){(function(r,i){t.exports=i(m)})(wo,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var u in o)s.d(l,u,function(c){return o[c]}.bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var g in E)E.hasOwnProperty(g)&&(v[g]=E[g])},f(h,p)};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),l=function(){return l=Object.assign||function(f){for(var h,p=1,v=arguments.length;p<v;p++){h=arguments[p];for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(f[E]=h[E])}return f},l.apply(this,arguments)},u=function(f,h){var p={};for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&h.indexOf(v)<0&&(p[v]=f[v]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,v=Object.getOwnPropertySymbols(f);E<v.length;E++)h.indexOf(v[E])<0&&Object.prototype.propertyIsEnumerable.call(f,v[E])&&(p[v[E]]=f[v[E]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(v,E){p.call(navigator,h,v,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(f){a(h,f);function h(p){var v=f.call(this,p)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return h.prototype.componentDidMount=function(){var p=this,v=p.state,E=p.props;if(this.unmounted=!1,!c()){E.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),E.children&&typeof E.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(p){var v=this.props;if(!c()){v.onUserMediaError("getUserMedia not supported");return}var E=JSON.stringify(p.audioConstraints)!==JSON.stringify(v.audioConstraints),g=JSON.stringify(p.videoConstraints)!==JSON.stringify(v.videoConstraints),_=p.minScreenshotWidth!==v.minScreenshotWidth,w=p.minScreenshotHeight!==v.minScreenshotHeight;(g||_||w)&&(this.canvas=null,this.ctx=null),(E||g)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(v){p.removeTrack(v),v.stop()}),p.getAudioTracks().map(function(v){p.removeTrack(v),v.stop()})):p.stop())},h.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(h.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},h.prototype.getScreenshot=function(p){var v=this,E=v.state,g=v.props;if(!E.hasUserMedia)return null;var _=this.getCanvas(p);return _&&_.toDataURL(g.screenshotFormat,g.screenshotQuality)},h.prototype.getCanvas=function(p){var v=this,E=v.state,g=v.props;if(!this.video||!E.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var _=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var k=_/w;_=g.minScreenshotWidth||this.video.clientWidth,w=_/k,g.minScreenshotHeight&&w<g.minScreenshotHeight&&(w=g.minScreenshotHeight,_=w*k)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||_,this.canvas.height=(p==null?void 0:p.height)||w,this.ctx=this.canvas.getContext("2d")}var R=this,b=R.ctx,y=R.canvas;return b&&y&&(g.mirrored&&(b.translate(y.width,0),b.scale(-1,1)),b.imageSmoothingEnabled=g.imageSmoothing,b.drawImage(this.video,0,0,(p==null?void 0:p.width)||y.width,(p==null?void 0:p.height)||y.height),g.mirrored&&(b.scale(-1,1),b.translate(-y.width,0))),y},h.prototype.requestUserMedia=function(){var p=this,v=this.props,E=function(w,k){var R={video:typeof k<"u"?k:!0};v.audio&&(R.audio=typeof w<"u"?w:!0),p.requestUserMediaId++;var b=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(R).then(function(y){p.unmounted||b!==p.requestUserMediaId?h.stopMediaStream(y):p.handleUserMedia(null,y)}).catch(function(y){p.handleUserMedia(y)})};if("mediaDevices"in navigator)E(v.audioConstraints,v.videoConstraints);else{var g=function(w){return{optional:[{sourceId:w}]}},_=function(w){var k=w.deviceId;return typeof k=="string"?k:Array.isArray(k)&&k.length>0?k[0]:typeof k=="object"&&k.ideal?k.ideal:null};MediaStreamTrack.getSources(function(w){var k=null,R=null;w.forEach(function(C){C.kind==="audio"?k=C.id:C.kind==="video"&&(R=C.id)});var b=_(v.audioConstraints);b&&(k=b);var y=_(v.videoConstraints);y&&(R=y),E(g(k),g(R))})}},h.prototype.handleUserMedia=function(p,v){var E=this.props;if(p||!v){this.setState({hasUserMedia:!1}),E.onUserMediaError(p);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}E.onUserMedia(v)},h.prototype.render=function(){var p=this,v=this,E=v.state,g=v.props,_=g.audio;g.forceScreenshotSourceSize,g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var w=g.mirrored,k=g.style,R=k===void 0?{}:k,b=g.children,y=u(g,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),C=w?l(l({},R),{transform:(R.transform||"")+" scaleX(-1)"}):R,N={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,src:E.src,muted:!_,playsInline:!0,ref:function(T){p.video=T},style:C},y)),b&&b(N))},h.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(o.Component);i.default=d},react:function(r,i){r.exports=n}}).default})})(pF);const mF=Jf(Xf),gF=({setImgBytes:t})=>{const e={facingMode:"environment"},n=x.useRef(null),r=x.useCallback(()=>{const i=n.current.getScreenshot();t(i)},[n]);return H(J,{className:"webcam-container",children:[S(J,{children:S(mF,{className:"webcam",audio:!1,ref:n,screenshotFormat:"image/jpeg",videoConstraints:e})}),S(J,{className:"mt-2",children:S(hF,{size:34,onClick:r})})]})},vF=({step:t})=>{const[e,n]=m.useState(null);return H(J,{className:"mt-3",children:[S(J,{className:"mb-2",children:S(u1,{size:24,onClick:()=>t(0)})}),!e&&S(gF,{setImgBytes:n}),e&&H(J,{children:[S(JC,{className:"add-image-camera",src:e,alt:"camera"}),S(vS,{input:e})]})]})},_F=()=>{const[t,e]=m.useState(null),[n,r]=m.useState(0),i=()=>{e("camera"),r(1)},s=()=>{e("link"),r(1)};if(n===0)return H(J,{className:"upload-container",children:[H("h4",{className:"add-title",children:["Let's add ",S("br",{})," your clothes"]}),S("p",{className:"add-subtitle",children:"You can do this by taking photos of each piece, or adding a link to where you bought them from online"}),H(J,{className:"add-button-container",children:[S($e,{className:"add-button",onClick:i,children:"Use Camera"}),S($e,{className:"add-button",onClick:s,children:"Use Link"})]})]});if(n===1&&t==="link")return S(fF,{step:r});if(n===1&&t==="camera")return S(vF,{step:r})},yF=()=>{const t=mi();return S(zN,{children:H(jN,{children:[S(Pr,{path:"/login",element:S(aU,{})}),S(Pr,{path:"/add",element:t?H(mt,{children:[S(qs,{}),S(_F,{}),S(Ys,{})]}):S($s,{replace:!0,to:"/login"})}),S(Pr,{path:"/",element:t?H(mt,{children:[S(qs,{}),S(RU,{}),S(Ys,{})]}):S($s,{replace:!0,to:"/login"})}),S(Pr,{path:"/favorites",element:t?H(mt,{children:[S(qs,{}),S(dU,{}),S(Ys,{})]}):S($s,{replace:!0,to:"/login"})}),S(Pr,{path:"/view-profile",element:t?H(mt,{children:[S(qs,{}),S(dF,{}),S(Ys,{})]}):S($s,{replace:!0,to:"/login"})}),S(Pr,{path:"/closet",element:t?H(mt,{children:[S(qs,{}),S(uU,{}),S(Ys,{})]}):S($s,{replace:!0,to:"/login"})})]})})};const wF=gd.createRoot(document.getElementById("root"));wF.render(S(x.StrictMode,{children:S(yF,{})}));
